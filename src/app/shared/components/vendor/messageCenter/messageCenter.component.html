
<div>
    <nz-tabset [nzSelectedIndex]="0" > 
      <nz-tab nzTitle="Individual">
        <div>
          <p>Nota: Los registros encontrados solo se muestran si cuentan con un token.
            <br >
            Para obtenerlo, es necesario que  la cuenta tenga la aplicacion instalada en su telefono y haya iniciado sessi칩n.
          </p>          
        </div>
        <div>
          <nz-form-label [nzSpan]="4" nzFor="label">Empresa </nz-form-label>
            <nz-select [(ngModel)]="selectedCustomer" [nzMaxTagCount]="3" style="width: 250px;"
               nzPlaceHolder="Selecciona una empresa"
                (ngModelChange)="changesOverClientInd($event)">
                <nz-option *ngFor="let customer of listOfCustomer" [nzLabel]="customer.name" [nzValue]="customer.id">
                </nz-option>
            </nz-select>
        </div>
        <div>
          <nz-form-label [nzSpan]="4" nzFor="label"> Tipo Busqueda </nz-form-label>
            <nz-select  [(ngModel)]="selectedSearchType" [nzMaxTagCount]="3" style="width: 250px;"
               nzPlaceHolder="Selecciona un tipo de Busqueda"
                (ngModelChange)="selectedCriteria($event)">
                <nz-option nzValue="ejecutores" nzLabel="Ejecutores"></nz-option>
                <nz-option nzValue="usuarios" nzLabel="Usuarios"></nz-option>
            </nz-select>
        </div>       
        <div *ngIf="isUserSelectedInd">
          <nz-form-label [nzSpan]="2" nzFor="label">Usuarios </nz-form-label>
            <nz-select [nzMaxTagCount]="3" style="width: 70%;"
               nzPlaceHolder="Selecciona un usuario" [(ngModel)]="selectedUser"
                (ngModelChange)="userSelectedInd($event)">
                <nz-option *ngFor="let user of userObj" [nzLabel]="user.label" [nzValue]="user.id">
                </nz-option>
            </nz-select>
        </div>
        <div *ngIf="isEjecutoresSelectedInd">
          <nz-form-label [nzSpan]="2" nzFor="label">Ejecutores </nz-form-label>
             <nz-select [nzMaxTagCount]="3" style="width: 70%;"
               nzPlaceHolder="Selecciona un ejecutor" [(ngModel)]="selectedEjecutor" 
                (ngModelChange)="userEjecutorInd($event)">
                <nz-option *ngFor="let pr of ejecutorObj" [nzLabel]="pr.label" [nzValue]="pr.id">
                </nz-option>
            </nz-select> 
        </div>
        <div  *ngIf="isMessageInd" >
        <div >
          <nz-divider nzPlain nzText="Mensaje"></nz-divider>
            <textarea rows="4" nz-input [(ngModel)]="newMessageInd" placeholder="Mensaje"></textarea>
        </div>
        <button class="m-r-10" nz-button  style=" background-color: #4F6F57; color: #f6f3ea;" (click)="sendIndMessage()">
          <i nz-icon nzType="plus"></i>Enviar Mensaje</button>
        </div>
      </nz-tab>
    <nz-tab nzTitle="General">
      <div>
        <nz-form-label [nzSpan]="4" nzFor="label">Empresa </nz-form-label>
          <nz-select [nzMaxTagCount]="3" style="width: 250px;"
             nzPlaceHolder="Selecciona una empresa" [(ngModel)]="selectedCustomerGral" 
              (ngModelChange)="changesOverClientGral($event)">
              <nz-option *ngFor="let customer of listOfCustomerGeneral" [nzLabel]="customer.name" [nzValue]="customer.id">
              </nz-option>
         </nz-select> 
      </div>
      <div>
        <nz-form-label [nzSpan]="4" nzFor="label"> Tipo Busqueda </nz-form-label>
        <nz-select [nzMaxTagCount]="3" style="width: 250px;"
        [(ngModel)]="selectedSearchTypeG"
           nzPlaceHolder="Selecciona un tipo de Busqueda"
            (ngModelChange)="selectedCriteriaG($event)">
            <nz-option nzValue="ejecutores" nzLabel="Ejecutores"></nz-option>
            <nz-option nzValue="usuarios" nzLabel="Usuarios"></nz-option>
        </nz-select>
      </div>
      <div>
        <p>Nota: Los registros encontrados solo se muestran si cuentan con un token.
          <br >
          Se enviar치 el mensaje a todos los miembros del listado encontrados.
        </p>          
      </div>
      <div *ngIf="isUserSelectedIndGeneral">
        <nz-form-label [nzSpan]="2" nzFor="label">Usuarios </nz-form-label>
          <nz-select [nzMaxTagCount]="3" style="width: 70%;">
              <nz-option *ngFor="let user of userObjG" [nzLabel]="user.label" [nzValue]="user.id">
              </nz-option>
          </nz-select>
      </div>
      <div *ngIf="isEjecutoresSelectedIndGeneral">
        <nz-form-label [nzSpan]="2" nzFor="label">Ejecutores </nz-form-label>
           <nz-select [nzMaxTagCount]="3" style="width: 70%;">
              <nz-option *ngFor="let pr of ejecutorObjG" [nzLabel]="pr.label" [nzValue]="pr.id">
              </nz-option>
          </nz-select> 
      </div>
      
        <div>
            <nz-divider nzPlain nzText="Mensaje"></nz-divider>
              <textarea rows="4" nz-input [(ngModel)]="newMessageG" placeholder="Mensaje"></textarea>
          </div>
          <button class="m-r-10" nz-button  style=" background-color: #4F6F57; color: #f6f3ea;" (click)="sendGeneralMessage()"><i nz-icon nzType="plus"></i>Enviar
            Mensaje</button>
    </nz-tab>
  <!--   <nz-tab nzTitle="Segmentaci칩n">
        <nz-divider style='color: #72849a;' nzPlain nzText=""></nz-divider>
        <div>
          <nz-form-label [nzSpan]="2" nzFor="label">Empresa </nz-form-label>
             <nz-select [nzMaxTagCount]="3" style="width: 250px;"
               nzPlaceHolder="Selecciona una empresa" [(ngModel)]="listOfSeimport * as firebase from 'firebase';lectedCustomer" 
                (ngModelChange)="changesOverClient($event,listOfCustomer)">
                <nz-option *ngFor="let customer of listOfCustomer" [nzLabel]="customer.name" [nzValue]="customer.id">
                </nz-option>
            </nz-select> 
        </div>
        <div>   
          <nz-form-label [nzSpan]="2" nzFor="label"> Tipo Busqueda </nz-form-label>
          <nz-select [nzMaxTagCount]="3" style="width: 250px;"
             nzPlaceHolder="Selecciona un tipo de Busqueda"
              (ngModelChange)="selectedCriteria($event)">
              <nz-option nzValue="ejecutores" nzLabel="Ejecutores"></nz-option>
              <nz-option nzValue="usuarios" nzLabel="Usuarios"></nz-option>
          </nz-select>
        </div>
        <nz-divider  style='color: #72849a;' nzPlain nzText=""></nz-divider>
        <nz-form-label [nzSpan]="3" nzFor="label">Selecciona  </nz-form-label>
        <nz-checkbox-group style="margin-top: 10px;" [(ngModel)]="checkOptionsRoute" (ngModelChange)="updateSingleCheckedRoute()">
        </nz-checkbox-group>
        <nz-divider style='color: #72849a;' nzPlain nzText=""></nz-divider>
        <nz-form-label [nzSpan]="2" nzFor="label">Turno </nz-form-label>
        <div >
            <nz-checkbox-group [(ngModel)]="chekOptionsRound" (ngModelChange)="updateSingleCheckedRound()">
            </nz-checkbox-group>
            <label  style='margin-top: 10px' nz-checkbox [(ngModel)]="allChecked" (ngModelChange)="updateAllChecked()">
              Todos
          </label>
        </div>
        <nz-divider style='color: #72849a;' nzPlain nzText=""></nz-divider>
        <div style='margin-top: 15px' *ngIf="isShowDivRoutes">
            <nz-select style="width: 80%;" nzAllowClear nzPlaceHolder="Selecciona la Operaci칩n" [(ngModel)]="listOfSelectedRoutes">
              <nz-option *ngFor="let o of routes" nzCustomContent [nzLabel]="o.name" [nzValue]="o.routeId"><i nz-icon
                  nzType="fork"></i> {{ o.name }}</nz-option>
            </nz-select>

        </div>
        <nz-divider style='color: #72849a;' nzPlain nzText=""></nz-divider>
        <div style='margin-top: 15px' >
            <button nz-button style="margin-bottom: 1em; background-color: #4F6F57; color: #f6f3ea;" (click)="applyFilter()">Agregar</button>
        </div>
        <nz-divider style='margin-top: 15px; color: #72849a;' nzPlain nzText="Filtros"></nz-divider>
        <div *ngIf="isShowUsers">
           
            <nz-table #borderedTable nzBordered #basicTableFilter [nzData]="listofRecordsAfected">
                <thead>
                  <tr>
                    <th style="color: #4F6F57;">Empresa</th>
                    <th style="color: #4F6F57;">Turno</th>

                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let data of basicTableFilter.data">
                    <td>{{ data.customerName }}</td>
                    <td>{{ data.round }}</td>
                  </tr>
                </tbody>
              </nz-table>
        </div>
        <div>
          Rango aproximado de usuarios : {{ ListofUsersIDs.length }}
        </div>
       
        <nz-divider nzPlain nzText="Mensaje"></nz-divider>
        <textarea rows="4" nz-input (ngModel)="InputMessage" placeholder="Mensaje"></textarea>
        <nz-divider nzPlain nzText=""></nz-divider>
        <div class="row"> 
          <div class="col">
            <button nz-button style="margin-bottom: 1em; background-color: #4F6F57; color: #f6f3ea;" (click)="sendMessage()">Enviar</button>
          </div>
          <div class="col" >
            <button nz-button style="margin-bottom: 1em; background-color: #4F6F57; color: #f6f3ea;" (click)="Cancel()">Cancelar</button>
          </div>
        </div>
    </nz-tab>  -->
    </nz-tabset>
</div>
