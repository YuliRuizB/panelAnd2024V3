import './polyfills.server.mjs';
import{ca as p}from"./chunk-MXAABQE2.mjs";import{Ya as g,p as f}from"./chunk-GACYMIHG.mjs";import{$ as h,ca as r,q as n}from"./chunk-AV3XNHWO.mjs";import{a as c,b as l}from"./chunk-H6KHSOBK.mjs";var v=(()=>{let o=class o{constructor(e,t,s){this.afs=e,this.notification=t,this.aff=s,this.documentPath="admin/dashboard",this.dashboardItems=this.afs.doc(this.documentPath).valueChanges()}getDashboardItems(){return this.dashboardItems}sendtoDeviceMessage(e){this.aff.httpsCallable("sendToDeviseMessage")(e).toPromise().then(s=>{console.log(s)})}setChatMessage(e){console.log("shetchatmsj"),console.log(e);let t=this.afs.createId();return console.log("key "+t),this.afs.collection("chatMessages").doc(t).set(e)}setMessage(e,t){console.log(e),console.log("idUser"+t);let s=this.afs.createId();return this.afs.collection("users").doc(t).collection("messages").doc(s).set(e)}getUserChatMessages(e,t){return this.afs.collection("chatMessages",s=>s.where("uid","==",e)).snapshotChanges().pipe(n(s=>s.map(a=>{let i=a.payload.doc.id,m=a.payload.doc.data();return c({id:i},m)})))}getJobType(e){return this.afs.collection("customers").doc(e).snapshotChanges().pipe(n(s=>{let a=s.payload.data(),i=s.payload.id;return l(c({},a),{id:i})}))}getJobTypeInfo(e){return this.afs.collection("jobType").doc(e).snapshotChanges().pipe(n(s=>{let a=s.payload.data(),i=s.payload.id;return l(c({},a),{id:i})}))}};o.\u0275fac=function(t){return new(t||o)(r(f),r(g),r(p))},o.\u0275prov=h({token:o,factory:o.\u0275fac,providedIn:"root"});let d=o;return d})();export{v as a};
