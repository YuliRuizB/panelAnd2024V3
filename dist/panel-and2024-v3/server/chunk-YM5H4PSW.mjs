import './polyfills.server.mjs';
import{$ as _n,A as mn,Aa as uo,B as Ae,Ba as An,C as Ns,Ca as so,D as Vs,Da as oo,E as Ye,Ea as qn,F as Le,Fa as On,G as Qe,Ga as lo,H as Ls,Ha as fo,I as Bs,Ia as co,J as Fs,Ja as ho,K as bn,Ka as vo,L as fr,La as go,M as Ke,Ma as It,N as Sn,Na as po,Oa as yo,P as Ze,Pa as mo,Q as zs,Qa as bo,R as Mt,Ra as So,S as wn,Sa as wo,T as js,Ta as xo,U as Gs,Ua as ko,V as xn,Va as $t,W as j,Wa as _o,X as Hs,Xa as Ro,Y as kn,Ya as Mn,Z as Tt,_ as Ws,a as $e,aa as Rn,b as ie,ba as Us,c as xe,ca as cr,d as Ds,da as Xs,e as At,ea as hr,f as Is,g as hn,ga as vr,h as le,ha as Dt,i as ur,ia as Ys,j as vn,ja as Qs,k as gn,ka as Ks,la as Zs,m as Ne,ma as En,n as Xe,na as Pn,o as ve,oa as Js,p as qt,pa as eo,q as sr,qa as Je,r as pn,ra as Cn,s as Ot,sa as to,t as or,ta as gr,u as $s,ua as ro,v as yn,va as no,w as dn,wa as io,x as lr,xa as ao,y as Ve,z as ke}from"./chunk-CP6HLI4P.mjs";import{a as cn}from"./chunk-IG6WK6NS.mjs";import{f as C,h as O}from"./chunk-H6KHSOBK.mjs";var $n=C((Nd,In)=>{"use strict";var Tn=$t(),Eo=cr(),Po=ve(),Co=Ae(),Ao=Co("species"),Dn=Array;In.exports=function(a){var i;return Tn(a)&&(i=a.constructor,Eo(i)&&(i===Dn||Tn(i.prototype))?i=void 0:Po(i)&&(i=i[Ao],i===null&&(i=void 0))),i===void 0?Dn:i}});var pr=C((Vd,Nn)=>{"use strict";var qo=$n();Nn.exports=function(a,i){return new(qo(a))(i===0?0:i)}});var qe=C((Ld,Ln)=>{"use strict";var Oo=vr(),Mo=le(),To=vn(),Do=Ve(),Io=Ze(),$o=pr(),Vn=Mo([].push),_e=function(a){var i=a===1,e=a===2,r=a===3,t=a===4,u=a===6,n=a===7,s=a===5||u;return function(o,l,f,c){for(var h=Do(o),v=To(h),y=Io(v),m=Oo(l,f),b=0,x=c||$o,P=i?x(o,y):e||n?x(o,0):void 0,k,_;y>b;b++)if((s||b in v)&&(k=v[b],_=m(k,b,h),a))if(i)P[b]=_;else if(_)switch(a){case 3:return!0;case 5:return k;case 6:return b;case 2:Vn(P,k)}else switch(a){case 4:return!1;case 7:Vn(P,k)}return u?-1:r||t?t:P}};Ln.exports={forEach:_e(0),map:_e(1),filter:_e(2),some:_e(3),every:_e(4),find:_e(5),findIndex:_e(6),filterReject:_e(7)}});var et=C((Bd,Bn)=>{"use strict";var No=ie(),Vo=Ae(),Lo=pn(),Bo=Vo("species");Bn.exports=function(a){return Lo>=51||!No(function(){var i=[],e=i.constructor={};return e[Bo]=function(){return{foo:1}},i[a](Boolean).foo!==1})}});var Fn=C(()=>{"use strict";var Fo=j(),zo=qe().map,jo=et(),Go=jo("map");Fo({target:"Array",proto:!0,forced:!Go},{map:function(i){return zo(this,i,arguments.length>1?arguments[1]:void 0)}})});var zn=C(()=>{"use strict";var Ho=j(),Wo=le(),Uo=vn(),Xo=Ne(),Yo=It(),Qo=Wo([].join),Ko=Uo!==Object,Zo=Ko||!Yo("join",",");Ho({target:"Array",proto:!0,forced:Zo},{join:function(i){return Qo(Xo(this),i===void 0?",":i)}})});var jn=C((Hd,tt)=>{"use strict";function Jo(a){if(Array.isArray(a))return a}tt.exports=Jo,tt.exports.__esModule=!0,tt.exports.default=tt.exports});var Gn=C((Wd,rt)=>{"use strict";function el(a,i){var e=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(e!=null){var r,t,u,n,s=[],o=!0,l=!1;try{if(u=(e=e.call(a)).next,i===0){if(Object(e)!==e)return;o=!1}else for(;!(o=(r=u.call(e)).done)&&(s.push(r.value),s.length!==i);o=!0);}catch(f){l=!0,t=f}finally{try{if(!o&&e.return!=null&&(n=e.return(),Object(n)!==n))return}finally{if(l)throw t}}return s}}rt.exports=el,rt.exports.__esModule=!0,rt.exports.default=rt.exports});var yr=C((Ud,nt)=>{"use strict";function tl(a,i){(i==null||i>a.length)&&(i=a.length);for(var e=0,r=new Array(i);e<i;e++)r[e]=a[e];return r}nt.exports=tl,nt.exports.__esModule=!0,nt.exports.default=nt.exports});var dr=C((Xd,it)=>{"use strict";var Hn=yr();function rl(a,i){if(a){if(typeof a=="string")return Hn(a,i);var e=Object.prototype.toString.call(a).slice(8,-1);if(e==="Object"&&a.constructor&&(e=a.constructor.name),e==="Map"||e==="Set")return Array.from(a);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Hn(a,i)}}it.exports=rl,it.exports.__esModule=!0,it.exports.default=it.exports});var Wn=C((Yd,at)=>{"use strict";function nl(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}at.exports=nl,at.exports.__esModule=!0,at.exports.default=at.exports});var Un=C((Qd,ut)=>{"use strict";var il=jn(),al=Gn(),ul=dr(),sl=Wn();function ol(a,i){return il(a)||al(a,i)||ul(a,i)||sl()}ut.exports=ol,ut.exports.__esModule=!0,ut.exports.default=ut.exports});var mr=C((Kd,Qn)=>{"use strict";var ll=ur(),fl=Ne(),Xn=Mt().f,cl=Dt(),Yn=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],hl=function(a){try{return Xn(a)}catch{return cl(Yn)}};Qn.exports.f=function(i){return Yn&&ll(i)==="Window"?hl(i):Xn(fl(i))}});var br=C(Kn=>{"use strict";var vl=Ae();Kn.f=vl});var Sr=C((Jd,Zn)=>{"use strict";var gl=$e();Zn.exports=gl});var wr=C((em,ei)=>{"use strict";var Jn=Sr(),pl=ke(),yl=br(),dl=Qe().f;ei.exports=function(a){var i=Jn.Symbol||(Jn.Symbol={});pl(i,a)||dl(i,a,{value:yl.f(a)})}});var ri=C((tm,ti)=>{"use strict";var ml=At(),bl=qt(),Sl=Ae(),wl=Ke();ti.exports=function(){var a=bl("Symbol"),i=a&&a.prototype,e=i&&i.valueOf,r=Sl("toPrimitive");i&&!i[r]&&wl(i,r,function(t){return ml(e,this)},{arity:1})}});var bi=C(()=>{"use strict";var Nt=j(),lt=$e(),qr=At(),xl=le(),kl=dn(),Be=xe(),Fe=Ot(),_l=ie(),ne=ke(),Rl=sr(),Rr=Le(),Vt=Ne(),Or=Vs(),El=Je(),Er=hn(),ze=gr(),ai=Cn(),Pl=Mt(),ui=mr(),Cl=wn(),si=Ye(),oi=Qe(),Al=to(),li=Is(),xr=Ke(),ql=Tt(),Mr=lr(),Ol=Fs(),fi=bn(),ni=mn(),Ml=Ae(),Tl=br(),Dl=wr(),Il=ri(),$l=kn(),ci=fr(),Lt=qe().forEach,se=Ol("hidden"),Bt="Symbol",ot="prototype",Nl=ci.set,ii=ci.getterFor(Bt),fe=Object[ot],Oe=lt.Symbol,st=Oe&&Oe[ot],Vl=lt.RangeError,Ll=lt.TypeError,kr=lt.QObject,hi=si.f,Me=oi.f,vi=ui.f,Bl=li.f,gi=xl([].push),ge=Mr("symbols"),ft=Mr("op-symbols"),Fl=Mr("wks"),Pr=!kr||!kr[ot]||!kr[ot].findChild,pi=function(a,i,e){var r=hi(fe,i);r&&delete fe[i],Me(a,i,e),r&&a!==fe&&Me(fe,i,r)},Cr=Be&&_l(function(){return ze(Me({},"a",{get:function(){return Me(this,"a",{value:7}).a}})).a!==7})?pi:Me,_r=function(a,i){var e=ge[a]=ze(st);return Nl(e,{type:Bt,tag:a,description:i}),Be||(e.description=i),e},Ft=function(i,e,r){i===fe&&Ft(ft,e,r),Rr(i);var t=Or(e);return Rr(r),ne(ge,t)?(r.enumerable?(ne(i,se)&&i[se][t]&&(i[se][t]=!1),r=ze(r,{enumerable:Er(0,!1)})):(ne(i,se)||Me(i,se,Er(1,ze(null))),i[se][t]=!0),Cr(i,t,r)):Me(i,t,r)},Tr=function(i,e){Rr(i);var r=Vt(e),t=ai(r).concat(mi(r));return Lt(t,function(u){(!Be||qr(Ar,r,u))&&Ft(i,u,r[u])}),i},zl=function(i,e){return e===void 0?ze(i):Tr(ze(i),e)},Ar=function(i){var e=Or(i),r=qr(Bl,this,e);return this===fe&&ne(ge,e)&&!ne(ft,e)?!1:r||!ne(this,e)||!ne(ge,e)||ne(this,se)&&this[se][e]?r:!0},yi=function(i,e){var r=Vt(i),t=Or(e);if(!(r===fe&&ne(ge,t)&&!ne(ft,t))){var u=hi(r,t);return u&&ne(ge,t)&&!(ne(r,se)&&r[se][t])&&(u.enumerable=!0),u}},di=function(i){var e=vi(Vt(i)),r=[];return Lt(e,function(t){!ne(ge,t)&&!ne(fi,t)&&gi(r,t)}),r},mi=function(a){var i=a===fe,e=vi(i?ft:Vt(a)),r=[];return Lt(e,function(t){ne(ge,t)&&(!i||ne(fe,t))&&gi(r,ge[t])}),r};Fe||(Oe=function(){if(Rl(st,this))throw new Ll("Symbol is not a constructor");var i=!arguments.length||arguments[0]===void 0?void 0:El(arguments[0]),e=ni(i),r=function(t){var u=this===void 0?lt:this;u===fe&&qr(r,ft,t),ne(u,se)&&ne(u[se],e)&&(u[se][e]=!1);var n=Er(1,t);try{Cr(u,e,n)}catch(s){if(!(s instanceof Vl))throw s;pi(u,e,n)}};return Be&&Pr&&Cr(fe,e,{configurable:!0,set:r}),_r(e,i)},st=Oe[ot],xr(st,"toString",function(){return ii(this).tag}),xr(Oe,"withoutSetter",function(a){return _r(ni(a),a)}),li.f=Ar,oi.f=Ft,Al.f=Tr,si.f=yi,Pl.f=ui.f=di,Cl.f=mi,Tl.f=function(a){return _r(Ml(a),a)},Be&&(ql(st,"description",{configurable:!0,get:function(){return ii(this).description}}),kl||xr(fe,"propertyIsEnumerable",Ar,{unsafe:!0})));Nt({global:!0,constructor:!0,wrap:!0,forced:!Fe,sham:!Fe},{Symbol:Oe});Lt(ai(Fl),function(a){Dl(a)});Nt({target:Bt,stat:!0,forced:!Fe},{useSetter:function(){Pr=!0},useSimple:function(){Pr=!1}});Nt({target:"Object",stat:!0,forced:!Fe,sham:!Be},{create:zl,defineProperty:Ft,defineProperties:Tr,getOwnPropertyDescriptor:yi});Nt({target:"Object",stat:!0,forced:!Fe},{getOwnPropertyNames:di});Il();$l(Oe,Bt);fi[se]=!0});var Dr=C((im,Si)=>{"use strict";var jl=Ot();Si.exports=jl&&!!Symbol.for&&!!Symbol.keyFor});var xi=C(()=>{"use strict";var Gl=j(),Hl=qt(),Wl=ke(),Ul=Je(),wi=lr(),Xl=Dr(),Ir=wi("string-to-symbol-registry"),Yl=wi("symbol-to-string-registry");Gl({target:"Symbol",stat:!0,forced:!Xl},{for:function(a){var i=Ul(a);if(Wl(Ir,i))return Ir[i];var e=Hl("Symbol")(i);return Ir[i]=e,Yl[e]=i,e}})});var _i=C(()=>{"use strict";var Ql=j(),Kl=ke(),Zl=or(),Jl=$s(),ef=lr(),tf=Dr(),ki=ef("symbol-to-string-registry");Ql({target:"Symbol",stat:!0,forced:!tf},{keyFor:function(i){if(!Zl(i))throw new TypeError(Jl(i)+" is not a symbol");if(Kl(ki,i))return ki[i]}})});var Ai=C((lm,Ci)=>{"use strict";var rf=le(),Ri=$t(),nf=Xe(),Ei=ur(),af=Je(),Pi=rf([].push);Ci.exports=function(a){if(nf(a))return a;if(Ri(a)){for(var i=a.length,e=[],r=0;r<i;r++){var t=a[r];typeof t=="string"?Pi(e,t):(typeof t=="number"||Ei(t)==="Number"||Ei(t)==="String")&&Pi(e,af(t))}var u=e.length,n=!0;return function(s,o){if(n)return n=!1,o;if(Ri(this))return o;for(var l=0;l<u;l++)if(e[l]===s)return o}}}});var Fi=C(()=>{"use strict";var uf=j(),Ni=qt(),Vi=hr(),sf=At(),ct=le(),Li=ie(),qi=Xe(),Oi=or(),Bi=Dt(),of=Ai(),lf=Ot(),ff=String,Re=Ni("JSON","stringify"),zt=ct(/./.exec),Mi=ct("".charAt),cf=ct("".charCodeAt),hf=ct("".replace),vf=ct(1 .toString),gf=/[\uD800-\uDFFF]/g,Ti=/^[\uD800-\uDBFF]$/,Di=/^[\uDC00-\uDFFF]$/,Ii=!lf||Li(function(){var a=Ni("Symbol")("stringify detection");return Re([a])!=="[null]"||Re({a})!=="{}"||Re(Object(a))!=="{}"}),$i=Li(function(){return Re("\uDF06\uD834")!=='"\\udf06\\ud834"'||Re("\uDEAD")!=='"\\udead"'}),pf=function(a,i){var e=Bi(arguments),r=of(i);if(!(!qi(r)&&(a===void 0||Oi(a))))return e[1]=function(t,u){if(qi(r)&&(u=sf(r,this,ff(t),u)),!Oi(u))return u},Vi(Re,null,e)},yf=function(a,i,e){var r=Mi(e,i-1),t=Mi(e,i+1);return zt(Ti,a)&&!zt(Di,t)||zt(Di,a)&&!zt(Ti,r)?"\\u"+vf(cf(a,0),16):a};Re&&uf({target:"JSON",stat:!0,arity:3,forced:Ii||$i},{stringify:function(i,e,r){var t=Bi(arguments),u=Vi(Ii?pf:Re,null,t);return $i&&typeof u=="string"?hf(u,gf,yf):u}})});var ji=C(()=>{"use strict";var df=j(),mf=Ot(),bf=ie(),zi=wn(),Sf=Ve(),wf=!mf||bf(function(){zi.f(1)});df({target:"Object",stat:!0,forced:wf},{getOwnPropertySymbols:function(i){var e=zi.f;return e?e(Sf(i)):[]}})});var Gi=C(()=>{"use strict";bi();xi();_i();Fi();ji()});var Hi=C(()=>{"use strict";var xf=j(),kf=qe().filter,_f=et(),Rf=_f("filter");xf({target:"Array",proto:!0,forced:!Rf},{filter:function(i){return kf(this,i,arguments.length>1?arguments[1]:void 0)}})});var $r=C((mm,Wi)=>{"use strict";var Ef=qe().forEach,Pf=It(),Cf=Pf("forEach");Wi.exports=Cf?[].forEach:function(i){return Ef(this,i,arguments.length>1?arguments[1]:void 0)}});var Xi=C(()=>{"use strict";var Af=j(),Ui=$r();Af({target:"Array",proto:!0,forced:[].forEach!==Ui},{forEach:Ui})});var Ki=C(()=>{"use strict";var qf=j(),Of=ie(),Mf=Ne(),Yi=Ye().f,Qi=xe(),Tf=!Qi||Of(function(){Yi(1)});qf({target:"Object",stat:!0,forced:Tf,sham:!Qi},{getOwnPropertyDescriptor:function(i,e){return Yi(Mf(i),e)}})});var ht=C((km,Zi)=>{"use strict";var Df=xe(),If=Qe(),$f=hn();Zi.exports=function(a,i,e){Df?If.f(a,i,$f(0,e)):a[i]=e}});var Ji=C(()=>{"use strict";var Nf=j(),Vf=xe(),Lf=js(),Bf=Ne(),Ff=Ye(),zf=ht();Nf({target:"Object",stat:!0,sham:!Vf},{getOwnPropertyDescriptors:function(i){for(var e=Bf(i),r=Ff.f,t=Lf(e),u={},n=0,s,o;t.length>n;)o=r(e,s=t[n++]),o!==void 0&&zf(u,s,o);return u}})});var ta=C(()=>{"use strict";var jf=j(),Gf=Ve(),ea=Cn(),Hf=ie(),Wf=Hf(function(){ea(1)});jf({target:"Object",stat:!0,forced:Wf},{keys:function(i){return ea(Gf(i))}})});var aa=C(()=>{"use strict";var ra=$e(),na=fo(),Uf=co(),Nr=$r(),Xf=Ls(),ia=function(a){if(a&&a.forEach!==Nr)try{Xf(a,"forEach",Nr)}catch{a.forEach=Nr}};for(jt in na)na[jt]&&ia(ra[jt]&&ra[jt].prototype);var jt;ia(Uf)});var oa=C((qm,pe)=>{"use strict";var ua=cn().default;function sa(){"use strict";pe.exports=sa=function(){return i},pe.exports.__esModule=!0,pe.exports.default=pe.exports;var a,i={},e=Object.prototype,r=e.hasOwnProperty,t=Object.defineProperty||function(R,g,p){R[g]=p.value},u=typeof Symbol=="function"?Symbol:{},n=u.iterator||"@@iterator",s=u.asyncIterator||"@@asyncIterator",o=u.toStringTag||"@@toStringTag";function l(R,g,p){return Object.defineProperty(R,g,{value:p,enumerable:!0,configurable:!0,writable:!0}),R[g]}try{l({},"")}catch{l=function(p,d,E){return p[d]=E}}function f(R,g,p,d){var E=g&&g.prototype instanceof x?g:x,w=Object.create(E.prototype),$=new K(d||[]);return t(w,"_invoke",{value:z(R,p,$)}),w}function c(R,g,p){try{return{type:"normal",arg:R.call(g,p)}}catch(d){return{type:"throw",arg:d}}}i.wrap=f;var h="suspendedStart",v="suspendedYield",y="executing",m="completed",b={};function x(){}function P(){}function k(){}var _={};l(_,n,function(){return this});var q=Object.getPrototypeOf,N=q&&q(q(Z([])));N&&N!==e&&r.call(N,n)&&(_=N);var V=k.prototype=x.prototype=Object.create(_);function F(R){["next","throw","return"].forEach(function(g){l(R,g,function(p){return this._invoke(g,p)})})}function W(R,g){function p(E,w,$,L){var B=c(R[E],R,w);if(B.type!=="throw"){var X=B.arg,G=X.value;return G&&ua(G)=="object"&&r.call(G,"__await")?g.resolve(G.__await).then(function(ue){p("next",ue,$,L)},function(ue){p("throw",ue,$,L)}):g.resolve(G).then(function(ue){X.value=ue,$(X)},function(ue){return p("throw",ue,$,L)})}L(B.arg)}var d;t(this,"_invoke",{value:function(w,$){function L(){return new g(function(B,X){p(w,$,B,X)})}return d=d?d.then(L,L):L()}})}function z(R,g,p){var d=h;return function(E,w){if(d===y)throw new Error("Generator is already running");if(d===m){if(E==="throw")throw w;return{value:a,done:!0}}for(p.method=E,p.arg=w;;){var $=p.delegate;if($){var L=U($,p);if(L){if(L===b)continue;return L}}if(p.method==="next")p.sent=p._sent=p.arg;else if(p.method==="throw"){if(d===h)throw d=m,p.arg;p.dispatchException(p.arg)}else p.method==="return"&&p.abrupt("return",p.arg);d=y;var B=c(R,g,p);if(B.type==="normal"){if(d=p.done?m:v,B.arg===b)continue;return{value:B.arg,done:p.done}}B.type==="throw"&&(d=m,p.method="throw",p.arg=B.arg)}}}function U(R,g){var p=g.method,d=R.iterator[p];if(d===a)return g.delegate=null,p==="throw"&&R.iterator.return&&(g.method="return",g.arg=a,U(R,g),g.method==="throw")||p!=="return"&&(g.method="throw",g.arg=new TypeError("The iterator does not provide a '"+p+"' method")),b;var E=c(d,R.iterator,g.arg);if(E.type==="throw")return g.method="throw",g.arg=E.arg,g.delegate=null,b;var w=E.arg;return w?w.done?(g[R.resultName]=w.value,g.next=R.nextLoc,g.method!=="return"&&(g.method="next",g.arg=a),g.delegate=null,b):w:(g.method="throw",g.arg=new TypeError("iterator result is not an object"),g.delegate=null,b)}function J(R){var g={tryLoc:R[0]};1 in R&&(g.catchLoc=R[1]),2 in R&&(g.finallyLoc=R[2],g.afterLoc=R[3]),this.tryEntries.push(g)}function te(R){var g=R.completion||{};g.type="normal",delete g.arg,R.completion=g}function K(R){this.tryEntries=[{tryLoc:"root"}],R.forEach(J,this),this.reset(!0)}function Z(R){if(R||R===""){var g=R[n];if(g)return g.call(R);if(typeof R.next=="function")return R;if(!isNaN(R.length)){var p=-1,d=function E(){for(;++p<R.length;)if(r.call(R,p))return E.value=R[p],E.done=!1,E;return E.value=a,E.done=!0,E};return d.next=d}}throw new TypeError(ua(R)+" is not iterable")}return P.prototype=k,t(V,"constructor",{value:k,configurable:!0}),t(k,"constructor",{value:P,configurable:!0}),P.displayName=l(k,o,"GeneratorFunction"),i.isGeneratorFunction=function(R){var g=typeof R=="function"&&R.constructor;return!!g&&(g===P||(g.displayName||g.name)==="GeneratorFunction")},i.mark=function(R){return Object.setPrototypeOf?Object.setPrototypeOf(R,k):(R.__proto__=k,l(R,o,"GeneratorFunction")),R.prototype=Object.create(V),R},i.awrap=function(R){return{__await:R}},F(W.prototype),l(W.prototype,s,function(){return this}),i.AsyncIterator=W,i.async=function(R,g,p,d,E){E===void 0&&(E=Promise);var w=new W(f(R,g,p,d),E);return i.isGeneratorFunction(g)?w:w.next().then(function($){return $.done?$.value:w.next()})},F(V),l(V,o,"Generator"),l(V,n,function(){return this}),l(V,"toString",function(){return"[object Generator]"}),i.keys=function(R){var g=Object(R),p=[];for(var d in g)p.push(d);return p.reverse(),function E(){for(;p.length;){var w=p.pop();if(w in g)return E.value=w,E.done=!1,E}return E.done=!0,E}},i.values=Z,K.prototype={constructor:K,reset:function(g){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(te),!g)for(var p in this)p.charAt(0)==="t"&&r.call(this,p)&&!isNaN(+p.slice(1))&&(this[p]=a)},stop:function(){this.done=!0;var g=this.tryEntries[0].completion;if(g.type==="throw")throw g.arg;return this.rval},dispatchException:function(g){if(this.done)throw g;var p=this;function d(X,G){return $.type="throw",$.arg=g,p.next=X,G&&(p.method="next",p.arg=a),!!G}for(var E=this.tryEntries.length-1;E>=0;--E){var w=this.tryEntries[E],$=w.completion;if(w.tryLoc==="root")return d("end");if(w.tryLoc<=this.prev){var L=r.call(w,"catchLoc"),B=r.call(w,"finallyLoc");if(L&&B){if(this.prev<w.catchLoc)return d(w.catchLoc,!0);if(this.prev<w.finallyLoc)return d(w.finallyLoc)}else if(L){if(this.prev<w.catchLoc)return d(w.catchLoc,!0)}else{if(!B)throw new Error("try statement without catch or finally");if(this.prev<w.finallyLoc)return d(w.finallyLoc)}}}},abrupt:function(g,p){for(var d=this.tryEntries.length-1;d>=0;--d){var E=this.tryEntries[d];if(E.tryLoc<=this.prev&&r.call(E,"finallyLoc")&&this.prev<E.finallyLoc){var w=E;break}}w&&(g==="break"||g==="continue")&&w.tryLoc<=p&&p<=w.finallyLoc&&(w=null);var $=w?w.completion:{};return $.type=g,$.arg=p,w?(this.method="next",this.next=w.finallyLoc,b):this.complete($)},complete:function(g,p){if(g.type==="throw")throw g.arg;return g.type==="break"||g.type==="continue"?this.next=g.arg:g.type==="return"?(this.rval=this.arg=g.arg,this.method="return",this.next="end"):g.type==="normal"&&p&&(this.next=p),b},finish:function(g){for(var p=this.tryEntries.length-1;p>=0;--p){var d=this.tryEntries[p];if(d.finallyLoc===g)return this.complete(d.completion,d.afterLoc),te(d),b}},catch:function(g){for(var p=this.tryEntries.length-1;p>=0;--p){var d=this.tryEntries[p];if(d.tryLoc===g){var E=d.completion;if(E.type==="throw"){var w=E.arg;te(d)}return w}}throw new Error("illegal catch attempt")},delegateYield:function(g,p,d){return this.delegate={iterator:Z(g),resultName:p,nextLoc:d},this.method==="next"&&(this.arg=a),b}},i}pe.exports=sa,pe.exports.__esModule=!0,pe.exports.default=pe.exports});var fa=C((Om,la)=>{"use strict";var Gt=oa()();la.exports=Gt;try{regeneratorRuntime=Gt}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=Gt:Function("r","regeneratorRuntime = r")(Gt)}});var ca=C((Mm,vt)=>{"use strict";function Yf(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")}vt.exports=Yf,vt.exports.__esModule=!0,vt.exports.default=vt.exports});var va=C((Tm,gt)=>{"use strict";var Qf=vo();function ha(a,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(a,Qf(r.key),r)}}function Kf(a,i,e){return i&&ha(a.prototype,i),e&&ha(a,e),Object.defineProperty(a,"prototype",{writable:!1}),a}gt.exports=Kf,gt.exports.__esModule=!0,gt.exports.default=gt.exports});var pa=C((Dm,ga)=>{"use strict";var Zf=TypeError,Jf=9007199254740991;ga.exports=function(a){if(a>Jf)throw Zf("Maximum allowed index exceeded");return a}});var ba=C(()=>{"use strict";var ec=j(),tc=ie(),rc=$t(),nc=ve(),ic=Ve(),ac=Ze(),ya=pa(),da=ht(),uc=pr(),sc=et(),oc=Ae(),lc=pn(),ma=oc("isConcatSpreadable"),fc=lc>=51||!tc(function(){var a=[];return a[ma]=!1,a.concat()[0]!==a}),cc=function(a){if(!nc(a))return!1;var i=a[ma];return i!==void 0?!!i:rc(a)},hc=!fc||!sc("concat");ec({target:"Array",proto:!0,arity:1,forced:hc},{concat:function(i){var e=ic(this),r=uc(e,0),t=0,u,n,s,o,l;for(u=-1,s=arguments.length;u<s;u++)if(l=u===-1?e:arguments[u],cc(l))for(o=ac(l),ya(t+o),n=0;n<o;n++,t++)n in l&&da(r,t,l[n]);else ya(t+1),da(r,t++,l);return r.length=t,r}})});var Sa=C(()=>{"use strict";var vc=j(),gc=qe().every,pc=It(),yc=pc("every");vc({target:"Array",proto:!0,forced:!yc},{every:function(i){return gc(this,i,arguments.length>1?arguments[1]:void 0)}})});var xa=C((Lm,wa)=>{"use strict";var dc=Rn(),mc=Us();wa.exports=dc?{}.toString:function(){return"[object "+mc(this)+"]"}});var ka=C(()=>{"use strict";var bc=Rn(),Sc=Ke(),wc=xa();bc||Sc(Object.prototype,"toString",wc,{unsafe:!0})});var Pa=C(()=>{"use strict";var xc=xe(),kc=Bs().EXISTS,_a=le(),_c=Tt(),Ra=Function.prototype,Rc=_a(Ra.toString),Ea=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,Ec=_a(Ea.exec),Pc="name";xc&&!kc&&_c(Ra,Pc,{configurable:!0,get:function(){try{return Ec(Ea,Rc(this))[1]}catch{return""}}})});var Ma=C((Gm,Oa)=>{"use strict";var Aa=le(),Cc=yn(),Ac=ve(),qc=ke(),Ca=Dt(),Oc=Ds(),qa=Function,Mc=Aa([].concat),Tc=Aa([].join),Vr={},Dc=function(a,i,e){if(!qc(Vr,i)){for(var r=[],t=0;t<i;t++)r[t]="a["+t+"]";Vr[i]=qa("C,a","return new C("+Tc(r,",")+")")}return Vr[i](a,e)};Oa.exports=Oc?qa.bind:function(i){var e=Cc(this),r=e.prototype,t=Ca(arguments,1),u=function(){var s=Mc(t,Ca(arguments));return this instanceof u?Dc(e,s.length,s):e.apply(i,s)};return Ac(r)&&(u.prototype=r),u}});var La=C(()=>{"use strict";var Ic=j(),$c=qt(),Lr=hr(),Nc=Ma(),Ta=Xs(),Vc=Le(),Da=ve(),Lc=gr(),$a=ie(),Br=$c("Reflect","construct"),Bc=Object.prototype,Fc=[].push,Na=$a(function(){function a(){}return!(Br(function(){},[],a)instanceof a)}),Va=!$a(function(){Br(function(){})}),Ia=Na||Va;Ic({target:"Reflect",stat:!0,forced:Ia,sham:Ia},{construct:function(i,e){Ta(i),Vc(e);var r=arguments.length<3?i:Ta(arguments[2]);if(Va&&!Na)return Br(i,e,r);if(i===r){switch(e.length){case 0:return new i;case 1:return new i(e[0]);case 2:return new i(e[0],e[1]);case 3:return new i(e[0],e[1],e[2]);case 4:return new i(e[0],e[1],e[2],e[3])}var t=[null];return Lr(Fc,t,e),new(Lr(Nc,i,t))}var u=r.prototype,n=Lc(Da(u)?u:Bc),s=Lr(i,n,e);return Da(s)?s:n}})});var Fr=C((Um,pt)=>{"use strict";function zc(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}pt.exports=zc,pt.exports.__esModule=!0,pt.exports.default=pt.exports});var Ba=C((Xm,yt)=>{"use strict";var jc=cn().default,Gc=Fr();function Hc(a,i){if(i&&(jc(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gc(a)}yt.exports=Hc,yt.exports.__esModule=!0,yt.exports.default=yt.exports});var jr=C((Ym,ye)=>{"use strict";function zr(a){return ye.exports=zr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ye.exports.__esModule=!0,ye.exports.default=ye.exports,zr(a)}ye.exports=zr,ye.exports.__esModule=!0,ye.exports.default=ye.exports});var Fa=C((Qm,de)=>{"use strict";function Gr(a,i){return de.exports=Gr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,t){return r.__proto__=t,r},de.exports.__esModule=!0,de.exports.default=de.exports,Gr(a,i)}de.exports=Gr,de.exports.__esModule=!0,de.exports.default=de.exports});var za=C((Km,dt)=>{"use strict";var Wc=Fa();function Uc(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(i&&i.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),i&&Wc(a,i)}dt.exports=Uc,dt.exports.__esModule=!0,dt.exports.default=dt.exports});var Ga=C((Zm,ja)=>{"use strict";var Xc=Le(),Yc=Zs();ja.exports=function(a,i,e,r){try{return r?i(Xc(e)[0],e[1]):i(e)}catch(t){Yc(a,"throw",t)}}});var Xa=C((Jm,Ua)=>{"use strict";var Qc=vr(),Kc=At(),Zc=Ve(),Jc=Ga(),eh=Ys(),th=cr(),rh=Ze(),Ha=ht(),nh=Ks(),ih=Qs(),Wa=Array;Ua.exports=function(i){var e=Zc(i),r=th(this),t=arguments.length,u=t>1?arguments[1]:void 0,n=u!==void 0;n&&(u=Qc(u,t>2?arguments[2]:void 0));var s=ih(e),o=0,l,f,c,h,v,y;if(s&&!(this===Wa&&eh(s)))for(f=r?new this:[],h=nh(e,s),v=h.next;!(c=Kc(v,h)).done;o++)y=n?Jc(h,u,[c.value,o],!0):c.value,Ha(f,o,y);else for(l=rh(e),f=r?new this(l):Wa(l);l>o;o++)y=n?u(e[o],o):e[o],Ha(f,o,y);return f.length=o,f}});var Ya=C(()=>{"use strict";var ah=j(),uh=Xa(),sh=Pn(),oh=!sh(function(a){Array.from(a)});ah({target:"Array",stat:!0,forced:oh},{from:uh})});var Qa=C(()=>{"use strict";var lh=j(),fh=zs().includes,ch=ie(),hh=An(),vh=ch(function(){return!Array(1).includes()});lh({target:"Array",proto:!0,forced:vh},{includes:function(i){return fh(this,i,arguments.length>1?arguments[1]:void 0)}});hh("includes")});var Ka=C(()=>{"use strict";var gh=j(),ph=qe().some,yh=It(),dh=yh("some");gh({target:"Array",proto:!0,forced:!dh},{some:function(i){return ph(this,i,arguments.length>1?arguments[1]:void 0)}})});var tu=C(()=>{"use strict";var mh=no().charAt,bh=Je(),Ja=fr(),Sh=qn(),Za=On(),eu="String Iterator",wh=Ja.set,xh=Ja.getterFor(eu);Sh(String,"String",function(a){wh(this,{type:eu,string:bh(a),index:0})},function(){var i=xh(this),e=i.string,r=i.index,t;return r>=e.length?Za(void 0,!0):(t=mh(e,r),i.index+=t.length,Za(t,!1))})});var ru=C((o0,mt)=>{"use strict";var kh=yr();function _h(a){if(Array.isArray(a))return kh(a)}mt.exports=_h,mt.exports.__esModule=!0,mt.exports.default=mt.exports});var nu=C((l0,bt)=>{"use strict";function Rh(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}bt.exports=Rh,bt.exports.__esModule=!0,bt.exports.default=bt.exports});var iu=C((f0,St)=>{"use strict";function Eh(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}St.exports=Eh,St.exports.__esModule=!0,St.exports.default=St.exports});var au=C((c0,wt)=>{"use strict";var Ph=ru(),Ch=nu(),Ah=dr(),qh=iu();function Oh(a){return Ph(a)||Ch(a)||Ah(a)||qh()}wt.exports=Oh,wt.exports.__esModule=!0,wt.exports.default=wt.exports});var uu=C((h0,xt)=>{"use strict";var Mh=jr();function Th(a,i){for(;!Object.prototype.hasOwnProperty.call(a,i)&&(a=Mh(a),a!==null););return a}xt.exports=Th,xt.exports.__esModule=!0,xt.exports.default=xt.exports});var su=C((v0,oe)=>{"use strict";var Dh=uu();function Ht(){return typeof Reflect<"u"&&Reflect.get?(oe.exports=Ht=Reflect.get.bind(),oe.exports.__esModule=!0,oe.exports.default=oe.exports):(oe.exports=Ht=function(i,e,r){var t=Dh(i,e);if(t){var u=Object.getOwnPropertyDescriptor(t,e);return u.get?u.get.call(arguments.length<3?i:r):u.value}},oe.exports.__esModule=!0,oe.exports.default=oe.exports),Ht.apply(this,arguments)}oe.exports=Ht,oe.exports.__esModule=!0,oe.exports.default=oe.exports});var Hr=C((g0,lu)=>{"use strict";var Ih=Xe(),$h=ve(),ou=Hs();lu.exports=function(a,i,e){var r,t;return ou&&Ih(r=i.constructor)&&r!==e&&$h(t=r.prototype)&&t!==e.prototype&&ou(a,t),a}});var cu=C((p0,fu)=>{"use strict";var Nh=le();fu.exports=Nh(1 .valueOf)});var mu=C(()=>{"use strict";var Vh=j(),Wr=dn(),Lh=xe(),gu=$e(),Ur=Sr(),pu=le(),Bh=xn(),hu=ke(),Fh=Hr(),zh=sr(),jh=or(),yu=Ns(),Gh=ie(),Hh=Mt().f,Wh=Ye().f,Uh=Qe().f,Xh=cu(),Yh=bo().trim,kt="Number",je=gu[kt],vu=Ur[kt],Xr=je.prototype,Qh=gu.TypeError,Kh=pu("".slice),Wt=pu("".charCodeAt),Zh=function(a){var i=yu(a,"number");return typeof i=="bigint"?i:Jh(i)},Jh=function(a){var i=yu(a,"number"),e,r,t,u,n,s,o,l;if(jh(i))throw new Qh("Cannot convert a Symbol value to a number");if(typeof i=="string"&&i.length>2){if(i=Yh(i),e=Wt(i,0),e===43||e===45){if(r=Wt(i,2),r===88||r===120)return NaN}else if(e===48){switch(Wt(i,1)){case 66:case 98:t=2,u=49;break;case 79:case 111:t=8,u=55;break;default:return+i}for(n=Kh(i,2),s=n.length,o=0;o<s;o++)if(l=Wt(n,o),l<48||l>u)return NaN;return parseInt(n,t)}}return+i},Yr=Bh(kt,!je(" 0o1")||!je("0b1")||je("+0x1")),ev=function(a){return zh(Xr,a)&&Gh(function(){Xh(a)})},Ut=function(i){var e=arguments.length<1?0:je(Zh(i));return ev(this)?Fh(Object(e),this,Ut):e};Ut.prototype=Xr;Yr&&!Wr&&(Xr.constructor=Ut);Vh({global:!0,constructor:!0,wrap:!0,forced:Yr},{Number:Ut});var du=function(a,i){for(var e=Lh?Hh(i):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),r=0,t;e.length>r;r++)hu(i,t=e[r])&&!hu(a,t)&&Uh(a,t,Wh(i,t))};Wr&&vu&&du(Ur[kt],vu);(Yr||Wr)&&du(Ur[kt],je)});var wu=C((m0,Su)=>{"use strict";var tv=Ve(),bu=Sn(),rv=Ze();Su.exports=function(i){for(var e=tv(this),r=rv(e),t=arguments.length,u=bu(t>1?arguments[1]:void 0,r),n=t>2?arguments[2]:void 0,s=n===void 0?r:bu(n,r);s>u;)e[u++]=i;return e}});var xu=C(()=>{"use strict";var nv=j(),iv=wu(),av=An();nv({target:"Array",proto:!0},{fill:iv});av("fill")});var ku=C(()=>{"use strict";var uv=j(),sv=Le(),ov=Ye().f;uv({target:"Reflect",stat:!0},{deleteProperty:function(i,e){var r=ov(sv(i),e);return r&&!r.configurable?!1:delete i[e]}})});var qu=C(()=>{"use strict";var lv=j(),fv=xe(),cv=$e(),Xt=le(),hv=ke(),vv=Xe(),gv=sr(),pv=Je(),yv=Tt(),dv=Gs(),me=cv.Symbol,Te=me&&me.prototype;fv&&vv(me)&&(!("description"in Te)||me().description!==void 0)&&(Qr={},_t=function(){var i=arguments.length<1||arguments[0]===void 0?void 0:pv(arguments[0]),e=gv(Te,this)?new me(i):i===void 0?me():me(i);return i===""&&(Qr[e]=!0),e},dv(_t,me),_t.prototype=Te,Te.constructor=_t,_u=String(me("description detection"))==="Symbol(description detection)",Ru=Xt(Te.valueOf),Eu=Xt(Te.toString),Pu=/^Symbol\((.*)\)[^)]+$/,Cu=Xt("".replace),Au=Xt("".slice),yv(Te,"description",{configurable:!0,get:function(){var i=Ru(this);if(hv(Qr,i))return"";var e=Eu(i),r=_u?Au(e,7,-1):Cu(e,Pu,"$1");return r===""?void 0:r}}),lv({global:!0,constructor:!0,forced:!0},{Symbol:_t}));var Qr,_t,_u,Ru,Eu,Pu,Cu,Au});var Ou=C(()=>{"use strict";var mv=wr();mv("iterator")});var Du=C(()=>{"use strict";var bv=j(),Mu=$t(),Sv=cr(),wv=ve(),Tu=Sn(),xv=Ze(),kv=Ne(),_v=ht(),Rv=Ae(),Ev=et(),Pv=Dt(),Cv=Ev("slice"),Av=Rv("species"),Kr=Array,qv=Math.max;bv({target:"Array",proto:!0,forced:!Cv},{slice:function(i,e){var r=kv(this),t=xv(r),u=Tu(i,t),n=Tu(e===void 0?t:e,t),s,o,l;if(Mu(r)&&(s=r.constructor,Sv(s)&&(s===Kr||Mu(s.prototype))?s=void 0:wv(s)&&(s=s[Av],s===null&&(s=void 0)),s===Kr||s===void 0))return Pv(r,u,n);for(o=new(s===void 0?Kr:s)(qv(n-u,0)),l=0;u<n;u++,l++)u in r&&_v(o,l,r[u]);return o.length=l,o}})});var $u=C((A0,Iu)=>{"use strict";var Ov=ie();Iu.exports=Ov(function(){if(typeof ArrayBuffer=="function"){var a=new ArrayBuffer(8);Object.isExtensible(a)&&Object.defineProperty(a,"a",{value:8})}})});var Lu=C((q0,Vu)=>{"use strict";var Mv=ie(),Tv=ve(),Dv=ur(),Nu=$u(),Yt=Object.isExtensible,Iv=Mv(function(){Yt(1)});Vu.exports=Iv||Nu?function(i){return!Tv(i)||Nu&&Dv(i)==="ArrayBuffer"?!1:Yt?Yt(i):!0}:Yt});var Fu=C((O0,Bu)=>{"use strict";var $v=ie();Bu.exports=!$v(function(){return Object.isExtensible(Object.preventExtensions({}))})});var tn=C((M0,Gu)=>{"use strict";var Nv=j(),Vv=le(),Lv=bn(),Bv=ve(),Zr=ke(),Fv=Qe().f,zu=Mt(),zv=mr(),Jr=Lu(),jv=mn(),Gv=Fu(),ju=!1,be=jv("meta"),Hv=0,en=function(a){Fv(a,be,{value:{objectID:"O"+Hv++,weakData:{}}})},Wv=function(a,i){if(!Bv(a))return typeof a=="symbol"?a:(typeof a=="string"?"S":"P")+a;if(!Zr(a,be)){if(!Jr(a))return"F";if(!i)return"E";en(a)}return a[be].objectID},Uv=function(a,i){if(!Zr(a,be)){if(!Jr(a))return!0;if(!i)return!1;en(a)}return a[be].weakData},Xv=function(a){return Gv&&ju&&Jr(a)&&!Zr(a,be)&&en(a),a},Yv=function(){Qv.enable=function(){},ju=!0;var a=zu.f,i=Vv([].splice),e={};e[be]=1,a(e).length&&(zu.f=function(r){for(var t=a(r),u=0,n=t.length;u<n;u++)if(t[u]===be){i(t,u,1);break}return t},Nv({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:zv.f}))},Qv=Gu.exports={enable:Yv,fastKey:Wv,getWeakData:Uv,onFreeze:Xv};Lv[be]=!0});var Uu=C((T0,Wu)=>{"use strict";var Kv=j(),Zv=$e(),Jv=le(),Hu=xn(),eg=Ke(),tg=tn(),rg=En(),ng=_n(),ig=Xe(),ag=gn(),rn=ve(),nn=ie(),ug=Pn(),sg=kn(),og=Hr();Wu.exports=function(a,i,e){var r=a.indexOf("Map")!==-1,t=a.indexOf("Weak")!==-1,u=r?"set":"add",n=Zv[a],s=n&&n.prototype,o=n,l={},f=function(x){var P=Jv(s[x]);eg(s,x,x==="add"?function(_){return P(this,_===0?0:_),this}:x==="delete"?function(k){return t&&!rn(k)?!1:P(this,k===0?0:k)}:x==="get"?function(_){return t&&!rn(_)?void 0:P(this,_===0?0:_)}:x==="has"?function(_){return t&&!rn(_)?!1:P(this,_===0?0:_)}:function(_,q){return P(this,_===0?0:_,q),this})},c=Hu(a,!ig(n)||!(t||s.forEach&&!nn(function(){new n().entries().next()})));if(c)o=e.getConstructor(i,a,r,u),tg.enable();else if(Hu(a,!0)){var h=new o,v=h[u](t?{}:-0,1)!==h,y=nn(function(){h.has(1)}),m=ug(function(x){new n(x)}),b=!t&&nn(function(){for(var x=new n,P=5;P--;)x[u](P,P);return!x.has(-0)});m||(o=i(function(x,P){ng(x,s);var k=og(new n,x,o);return ag(P)||rg(P,k[u],{that:k,AS_ENTRIES:r}),k}),o.prototype=s,s.constructor=o),(y||b)&&(f("delete"),f("has"),r&&f("get")),(b||v)&&f(u),t&&s.clear&&delete s.clear}return l[a]=o,Kv({global:!0,constructor:!0,forced:o!==n},l),sg(o,a),t||e.setStrong(o,a,r),o}});var Yu=C((D0,Xu)=>{"use strict";var lg=Ke();Xu.exports=function(a,i,e){for(var r in i)lg(a,r,i[r],e);return a}});var rs=C((I0,ts)=>{"use strict";var Qu=gr(),fg=Tt(),Ku=Yu(),cg=vr(),hg=_n(),vg=gn(),gg=En(),pg=qn(),Qt=On(),yg=Ws(),Rt=xe(),Zu=tn().fastKey,es=fr(),Ju=es.set,an=es.getterFor;ts.exports={getConstructor:function(a,i,e,r){var t=a(function(l,f){hg(l,u),Ju(l,{type:i,index:Qu(null),first:void 0,last:void 0,size:0}),Rt||(l.size=0),vg(f)||gg(f,l[r],{that:l,AS_ENTRIES:e})}),u=t.prototype,n=an(i),s=function(l,f,c){var h=n(l),v=o(l,f),y,m;return v?v.value=c:(h.last=v={index:m=Zu(f,!0),key:f,value:c,previous:y=h.last,next:void 0,removed:!1},h.first||(h.first=v),y&&(y.next=v),Rt?h.size++:l.size++,m!=="F"&&(h.index[m]=v)),l},o=function(l,f){var c=n(l),h=Zu(f),v;if(h!=="F")return c.index[h];for(v=c.first;v;v=v.next)if(v.key===f)return v};return Ku(u,{clear:function(){for(var f=this,c=n(f),h=c.first;h;)h.removed=!0,h.previous&&(h.previous=h.previous.next=void 0),h=h.next;c.first=c.last=void 0,c.index=Qu(null),Rt?c.size=0:f.size=0},delete:function(l){var f=this,c=n(f),h=o(f,l);if(h){var v=h.next,y=h.previous;delete c.index[h.index],h.removed=!0,y&&(y.next=v),v&&(v.previous=y),c.first===h&&(c.first=v),c.last===h&&(c.last=y),Rt?c.size--:f.size--}return!!h},forEach:function(f){for(var c=n(this),h=cg(f,arguments.length>1?arguments[1]:void 0),v;v=v?v.next:c.first;)for(h(v.value,v.key,this);v&&v.removed;)v=v.previous},has:function(f){return!!o(this,f)}}),Ku(u,e?{get:function(f){var c=o(this,f);return c&&c.value},set:function(f,c){return s(this,f===0?0:f,c)}}:{add:function(f){return s(this,f=f===0?0:f,f)}}),Rt&&fg(u,"size",{configurable:!0,get:function(){return n(this).size}}),t},setStrong:function(a,i,e){var r=i+" Iterator",t=an(i),u=an(r);pg(a,i,function(n,s){Ju(this,{type:r,target:n,state:t(n),kind:s,last:void 0})},function(){for(var n=u(this),s=n.kind,o=n.last;o&&o.removed;)o=o.previous;return!n.target||!(n.last=o=o?o.next:n.state.first)?(n.target=void 0,Qt(void 0,!0)):Qt(s==="keys"?o.key:s==="values"?o.value:[o.key,o.value],!1)},e?"entries":"values",!e,!0),yg(i)}}});var ns=C(()=>{"use strict";var dg=Uu(),mg=rs();dg("Map",function(a){return function(){return a(this,arguments.length?arguments[0]:void 0)}},mg)});var is=C(()=>{"use strict";ns()});var as=C(()=>{"use strict";var bg=j(),Sg=hr(),wg=yn(),xg=Le(),kg=ie(),_g=!kg(function(){Reflect.apply(function(){})});bg({target:"Reflect",stat:!0,forced:_g},{apply:function(i,e,r){return Sg(wg(i),e,xg(r))}})});var us=C(()=>{"use strict";var Rg=j(),Eg=Le(),Pg=oo(),Cg=so();Rg({target:"Reflect",stat:!0,sham:!Cg},{getPrototypeOf:function(i){return Pg(Eg(i))}})});var G0=O(Fn()),H0=O(ro()),W0=O(io()),U0=O(ao()),X0=O(uo()),Y0=O(zn()),H=O(Un()),Q0=O(Gi()),K0=O(Hi()),Z0=O(Xi()),J0=O(Ki()),eb=O(Ji()),tb=O(ta()),rb=O(aa()),re=O(fa()),he=O(eo()),on=O(go()),A=O(ca()),M=O(va()),nb=O(ba()),ib=O(Sa()),ab=O(po()),ub=O(ka()),sb=O(Js()),ob=O(yo()),er=O(mo()),lb=O(Pa()),tr=O(wo()),fb=O(La()),cb=O(Ro()),T=O(Ba()),S=O(jr()),D=O(za()),hb=O(Ya()),vb=O(Qa()),gb=O(Ka()),pb=O(ko()),yb=O(tu()),db=O(So()),Ss=O(au()),mb=O(xo()),bb=O(_o()),Ee=O(su()),Sb=O(mu()),wb=O(xu()),xb=O(ku()),He=O(Fr()),kb=O(lo()),_b=O(ho()),Rb=O(qu()),Eb=O(Ou()),Pb=O(Du()),Cb=O(is()),Ab=O(as()),qb=O(us());function We(a){return a.replace(/(?!\u3000)\s+/gm," ")}function Ag(a){return a.replace(/^[\n \t]+/,"")}function qg(a){return a.replace(/[\n \t]+$/,"")}function ae(a){var i=(a||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[];return i.map(parseFloat)}var Og=/^[A-Z-]+$/;function Mg(a){return Og.test(a)?a.toLowerCase():a}function ws(a){var i=a.match(/url\(('([^']+)'|"([^"]+)"|([^'"\)]+))\)/)||[];return i[2]||i[3]||i[4]}function Tg(a){if(!a.startsWith("rgb"))return a;var i=3,e=a.replace(/\d+(\.\d+)?/g,function(r,t){return i--&&t?String(Math.round(parseFloat(r))):r});return e}var Dg=/(\[[^\]]+\])/g,Ig=/(#[^\s\+>~\.\[:]+)/g,$g=/(\.[^\s\+>~\.\[:]+)/g,Ng=/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,Vg=/(:[\w-]+\([^\)]*\))/gi,Lg=/(:[^\s\+>~\.\[:]+)/g,Bg=/([^\s\+>~\.\[:]+)/g;function De(a,i){var e=a.match(i);return e?[a.replace(i," "),e.length]:[a,0]}function Fg(a){var i=[0,0,0],e=a.replace(/:not\(([^\)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),r=0,t=De(e,Dg),u=(0,H.default)(t,2);e=u[0],r=u[1],i[1]+=r;var n=De(e,Ig),s=(0,H.default)(n,2);e=s[0],r=s[1],i[0]+=r;var o=De(e,$g),l=(0,H.default)(o,2);e=l[0],r=l[1],i[1]+=r;var f=De(e,Ng),c=(0,H.default)(f,2);e=c[0],r=c[1],i[2]+=r;var h=De(e,Vg),v=(0,H.default)(h,2);e=v[0],r=v[1],i[1]+=r;var y=De(e,Lg),m=(0,H.default)(y,2);e=m[0],r=m[1],i[1]+=r,e=e.replace(/[\*\s\+>~]/g," ").replace(/[#\.]/g," ");var b=De(e,Bg),x=(0,H.default)(b,2);return e=x[0],r=x[1],i[2]+=r,i.join("")}var Ge=1e-8;function ss(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2))}function Et(a,i){return(a[0]*i[0]+a[1]*i[1])/(ss(a)*ss(i))}function rr(a,i){return(a[0]*i[1]<a[1]*i[0]?-1:1)*Math.acos(Et(a,i))}function os(a){return a*a*a}function ls(a){return 3*a*a*(1-a)}function fs(a){return 3*a*(1-a)*(1-a)}function cs(a){return(1-a)*(1-a)*(1-a)}function hs(a){return a*a}function vs(a){return 2*a*(1-a)}function gs(a){return(1-a)*(1-a)}function zg(a,i){return i={exports:{}},a(i,i.exports),i.exports}var Mb=zg(function(a){var i=function(e){var r=Object.prototype,t=r.hasOwnProperty,u,n=typeof Symbol=="function"?Symbol:{},s=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",l=n.toStringTag||"@@toStringTag";function f(g,p,d,E){var w=p&&p.prototype instanceof x?p:x,$=Object.create(w.prototype),L=new K(E||[]);return $._invoke=z(g,d,L),$}e.wrap=f;function c(g,p,d){try{return{type:"normal",arg:g.call(p,d)}}catch(E){return{type:"throw",arg:E}}}var h="suspendedStart",v="suspendedYield",y="executing",m="completed",b={};function x(){}function P(){}function k(){}var _={};_[s]=function(){return this};var q=Object.getPrototypeOf,N=q&&q(q(Z([])));N&&N!==r&&t.call(N,s)&&(_=N);var V=k.prototype=x.prototype=Object.create(_);P.prototype=V.constructor=k,k.constructor=P,k[l]=P.displayName="GeneratorFunction";function F(g){["next","throw","return"].forEach(function(p){g[p]=function(d){return this._invoke(p,d)}})}e.isGeneratorFunction=function(g){var p=typeof g=="function"&&g.constructor;return p?p===P||(p.displayName||p.name)==="GeneratorFunction":!1},e.mark=function(g){return Object.setPrototypeOf?Object.setPrototypeOf(g,k):(g.__proto__=k,l in g||(g[l]="GeneratorFunction")),g.prototype=Object.create(V),g},e.awrap=function(g){return{__await:g}};function W(g,p){function d($,L,B,X){var G=c(g[$],g,L);if(G.type==="throw")X(G.arg);else{var ue=G.arg,Ue=ue.value;return Ue&&typeof Ue=="object"&&t.call(Ue,"__await")?p.resolve(Ue.__await).then(function(Ce){d("next",Ce,B,X)},function(Ce){d("throw",Ce,B,X)}):p.resolve(Ue).then(function(Ce){ue.value=Ce,B(ue)},function(Ce){return d("throw",Ce,B,X)})}}var E;function w($,L){function B(){return new p(function(X,G){d($,L,X,G)})}return E=E?E.then(B,B):B()}this._invoke=w}F(W.prototype),W.prototype[o]=function(){return this},e.AsyncIterator=W,e.async=function(g,p,d,E,w){w===void 0&&(w=Promise);var $=new W(f(g,p,d,E),w);return e.isGeneratorFunction(p)?$:$.next().then(function(L){return L.done?L.value:$.next()})};function z(g,p,d){var E=h;return function($,L){if(E===y)throw new Error("Generator is already running");if(E===m){if($==="throw")throw L;return R()}for(d.method=$,d.arg=L;;){var B=d.delegate;if(B){var X=U(B,d);if(X){if(X===b)continue;return X}}if(d.method==="next")d.sent=d._sent=d.arg;else if(d.method==="throw"){if(E===h)throw E=m,d.arg;d.dispatchException(d.arg)}else d.method==="return"&&d.abrupt("return",d.arg);E=y;var G=c(g,p,d);if(G.type==="normal"){if(E=d.done?m:v,G.arg===b)continue;return{value:G.arg,done:d.done}}else G.type==="throw"&&(E=m,d.method="throw",d.arg=G.arg)}}}function U(g,p){var d=g.iterator[p.method];if(d===u){if(p.delegate=null,p.method==="throw"){if(g.iterator.return&&(p.method="return",p.arg=u,U(g,p),p.method==="throw"))return b;p.method="throw",p.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var E=c(d,g.iterator,p.arg);if(E.type==="throw")return p.method="throw",p.arg=E.arg,p.delegate=null,b;var w=E.arg;if(!w)return p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,b;if(w.done)p[g.resultName]=w.value,p.next=g.nextLoc,p.method!=="return"&&(p.method="next",p.arg=u);else return w;return p.delegate=null,b}F(V),V[l]="Generator",V[s]=function(){return this},V.toString=function(){return"[object Generator]"};function J(g){var p={tryLoc:g[0]};1 in g&&(p.catchLoc=g[1]),2 in g&&(p.finallyLoc=g[2],p.afterLoc=g[3]),this.tryEntries.push(p)}function te(g){var p=g.completion||{};p.type="normal",delete p.arg,g.completion=p}function K(g){this.tryEntries=[{tryLoc:"root"}],g.forEach(J,this),this.reset(!0)}e.keys=function(g){var p=[];for(var d in g)p.push(d);return p.reverse(),function E(){for(;p.length;){var w=p.pop();if(w in g)return E.value=w,E.done=!1,E}return E.done=!0,E}};function Z(g){if(g){var p=g[s];if(p)return p.call(g);if(typeof g.next=="function")return g;if(!isNaN(g.length)){var d=-1,E=function w(){for(;++d<g.length;)if(t.call(g,d))return w.value=g[d],w.done=!1,w;return w.value=u,w.done=!0,w};return E.next=E}}return{next:R}}e.values=Z;function R(){return{value:u,done:!0}}return K.prototype={constructor:K,reset:function(g){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(te),!g)for(var p in this)p.charAt(0)==="t"&&t.call(this,p)&&!isNaN(+p.slice(1))&&(this[p]=u)},stop:function(){this.done=!0;var g=this.tryEntries[0],p=g.completion;if(p.type==="throw")throw p.arg;return this.rval},dispatchException:function(g){if(this.done)throw g;var p=this;function d(X,G){return $.type="throw",$.arg=g,p.next=X,G&&(p.method="next",p.arg=u),!!G}for(var E=this.tryEntries.length-1;E>=0;--E){var w=this.tryEntries[E],$=w.completion;if(w.tryLoc==="root")return d("end");if(w.tryLoc<=this.prev){var L=t.call(w,"catchLoc"),B=t.call(w,"finallyLoc");if(L&&B){if(this.prev<w.catchLoc)return d(w.catchLoc,!0);if(this.prev<w.finallyLoc)return d(w.finallyLoc)}else if(L){if(this.prev<w.catchLoc)return d(w.catchLoc,!0)}else if(B){if(this.prev<w.finallyLoc)return d(w.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(g,p){for(var d=this.tryEntries.length-1;d>=0;--d){var E=this.tryEntries[d];if(E.tryLoc<=this.prev&&t.call(E,"finallyLoc")&&this.prev<E.finallyLoc){var w=E;break}}w&&(g==="break"||g==="continue")&&w.tryLoc<=p&&p<=w.finallyLoc&&(w=null);var $=w?w.completion:{};return $.type=g,$.arg=p,w?(this.method="next",this.next=w.finallyLoc,b):this.complete($)},complete:function(g,p){if(g.type==="throw")throw g.arg;return g.type==="break"||g.type==="continue"?this.next=g.arg:g.type==="return"?(this.rval=this.arg=g.arg,this.method="return",this.next="end"):g.type==="normal"&&p&&(this.next=p),b},finish:function(g){for(var p=this.tryEntries.length-1;p>=0;--p){var d=this.tryEntries[p];if(d.finallyLoc===g)return this.complete(d.completion,d.afterLoc),te(d),b}},catch:function(g){for(var p=this.tryEntries.length-1;p>=0;--p){var d=this.tryEntries[p];if(d.tryLoc===g){var E=d.completion;if(E.type==="throw"){var w=E.arg;te(d)}return w}}throw new Error("illegal catch attempt")},delegateYield:function(g,p,d){return this.delegate={iterator:Z(g),resultName:p,nextLoc:d},this.method==="next"&&(this.arg=u),b}},e}(a.exports);try{regeneratorRuntime=i}catch{Function("r","regeneratorRuntime = r")(i)}}),I=function(){function a(i,e,r){(0,A.default)(this,a),this.document=i,this.name=e,this.value=r,this.isNormalizedColor=!1}return(0,M.default)(a,[{key:"hasValue",value:function(){var e=this.value;return e!==null&&e!==""&&e!==0&&typeof e<"u"}},{key:"isString",value:function(e){var r=this.value,t=typeof r=="string";return!t||!e?t:e.test(r)}},{key:"isUrlDefinition",value:function(){return this.isString(/^url\(/)}},{key:"isPixels",value:function(){if(!this.hasValue())return!1;var e=this.getString();switch(!0){case/px$/.test(e):case/^[0-9]+$/.test(e):return!0;default:return!1}}},{key:"setValue",value:function(e){return this.value=e,this}},{key:"getValue",value:function(e){return typeof e>"u"||this.hasValue()?this.value:e}},{key:"getNumber",value:function(e){if(!this.hasValue())return typeof e>"u"?0:parseFloat(e);var r=this.value,t=parseFloat(r);return this.isString(/%$/)&&(t=t/100),t}},{key:"getString",value:function(e){return typeof e>"u"||this.hasValue()?typeof this.value>"u"?"":String(this.value):String(e)}},{key:"getColor",value:function(e){var r=this.getString(e);return this.isNormalizedColor||(this.isNormalizedColor=!0,r=Tg(r),this.value=r),r}},{key:"getDpi",value:function(){return 96}},{key:"getRem",value:function(){return this.document.rootEmSize}},{key:"getEm",value:function(){return this.document.emSize}},{key:"getUnits",value:function(){return this.getString().replace(/[0-9\.\-]/g,"")}},{key:"getPixels",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.hasValue())return 0;var t=typeof e=="boolean"?[void 0,e]:[e],u=(0,H.default)(t,2),n=u[0],s=u[1],o=this.document.screen.viewPort;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(o.computeSize("x"),o.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(o.computeSize("x"),o.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*o.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*o.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return this.getNumber()*15;case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case(this.isString(/%$/)&&s):return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*o.computeSize(n);default:{var l=this.getNumber();return r&&l<1?l*o.computeSize(n):l}}}},{key:"getMilliseconds",value:function(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():this.getNumber()*1e3:0}},{key:"getRadians",value:function(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}},{key:"getDefinition",value:function(){var e=this.getString(),r=e.match(/#([^\)'"]+)/);return r&&(r=r[1]),r||(r=e),this.document.definitions[r]}},{key:"getFillStyleDefinition",value:function(e,r){var t=this.getDefinition();if(!t)return null;if(typeof t.createGradient=="function")return t.createGradient(this.document.ctx,e,r);if(typeof t.createPattern=="function"){if(t.getHrefAttribute().hasValue()){var u=t.getAttribute("patternTransform");t=t.getHrefAttribute().getDefinition(),u.hasValue()&&t.getAttribute("patternTransform",!0).setValue(u.value)}return t.createPattern(this.document.ctx,e,r)}return null}},{key:"getTextBaseline",value:function(){return this.hasValue()?a.textBaselineMapping[this.getString()]:null}},{key:"addOpacity",value:function(e){for(var r=this.getColor(),t=r.length,u=0,n=0;n<t&&(r[n]===","&&u++,u!==3);n++);if(e.hasValue()&&this.isString()&&u!==3){var s=new tr.default(r);s.ok&&(s.alpha=e.getNumber(),r=s.toRGBA())}return new a(this.document,this.name,r)}}],[{key:"empty",value:function(e){return new a(e,"EMPTY","")}}]),a}();I.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};var jg=function(){function a(){(0,A.default)(this,a),this.viewPorts=[]}return(0,M.default)(a,[{key:"clear",value:function(){this.viewPorts=[]}},{key:"setCurrent",value:function(e,r){this.viewPorts.push({width:e,height:r})}},{key:"removeCurrent",value:function(){this.viewPorts.pop()}},{key:"getCurrent",value:function(){var e=this.viewPorts;return e[e.length-1]}},{key:"computeSize",value:function(e){return typeof e=="number"?e:e==="x"?this.width:e==="y"?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}},{key:"width",get:function(){return this.getCurrent().width}},{key:"height",get:function(){return this.getCurrent().height}}]),a}(),Y=function(){function a(i,e){(0,A.default)(this,a),this.x=i,this.y=e}return(0,M.default)(a,[{key:"angleTo",value:function(e){return Math.atan2(e.y-this.y,e.x-this.x)}},{key:"applyTransform",value:function(e){var r=this.x,t=this.y,u=r*e[0]+t*e[2]+e[4],n=r*e[1]+t*e[3]+e[5];this.x=u,this.y=n}}],[{key:"parse",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=ae(e),u=(0,H.default)(t,2),n=u[0],s=n===void 0?r:n,o=u[1],l=o===void 0?r:o;return new a(s,l)}},{key:"parseScale",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,t=ae(e),u=(0,H.default)(t,2),n=u[0],s=n===void 0?r:n,o=u[1],l=o===void 0?s:o;return new a(s,l)}},{key:"parsePath",value:function(e){for(var r=ae(e),t=r.length,u=[],n=0;n<t;n+=2)u.push(new a(r[n],r[n+1]));return u}}]),a}(),Gg=function(){function a(i){(0,A.default)(this,a),this.screen=i,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}return(0,M.default)(a,[{key:"isWorking",value:function(){return this.working}},{key:"start",value:function(){if(!this.working){var e=this.screen,r=this.onClick,t=this.onMouseMove,u=e.ctx.canvas;u.onclick=r,u.onmousemove=t,this.working=!0}}},{key:"stop",value:function(){if(this.working){var e=this.screen.ctx.canvas;this.working=!1,e.onclick=null,e.onmousemove=null}}},{key:"hasEvents",value:function(){return this.working&&this.events.length>0}},{key:"runEvents",value:function(){if(this.working){var e=this.screen,r=this.events,t=this.eventElements,u=e.ctx.canvas.style;u&&(u.cursor=""),r.forEach(function(n,s){for(var o=n.run,l=t[s];l;)o(l),l=l.parent}),this.events=[],this.eventElements=[]}}},{key:"checkPath",value:function(e,r){if(!(!this.working||!r)){var t=this.events,u=this.eventElements;t.forEach(function(n,s){var o=n.x,l=n.y;!u[s]&&r.isPointInPath&&r.isPointInPath(o,l)&&(u[s]=e)})}}},{key:"checkBoundingBox",value:function(e,r){if(!(!this.working||!r)){var t=this.events,u=this.eventElements;t.forEach(function(n,s){var o=n.x,l=n.y;!u[s]&&r.isPointInBox(o,l)&&(u[s]=e)})}}},{key:"mapXY",value:function(e,r){for(var t=this.screen,u=t.window,n=t.ctx,s=new Y(e,r),o=n.canvas;o;)s.x-=o.offsetLeft,s.y-=o.offsetTop,o=o.offsetParent;return u.scrollX&&(s.x+=u.scrollX),u.scrollY&&(s.y+=u.scrollY),s}},{key:"onClick",value:function(e){var r=this.mapXY((e||event).clientX,(e||event).clientY),t=r.x,u=r.y;this.events.push({type:"onclick",x:t,y:u,run:function(s){s.onClick&&s.onClick()}})}},{key:"onMouseMove",value:function(e){var r=this.mapXY((e||event).clientX,(e||event).clientY),t=r.x,u=r.y;this.events.push({type:"onmousemove",x:t,y:u,run:function(s){s.onMouseMove&&s.onMouseMove()}})}}]),a}(),xs=typeof window<"u"?window:null,ks=typeof fetch<"u"?fetch.bind(void 0):null,nr=function(){function a(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.fetch,t=r===void 0?ks:r,u=e.window,n=u===void 0?xs:u;(0,A.default)(this,a),this.ctx=i,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new jg,this.mouse=new Gg(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=n,this.fetch=t}return(0,M.default)(a,[{key:"wait",value:function(e){this.waits.push(e)}},{key:"ready",value:function(){return this.readyPromise?this.readyPromise:Promise.resolve()}},{key:"isReady",value:function(){if(this.isReadyLock)return!0;var e=this.waits.every(function(r){return r()});return e&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=e,e}},{key:"setDefaults",value:function(e){e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4}},{key:"setViewBox",value:function(e){var r=e.document,t=e.ctx,u=e.aspectRatio,n=e.width,s=e.desiredWidth,o=e.height,l=e.desiredHeight,f=e.minX,c=f===void 0?0:f,h=e.minY,v=h===void 0?0:h,y=e.refX,m=e.refY,b=e.clip,x=b===void 0?!1:b,P=e.clipX,k=P===void 0?0:P,_=e.clipY,q=_===void 0?0:_,N=We(u).replace(/^defer\s/,""),V=N.split(" "),F=(0,H.default)(V,2),W=F[0],z=F[1],U=W||"xMidYMid",J=z||"meet",te=n/s,K=o/l,Z=Math.min(te,K),R=Math.max(te,K),g=s,p=l;J==="meet"&&(g*=Z,p*=Z),J==="slice"&&(g*=R,p*=R);var d=new I(r,"refX",y),E=new I(r,"refY",m),w=d.hasValue()&&E.hasValue();if(w&&t.translate(-Z*d.getPixels("x"),-Z*E.getPixels("y")),x){var $=Z*k,L=Z*q;t.beginPath(),t.moveTo($,L),t.lineTo(n,L),t.lineTo(n,o),t.lineTo($,o),t.closePath(),t.clip()}if(!w){var B=J==="meet"&&Z===K,X=J==="slice"&&R===K,G=J==="meet"&&Z===te,ue=J==="slice"&&R===te;/^xMid/.test(U)&&(B||X)&&t.translate(n/2-g/2,0),/YMid$/.test(U)&&(G||ue)&&t.translate(0,o/2-p/2),/^xMax/.test(U)&&(B||X)&&t.translate(n-g,0),/YMax$/.test(U)&&(G||ue)&&t.translate(0,o-p)}switch(!0){case U==="none":t.scale(te,K);break;case J==="meet":t.scale(Z,Z);break;case J==="slice":t.scale(R,R);break}t.translate(-c,-v)}},{key:"start",value:function(e){var r=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=t.enableRedraw,n=u===void 0?!1:u,s=t.ignoreMouse,o=s===void 0?!1:s,l=t.ignoreAnimation,f=l===void 0?!1:l,c=t.ignoreDimensions,h=c===void 0?!1:c,v=t.ignoreClear,y=v===void 0?!1:v,m=t.forceRedraw,b=t.scaleWidth,x=t.scaleHeight,P=t.offsetX,k=t.offsetY,_=this.FRAMERATE,q=this.mouse,N=1e3/_;if(this.frameDuration=N,this.readyPromise=new Promise(function(U){r.resolveReady=U}),this.isReady()&&this.render(e,h,y,b,x,P,k),!!n){var V=Date.now(),F=V,W=0,z=function U(){V=Date.now(),W=V-F,W>=N&&(F=V-W%N,r.shouldUpdate(f,m)&&(r.render(e,h,y,b,x,P,k),q.runEvents())),r.intervalId=(0,er.default)(U)};o||q.start(),this.intervalId=(0,er.default)(z)}}},{key:"stop",value:function(){this.intervalId&&(er.default.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}},{key:"shouldUpdate",value:function(e,r){if(!e){var t=this.frameDuration,u=this.animations.reduce(function(n,s){return s.update(t)||n},!1);if(u)return!0}return!!(typeof r=="function"&&r()||!this.isReadyLock&&this.isReady()||this.mouse.hasEvents())}},{key:"render",value:function(e,r,t,u,n,s,o){var l=this.CLIENT_WIDTH,f=this.CLIENT_HEIGHT,c=this.viewPort,h=this.ctx,v=this.isFirstRender,y=h.canvas;c.clear(),y.width&&y.height?c.setCurrent(y.width,y.height):c.setCurrent(l,f);var m=e.getStyle("width"),b=e.getStyle("height");!r&&(v||typeof u!="number"&&typeof n!="number")&&(m.hasValue()&&(y.width=m.getPixels("x"),y.style&&(y.style.width="".concat(y.width,"px"))),b.hasValue()&&(y.height=b.getPixels("y"),y.style&&(y.style.height="".concat(y.height,"px"))));var x=y.clientWidth||y.width,P=y.clientHeight||y.height;if(r&&m.hasValue()&&b.hasValue()&&(x=m.getPixels("x"),P=b.getPixels("y")),c.setCurrent(x,P),typeof s=="number"&&e.getAttribute("x",!0).setValue(s),typeof o=="number"&&e.getAttribute("y",!0).setValue(o),typeof u=="number"||typeof n=="number"){var k=ae(e.getAttribute("viewBox").getString()),_=0,q=0;if(typeof u=="number"){var N=e.getStyle("width");N.hasValue()?_=N.getPixels("x")/u:isNaN(k[2])||(_=k[2]/u)}if(typeof n=="number"){var V=e.getStyle("height");V.hasValue()?q=V.getPixels("y")/n:isNaN(k[3])||(q=k[3]/n)}_||(_=q),q||(q=_),e.getAttribute("width",!0).setValue(u),e.getAttribute("height",!0).setValue(n);var F=e.getStyle("transform",!0,!0);F.setValue("".concat(F.getString()," scale(").concat(1/_,", ").concat(1/q,")"))}t||h.clearRect(0,0,x,P),e.render(h),v&&(this.isFirstRender=!1)}}]),a}();nr.defaultWindow=xs;nr.defaultFetch=ks;var Hg=nr.defaultFetch,Wg=typeof DOMParser<"u"?DOMParser:null,un=function(){function a(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=i.fetch,r=e===void 0?Hg:e,t=i.DOMParser,u=t===void 0?Wg:t;(0,A.default)(this,a),this.fetch=r,this.DOMParser=u}return(0,M.default)(a,[{key:"parse",value:function(){var i=(0,he.default)(re.default.mark(function r(t){return re.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!/^</.test(t)){n.next=2;break}return n.abrupt("return",this.parseFromString(t));case 2:return n.abrupt("return",this.load(t));case 3:case"end":return n.stop()}},r,this)}));function e(r){return i.apply(this,arguments)}return e}()},{key:"parseFromString",value:function(e){var r=new this.DOMParser;try{return this.checkDocument(r.parseFromString(e,"image/svg+xml"))}catch{return this.checkDocument(r.parseFromString(e,"text/xml"))}}},{key:"checkDocument",value:function(e){var r=e.getElementsByTagName("parsererror")[0];if(r)throw new Error(r.textContent);return e}},{key:"load",value:function(){var i=(0,he.default)(re.default.mark(function r(t){var u,n;return re.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.fetch(t);case 2:return u=o.sent,o.next=5,u.text();case 5:return n=o.sent,o.abrupt("return",this.parseFromString(n));case 7:case"end":return o.stop()}},r,this)}));function e(r){return i.apply(this,arguments)}return e}()}]),a}(),Ug=function(){function a(i,e){(0,A.default)(this,a),this.type="translate",this.point=null,this.point=Y.parse(e)}return(0,M.default)(a,[{key:"apply",value:function(e){var r=this.point,t=r.x,u=r.y;e.translate(t||0,u||0)}},{key:"unapply",value:function(e){var r=this.point,t=r.x,u=r.y;e.translate(-1*t||0,-1*u||0)}},{key:"applyToPoint",value:function(e){var r=this.point,t=r.x,u=r.y;e.applyTransform([1,0,0,1,t||0,u||0])}}]),a}(),Xg=function(){function a(i,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];(0,A.default)(this,a),this.type="rotate",this.angle=null,this.cx=0,this.cy=0;var t=ae(e);this.angle=new I(i,"angle",t[0]),this.cx=(t[1]||0)+(r[0]||0),this.cy=(t[2]||0)+(r[1]||0)}return(0,M.default)(a,[{key:"apply",value:function(e){var r=this.cx,t=this.cy,u=this.angle;e.translate(r,t),e.rotate(u.getRadians()),e.translate(-r,-t)}},{key:"unapply",value:function(e){var r=this.cx,t=this.cy,u=this.angle;e.translate(r,t),e.rotate(-1*u.getRadians()),e.translate(-r,-t)}},{key:"applyToPoint",value:function(e){var r=this.cx,t=this.cy,u=this.angle,n=u.getRadians();e.applyTransform([1,0,0,1,r||0,t||0]),e.applyTransform([Math.cos(n),Math.sin(n),-Math.sin(n),Math.cos(n),0,0]),e.applyTransform([1,0,0,1,-r||0,-t||0])}}]),a}(),Yg=function(){function a(i,e){(0,A.default)(this,a),this.type="scale",this.scale=null;var r=Y.parseScale(e);(r.x===0||r.y===0)&&(r.x=Ge,r.y=Ge),this.scale=r}return(0,M.default)(a,[{key:"apply",value:function(e){var r=this.scale,t=r.x,u=r.y;e.scale(t,u||t)}},{key:"unapply",value:function(e){var r=this.scale,t=r.x,u=r.y;e.scale(1/t,1/u||t)}},{key:"applyToPoint",value:function(e){var r=this.scale,t=r.x,u=r.y;e.applyTransform([t||0,0,0,u||0,0,0])}}]),a}(),_s=function(){function a(i,e){(0,A.default)(this,a),this.type="matrix",this.matrix=[],this.matrix=ae(e)}return(0,M.default)(a,[{key:"apply",value:function(e){var r=this.matrix;e.transform(r[0],r[1],r[2],r[3],r[4],r[5])}},{key:"unapply",value:function(e){var r=this.matrix,t=r[0],u=r[2],n=r[4],s=r[1],o=r[3],l=r[5],f=0,c=0,h=1,v=1/(t*(o*h-l*c)-u*(s*h-l*f)+n*(s*c-o*f));e.transform(v*(o*h-l*c),v*(l*f-s*h),v*(n*c-u*h),v*(t*h-n*f),v*(u*l-n*o),v*(n*s-t*l))}},{key:"applyToPoint",value:function(e){e.applyTransform(this.matrix)}}]),a}();function Qg(a){return function(){var i=(0,S.default)(a),e;if(Kg()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function Kg(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Rs=function(a){(0,D.default)(e,a);var i=Qg(e);function e(r,t){var u;return(0,A.default)(this,e),u=i.call(this,r,t),u.type="skew",u.angle=null,u.angle=new I(r,"angle",t),u}return e}(_s);function Zg(a){return function(){var i=(0,S.default)(a),e;if(Jg()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function Jg(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var ep=function(a){(0,D.default)(e,a);var i=Zg(e);function e(r,t){var u;return(0,A.default)(this,e),u=i.call(this,r,t),u.type="skewX",u.matrix=[1,0,Math.tan(u.angle.getRadians()),1,0,0],u}return e}(Rs);function tp(a){return function(){var i=(0,S.default)(a),e;if(rp()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function rp(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var np=function(a){(0,D.default)(e,a);var i=tp(e);function e(r,t){var u;return(0,A.default)(this,e),u=i.call(this,r,t),u.type="skewY",u.matrix=[1,Math.tan(u.angle.getRadians()),0,1,0,0],u}return e}(Rs);function ip(a){return We(a).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function ap(a){var i=a.split("("),e=(0,H.default)(i,2),r=e[0],t=e[1];return[r.trim(),t.trim().replace(")","")]}var ir=function(){function a(i,e,r){var t=this;(0,A.default)(this,a),this.document=i,this.transforms=[];var u=ip(e),n=r?ae(r):[];u.forEach(function(s){if(s!=="none"){var o=ap(s),l=(0,H.default)(o,2),f=l[0],c=l[1],h=a.transformTypes[f];typeof h<"u"&&t.transforms.push(new h(t.document,c,n))}})}return(0,M.default)(a,[{key:"apply",value:function(e){for(var r=this.transforms,t=r.length,u=0;u<t;u++)r[u].apply(e)}},{key:"unapply",value:function(e){for(var r=this.transforms,t=r.length,u=t-1;u>=0;u--)r[u].unapply(e)}},{key:"applyToPoint",value:function(e){for(var r=this.transforms,t=r.length,u=0;u<t;u++)r[u].applyToPoint(e)}}],[{key:"fromElement",value:function(e,r){var t=r.getStyle("transform",!1,!0),u=r.getStyle("transform-origin",!1,!0);return t.hasValue()?new a(e,t.getString(),u.getString()):null}}]),a}();ir.transformTypes={translate:Ug,rotate:Xg,scale:Yg,matrix:_s,skewX:ep,skewY:np};var Q=function(){function a(i,e){var r=this,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if((0,A.default)(this,a),this.document=i,this.node=e,this.captureTextNodes=t,this.attributes={},this.styles={},this.stylesSpecificity={},this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!(!e||e.nodeType!==1)){if(Array.from(e.attributes).forEach(function(o){var l=Mg(o.nodeName);r.attributes[l]=new I(i,l,o.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()){var u=this.getAttribute("style").getString().split(";").map(function(o){return o.trim()});u.forEach(function(o){if(o){var l=o.split(":").map(function(v){return v.trim()}),f=(0,H.default)(l,2),c=f[0],h=f[1];r.styles[c]=new I(i,c,h)}})}var n=i.definitions,s=this.getAttribute("id");s.hasValue()&&(n[s.getValue()]||(n[s.getValue()]=this)),Array.from(e.childNodes).forEach(function(o){if(o.nodeType===1)r.addChild(o);else if(t&&(o.nodeType===3||o.nodeType===4)){var l=i.createTextNode(o);l.getText().length>0&&r.addChild(l)}})}}return(0,M.default)(a,[{key:"getAttribute",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=this.attributes[e];if(!t&&r){var u=new I(this.document,e,"");return this.attributes[e]=u,u}return t||I.empty(this.document)}},{key:"getHrefAttribute",value:function(){for(var e in this.attributes)if(e==="href"||/:href$/.test(e))return this.attributes[e];return I.empty(this.document)}},{key:"getStyle",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,u=this.styles[e];if(u)return u;var n=this.getAttribute(e);if(n&&n.hasValue())return this.styles[e]=n,n;if(!t){var s=this.parent;if(s){var o=s.getStyle(e);if(o&&o.hasValue())return o}}if(r){var l=new I(this.document,e,"");return this.styles[e]=l,l}return u||I.empty(this.document)}},{key:"render",value:function(e){if(!(this.getStyle("display").getString()==="none"||this.getStyle("visibility").getString()==="hidden")){if(e.save(),this.getStyle("mask").hasValue()){var r=this.getStyle("mask").getDefinition();r&&(this.applyEffects(e),r.apply(e,this))}else if(this.getStyle("filter").getValue("none")!=="none"){var t=this.getStyle("filter").getDefinition();t&&(this.applyEffects(e),t.apply(e,this))}else this.setContext(e),this.renderChildren(e),this.clearContext(e);e.restore()}}},{key:"setContext",value:function(e){}},{key:"applyEffects",value:function(e){var r=ir.fromElement(this.document,this);r&&r.apply(e);var t=this.getStyle("clip-path",!1,!0);if(t.hasValue()){var u=t.getDefinition();u&&u.apply(e)}}},{key:"clearContext",value:function(e){}},{key:"renderChildren",value:function(e){this.children.forEach(function(r){r.render(e)})}},{key:"addChild",value:function(e){var r=e instanceof a?e:this.document.createElement(e);r.parent=this,a.ignoreChildTypes.includes(r.type)||this.children.push(r)}},{key:"matchesSelector",value:function(e){var r=this.node;if(typeof r.matches=="function")return r.matches(e);var t=r.getAttribute("class");return!t||t===""?!1:t.split(" ").some(function(u){if(".".concat(u)===e)return!0})}},{key:"addStylesFromStyleDefinition",value:function(){var e=this.document,r=e.styles,t=e.stylesSpecificity;for(var u in r)if(u[0]!=="@"&&this.matchesSelector(u)){var n=r[u],s=t[u];if(n)for(var o in n){var l=this.stylesSpecificity[o];typeof l>"u"&&(l="000"),s>=l&&(this.styles[o]=n[o],this.stylesSpecificity[o]=s)}}}},{key:"removeStyles",value:function(e,r){var t=r.reduce(function(u,n){var s=e.getStyle(n);if(!s.hasValue())return u;var o=s.getString();return s.setValue(""),[].concat((0,Ss.default)(u),[[n,o]])},[]);return t}},{key:"restoreStyles",value:function(e,r){r.forEach(function(t){var u=(0,H.default)(t,2),n=u[0],s=u[1];e.getStyle(n,!0).setValue(s)})}}]),a}();Q.ignoreChildTypes=["title"];function up(a){return function(){var i=(0,S.default)(a),e;if(sp()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function sp(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var op=function(a){(0,D.default)(e,a);var i=up(e);function e(r,t,u){var n;return(0,A.default)(this,e),n=i.call(this,r,t,u),n}return e}(Q);function lp(a){var i=a.trim();return/^('|")/.test(i)?i:'"'.concat(i,'"')}function fp(a){return typeof process>"u"?a:a.trim().split(",").map(lp).join(",")}function cp(a){if(!a)return"";var i=a.trim().toLowerCase();switch(i){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return i;default:return/^oblique\s+(-|)\d+deg$/.test(i)?i:""}}function hp(a){if(!a)return"";var i=a.trim().toLowerCase();switch(i){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return i;default:return/^[\d.]+$/.test(i)?i:""}}var we=function(){function a(i,e,r,t,u,n){(0,A.default)(this,a);var s=n?typeof n=="string"?a.parse(n):n:{};this.fontFamily=u||s.fontFamily,this.fontSize=t||s.fontSize,this.fontStyle=i||s.fontStyle,this.fontWeight=r||s.fontWeight,this.fontVariant=e||s.fontVariant}return(0,M.default)(a,[{key:"toString",value:function(){return[cp(this.fontStyle),this.fontVariant,hp(this.fontWeight),this.fontSize,fp(this.fontFamily)].join(" ").trim()}}],[{key:"parse",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0,t="",u="",n="",s="",o="",l=We(e).trim().split(" "),f={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return l.forEach(function(c){switch(!0){case(!f.fontStyle&&a.styles.includes(c)):c!=="inherit"&&(t=c),f.fontStyle=!0;break;case(!f.fontVariant&&a.variants.includes(c)):c!=="inherit"&&(u=c),f.fontStyle=!0,f.fontVariant=!0;break;case(!f.fontWeight&&a.weights.includes(c)):c!=="inherit"&&(n=c),f.fontStyle=!0,f.fontVariant=!0,f.fontWeight=!0;break;case!f.fontSize:if(c!=="inherit"){var h=c.split("/"),v=(0,H.default)(h,1);s=v[0]}f.fontStyle=!0,f.fontVariant=!0,f.fontWeight=!0,f.fontSize=!0;break;default:c!=="inherit"&&(o+=c)}}),new a(t,u,n,s,o,r)}}]),a}();we.styles="normal|italic|oblique|inherit";we.variants="normal|small-caps|inherit";we.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";var ce=function(){function a(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Number.NaN,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.NaN,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Number.NaN,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Number.NaN;(0,A.default)(this,a),this.x1=i,this.y1=e,this.x2=r,this.y2=t,this.addPoint(i,e),this.addPoint(r,t)}return(0,M.default)(a,[{key:"addPoint",value:function(e,r){typeof e<"u"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),typeof r<"u"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=r,this.y2=r),r<this.y1&&(this.y1=r),r>this.y2&&(this.y2=r))}},{key:"addX",value:function(e){this.addPoint(e,null)}},{key:"addY",value:function(e){this.addPoint(null,e)}},{key:"addBoundingBox",value:function(e){if(e){var r=e.x1,t=e.y1,u=e.x2,n=e.y2;this.addPoint(r,t),this.addPoint(u,n)}}},{key:"sumCubic",value:function(e,r,t,u,n){return Math.pow(1-e,3)*r+3*Math.pow(1-e,2)*e*t+3*(1-e)*Math.pow(e,2)*u+Math.pow(e,3)*n}},{key:"bezierCurveAdd",value:function(e,r,t,u,n){var s=6*r-12*t+6*u,o=-3*r+9*t-9*u+3*n,l=3*t-3*r;if(o===0){if(s===0)return;var f=-l/s;0<f&&f<1&&(e?this.addX(this.sumCubic(f,r,t,u,n)):this.addY(this.sumCubic(f,r,t,u,n)));return}var c=Math.pow(s,2)-4*l*o;if(!(c<0)){var h=(-s+Math.sqrt(c))/(2*o);0<h&&h<1&&(e?this.addX(this.sumCubic(h,r,t,u,n)):this.addY(this.sumCubic(h,r,t,u,n)));var v=(-s-Math.sqrt(c))/(2*o);0<v&&v<1&&(e?this.addX(this.sumCubic(v,r,t,u,n)):this.addY(this.sumCubic(v,r,t,u,n)))}}},{key:"addBezierCurve",value:function(e,r,t,u,n,s,o,l){this.addPoint(e,r),this.addPoint(o,l),this.bezierCurveAdd(!0,e,t,n,o),this.bezierCurveAdd(!1,r,u,s,l)}},{key:"addQuadraticCurve",value:function(e,r,t,u,n,s){var o=e+.6666666666666666*(t-e),l=r+2/3*(u-r),f=o+1/3*(n-e),c=l+1/3*(s-r);this.addBezierCurve(e,r,o,f,l,c,n,s)}},{key:"isPointInBox",value:function(e,r){var t=this.x1,u=this.y1,n=this.x2,s=this.y2;return t<=e&&e<=n&&u<=r&&r<=s}},{key:"x",get:function(){return this.x1}},{key:"y",get:function(){return this.y1}},{key:"width",get:function(){return this.x2-this.x1}},{key:"height",get:function(){return this.y2-this.y1}}]),a}();function vp(a){return function(){var i=(0,S.default)(a),e;if(gp()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function gp(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Ie=function(a){(0,D.default)(e,a);var i=vp(e);function e(){var r;return(0,A.default)(this,e),r=i.apply(this,arguments),r.modifiedEmSizeStack=!1,r}return(0,M.default)(e,[{key:"calculateOpacity",value:function(){for(var t=1,u=this;u;){var n=u.getStyle("opacity",!1,!0);n.hasValue()&&(t*=n.getNumber()),u=u.parent}return t}},{key:"setContext",value:function(t){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!u){var n=this.getStyle("fill"),s=this.getStyle("fill-opacity"),o=this.getStyle("stroke"),l=this.getStyle("stroke-opacity");if(n.isUrlDefinition()){var f=n.getFillStyleDefinition(this,s);f&&(t.fillStyle=f)}else if(n.hasValue()){n.getString()==="currentColor"&&n.setValue(this.getStyle("color").getColor());var c=n.getColor();c!=="inherit"&&(t.fillStyle=c==="none"?"rgba(0,0,0,0)":c)}if(s.hasValue()){var h=new I(this.document,"fill",t.fillStyle).addOpacity(s).getColor();t.fillStyle=h}if(o.isUrlDefinition()){var v=o.getFillStyleDefinition(this,l);v&&(t.strokeStyle=v)}else if(o.hasValue()){o.getString()==="currentColor"&&o.setValue(this.getStyle("color").getColor());var y=o.getString();y!=="inherit"&&(t.strokeStyle=y==="none"?"rgba(0,0,0,0)":y)}if(l.hasValue()){var m=new I(this.document,"stroke",t.strokeStyle).addOpacity(l).getString();t.strokeStyle=m}var b=this.getStyle("stroke-width");if(b.hasValue()){var x=b.getPixels();t.lineWidth=x||Ge}var P=this.getStyle("stroke-linecap"),k=this.getStyle("stroke-linejoin"),_=this.getStyle("stroke-miterlimit"),q=this.getStyle("paint-order"),N=this.getStyle("stroke-dasharray"),V=this.getStyle("stroke-dashoffset");if(P.hasValue()&&(t.lineCap=P.getString()),k.hasValue()&&(t.lineJoin=k.getString()),_.hasValue()&&(t.miterLimit=_.getNumber()),q.hasValue()&&(t.paintOrder=q.getValue()),N.hasValue()&&N.getString()!=="none"){var F=ae(N.getString());typeof t.setLineDash<"u"?t.setLineDash(F):typeof t.webkitLineDash<"u"?t.webkitLineDash=F:typeof t.mozDash<"u"&&!(F.length===1&&F[0]===0)&&(t.mozDash=F);var W=V.getPixels();typeof t.lineDashOffset<"u"?t.lineDashOffset=W:typeof t.webkitLineDashOffset<"u"?t.webkitLineDashOffset=W:typeof t.mozDashOffset<"u"&&(t.mozDashOffset=W)}}if(this.modifiedEmSizeStack=!1,typeof t.font<"u"){var z=this.getStyle("font"),U=this.getStyle("font-style"),J=this.getStyle("font-variant"),te=this.getStyle("font-weight"),K=this.getStyle("font-size"),Z=this.getStyle("font-family"),R=new we(U.getString(),J.getString(),te.getString(),K.hasValue()?"".concat(K.getPixels(!0),"px"):"",Z.getString(),we.parse(z.getString(),t.font));U.setValue(R.fontStyle),J.setValue(R.fontVariant),te.setValue(R.fontWeight),K.setValue(R.fontSize),Z.setValue(R.fontFamily),t.font=R.toString(),K.isPixels()&&(this.document.emSize=K.getPixels(),this.modifiedEmSizeStack=!0)}u||(this.applyEffects(t),t.globalAlpha=this.calculateOpacity())}},{key:"clearContext",value:function(t){(0,Ee.default)((0,S.default)(e.prototype),"clearContext",this).call(this,t),this.modifiedEmSizeStack&&this.document.popEmSize()}}]),e}(Q);function pp(a){return function(){var i=(0,S.default)(a),e;if(yp()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function yp(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Pt=function(a){(0,D.default)(e,a);var i=pp(e);function e(r,t,u){var n;return(0,A.default)(this,e),n=i.call(this,r,t,(this instanceof e?this.constructor:void 0)===e?!0:u),n.type="text",n.x=0,n.y=0,n.measureCache=-1,n}return(0,M.default)(e,[{key:"setContext",value:function(t){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;(0,Ee.default)((0,S.default)(e.prototype),"setContext",this).call(this,t,u);var n=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();n&&(t.textBaseline=n)}},{key:"initializeCoordinates",value:function(t){this.x=this.getAttribute("x").getPixels("x"),this.y=this.getAttribute("y").getPixels("y");var u=this.getAttribute("dx"),n=this.getAttribute("dy");u.hasValue()&&(this.x+=u.getPixels("x")),n.hasValue()&&(this.y+=n.getPixels("y")),this.x+=this.getAnchorDelta(t,this,0)}},{key:"getBoundingBox",value:function(t){var u=this;if(this.type!=="text")return this.getTElementBoundingBox(t);this.initializeCoordinates(t);var n=null;return this.children.forEach(function(s,o){var l=u.getChildBoundingBox(t,u,u,o);n?n.addBoundingBox(l):n=l}),n}},{key:"getFontSize",value:function(){var t=this.document,u=this.parent,n=we.parse(t.ctx.font).fontSize,s=u.getStyle("font-size").getNumber(n);return s}},{key:"getTElementBoundingBox",value:function(t){var u=this.getFontSize();return new ce(this.x,this.y-u,this.x+this.measureText(t),this.y)}},{key:"getGlyph",value:function(t,u,n){var s=u[n],o=null;if(t.isArabic){var l=u.length,f=u[n-1],c=u[n+1],h="isolated";(n===0||f===" ")&&n<l-2&&c!==" "&&(h="terminal"),n>0&&f!==" "&&n<l-2&&c!==" "&&(h="medial"),n>0&&f!==" "&&(n===l-1||c===" ")&&(h="initial"),typeof t.glyphs[s]<"u"&&(o=t.glyphs[s][h],!o&&t.glyphs[s].type==="glyph"&&(o=t.glyphs[s]))}else o=t.glyphs[s];return o||(o=t.missingGlyph),o}},{key:"getText",value:function(){return""}},{key:"getTextFromNode",value:function(t){var u=t||this.node,n=Array.from(u.parentNode.childNodes),s=n.indexOf(u),o=n.length-1,l=We(u.value||u.text||u.textContent||"");return s===0&&(l=Ag(l)),s===o&&(l=qg(l)),l}},{key:"renderChildren",value:function(t){var u=this;if(this.type!=="text"){this.renderTElementChildren(t);return}this.initializeCoordinates(t),this.children.forEach(function(s,o){u.renderChild(t,u,u,o)});var n=this.document.screen.mouse;n.isWorking()&&n.checkBoundingBox(this,this.getBoundingBox(t))}},{key:"renderTElementChildren",value:function(t){var u=this.document,n=this.parent,s=this.getText(),o=n.getStyle("font-family").getDefinition();if(o){for(var l=o.fontFace.unitsPerEm,f=we.parse(u.ctx.font),c=n.getStyle("font-size").getNumber(f.fontSize),h=n.getStyle("font-style").getString(f.fontStyle),v=c/l,y=o.isRTL?s.split("").reverse().join(""):s,m=ae(n.getAttribute("dx").getString()),b=y.length,x=0;x<b;x++){var P=this.getGlyph(o,y,x);t.translate(this.x,this.y),t.scale(v,-v);var k=t.lineWidth;t.lineWidth=t.lineWidth*l/c,h==="italic"&&t.transform(1,0,.4,1,0,0),P.render(t),h==="italic"&&t.transform(1,0,-.4,1,0,0),t.lineWidth=k,t.scale(1/v,-1/v),t.translate(-this.x,-this.y),this.x+=c*(P.horizAdvX||o.horizAdvX)/l,typeof m[x]<"u"&&!isNaN(m[x])&&(this.x+=m[x])}return}var _=this.x,q=this.y;t.paintOrder==="stroke"?(t.strokeStyle&&t.strokeText(s,_,q),t.fillStyle&&t.fillText(s,_,q)):(t.fillStyle&&t.fillText(s,_,q),t.strokeStyle&&t.strokeText(s,_,q))}},{key:"getAnchorDelta",value:function(t,u,n){var s=this.getStyle("text-anchor").getString("start");if(s!=="start"){for(var o=u.children,l=o.length,f=null,c=0,h=n;h<l&&(f=o[h],!(h>n&&f.getAttribute("x").hasValue()||f.getAttribute("text-anchor").hasValue()));h++)c+=f.measureTextRecursive(t);return-1*(s==="end"?c:c/2)}return 0}},{key:"adjustChildCoordinates",value:function(t,u,n,s){var o=n.children[s];if(typeof o.measureText!="function")return o;t.save(),o.setContext(t,!0);var l=o.getAttribute("x"),f=o.getAttribute("y"),c=o.getAttribute("dx"),h=o.getAttribute("dy"),v=o.getAttribute("text-anchor").getString("start");if(s===0&&o.type!=="textNode"&&(l.hasValue()||l.setValue(u.getAttribute("x").getValue("0")),f.hasValue()||f.setValue(u.getAttribute("y").getValue("0")),c.hasValue()||c.setValue(u.getAttribute("dx").getValue("0")),h.hasValue()||h.setValue(u.getAttribute("dy").getValue("0"))),l.hasValue()){if(o.x=l.getPixels("x")+u.getAnchorDelta(t,n,s),v!=="start"){var y=o.measureTextRecursive(t);o.x+=-1*(v==="end"?y:y/2)}c.hasValue()&&(o.x+=c.getPixels("x"))}else{if(v!=="start"){var m=o.measureTextRecursive(t);u.x+=-1*(v==="end"?m:m/2)}c.hasValue()&&(u.x+=c.getPixels("x")),o.x=u.x}return u.x=o.x+o.measureText(t),f.hasValue()?(o.y=f.getPixels("y"),h.hasValue()&&(o.y+=h.getPixels("y"))):(h.hasValue()&&(u.y+=h.getPixels("y")),o.y=u.y),u.y=o.y,o.clearContext(t),t.restore(),o}},{key:"getChildBoundingBox",value:function(t,u,n,s){var o=this.adjustChildCoordinates(t,u,n,s),l=o.getBoundingBox(t);return l?(o.children.forEach(function(f,c){var h=u.getChildBoundingBox(t,u,o,c);l.addBoundingBox(h)}),l):null}},{key:"renderChild",value:function(t,u,n,s){var o=this.adjustChildCoordinates(t,u,n,s);o.render(t),o.children.forEach(function(l,f){u.renderChild(t,u,o,f)})}},{key:"measureTextRecursive",value:function(t){var u=this.children.reduce(function(n,s){return n+s.measureTextRecursive(t)},this.measureText(t));return u}},{key:"measureText",value:function(t){var u=this.measureCache;if(~u)return u;var n=this.getText(),s=this.measureTargetText(t,n);return this.measureCache=s,s}},{key:"measureTargetText",value:function(t,u){if(!u.length)return 0;var n=this.parent,s=n.getStyle("font-family").getDefinition();if(s){for(var o=this.getFontSize(),l=s.isRTL?u.split("").reverse().join(""):u,f=ae(n.getAttribute("dx").getString()),c=l.length,h=0,v=0;v<c;v++){var y=this.getGlyph(s,l,v);h+=(y.horizAdvX||s.horizAdvX)*o/s.fontFace.unitsPerEm,typeof f[v]<"u"&&!isNaN(f[v])&&(h+=f[v])}return h}if(!t.measureText)return u.length*10;t.save(),this.setContext(t,!0);var m=t.measureText(u),b=m.width;return this.clearContext(t),t.restore(),b}}]),e}(Ie);function dp(a){return function(){var i=(0,S.default)(a),e;if(mp()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function mp(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Es=function(a){(0,D.default)(e,a);var i=dp(e);function e(r,t,u){var n;return(0,A.default)(this,e),n=i.call(this,r,t,(this instanceof e?this.constructor:void 0)===e?!0:u),n.type="tspan",n.text=n.children.length>0?"":n.getTextFromNode(),n}return(0,M.default)(e,[{key:"getText",value:function(){return this.text}}]),e}(Pt);function bp(a){return function(){var i=(0,S.default)(a),e;if(Sp()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function Sp(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var wp=function(a){(0,D.default)(e,a);var i=bp(e);function e(){var r;return(0,A.default)(this,e),r=i.apply(this,arguments),r.type="textNode",r}return e}(Es);function xp(a){var i=a.replace(/,/gm," ").replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2").replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2").replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2").replace(/([0-9])([+\-])/gm,"$1 $2").replace(/(\.[0-9]*)(\.)/gm,"$1 $2").replace(/(\.[0-9]*)(\.)/gm,"$1 $2").replace(/([Aa](?:\s+(?:[0-9]*\.)?[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $2 $3 ");return We(i).trim()}var kp=function(){function a(i){(0,A.default)(this,a),this.control=null,this.start=null,this.current=null,this.command="",this.tokens=[],this.i=-1,this.previousCommand="",this.points=[],this.angles=[],this.tokens=xp(i).split(" ")}return(0,M.default)(a,[{key:"reset",value:function(){this.i=-1,this.command="",this.previousCommand="",this.start=new Y(0,0),this.control=new Y(0,0),this.current=new Y(0,0),this.points=[],this.angles=[]}},{key:"isEnd",value:function(){var e=this.i,r=this.tokens;return e>=r.length-1}},{key:"isCommandOrEnd",value:function(){if(this.isEnd())return!0;var e=this.i,r=this.tokens;return/^[A-Za-z]$/.test(r[e+1])}},{key:"isRelativeCommand",value:function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0;default:return!1}}},{key:"getToken",value:function(){return this.i++,this.tokens[this.i]}},{key:"getScalar",value:function(){return parseFloat(this.getToken())}},{key:"nextCommand",value:function(){this.previousCommand=this.command,this.command=this.getToken()}},{key:"getPoint",value:function(){var e=new Y(this.getScalar(),this.getScalar());return this.makeAbsolute(e)}},{key:"getAsControlPoint",value:function(){var e=this.getPoint();return this.control=e,e}},{key:"getAsCurrentPoint",value:function(){var e=this.getPoint();return this.current=e,e}},{key:"getReflectedControlPoint",value:function(){var e=this.previousCommand.toLowerCase();if(e!=="c"&&e!=="s"&&e!=="q"&&e!=="t")return this.current;var r=this.current,t=r.x,u=r.y,n=this.control,s=n.x,o=n.y,l=new Y(2*t-s,2*u-o);return l}},{key:"makeAbsolute",value:function(e){if(this.isRelativeCommand()){var r=this.current,t=r.x,u=r.y;e.x+=t,e.y+=u}return e}},{key:"addMarker",value:function(e,r,t){var u=this.points,n=this.angles;t&&n.length>0&&!n[n.length-1]&&(n[n.length-1]=u[u.length-1].angleTo(t)),this.addMarkerAngle(e,r?r.angleTo(e):null)}},{key:"addMarkerAngle",value:function(e,r){this.points.push(e),this.angles.push(r)}},{key:"getMarkerPoints",value:function(){return this.points}},{key:"getMarkerAngles",value:function(){for(var e=this.angles,r=e.length,t=0;t<r;t++)if(!e[t]){for(var u=t+1;u<r;u++)if(e[u]){e[t]=e[u];break}}return e}}]),a}();function _p(a){return function(){var i=(0,S.default)(a),e;if(Rp()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function Rp(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Pe=function(a){(0,D.default)(e,a);var i=_p(e);function e(r,t,u){var n;return(0,A.default)(this,e),n=i.call(this,r,t,u),n.type="path",n.pathParser=null,n.pathParser=new kp(n.getAttribute("d").getString()),n}return(0,M.default)(e,[{key:"path",value:function(t){var u=this.pathParser,n=new ce;for(u.reset(),t&&t.beginPath();!u.isEnd();)switch(u.nextCommand(),u.command){case"M":case"m":this.pathM(t,n);break;case"L":case"l":this.pathL(t,n);break;case"H":case"h":this.pathH(t,n);break;case"V":case"v":this.pathV(t,n);break;case"C":case"c":this.pathC(t,n);break;case"S":case"s":this.pathS(t,n);break;case"Q":case"q":this.pathQ(t,n);break;case"T":case"t":this.pathT(t,n);break;case"A":case"a":this.pathA(t,n);break;case"Z":case"z":this.pathZ(t,n);break}return n}},{key:"getBoundingBox",value:function(t){return this.path()}},{key:"getMarkers",value:function(){var t=this.pathParser,u=t.getMarkerPoints(),n=t.getMarkerAngles(),s=u.map(function(o,l){return[o,n[l]]});return s}},{key:"renderChildren",value:function(t){this.path(t),this.document.screen.mouse.checkPath(this,t);var u=this.getStyle("fill-rule");t.fillStyle!==""&&(u.getString("inherit")!=="inherit"?t.fill(u.getString()):t.fill()),t.strokeStyle!==""&&t.stroke();var n=this.getMarkers();if(n){var s=n.length-1,o=this.getStyle("marker-start"),l=this.getStyle("marker-mid"),f=this.getStyle("marker-end");if(o.isUrlDefinition()){var c=o.getDefinition(),h=(0,H.default)(n[0],2),v=h[0],y=h[1];c.render(t,v,y)}if(l.isUrlDefinition())for(var m=l.getDefinition(),b=1;b<s;b++){var x=(0,H.default)(n[b],2),P=x[0],k=x[1];m.render(t,P,k)}if(f.isUrlDefinition()){var _=f.getDefinition(),q=(0,H.default)(n[s],2),N=q[0],V=q[1];_.render(t,N,V)}}}},{key:"pathM",value:function(t,u){var n=this.pathParser,s=n.getAsCurrentPoint(),o=s.x,l=s.y;for(n.addMarker(s),u.addPoint(o,l),t&&t.moveTo(o,l),n.start=n.current;!n.isCommandOrEnd();){var f=n.getAsCurrentPoint(),c=f.x,h=f.y;n.addMarker(f,n.start),u.addPoint(c,h),t&&t.lineTo(c,h)}}},{key:"pathL",value:function(t,u){for(var n=this.pathParser;!n.isCommandOrEnd();){var s=n.current,o=n.getAsCurrentPoint(),l=o.x,f=o.y;n.addMarker(o,s),u.addPoint(l,f),t&&t.lineTo(l,f)}}},{key:"pathH",value:function(t,u){for(var n=this.pathParser;!n.isCommandOrEnd();){var s=n.current,o=new Y((n.isRelativeCommand()?s.x:0)+n.getScalar(),s.y);n.addMarker(o,s),n.current=o,u.addPoint(o.x,o.y),t&&t.lineTo(o.x,o.y)}}},{key:"pathV",value:function(t,u){for(var n=this.pathParser;!n.isCommandOrEnd();){var s=n.current,o=new Y(s.x,(n.isRelativeCommand()?s.y:0)+n.getScalar());n.addMarker(o,s),n.current=o,u.addPoint(o.x,o.y),t&&t.lineTo(o.x,o.y)}}},{key:"pathC",value:function(t,u){for(var n=this.pathParser;!n.isCommandOrEnd();){var s=n.current,o=n.getPoint(),l=n.getAsControlPoint(),f=n.getAsCurrentPoint();n.addMarker(f,l,o),u.addBezierCurve(s.x,s.y,o.x,o.y,l.x,l.y,f.x,f.y),t&&t.bezierCurveTo(o.x,o.y,l.x,l.y,f.x,f.y)}}},{key:"pathS",value:function(t,u){for(var n=this.pathParser;!n.isCommandOrEnd();){var s=n.current,o=n.getReflectedControlPoint(),l=n.getAsControlPoint(),f=n.getAsCurrentPoint();n.addMarker(f,l,o),u.addBezierCurve(s.x,s.y,o.x,o.y,l.x,l.y,f.x,f.y),t&&t.bezierCurveTo(o.x,o.y,l.x,l.y,f.x,f.y)}}},{key:"pathQ",value:function(t,u){for(var n=this.pathParser;!n.isCommandOrEnd();){var s=n.current,o=n.getAsControlPoint(),l=n.getAsCurrentPoint();n.addMarker(l,o,o),u.addQuadraticCurve(s.x,s.y,o.x,o.y,l.x,l.y),t&&t.quadraticCurveTo(o.x,o.y,l.x,l.y)}}},{key:"pathT",value:function(t,u){for(var n=this.pathParser;!n.isCommandOrEnd();){var s=n.current,o=n.getReflectedControlPoint();n.control=o;var l=n.getAsCurrentPoint();n.addMarker(l,o,o),u.addQuadraticCurve(s.x,s.y,o.x,o.y,l.x,l.y),t&&t.quadraticCurveTo(o.x,o.y,l.x,l.y)}}},{key:"pathA",value:function(t,u){for(var n=this.pathParser;!n.isCommandOrEnd();){var s=n.current,o=n.getScalar(),l=n.getScalar(),f=n.getScalar()*(Math.PI/180),c=n.getScalar(),h=n.getScalar(),v=n.getAsCurrentPoint(),y=new Y(Math.cos(f)*(s.x-v.x)/2+Math.sin(f)*(s.y-v.y)/2,-Math.sin(f)*(s.x-v.x)/2+Math.cos(f)*(s.y-v.y)/2),m=Math.pow(y.x,2)/Math.pow(o,2)+Math.pow(y.y,2)/Math.pow(l,2);m>1&&(o*=Math.sqrt(m),l*=Math.sqrt(m));var b=(c===h?-1:1)*Math.sqrt((Math.pow(o,2)*Math.pow(l,2)-Math.pow(o,2)*Math.pow(y.y,2)-Math.pow(l,2)*Math.pow(y.x,2))/(Math.pow(o,2)*Math.pow(y.y,2)+Math.pow(l,2)*Math.pow(y.x,2)));isNaN(b)&&(b=0);var x=new Y(b*o*y.y/l,b*-l*y.x/o),P=new Y((s.x+v.x)/2+Math.cos(f)*x.x-Math.sin(f)*x.y,(s.y+v.y)/2+Math.sin(f)*x.x+Math.cos(f)*x.y),k=rr([1,0],[(y.x-x.x)/o,(y.y-x.y)/l]),_=[(y.x-x.x)/o,(y.y-x.y)/l],q=[(-y.x-x.x)/o,(-y.y-x.y)/l],N=rr(_,q);Et(_,q)<=-1&&(N=Math.PI),Et(_,q)>=1&&(N=0);var V=1-h?1:-1,F=k+V*(N/2),W=new Y(P.x+o*Math.cos(F),P.y+l*Math.sin(F));if(n.addMarkerAngle(W,F-V*Math.PI/2),n.addMarkerAngle(v,F-V*Math.PI),u.addPoint(v.x,v.y),t&&!isNaN(k)&&!isNaN(N)){var z=o>l?o:l,U=o>l?1:o/l,J=o>l?l/o:1;t.translate(P.x,P.y),t.rotate(f),t.scale(U,J),t.arc(0,0,z,k,k+N,!!(1-h)),t.scale(1/U,1/J),t.rotate(-f),t.translate(-P.x,-P.y)}}}},{key:"pathZ",value:function(t,u){var n=this.pathParser;t&&u.x1!==u.x2&&u.y1!==u.y2&&t.closePath(),n.current=n.start}}]),e}(Ie);function Ep(a){return function(){var i=(0,S.default)(a),e;if(Pp()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function Pp(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Ct=function(a){(0,D.default)(e,a);var i=Ep(e);function e(){var r;return(0,A.default)(this,e),r=i.apply(this,arguments),r.type="svg",r.root=!1,r}return(0,M.default)(e,[{key:"clearContext",value:function(t){(0,Ee.default)((0,S.default)(e.prototype),"clearContext",this).call(this,t),this.document.screen.viewPort.removeCurrent()}},{key:"setContext",value:function(t){var u=this.document,n=u.screen,s=u.window,o=t.canvas;if(n.setDefaults(t),o.style&&typeof t.font<"u"&&s&&typeof s.getComputedStyle<"u"){t.font=s.getComputedStyle(o).getPropertyValue("font");var l=new I(u,"fontSize",we.parse(t.font).fontSize);l.hasValue()&&(u.rootEmSize=l.getPixels("y"),u.emSize=u.rootEmSize)}(0,Ee.default)((0,S.default)(e.prototype),"setContext",this).call(this,t),this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0),t.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y"));var f=n.viewPort,c=f.width,h=f.height;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var v=this.getAttribute("refX"),y=this.getAttribute("refY"),m=this.getAttribute("viewBox"),b=m.hasValue()?ae(m.getString()):null,x=!this.root&&this.getAttribute("overflow").getValue("hidden")!=="visible",P=0,k=0,_=0,q=0;b&&(P=b[0],k=b[1]),this.root||(c=this.getStyle("width").getPixels("x"),h=this.getStyle("height").getPixels("y"),this.type==="marker"&&(_=P,q=k,P=0,k=0)),n.viewPort.setCurrent(c,h),b&&(c=b[2],h=b[3]),u.setViewBox({ctx:t,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:n.viewPort.width,desiredWidth:c,height:n.viewPort.height,desiredHeight:h,minX:P,minY:k,refX:v.getValue(),refY:y.getValue(),clip:x,clipX:_,clipY:q}),b&&(n.viewPort.removeCurrent(),n.viewPort.setCurrent(c,h))}},{key:"resize",value:function(t){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=this.getAttribute("width",!0),o=this.getAttribute("height",!0),l=this.getAttribute("viewBox"),f=this.getAttribute("style"),c=s.getNumber(0),h=o.getNumber(0);if(n)if(typeof n=="string")this.getAttribute("preserveAspectRatio",!0).setValue(n);else{var v=this.getAttribute("preserveAspectRatio");v.hasValue()&&v.setValue(v.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(s.setValue(t),o.setValue(u),l.hasValue()||l.setValue("0 0 ".concat(c||t," ").concat(h||u)),f.hasValue()){var y=this.getStyle("width"),m=this.getStyle("height");y.hasValue()&&y.setValue("".concat(t,"px")),m.hasValue()&&m.setValue("".concat(u,"px"))}}}]),e}(Ie);function Cp(a){return function(){var i=(0,S.default)(a),e;if(Ap()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function Ap(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Ps=function(a){(0,D.default)(e,a);var i=Cp(e);function e(){var r;return(0,A.default)(this,e),r=i.apply(this,arguments),r.type="rect",r}return(0,M.default)(e,[{key:"path",value:function(t){var u=this.getAttribute("x").getPixels("x"),n=this.getAttribute("y").getPixels("y"),s=this.getStyle("width").getPixels("x"),o=this.getStyle("height").getPixels("y"),l=this.getAttribute("rx"),f=this.getAttribute("ry"),c=l.getPixels("x"),h=f.getPixels("y");if(l.hasValue()&&!f.hasValue()&&(h=c),f.hasValue()&&!l.hasValue()&&(c=h),c=Math.min(c,s/2),h=Math.min(h,o/2),t){var v=4*((Math.sqrt(2)-1)/3);t.beginPath(),o>0&&s>0&&(t.moveTo(u+c,n),t.lineTo(u+s-c,n),t.bezierCurveTo(u+s-c+v*c,n,u+s,n+h-v*h,u+s,n+h),t.lineTo(u+s,n+o-h),t.bezierCurveTo(u+s,n+o-h+v*h,u+s-c+v*c,n+o,u+s-c,n+o),t.lineTo(u+c,n+o),t.bezierCurveTo(u+c-v*c,n+o,u,n+o-h+v*h,u,n+o-h),t.lineTo(u,n+h),t.bezierCurveTo(u,n+h-v*h,u+c-v*c,n,u+c,n),t.closePath())}return new ce(u,n,u+s,n+o)}},{key:"getMarkers",value:function(){return null}}]),e}(Pe);function qp(a){return function(){var i=(0,S.default)(a),e;if(Op()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function Op(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Mp=function(a){(0,D.default)(e,a);var i=qp(e);function e(){var r;return(0,A.default)(this,e),r=i.apply(this,arguments),r.type="circle",r}return(0,M.default)(e,[{key:"path",value:function(t){var u=this.getAttribute("cx").getPixels("x"),n=this.getAttribute("cy").getPixels("y"),s=this.getAttribute("r").getPixels();return t&&s>0&&(t.beginPath(),t.arc(u,n,s,0,Math.PI*2,!1),t.closePath()),new ce(u-s,n-s,u+s,n+s)}},{key:"getMarkers",value:function(){return null}}]),e}(Pe);function Tp(a){return function(){var i=(0,S.default)(a),e;if(Dp()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function Dp(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Ip=function(a){(0,D.default)(e,a);var i=Tp(e);function e(){var r;return(0,A.default)(this,e),r=i.apply(this,arguments),r.type="ellipse",r}return(0,M.default)(e,[{key:"path",value:function(t){var u=4*((Math.sqrt(2)-1)/3),n=this.getAttribute("rx").getPixels("x"),s=this.getAttribute("ry").getPixels("y"),o=this.getAttribute("cx").getPixels("x"),l=this.getAttribute("cy").getPixels("y");return t&&n>0&&s>0&&(t.beginPath(),t.moveTo(o+n,l),t.bezierCurveTo(o+n,l+u*s,o+u*n,l+s,o,l+s),t.bezierCurveTo(o-u*n,l+s,o-n,l+u*s,o-n,l),t.bezierCurveTo(o-n,l-u*s,o-u*n,l-s,o,l-s),t.bezierCurveTo(o+u*n,l-s,o+n,l-u*s,o+n,l),t.closePath()),new ce(o-n,l-s,o+n,l+s)}},{key:"getMarkers",value:function(){return null}}]),e}(Pe);function $p(a){return function(){var i=(0,S.default)(a),e;if(Np()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function Np(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Vp=function(a){(0,D.default)(e,a);var i=$p(e);function e(){var r;return(0,A.default)(this,e),r=i.apply(this,arguments),r.type="line",r}return(0,M.default)(e,[{key:"getPoints",value:function(){return[new Y(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new Y(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}},{key:"path",value:function(t){var u=this.getPoints(),n=(0,H.default)(u,2),s=n[0],o=s.x,l=s.y,f=n[1],c=f.x,h=f.y;return t&&(t.beginPath(),t.moveTo(o,l),t.lineTo(c,h)),new ce(o,l,c,h)}},{key:"getMarkers",value:function(){var t=this.getPoints(),u=(0,H.default)(t,2),n=u[0],s=u[1],o=n.angleTo(s);return[[n,o],[s,o]]}}]),e}(Pe);function Lp(a){return function(){var i=(0,S.default)(a),e;if(Bp()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function Bp(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Cs=function(a){(0,D.default)(e,a);var i=Lp(e);function e(r,t,u){var n;return(0,A.default)(this,e),n=i.call(this,r,t,u),n.type="polyline",n.points=[],n.points=Y.parsePath(n.getAttribute("points").getString()),n}return(0,M.default)(e,[{key:"path",value:function(t){var u=this.points,n=(0,H.default)(u,1),s=n[0],o=s.x,l=s.y,f=new ce(o,l);return t&&(t.beginPath(),t.moveTo(o,l)),u.forEach(function(c){var h=c.x,v=c.y;f.addPoint(h,v),t&&t.lineTo(h,v)}),f}},{key:"getMarkers",value:function(){var t=this.points,u=t.length-1,n=[];return t.forEach(function(s,o){o!==u&&n.push([s,s.angleTo(t[o+1])])}),n.length>0&&n.push([t[t.length-1],n[n.length-1][1]]),n}}]),e}(Pe);function Fp(a){return function(){var i=(0,S.default)(a),e;if(zp()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function zp(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var jp=function(a){(0,D.default)(e,a);var i=Fp(e);function e(){var r;return(0,A.default)(this,e),r=i.apply(this,arguments),r.type="polygon",r}return(0,M.default)(e,[{key:"path",value:function(t){var u=(0,Ee.default)((0,S.default)(e.prototype),"path",this).call(this,t),n=(0,H.default)(this.points,1),s=n[0],o=s.x,l=s.y;return t&&(t.lineTo(o,l),t.closePath()),u}}]),e}(Cs);function Gp(a){return function(){var i=(0,S.default)(a),e;if(Hp()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function Hp(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Wp=function(a){(0,D.default)(e,a);var i=Gp(e);function e(){var r;return(0,A.default)(this,e),r=i.apply(this,arguments),r.type="pattern",r}return(0,M.default)(e,[{key:"createPattern",value:function(t,u,n){var s=this.getStyle("width").getPixels("x",!0),o=this.getStyle("height").getPixels("y",!0),l=new Ct(this.document,null);l.attributes.viewBox=new I(this.document,"viewBox",this.getAttribute("viewBox").getValue()),l.attributes.width=new I(this.document,"width","".concat(s,"px")),l.attributes.height=new I(this.document,"height","".concat(o,"px")),l.attributes.transform=new I(this.document,"transform",this.getAttribute("patternTransform").getValue()),l.children=this.children;var f=this.document.createCanvas(s,o),c=f.getContext("2d"),h=this.getAttribute("x"),v=this.getAttribute("y");h.hasValue()&&v.hasValue()&&c.translate(h.getPixels("x",!0),v.getPixels("y",!0)),n.hasValue()?this.styles["fill-opacity"]=n:Reflect.deleteProperty(this.styles,"fill-opacity");for(var y=-1;y<=1;y++)for(var m=-1;m<=1;m++)c.save(),l.attributes.x=new I(this.document,"x",y*f.width),l.attributes.y=new I(this.document,"y",m*f.height),l.render(c),c.restore();var b=t.createPattern(f,"repeat");return b}}]),e}(Q);function Up(a){return function(){var i=(0,S.default)(a),e;if(Xp()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function Xp(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Yp=function(a){(0,D.default)(e,a);var i=Up(e);function e(){var r;return(0,A.default)(this,e),r=i.apply(this,arguments),r.type="marker",r}return(0,M.default)(e,[{key:"render",value:function(t,u,n){if(u){var s=u.x,o=u.y,l=this.getAttribute("orient").getValue("auto"),f=this.getAttribute("markerUnits").getValue("strokeWidth");t.translate(s,o),l==="auto"&&t.rotate(n),f==="strokeWidth"&&t.scale(t.lineWidth,t.lineWidth),t.save();var c=new Ct(this.document,null);c.type=this.type,c.attributes.viewBox=new I(this.document,"viewBox",this.getAttribute("viewBox").getValue()),c.attributes.refX=new I(this.document,"refX",this.getAttribute("refX").getValue()),c.attributes.refY=new I(this.document,"refY",this.getAttribute("refY").getValue()),c.attributes.width=new I(this.document,"width",this.getAttribute("markerWidth").getValue()),c.attributes.height=new I(this.document,"height",this.getAttribute("markerHeight").getValue()),c.attributes.overflow=new I(this.document,"overflow",this.getAttribute("overflow").getValue()),c.attributes.fill=new I(this.document,"fill",this.getAttribute("fill").getColor("black")),c.attributes.stroke=new I(this.document,"stroke",this.getAttribute("stroke").getValue("none")),c.children=this.children,c.render(t),t.restore(),f==="strokeWidth"&&t.scale(1/t.lineWidth,1/t.lineWidth),l==="auto"&&t.rotate(-n),t.translate(-s,-o)}}}]),e}(Q);function Qp(a){return function(){var i=(0,S.default)(a),e;if(Kp()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function Kp(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Zp=function(a){(0,D.default)(e,a);var i=Qp(e);function e(){var r;return(0,A.default)(this,e),r=i.apply(this,arguments),r.type="defs",r}return(0,M.default)(e,[{key:"render",value:function(){}}]),e}(Q);function Jp(a){return function(){var i=(0,S.default)(a),e;if(ey()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function ey(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var ln=function(a){(0,D.default)(e,a);var i=Jp(e);function e(){var r;return(0,A.default)(this,e),r=i.apply(this,arguments),r.type="g",r}return(0,M.default)(e,[{key:"getBoundingBox",value:function(t){var u=new ce;return this.children.forEach(function(n){u.addBoundingBox(n.getBoundingBox(t))}),u}}]),e}(Ie);function ty(a){return function(){var i=(0,S.default)(a),e;if(ry()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function ry(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var As=function(a){(0,D.default)(e,a);var i=ty(e);function e(r,t,u){var n;(0,A.default)(this,e),n=i.call(this,r,t,u),n.attributesToInherit=["gradientUnits"],n.stops=[];var s=(0,He.default)(n),o=s.stops,l=s.children;return l.forEach(function(f){f.type==="stop"&&o.push(f)}),n}return(0,M.default)(e,[{key:"getGradientUnits",value:function(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}},{key:"createGradient",value:function(t,u,n){var s=this,o=this;this.getHrefAttribute().hasValue()&&(o=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(o));var l=o,f=l.stops,c=this.getGradient(t,u);if(!c)return this.addParentOpacity(n,f[f.length-1].color);if(f.forEach(function(V){c.addColorStop(V.offset,s.addParentOpacity(n,V.color))}),this.getAttribute("gradientTransform").hasValue()){var h=this.document,v=h.screen,y=v.MAX_VIRTUAL_PIXELS,m=v.viewPort,b=(0,H.default)(m.viewPorts,1),x=b[0],P=new Ps(h,null);P.attributes.x=new I(h,"x",-y/3),P.attributes.y=new I(h,"y",-y/3),P.attributes.width=new I(h,"width",y),P.attributes.height=new I(h,"height",y);var k=new ln(h,null);k.attributes.transform=new I(h,"transform",this.getAttribute("gradientTransform").getValue()),k.children=[P];var _=new Ct(h,null);_.attributes.x=new I(h,"x",0),_.attributes.y=new I(h,"y",0),_.attributes.width=new I(h,"width",x.width),_.attributes.height=new I(h,"height",x.height),_.children=[k];var q=h.createCanvas(x.width,x.height),N=q.getContext("2d");return N.fillStyle=c,_.render(N),N.createPattern(q,"no-repeat")}return c}},{key:"inheritStopContainer",value:function(t){var u=this;this.attributesToInherit.forEach(function(n){!u.getAttribute(n).hasValue()&&t.getAttribute(n).hasValue()&&u.getAttribute(n,!0).setValue(t.getAttribute(n).getValue())})}},{key:"addParentOpacity",value:function(t,u){if(t.hasValue()){var n=new I(this.document,"color",u);return n.addOpacity(t).getColor()}return u}}]),e}(Q);function ny(a){return function(){var i=(0,S.default)(a),e;if(iy()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function iy(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var ay=function(a){(0,D.default)(e,a);var i=ny(e);function e(r,t,u){var n;return(0,A.default)(this,e),n=i.call(this,r,t,u),n.type="linearGradient",n.attributesToInherit.push("x1","y1","x2","y2"),n}return(0,M.default)(e,[{key:"getGradient",value:function(t,u){var n=this.getGradientUnits()==="objectBoundingBox",s=n?u.getBoundingBox(t):null;if(n&&!s)return null;!this.getAttribute("x1").hasValue()&&!this.getAttribute("y1").hasValue()&&!this.getAttribute("x2").hasValue()&&!this.getAttribute("y2").hasValue()&&(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var o=n?s.x+s.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),l=n?s.y+s.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),f=n?s.x+s.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),c=n?s.y+s.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return o===f&&l===c?null:t.createLinearGradient(o,l,f,c)}}]),e}(As);function uy(a){return function(){var i=(0,S.default)(a),e;if(sy()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function sy(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var oy=function(a){(0,D.default)(e,a);var i=uy(e);function e(r,t,u){var n;return(0,A.default)(this,e),n=i.call(this,r,t,u),n.type="radialGradient",n.attributesToInherit.push("cx","cy","r","fx","fy","fr"),n}return(0,M.default)(e,[{key:"getGradient",value:function(t,u){var n=this.getGradientUnits()==="objectBoundingBox",s=u.getBoundingBox(t);if(n&&!s)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var o=n?s.x+s.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),l=n?s.y+s.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),f=o,c=l;this.getAttribute("fx").hasValue()&&(f=n?s.x+s.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(c=n?s.y+s.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var h=n?(s.width+s.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),v=this.getAttribute("fr").getPixels();return t.createRadialGradient(f,c,v,o,l,h)}}]),e}(As);function ly(a){return function(){var i=(0,S.default)(a),e;if(fy()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function fy(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var cy=function(a){(0,D.default)(e,a);var i=ly(e);function e(r,t,u){var n;(0,A.default)(this,e),n=i.call(this,r,t,u),n.type="stop";var s=Math.max(0,Math.min(1,n.getAttribute("offset").getNumber())),o=n.getStyle("stop-opacity"),l=n.getStyle("stop-color",!0);return l.getString()===""&&l.setValue("#000"),o.hasValue()&&(l=l.addOpacity(o)),n.offset=s,n.color=l.getColor(),n}return e}(Q);function hy(a){return function(){var i=(0,S.default)(a),e;if(vy()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function vy(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var fn=function(a){(0,D.default)(e,a);var i=hy(e);function e(r,t,u){var n;return(0,A.default)(this,e),n=i.call(this,r,t,u),n.type="animate",n.duration=0,n.initialValue=null,n.initialUnits="",n.removed=!1,n.frozen=!1,r.screen.animations.push((0,He.default)(n)),n.begin=n.getAttribute("begin").getMilliseconds(),n.maxDuration=n.begin+n.getAttribute("dur").getMilliseconds(),n.from=n.getAttribute("from"),n.to=n.getAttribute("to"),n.values=n.getAttribute("values"),n.values.hasValue()&&n.values.setValue(n.values.getString().split(";")),n}return(0,M.default)(e,[{key:"getProperty",value:function(){var t=this.getAttribute("attributeType").getString(),u=this.getAttribute("attributeName").getString();return t==="CSS"?this.parent.getStyle(u,!0):this.parent.getAttribute(u,!0)}},{key:"calcValue",value:function(){var t=this.initialUnits,u=this.getProgress(),n=u.progress,s=u.from,o=u.to,l=s.getNumber()+(o.getNumber()-s.getNumber())*n;return t==="%"&&(l*=100),"".concat(l).concat(t)}},{key:"update",value:function(t){var u=this.parent,n=this.getProperty();if(this.initialValue||(this.initialValue=n.getString(),this.initialUnits=n.getUnits()),this.duration>this.maxDuration){var s=this.getAttribute("fill").getString("remove");if(this.getAttribute("repeatCount").getString()==="indefinite"||this.getAttribute("repeatDur").getString()==="indefinite")this.duration=0;else if(s==="freeze"&&!this.frozen)this.frozen=!0,u.animationFrozen=!0,u.animationFrozenValue=n.getString();else if(s==="remove"&&!this.removed)return this.removed=!0,n.setValue(u.animationFrozen?u.animationFrozenValue:this.initialValue),!0;return!1}this.duration+=t;var o=!1;if(this.begin<this.duration){var l=this.calcValue(),f=this.getAttribute("type");if(f.hasValue()){var c=f.getString();l="".concat(c,"(").concat(l,")")}n.setValue(l),o=!0}return o}},{key:"getProgress",value:function(){var t=this.document,u=this.values,n={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(u.hasValue()){var s=n.progress*(u.getValue().length-1),o=Math.floor(s),l=Math.ceil(s);n.from=new I(t,"from",parseFloat(u.getValue()[o])),n.to=new I(t,"to",parseFloat(u.getValue()[l])),n.progress=(s-o)/(l-o)}else n.from=this.from,n.to=this.to;return n}}]),e}(Q);function gy(a){return function(){var i=(0,S.default)(a),e;if(py()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function py(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var yy=function(a){(0,D.default)(e,a);var i=gy(e);function e(){var r;return(0,A.default)(this,e),r=i.apply(this,arguments),r.type="animateColor",r}return(0,M.default)(e,[{key:"calcValue",value:function(){var t=this.getProgress(),u=t.progress,n=t.from,s=t.to,o=new tr.default(n.getColor()),l=new tr.default(s.getColor());if(o.ok&&l.ok){var f=o.r+(l.r-o.r)*u,c=o.g+(l.g-o.g)*u,h=o.b+(l.b-o.b)*u;return"rgb(".concat(parseInt(f,10),", ").concat(parseInt(c,10),", ").concat(parseInt(h,10),")")}return this.getAttribute("from").getColor()}}]),e}(fn);function dy(a){return function(){var i=(0,S.default)(a),e;if(my()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function my(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var by=function(a){(0,D.default)(e,a);var i=dy(e);function e(){var r;return(0,A.default)(this,e),r=i.apply(this,arguments),r.type="animateTransform",r}return(0,M.default)(e,[{key:"calcValue",value:function(){var t=this.getProgress(),u=t.progress,n=t.from,s=t.to,o=ae(n.getString()),l=ae(s.getString()),f=o.map(function(c,h){var v=l[h];return c+(v-c)*u}).join(" ");return f}}]),e}(fn);function Sy(a){if(typeof Symbol>"u"||a[Symbol.iterator]==null){if(Array.isArray(a)||(a=wy(a))){var i=0,e=function(){};return{s:e,n:function(){return i>=a.length?{done:!0}:{done:!1,value:a[i++]}},e:function(o){throw o},f:e}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var r,t=!0,u=!1,n;return{s:function(){r=a[Symbol.iterator]()},n:function(){var o=r.next();return t=o.done,o},e:function(o){u=!0,n=o},f:function(){try{!t&&r.return!=null&&r.return()}finally{if(u)throw n}}}}function wy(a,i){if(a){if(typeof a=="string")return ps(a,i);var e=Object.prototype.toString.call(a).slice(8,-1);if(e==="Object"&&a.constructor&&(e=a.constructor.name),e==="Map"||e==="Set")return Array.from(e);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return ps(a,i)}}function ps(a,i){(i==null||i>a.length)&&(i=a.length);for(var e=0,r=new Array(i);e<i;e++)r[e]=a[e];return r}function xy(a){return function(){var i=(0,S.default)(a),e;if(ky()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function ky(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var _y=function(a){(0,D.default)(e,a);var i=xy(e);function e(r,t,u){var n;(0,A.default)(this,e),n=i.call(this,r,t,u),n.type="font",n.glyphs={},n.horizAdvX=n.getAttribute("horiz-adv-x").getNumber();var s=r.definitions,o=(0,He.default)(n),l=o.children,f=Sy(l),c;try{for(f.s();!(c=f.n()).done;){var h=c.value;switch(h.type){case"font-face":{n.fontFace=h;var v=h.getStyle("font-family");v.hasValue()&&(s[v.getString()]=(0,He.default)(n));break}case"missing-glyph":n.missingGlyph=h;break;case"glyph":{var y=h;y.arabicForm?(n.isRTL=!0,n.isArabic=!0,typeof n.glyphs[y.unicode]>"u"&&(n.glyphs[y.unicode]={}),n.glyphs[y.unicode][y.arabicForm]=y):n.glyphs[y.unicode]=y;break}default:}}}catch(m){f.e(m)}finally{f.f()}return n}return(0,M.default)(e,[{key:"render",value:function(){}}]),e}(Q);function Ry(a){return function(){var i=(0,S.default)(a),e;if(Ey()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function Ey(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Py=function(a){(0,D.default)(e,a);var i=Ry(e);function e(r,t,u){var n;return(0,A.default)(this,e),n=i.call(this,r,t,u),n.type="font-face",n.ascent=n.getAttribute("ascent").getNumber(),n.descent=n.getAttribute("descent").getNumber(),n.unitsPerEm=n.getAttribute("units-per-em").getNumber(),n}return e}(Q);function Cy(a){return function(){var i=(0,S.default)(a),e;if(Ay()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function Ay(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var qy=function(a){(0,D.default)(e,a);var i=Cy(e);function e(){var r;return(0,A.default)(this,e),r=i.apply(this,arguments),r.type="missing-glyph",r.horizAdvX=0,r}return e}(Pe);function Oy(a){return function(){var i=(0,S.default)(a),e;if(My()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function My(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Ty=function(a){(0,D.default)(e,a);var i=Oy(e);function e(r,t,u){var n;return(0,A.default)(this,e),n=i.call(this,r,t,u),n.type="glyph",n.horizAdvX=n.getAttribute("horiz-adv-x").getNumber(),n.unicode=n.getAttribute("unicode").getString(),n.arabicForm=n.getAttribute("arabic-form").getString(),n}return e}(Pe);function Dy(a){return function(){var i=(0,S.default)(a),e;if(Iy()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function Iy(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var $y=function(a){(0,D.default)(e,a);var i=Dy(e);function e(){var r;return(0,A.default)(this,e),r=i.apply(this,arguments),r.type="tref",r}return(0,M.default)(e,[{key:"getText",value:function(){var t=this.getHrefAttribute().getDefinition();if(t){var u=t.children[0];if(u)return u.getText()}return""}}]),e}(Pt);function Ny(a){return function(){var i=(0,S.default)(a),e;if(Vy()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function Vy(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Ly=function(a){(0,D.default)(e,a);var i=Ny(e);function e(r,t,u){var n;(0,A.default)(this,e),n=i.call(this,r,t,u),n.type="a";var s=t.childNodes,o=s[0],l=s.length>0&&Array.from(s).every(function(f){return f.nodeType===3});return n.hasText=l,n.text=l?n.getTextFromNode(o):"",n}return(0,M.default)(e,[{key:"getText",value:function(){return this.text}},{key:"renderChildren",value:function(t){if(this.hasText){(0,Ee.default)((0,S.default)(e.prototype),"renderChildren",this).call(this,t);var u=this.document,n=this.x,s=this.y,o=u.screen.mouse,l=new I(u,"fontSize",we.parse(u.ctx.font).fontSize);o.isWorking()&&o.checkBoundingBox(this,new ce(n,s-l.getPixels("y"),n+this.measureText(t),s))}else if(this.children.length>0){var f=new ln(this.document,null);f.children=this.children,f.parent=this,f.render(t)}}},{key:"onClick",value:function(){var t=this.document.window;t&&t.open(this.getHrefAttribute().getString())}},{key:"onMouseMove",value:function(){var t=this.document.ctx;t.canvas.style.cursor="pointer"}}]),e}(Pt);function By(a){if(typeof Symbol>"u"||a[Symbol.iterator]==null){if(Array.isArray(a)||(a=Fy(a))){var i=0,e=function(){};return{s:e,n:function(){return i>=a.length?{done:!0}:{done:!1,value:a[i++]}},e:function(o){throw o},f:e}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var r,t=!0,u=!1,n;return{s:function(){r=a[Symbol.iterator]()},n:function(){var o=r.next();return t=o.done,o},e:function(o){u=!0,n=o},f:function(){try{!t&&r.return!=null&&r.return()}finally{if(u)throw n}}}}function Fy(a,i){if(a){if(typeof a=="string")return ys(a,i);var e=Object.prototype.toString.call(a).slice(8,-1);if(e==="Object"&&a.constructor&&(e=a.constructor.name),e==="Map"||e==="Set")return Array.from(e);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return ys(a,i)}}function ys(a,i){(i==null||i>a.length)&&(i=a.length);for(var e=0,r=new Array(i);e<i;e++)r[e]=a[e];return r}function zy(a){return function(){var i=(0,S.default)(a),e;if(jy()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function jy(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Gy=function(a){(0,D.default)(e,a);var i=zy(e);function e(r,t,u){var n;(0,A.default)(this,e),n=i.call(this,r,t,u),n.type="textPath",n.textWidth=0,n.textHeight=0,n.pathLength=-1,n.glyphInfo=null,n.letterSpacingCache=[],n.measuresCache=new Map([["",0]]);var s=n.getHrefAttribute().getDefinition();return n.text=n.getTextFromNode(),n.dataArray=n.parsePathData(s),n}return(0,M.default)(e,[{key:"getText",value:function(){return this.text}},{key:"path",value:function(t){var u=this.dataArray;t&&t.beginPath(),u.forEach(function(n){var s=n.command,o=n.points;switch(s){case"L":t&&t.lineTo(o[0],o[1]);break;case"M":t&&t.moveTo(o[0],o[1]);break;case"C":t&&t.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"Q":t&&t.quadraticCurveTo(o[0],o[1],o[2],o[3]);break;case"A":{var l=o[0],f=o[1],c=o[2],h=o[3],v=o[4],y=o[5],m=o[6],b=o[7],x=c>h?c:h,P=c>h?1:c/h,k=c>h?h/c:1;t&&(t.translate(l,f),t.rotate(m),t.scale(P,k),t.arc(0,0,x,v,v+y,!!(1-b)),t.scale(1/P,1/k),t.rotate(-m),t.translate(-l,-f));break}case"z":t&&t.closePath();break}})}},{key:"renderChildren",value:function(t){this.setTextData(t),t.save();var u=this.parent.getStyle("text-decoration").getString(),n=this.getFontSize(),s=this.glyphInfo,o=t.fillStyle;u==="underline"&&t.beginPath(),s.forEach(function(l,f){var c=l.p0,h=l.p1,v=l.text;t.save(),t.translate(c.x,c.y),t.rotate(s[f].rotation),t.fillStyle&&t.fillText(v,0,0),t.strokeStyle&&t.strokeText(v,0,0),t.restore(),u==="underline"&&(f===0&&t.moveTo(c.x,c.y+n/8),t.lineTo(h.x,h.y+n/5))}),u==="underline"&&(t.lineWidth=n/20,t.strokeStyle=o,t.stroke(),t.closePath()),t.restore()}},{key:"getLetterSpacingAt",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.letterSpacingCache[t]||0}},{key:"findSegmentToFitChar",value:function(t,u,n,s,o,l,f,c){var h=l,v=this.measureText(t,f);f===" "&&u==="justify"&&n<s&&(v+=(s-n)/o),c>-1&&(h+=this.getLetterSpacingAt(c));var y=this.textHeight/20,m={p0:this.getEquidistantPointOnPath(h,y),p1:this.getEquidistantPointOnPath(h+v,y)};return h+=v,{offset:h,segment:m}}},{key:"measureText",value:function(t,u){var n=this.measuresCache,s=u||this.getText();if(n.has(s))return n.get(s);var o=this.measureTargetText(t,s);return n.set(s,o),o}},{key:"setTextData",value:function(t){var u=this;if(!this.glyphInfo){var n=this.getText(),s=n.split(""),o=n.split(" ").length-1,l=ae(this.parent.getAttribute("dx").getString("0")),f=this.parent.getStyle("text-anchor").getString("start"),c=this.getStyle("letter-spacing"),h=this.parent.getStyle("letter-spacing"),v=0;!c.hasValue()||c.getValue()==="inherit"?v=h.getPixels():c.hasValue()&&c.getValue()!=="initial"&&c.getValue()!=="unset"&&(v=c.getPixels());var y=[],m=n.length;this.letterSpacingCache=y;for(var b=0;b<m;b++)y.push(typeof l[b]<"u"?l[b]:v);var x=y.reduce(function(N,V){return N+V||0},0);this.textWidth=this.measureText(t),this.textHeight=this.getFontSize();var P=Math.max(this.textWidth+x,0);this.glyphInfo=[];var k=this.getPathLength(),_=this.getStyle("startOffset").getNumber(0)*k,q=0;(f==="middle"||f==="center")&&(q=-P/2),(f==="end"||f==="right")&&(q=-P),q+=_,s.forEach(function(N,V){var F=u.findSegmentToFitChar(t,f,P,k,o,q,N,V),W=F.offset,z=F.segment;if(q=W,!(!z.p0||!z.p1)){var U=u.getLineLength(z.p0.x,z.p0.y,z.p1.x,z.p1.y),J=0,te=u.getPointOnLine(J+U/2,z.p0.x,z.p0.y,z.p1.x,z.p1.y),K=Math.atan2(z.p1.y-z.p0.y,z.p1.x-z.p0.x);u.glyphInfo.push({transposeX:te.x,transposeY:te.y,text:s[V],p0:z.p0,p1:z.p1,rotation:K})}})}}},{key:"parsePathData",value:function(t){if(this.pathLength=-1,!t)return[];var u=[],n=t.pathParser;for(n.reset();!n.isEnd();){var s=n.current,o=s?s.x:0,l=s?s.y:0,f="",c=[];n.nextCommand();var h=n.command.toUpperCase();switch(n.command){case"M":case"m":f=this.pathM(n,c);break;case"L":case"l":f=this.pathL(n,c);break;case"H":case"h":f=this.pathH(n,c);break;case"V":case"v":f=this.pathV(n,c);break;case"C":case"c":this.pathC(n,c);break;case"S":case"s":f=this.pathS(n,c);break;case"Q":case"q":this.pathQ(n,c);break;case"T":case"t":f=this.pathT(n,c);break;case"A":case"a":c=this.pathA(n);break;case"Z":case"z":n.current=n.start;break}h!=="Z"?u.push({command:f||h,points:c,start:{x:o,y:l},pathLength:this.calcLength(o,l,f||h,c)}):u.push({command:"z",points:[],pathLength:0})}return u}},{key:"pathM",value:function(t,u){var n=t.getAsCurrentPoint();for(u.push(n.x,n.y),t.start=t.current;!t.isCommandOrEnd();){var s=t.getAsCurrentPoint();return u.push(s.x,s.y),"L"}}},{key:"pathL",value:function(t,u){for(;!t.isCommandOrEnd();){var n=t.getAsCurrentPoint();u.push(n.x,n.y)}return"L"}},{key:"pathH",value:function(t,u){for(;!t.isCommandOrEnd();){var n=t.current,s=new Y((t.isRelativeCommand()?n.x:0)+t.getScalar(),n.y);u.push(s.x,s.y),t.current=s}return"L"}},{key:"pathV",value:function(t,u){for(;!t.isCommandOrEnd();){var n=t.current,s=new Y(n.x,(t.isRelativeCommand()?n.y:0)+t.getScalar());u.push(s.x,s.y),t.current=s}return"L"}},{key:"pathC",value:function(t,u){for(;!t.isCommandOrEnd();){var n=t.getPoint(),s=t.getAsControlPoint(),o=t.getAsCurrentPoint();u.push(n.x,n.y,s.x,s.y,o.x,o.y)}}},{key:"pathS",value:function(t,u){for(;!t.isCommandOrEnd();){var n=t.getReflectedControlPoint(),s=t.getAsControlPoint(),o=t.getAsCurrentPoint();u.push(n.x,n.y,s.x,s.y,o.x,o.y)}return"C"}},{key:"pathQ",value:function(t,u){for(;!t.isCommandOrEnd();){var n=t.getAsControlPoint(),s=t.getAsCurrentPoint();u.push(n.x,n.y,s.x,s.y)}}},{key:"pathT",value:function(t,u){for(;!t.isCommandOrEnd();){var n=t.getReflectedControlPoint();t.control=n;var s=t.getAsCurrentPoint();u.push(n.x,n.y,s.x,s.y)}return"Q"}},{key:"pathA",value:function(t){for(;!t.isCommandOrEnd();){var u=t.current,n=t.getScalar(),s=t.getScalar(),o=t.getScalar()*(Math.PI/180),l=t.getScalar(),f=t.getScalar(),c=t.getAsCurrentPoint(),h=new Y(Math.cos(o)*(u.x-c.x)/2+Math.sin(o)*(u.y-c.y)/2,-Math.sin(o)*(u.x-c.x)/2+Math.cos(o)*(u.y-c.y)/2),v=Math.pow(h.x,2)/Math.pow(n,2)+Math.pow(h.y,2)/Math.pow(s,2);v>1&&(n*=Math.sqrt(v),s*=Math.sqrt(v));var y=(l===f?-1:1)*Math.sqrt((Math.pow(n,2)*Math.pow(s,2)-Math.pow(n,2)*Math.pow(h.y,2)-Math.pow(s,2)*Math.pow(h.x,2))/(Math.pow(n,2)*Math.pow(h.y,2)+Math.pow(s,2)*Math.pow(h.x,2)));isNaN(y)&&(y=0);var m=new Y(y*n*h.y/s,y*-s*h.x/n),b=new Y((u.x+c.x)/2+Math.cos(o)*m.x-Math.sin(o)*m.y,(u.y+c.y)/2+Math.sin(o)*m.x+Math.cos(o)*m.y),x=rr([1,0],[(h.x-m.x)/n,(h.y-m.y)/s]),P=[(h.x-m.x)/n,(h.y-m.y)/s],k=[(-h.x-m.x)/n,(-h.y-m.y)/s],_=rr(P,k);return Et(P,k)<=-1&&(_=Math.PI),Et(P,k)>=1&&(_=0),f===0&&_>0&&(_=_-2*Math.PI),f===1&&_<0&&(_=_+2*Math.PI),[b.x,b.y,n,s,x,_,o,f]}}},{key:"calcLength",value:function(t,u,n,s){var o=0,l=null,f=null,c=0;switch(n){case"L":return this.getLineLength(t,u,s[0],s[1]);case"C":for(o=0,l=this.getPointOnCubicBezier(0,t,u,s[0],s[1],s[2],s[3],s[4],s[5]),c=.01;c<=1;c+=.01)f=this.getPointOnCubicBezier(c,t,u,s[0],s[1],s[2],s[3],s[4],s[5]),o+=this.getLineLength(l.x,l.y,f.x,f.y),l=f;return o;case"Q":for(o=0,l=this.getPointOnQuadraticBezier(0,t,u,s[0],s[1],s[2],s[3]),c=.01;c<=1;c+=.01)f=this.getPointOnQuadraticBezier(c,t,u,s[0],s[1],s[2],s[3]),o+=this.getLineLength(l.x,l.y,f.x,f.y),l=f;return o;case"A":o=0;var h=s[4],v=s[5],y=s[4]+v,m=Math.PI/180;if(Math.abs(h-y)<m&&(m=Math.abs(h-y)),l=this.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],h,0),v<0)for(c=h-m;c>y;c-=m)f=this.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],c,0),o+=this.getLineLength(l.x,l.y,f.x,f.y),l=f;else for(c=h+m;c<y;c+=m)f=this.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],c,0),o+=this.getLineLength(l.x,l.y,f.x,f.y),l=f;return f=this.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],y,0),o+=this.getLineLength(l.x,l.y,f.x,f.y),o}return 0}},{key:"getPointOnLine",value:function(t,u,n,s,o){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:u,f=arguments.length>6&&arguments[6]!==void 0?arguments[6]:n,c=(o-n)/(s-u+Ge),h=Math.sqrt(t*t/(1+c*c));s<u&&(h*=-1);var v=c*h,y=null;if(s===u)y={x:l,y:f+v};else if((f-n)/(l-u+Ge)===c)y={x:l+h,y:f+v};else{var m=0,b=0,x=this.getLineLength(u,n,s,o);if(x<Ge)return null;var P=(l-u)*(s-u)+(f-n)*(o-n);P=P/(x*x),m=u+P*(s-u),b=n+P*(o-n);var k=this.getLineLength(l,f,m,b),_=Math.sqrt(t*t-k*k);h=Math.sqrt(_*_/(1+c*c)),s<u&&(h*=-1),v=c*h,y={x:m+h,y:b+v}}return y}},{key:"getPointOnPath",value:function(t){var u=this.getPathLength(),n=0,s=null;if(t<-5e-5||t-5e-5>u)return null;var o=this.dataArray,l=By(o),f;try{for(l.s();!(f=l.n()).done;){var c=f.value;if(c&&(c.pathLength<5e-5||n+c.pathLength+5e-5<t)){n+=c.pathLength;continue}var h=t-n,v=0;switch(c.command){case"L":s=this.getPointOnLine(h,c.start.x,c.start.y,c.points[0],c.points[1],c.start.x,c.start.y);break;case"A":var y=c.points[4],m=c.points[5],b=c.points[4]+m;if(v=y+h/c.pathLength*m,m<0&&v<b||m>=0&&v>b)break;s=this.getPointOnEllipticalArc(c.points[0],c.points[1],c.points[2],c.points[3],v,c.points[6]);break;case"C":v=h/c.pathLength,v>1&&(v=1),s=this.getPointOnCubicBezier(v,c.start.x,c.start.y,c.points[0],c.points[1],c.points[2],c.points[3],c.points[4],c.points[5]);break;case"Q":v=h/c.pathLength,v>1&&(v=1),s=this.getPointOnQuadraticBezier(v,c.start.x,c.start.y,c.points[0],c.points[1],c.points[2],c.points[3]);break;default:}if(s)return s;break}}catch(x){l.e(x)}finally{l.f()}return null}},{key:"getLineLength",value:function(t,u,n,s){return Math.sqrt((n-t)*(n-t)+(s-u)*(s-u))}},{key:"getPathLength",value:function(){return this.pathLength===-1&&(this.pathLength=this.dataArray.reduce(function(t,u){return u.pathLength>0?t+u.pathLength:t},0)),this.pathLength}},{key:"getPointOnCubicBezier",value:function(t,u,n,s,o,l,f,c,h){var v=c*os(t)+l*ls(t)+s*fs(t)+u*cs(t),y=h*os(t)+f*ls(t)+o*fs(t)+n*cs(t);return{x:v,y}}},{key:"getPointOnQuadraticBezier",value:function(t,u,n,s,o,l,f){var c=l*hs(t)+s*vs(t)+u*gs(t),h=f*hs(t)+o*vs(t)+n*gs(t);return{x:c,y:h}}},{key:"getPointOnEllipticalArc",value:function(t,u,n,s,o,l){var f=Math.cos(l),c=Math.sin(l),h={x:n*Math.cos(o),y:s*Math.sin(o)};return{x:t+(h.x*f-h.y*c),y:u+(h.x*c+h.y*f)}}},{key:"buildEquidistantCache",value:function(t,u){var n=this.getPathLength(),s=u||.25,o=t||n/100;if(!this.equidistantCache||this.equidistantCache.step!==o||this.equidistantCache.precision!==s){this.equidistantCache={step:o,precision:s,points:[]};for(var l=0,f=0;f<=n;f+=s){var c=this.getPointOnPath(f),h=this.getPointOnPath(f+s);!c||!h||(l+=this.getLineLength(c.x,c.y,h.x,h.y),l>=o&&(this.equidistantCache.points.push({x:c.x,y:c.y,distance:f}),l-=o))}}}},{key:"getEquidistantPointOnPath",value:function(t,u,n){if(this.buildEquidistantCache(u,n),t<0||t-this.getPathLength()>5e-5)return null;var s=Math.round(t/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[s]||null}}]),e}(Pt);function Hy(a){return function(){var i=(0,S.default)(a),e;if(Wy()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function Wy(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Uy=function(a){(0,D.default)(e,a);var i=Hy(e);function e(r,t,u){var n;(0,A.default)(this,e),n=i.call(this,r,t,u),n.type="image",n.loaded=!1;var s=n.getHrefAttribute().getString();if(!s)return(0,T.default)(n);var o=/\.svg$/.test(s);return r.images.push((0,He.default)(n)),o?n.loadSvg(s):n.loadImage(s),n.isSvg=o,n}return(0,M.default)(e,[{key:"loadImage",value:function(){var r=(0,he.default)(re.default.mark(function u(n){var s;return re.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,this.document.createImage(n);case 3:s=l.sent,this.image=s,l.next=10;break;case 7:l.prev=7,l.t0=l.catch(0),console.error('Error while loading image "'.concat(n,'":'),l.t0);case 10:this.loaded=!0;case 11:case"end":return l.stop()}},u,this,[[0,7]])}));function t(u){return r.apply(this,arguments)}return t}()},{key:"loadSvg",value:function(){var r=(0,he.default)(re.default.mark(function u(n){var s,o;return re.default.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.prev=0,f.next=3,this.document.fetch(n);case 3:return s=f.sent,f.next=6,s.text();case 6:o=f.sent,this.image=o,f.next=13;break;case 10:f.prev=10,f.t0=f.catch(0),console.error('Error while loading image "'.concat(n,'":'),f.t0);case 13:this.loaded=!0;case 14:case"end":return f.stop()}},u,this,[[0,10]])}));function t(u){return r.apply(this,arguments)}return t}()},{key:"renderChildren",value:function(t){var u=this.document,n=this.image,s=this.loaded,o=this.getAttribute("x").getPixels("x"),l=this.getAttribute("y").getPixels("y"),f=this.getStyle("width").getPixels("x"),c=this.getStyle("height").getPixels("y");if(!(!s||!n||!f||!c)){if(t.save(),this.isSvg)u.canvg.forkString(t,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:o,offsetY:l,scaleWidth:f,scaleHeight:c}).render();else{var h=this.image;t.translate(o,l),u.setViewBox({ctx:t,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:f,desiredWidth:h.width,height:c,desiredHeight:h.height}),this.loaded&&(typeof h.complete>"u"||h.complete)&&t.drawImage(h,0,0)}t.restore()}}},{key:"getBoundingBox",value:function(){var t=this.getAttribute("x").getPixels("x"),u=this.getAttribute("y").getPixels("y"),n=this.getStyle("width").getPixels("x"),s=this.getStyle("height").getPixels("y");return new ce(t,u,t+n,u+s)}}]),e}(Ie);function Xy(a){return function(){var i=(0,S.default)(a),e;if(Yy()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function Yy(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Qy=function(a){(0,D.default)(e,a);var i=Xy(e);function e(){var r;return(0,A.default)(this,e),r=i.apply(this,arguments),r.type="symbol",r}return(0,M.default)(e,[{key:"render",value:function(t){}}]),e}(Ie),Ky=function(){function a(i){(0,A.default)(this,a),this.document=i,this.loaded=!1,i.fonts.push(this)}return(0,M.default)(a,[{key:"load",value:function(){var i=(0,he.default)(re.default.mark(function r(t,u){var n,s,o;return re.default.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.prev=0,n=this.document,f.next=4,n.canvg.parser.load(u);case 4:s=f.sent,o=s.getElementsByTagName("font"),Array.from(o).forEach(function(c){var h=n.createElement(c);n.definitions[t]=h}),f.next=12;break;case 9:f.prev=9,f.t0=f.catch(0),console.error('Error while loading font "'.concat(u,'":'),f.t0);case 12:this.loaded=!0;case 13:case"end":return f.stop()}},r,this,[[0,9]])}));function e(r,t){return i.apply(this,arguments)}return e}()}]),a}();function Zy(a){return function(){var i=(0,S.default)(a),e;if(Jy()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function Jy(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var qs=function(a){(0,D.default)(e,a);var i=Zy(e);function e(r,t,u){var n;(0,A.default)(this,e),n=i.call(this,r,t,u),n.type="style";var s=We(Array.from(t.childNodes).map(function(l){return l.data}).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")),o=s.split("}");return o.forEach(function(l){var f=l.trim();if(f){var c=f.split("{"),h=c[0].split(","),v=c[1].split(";");h.forEach(function(y){var m=y.trim();if(m){var b=r.styles[m]||{};if(v.forEach(function(k){var _=k.indexOf(":"),q=k.substr(0,_).trim(),N=k.substr(_+1,k.length-_).trim();q&&N&&(b[q]=new I(r,q,N))}),r.styles[m]=b,r.stylesSpecificity[m]=Fg(m),m==="@font-face"){var x=b["font-family"].getString().replace(/"|'/g,""),P=b.src.getString().split(",");P.forEach(function(k){if(k.indexOf('format("svg")')>0){var _=ws(k);_&&new Ky(r).load(x,_)}})}}})}}),n}return e}(Q);qs.parseExternalUrl=ws;function ed(a){return function(){var i=(0,S.default)(a),e;if(td()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function td(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var rd=function(a){(0,D.default)(e,a);var i=ed(e);function e(){var r;return(0,A.default)(this,e),r=i.apply(this,arguments),r.type="use",r}return(0,M.default)(e,[{key:"setContext",value:function(t){(0,Ee.default)((0,S.default)(e.prototype),"setContext",this).call(this,t);var u=this.getAttribute("x"),n=this.getAttribute("y");u.hasValue()&&t.translate(u.getPixels("x"),0),n.hasValue()&&t.translate(0,n.getPixels("y"))}},{key:"path",value:function(t){var u=this.element;u&&u.path(t)}},{key:"renderChildren",value:function(t){var u=this.document,n=this.element;if(n){var s=n;if(n.type==="symbol"&&(s=new Ct(u,null),s.attributes.viewBox=new I(u,"viewBox",n.getAttribute("viewBox").getString()),s.attributes.preserveAspectRatio=new I(u,"preserveAspectRatio",n.getAttribute("preserveAspectRatio").getString()),s.attributes.overflow=new I(u,"overflow",n.getAttribute("overflow").getString()),s.children=n.children),s.type==="svg"){var o=this.getStyle("width",!1,!0),l=this.getStyle("height",!1,!0);o.hasValue()&&(s.attributes.width=new I(u,"width",o.getString())),l.hasValue()&&(s.attributes.height=new I(u,"height",l.getString()))}var f=s.parent;s.parent=this,s.render(t),s.parent=f}}},{key:"getBoundingBox",value:function(t){var u=this.element;return u?u.getBoundingBox(t):null}},{key:"elementTransform",value:function(){var t=this.document,u=this.element;return ir.fromElement(t,u)}},{key:"element",get:function(){return this._element||(this._element=this.getHrefAttribute().getDefinition()),this._element}}]),e}(Ie);function nd(a){return function(){var i=(0,S.default)(a),e;if(id()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function id(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Kt(a,i,e,r,t,u){return a[e*r*4+i*4+u]}function Zt(a,i,e,r,t,u,n){a[e*r*4+i*4+u]=n}function ee(a,i,e){var r=a[i];return r*(r<0?e-255:e)}function Se(a,i,e,r){return i+Math.cos(a)*e+Math.sin(a)*r}var Os=function(a){(0,D.default)(e,a);var i=nd(e);function e(r,t,u){var n;(0,A.default)(this,e),n=i.call(this,r,t,u),n.type="feColorMatrix";var s=ae(n.getAttribute("values").getString());switch(n.getAttribute("type").getString("matrix")){case"saturate":{var o=s[0];s=[.213+.787*o,.715-.715*o,.072-.072*o,0,0,.213-.213*o,.715+.285*o,.072-.072*o,0,0,.213-.213*o,.715-.715*o,.072+.928*o,0,0,0,0,0,1,0,0,0,0,0,1];break}case"hueRotate":{var l=s[0]*Math.PI/180;s=[Se(l,.213,.787,-.213),Se(l,.715,-.715,-.715),Se(l,.072,-.072,.928),0,0,Se(l,.213,-.213,.143),Se(l,.715,.285,.14),Se(l,.072,-.072,-.283),0,0,Se(l,.213,-.213,-.787),Se(l,.715,-.715,.715),Se(l,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break}case"luminanceToAlpha":s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1];break}return n.matrix=s,n.includeOpacity=n.getAttribute("includeOpacity").hasValue(),n}return(0,M.default)(e,[{key:"apply",value:function(t,u,n,s,o){for(var l=this.includeOpacity,f=this.matrix,c=t.getImageData(0,0,s,o),h=0;h<o;h++)for(var v=0;v<s;v++){var y=Kt(c.data,v,h,s,o,0),m=Kt(c.data,v,h,s,o,1),b=Kt(c.data,v,h,s,o,2),x=Kt(c.data,v,h,s,o,3),P=ee(f,0,y)+ee(f,1,m)+ee(f,2,b)+ee(f,3,x)+ee(f,4,1),k=ee(f,5,y)+ee(f,6,m)+ee(f,7,b)+ee(f,8,x)+ee(f,9,1),_=ee(f,10,y)+ee(f,11,m)+ee(f,12,b)+ee(f,13,x)+ee(f,14,1),q=ee(f,15,y)+ee(f,16,m)+ee(f,17,b)+ee(f,18,x)+ee(f,19,1);l&&(P=k=_=0,q*=x/255),Zt(c.data,v,h,s,o,0,P),Zt(c.data,v,h,s,o,1,k),Zt(c.data,v,h,s,o,2,_),Zt(c.data,v,h,s,o,3,q)}t.clearRect(0,0,s,o),t.putImageData(c,0,0)}}]),e}(Q);function ad(a){return function(){var i=(0,S.default)(a),e;if(ud()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function ud(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Ms=function(a){(0,D.default)(e,a);var i=ad(e);function e(){var r;return(0,A.default)(this,e),r=i.apply(this,arguments),r.type="mask",r}return(0,M.default)(e,[{key:"apply",value:function(t,u){var n=this.document,s=this.getAttribute("x").getPixels("x"),o=this.getAttribute("y").getPixels("y"),l=this.getStyle("width").getPixels("x"),f=this.getStyle("height").getPixels("y");if(!l&&!f){var c=new ce;this.children.forEach(function(x){c.addBoundingBox(x.getBoundingBox(t))}),s=Math.floor(c.x1),o=Math.floor(c.y1),l=Math.floor(c.width),f=Math.floor(c.height)}var h=this.removeStyles(u,e.ignoreStyles),v=n.createCanvas(s+l,o+f),y=v.getContext("2d");n.screen.setDefaults(y),this.renderChildren(y),new Os(n,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(y,0,0,s+l,o+f);var m=n.createCanvas(s+l,o+f),b=m.getContext("2d");n.screen.setDefaults(b),u.render(b),b.globalCompositeOperation="destination-in",b.fillStyle=y.createPattern(v,"no-repeat"),b.fillRect(0,0,s+l,o+f),t.fillStyle=b.createPattern(m,"no-repeat"),t.fillRect(0,0,s+l,o+f),this.restoreStyles(u,h)}},{key:"render",value:function(t){}}]),e}(Q);Ms.ignoreStyles=["mask","transform","clip-path"];function sd(a){return function(){var i=(0,S.default)(a),e;if(od()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function od(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var ds=function(){},ld=function(a){(0,D.default)(e,a);var i=sd(e);function e(){var r;return(0,A.default)(this,e),r=i.apply(this,arguments),r.type="clipPath",r}return(0,M.default)(e,[{key:"apply",value:function(t){var u=this.document,n=Reflect.getPrototypeOf(t),s=t.beginPath,o=t.closePath;n&&(n.beginPath=ds,n.closePath=ds),Reflect.apply(s,t,[]),this.children.forEach(function(l){if(!(typeof l.path>"u")){var f=typeof l.elementTransform<"u"?l.elementTransform():null;f||(f=ir.fromElement(u,l)),f&&f.apply(t),l.path(t),n&&(n.closePath=o),f&&f.unapply(t)}}),Reflect.apply(o,t,[]),t.clip(),n&&(n.beginPath=s,n.closePath=o)}},{key:"render",value:function(t){}}]),e}(Q);function fd(a){return function(){var i=(0,S.default)(a),e;if(cd()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function cd(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Ts=function(a){(0,D.default)(e,a);var i=fd(e);function e(){var r;return(0,A.default)(this,e),r=i.apply(this,arguments),r.type="filter",r}return(0,M.default)(e,[{key:"apply",value:function(t,u){var n=this.document,s=this.children,o=u.getBoundingBox(t);if(o){var l=0,f=0;s.forEach(function(_){var q=_.extraFilterDistance||0;l=Math.max(l,q),f=Math.max(f,q)});var c=Math.floor(o.width),h=Math.floor(o.height),v=c+2*l,y=h+2*f;if(!(v<1||y<1)){var m=Math.floor(o.x),b=Math.floor(o.y),x=this.removeStyles(u,e.ignoreStyles),P=n.createCanvas(v,y),k=P.getContext("2d");n.screen.setDefaults(k),k.translate(-m+l,-b+f),u.render(k),s.forEach(function(_){typeof _.apply=="function"&&_.apply(k,0,0,v,y)}),t.drawImage(P,0,0,v,y,m-l,b-f,v,y),this.restoreStyles(u,x)}}}},{key:"render",value:function(t){}}]),e}(Q);Ts.ignoreStyles=["filter","transform","clip-path"];function hd(a){return function(){var i=(0,S.default)(a),e;if(vd()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function vd(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var gd=function(a){(0,D.default)(e,a);var i=hd(e);function e(r,t,u){var n;return(0,A.default)(this,e),n=i.call(this,r,t,u),n.type="feDropShadow",n.addStylesFromStyleDefinition(),n}return(0,M.default)(e,[{key:"apply",value:function(t,u,n,s,o){}}]),e}(Q);function pd(a){return function(){var i=(0,S.default)(a),e;if(yd()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function yd(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var dd=function(a){(0,D.default)(e,a);var i=pd(e);function e(){var r;return(0,A.default)(this,e),r=i.apply(this,arguments),r.type="feMorphology",r}return(0,M.default)(e,[{key:"apply",value:function(t,u,n,s,o){}}]),e}(Q);function md(a){return function(){var i=(0,S.default)(a),e;if(bd()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function bd(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Sd=function(a){(0,D.default)(e,a);var i=md(e);function e(){var r;return(0,A.default)(this,e),r=i.apply(this,arguments),r.type="feComposite",r}return(0,M.default)(e,[{key:"apply",value:function(t,u,n,s,o){}}]),e}(Q);function wd(a){return function(){var i=(0,S.default)(a),e;if(xd()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function xd(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var kd=function(a){(0,D.default)(e,a);var i=wd(e);function e(r,t,u){var n;return(0,A.default)(this,e),n=i.call(this,r,t,u),n.type="feGaussianBlur",n.blurRadius=Math.floor(n.getAttribute("stdDeviation").getNumber()),n.extraFilterDistance=n.blurRadius,n}return(0,M.default)(e,[{key:"apply",value:function(t,u,n,s,o){var l=this.document,f=this.blurRadius,c=l.window?l.window.document.body:null,h=t.canvas;h.id=l.getUniqueId(),c&&(h.style.display="none",c.appendChild(h)),Mn(h,u,n,s,o,f),c&&c.removeChild(h)}}]),e}(Q);function _d(a){return function(){var i=(0,S.default)(a),e;if(Rd()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function Rd(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Ed=function(a){(0,D.default)(e,a);var i=_d(e);function e(){var r;return(0,A.default)(this,e),r=i.apply(this,arguments),r.type="title",r}return e}(Q);function Pd(a){return function(){var i=(0,S.default)(a),e;if(Cd()){var r=(0,S.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,T.default)(this,e)}}function Cd(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Ad=function(a){(0,D.default)(e,a);var i=Pd(e);function e(){var r;return(0,A.default)(this,e),r=i.apply(this,arguments),r.type="desc",r}return e}(Q),qd={svg:Ct,rect:Ps,circle:Mp,ellipse:Ip,line:Vp,polyline:Cs,polygon:jp,path:Pe,pattern:Wp,marker:Yp,defs:Zp,linearGradient:ay,radialGradient:oy,stop:cy,animate:fn,animateColor:yy,animateTransform:by,font:_y,"font-face":Py,"missing-glyph":qy,glyph:Ty,text:Pt,tspan:Es,tref:$y,a:Ly,textPath:Gy,image:Uy,g:ln,symbol:Qy,style:qs,use:rd,mask:Ms,clipPath:ld,filter:Ts,feDropShadow:gd,feMorphology:dd,feComposite:Sd,feColorMatrix:Os,feGaussianBlur:kd,title:Ed,desc:Ad};function ms(a,i){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);i&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable})),e.push.apply(e,r)}return e}function Od(a){for(var i=1;i<arguments.length;i++){var e=arguments[i]!=null?arguments[i]:{};i%2?ms(Object(e),!0).forEach(function(r){(0,on.default)(a,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):ms(Object(e)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(e,r))})}return a}function Md(a,i){var e=document.createElement("canvas");return e.width=a,e.height=i,e}function Td(a){return sn.apply(this,arguments)}function sn(){return sn=(0,he.default)(re.default.mark(function a(i){var e,r,t=arguments;return re.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.length>1&&t[1]!==void 0?t[1]:!1,r=document.createElement("img"),e&&(r.crossOrigin="Anonymous"),n.abrupt("return",new Promise(function(s,o){r.onload=function(){s(r)},r.onerror=function(){o()},r.src=i}));case 4:case"end":return n.stop()}},a)})),sn.apply(this,arguments)}var ar=function(){function a(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.rootEmSize,t=r===void 0?12:r,u=e.emSize,n=u===void 0?12:u,s=e.createCanvas,o=s===void 0?a.createCanvas:s,l=e.createImage,f=l===void 0?a.createImage:l,c=e.anonymousCrossOrigin;(0,A.default)(this,a),this.canvg=i,this.definitions={},this.styles={},this.stylesSpecificity={},this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=i.screen,this.rootEmSize=t,this.emSize=n,this.createCanvas=o,this.createImage=this.bindCreateImage(f,c),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}return(0,M.default)(a,[{key:"bindCreateImage",value:function(e,r){return typeof r=="boolean"?function(t,u){return e(t,typeof u=="boolean"?u:r)}:e}},{key:"popEmSize",value:function(){var e=this.emSizeStack;e.pop()}},{key:"getUniqueId",value:function(){return"canvg".concat(++this.uniqueId)}},{key:"isImagesLoaded",value:function(){return this.images.every(function(e){return e.loaded})}},{key:"isFontsLoaded",value:function(){return this.fonts.every(function(e){return e.loaded})}},{key:"createDocumentElement",value:function(e){var r=this.createElement(e.documentElement);return r.root=!0,r.addStylesFromStyleDefinition(),this.documentElement=r,r}},{key:"createElement",value:function(e){var r=e.nodeName.replace(/^[^:]+:/,""),t=a.elementTypes[r];return typeof t<"u"?new t(this,e):new op(this,e)}},{key:"createTextNode",value:function(e){return new wp(this,e)}},{key:"setViewBox",value:function(e){this.screen.setViewBox(Od({document:this},e))}},{key:"window",get:function(){return this.screen.window}},{key:"fetch",get:function(){return this.screen.fetch}},{key:"ctx",get:function(){return this.screen.ctx}},{key:"emSize",get:function(){var e=this.emSizeStack;return e[e.length-1]},set:function(e){var r=this.emSizeStack;r.push(e)}}]),a}();ar.createCanvas=Md;ar.createImage=Td;ar.elementTypes=qd;function bs(a,i){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);i&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable})),e.push.apply(e,r)}return e}function Jt(a){for(var i=1;i<arguments.length;i++){var e=arguments[i]!=null?arguments[i]:{};i%2?bs(Object(e),!0).forEach(function(r){(0,on.default)(a,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):bs(Object(e)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(e,r))})}return a}var Dd=function(){function a(i,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};(0,A.default)(this,a),this.parser=new un(r),this.screen=new nr(i,r),this.options=r;var t=new ar(this,r),u=t.createDocumentElement(e);this.document=t,this.documentElement=u}return(0,M.default)(a,[{key:"fork",value:function(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return a.from(e,r,Jt({},this.options,{},t))}},{key:"forkString",value:function(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return a.fromString(e,r,Jt({},this.options,{},t))}},{key:"ready",value:function(){return this.screen.ready()}},{key:"isReady",value:function(){return this.screen.isReady()}},{key:"render",value:function(){var i=(0,he.default)(re.default.mark(function r(){var t,u=arguments;return re.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=u.length>0&&u[0]!==void 0?u[0]:{},this.start(Jt({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},t)),s.next=4,this.ready();case 4:this.stop();case 5:case"end":return s.stop()}},r,this)}));function e(){return i.apply(this,arguments)}return e}()},{key:"start",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=this.documentElement,t=this.screen,u=this.options;t.start(r,Jt({enableRedraw:!0},u,{},e))}},{key:"stop",value:function(){this.screen.stop()}},{key:"resize",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.documentElement.resize(e,r,t)}}],[{key:"from",value:function(){var i=(0,he.default)(re.default.mark(function r(t,u){var n,s,o,l=arguments;return re.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return n=l.length>2&&l[2]!==void 0?l[2]:{},s=new un(n),c.next=4,s.parse(u);case 4:return o=c.sent,c.abrupt("return",new a(t,o,n));case 6:case"end":return c.stop()}},r)}));function e(r,t){return i.apply(this,arguments)}return e}()},{key:"fromString",value:function(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=new un(t),n=u.parseFromString(r);return new a(e,n,t)}}]),a}();function Id(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=a.DOMParser,e={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:i,createCanvas:function(t,u){return new OffscreenCanvas(t,u)},createImage:function(t){return(0,he.default)(re.default.mark(function u(){var n,s,o;return re.default.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,fetch(t);case 2:return n=f.sent,f.next=5,n.blob();case 5:return s=f.sent,f.next=8,createImageBitmap(s);case 8:return o=f.sent,f.abrupt("return",o);case 10:case"end":return f.stop()}},u)}))()}};return(typeof DOMParser<"u"||typeof i>"u")&&Reflect.deleteProperty(e,"DOMParser"),e}function $d(a){var i=a.DOMParser,e=a.canvas,r=a.fetch;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:i,fetch:r,createCanvas:e.createCanvas,createImage:e.loadImage}}var Tb=Object.freeze({__proto__:null,offscreen:Id,node:$d}),Db=Dd;export{Ly as AElement,yy as AnimateColorElement,fn as AnimateElement,by as AnimateTransformElement,ce as BoundingBox,os as CB1,ls as CB2,fs as CB3,cs as CB4,Dd as Canvg,Mp as CircleElement,ld as ClipPathElement,Zp as DefsElement,Ad as DescElement,ar as Document,Q as Element,Ip as EllipseElement,Os as FeColorMatrixElement,Sd as FeCompositeElement,gd as FeDropShadowElement,kd as FeGaussianBlurElement,dd as FeMorphologyElement,Ts as FilterElement,we as Font,_y as FontElement,Py as FontFaceElement,ln as GElement,Ty as GlyphElement,As as GradientElement,Uy as ImageElement,Vp as LineElement,ay as LinearGradientElement,Yp as MarkerElement,Ms as MaskElement,_s as Matrix,qy as MissingGlyphElement,Gg as Mouse,Ge as PSEUDO_ZERO,un as Parser,Pe as PathElement,kp as PathParser,Wp as PatternElement,Y as Point,jp as PolygonElement,Cs as PolylineElement,I as Property,hs as QB1,vs as QB2,gs as QB3,oy as RadialGradientElement,Ps as RectElement,Ie as RenderedElement,Xg as Rotate,Ct as SVGElement,Ky as SVGFontLoader,Yg as Scale,nr as Screen,Rs as Skew,ep as SkewX,np as SkewY,cy as StopElement,qs as StyleElement,Qy as SymbolElement,$y as TRefElement,Es as TSpanElement,Pt as TextElement,Gy as TextPathElement,Ed as TitleElement,ir as Transform,Ug as Translate,op as UnknownElement,rd as UseElement,jg as ViewPort,We as compressSpaces,Db as default,Fg as getSelectorSpecificity,Mg as normalizeAttributeName,Tg as normalizeColor,ws as parseExternalUrl,Tb as presets,ae as toNumbers,Ag as trimLeft,qg as trimRight,ss as vectorMagnitude,rr as vectorsAngle,Et as vectorsRatio};
