import './polyfills.server.mjs';
import{H as et,L as tt,M as nt,W as it,a as Ye}from"./chunk-KMWCCYID.mjs";import{E as Ce,F as ye,H as ve,Ia as se,M as De,Q as Je,U as D,V as R,Vb as ot,Wb as rt,Xb as st,Yb as at,_b as lt,ia as xe,ja as P,ka as Ke,pa as oe,qa as re}from"./chunk-F3VCI4QE.mjs";import{$a as Te,A as Oe,Ab as ne,Ac as Ae,Bb as u,Bc as We,Cb as $,Cc as ge,Db as Ne,Dc as de,Eb as ie,Ha as ce,Ia as p,Ja as v,Kb as Ve,Lb as A,Mb as ke,Nb as W,Pa as K,Qc as Be,Rc as qe,Sc as He,T as X,Tc as Ze,Ua as c,Uc as Qe,V as k,Va as N,Vb as S,Wa as a,X as $e,Xa as H,Ya as U,_ as Re,a as Se,aa as Y,ab as Me,b as M,bd as Xe,cd as Le,d as j,dd as ze,fd as Ue,gc as Z,ha as G,hb as g,ia as J,ib as z,jb as x,kb as w,lb as T,mb as je,na as le,nb as O,o as q,oa as F,oc as Fe,pa as L,q as ae,qa as pe,qb as E,sb as l,ta as _e,tb as Ie,ua as we,ub as be,w as V,wc as ue,xc as fe,yb as ee,yc as Q,zb as te,zc as Ge}from"./chunk-WNM5W7LL.mjs";import{d as y}from"./chunk-PESVQS5A.mjs";import{a as he,e as Pe}from"./chunk-H6KHSOBK.mjs";var wt=["switchElement"];function Tt(t,o){t&1&&x(0,"span",8)}function It(t,o){if(t&1&&(w(0),$(1),T()),t&2){let i=l(2);p(),Ne(i.nzCheckedChildren)}}function bt(t,o){if(t&1&&(w(0),c(1,It,2,1,"ng-container",9),T()),t&2){let i=l();p(),a("nzStringTemplateOutlet",i.nzCheckedChildren)}}function Nt(t,o){if(t&1&&(w(0),$(1),T()),t&2){let i=l(2);p(),Ne(i.nzUnCheckedChildren)}}function kt(t,o){if(t&1&&c(0,Nt,2,1,"ng-container",9),t&2){let i=l();a("nzStringTemplateOutlet",i.nzUnCheckedChildren)}}var Ft="switch",Lt=(()=>{let o=class o{updateValue(e){this.isChecked!==e&&(this.isChecked=e,this.onChange(this.isChecked))}focus(){this.focusMonitor.focusVia(this.switchElement.nativeElement,"keyboard")}blur(){this.switchElement.nativeElement.blur()}constructor(e,n,r,s,d,m){this.nzConfigService=e,this.host=n,this.ngZone=r,this.cdr=s,this.focusMonitor=d,this.directionality=m,this._nzModuleName=Ft,this.isChecked=!1,this.onChange=()=>{},this.onTouched=()=>{},this.nzLoading=!1,this.nzDisabled=!1,this.nzControl=!1,this.nzCheckedChildren=null,this.nzUnCheckedChildren=null,this.nzSize="default",this.nzId=null,this.dir="ltr",this.destroy$=new j,this.isNzDisableFirstChange=!0}ngOnInit(){this.directionality.change.pipe(k(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>{V(this.host.nativeElement,"click").pipe(k(this.destroy$)).subscribe(e=>{e.preventDefault(),!(this.nzControl||this.nzDisabled||this.nzLoading)&&this.ngZone.run(()=>{this.updateValue(!this.isChecked),this.cdr.markForCheck()})}),V(this.switchElement.nativeElement,"keydown").pipe(k(this.destroy$)).subscribe(e=>{if(this.nzControl||this.nzDisabled||this.nzLoading)return;let{keyCode:n}=e;n!==37&&n!==39&&n!==32&&n!==13||(e.preventDefault(),this.ngZone.run(()=>{n===37?this.updateValue(!1):n===39?this.updateValue(!0):(n===32||n===13)&&this.updateValue(!this.isChecked),this.cdr.markForCheck()}))})})}ngAfterViewInit(){this.focusMonitor.monitor(this.switchElement.nativeElement,!0).pipe(k(this.destroy$)).subscribe(e=>{e||Promise.resolve().then(()=>this.onTouched())})}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.switchElement.nativeElement),this.destroy$.next(),this.destroy$.complete()}writeValue(e){this.isChecked=e,this.cdr.markForCheck()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||e,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}};o.\u0275fac=function(n){return new(n||o)(v(xe),v(_e),v(K),v(Z),v(it),v(se,8))},o.\u0275cmp=G({type:o,selectors:[["nz-switch"]],viewQuery:function(n,r){if(n&1&&ee(wt,7),n&2){let s;te(s=ne())&&(r.switchElement=s.first)}},inputs:{nzLoading:"nzLoading",nzDisabled:"nzDisabled",nzControl:"nzControl",nzCheckedChildren:"nzCheckedChildren",nzUnCheckedChildren:"nzUnCheckedChildren",nzSize:"nzSize",nzId:"nzId"},exportAs:["nzSwitch"],standalone:!0,features:[Ve([{provide:Ye,useExisting:Re(()=>o),multi:!0}]),A],decls:9,vars:16,consts:[["switchElement",""],["uncheckTemplate",""],["nz-wave","","type","button",1,"ant-switch",3,"disabled","nzWaveExtraNode"],[1,"ant-switch-handle"],["nz-icon","","nzType","loading","class","ant-switch-loading-icon",4,"ngIf"],[1,"ant-switch-inner"],[4,"ngIf","ngIfElse"],[1,"ant-click-animating-node"],["nz-icon","","nzType","loading",1,"ant-switch-loading-icon"],[4,"nzStringTemplateOutlet"]],template:function(n,r){if(n&1&&(g(0,"button",2,0)(2,"span",3),c(3,Tt,1,0,"span",4),z(),g(4,"span",5),c(5,bt,2,1,"ng-container",6)(6,kt,1,1,"ng-template",null,1,S),z(),x(8,"div",7),z()),n&2){let s=u(7);U("ant-switch-checked",r.isChecked)("ant-switch-loading",r.nzLoading)("ant-switch-disabled",r.nzDisabled)("ant-switch-small",r.nzSize==="small")("ant-switch-rtl",r.dir==="rtl"),a("disabled",r.nzDisabled)("nzWaveExtraNode",!0),N("id",r.nzId),p(3),a("ngIf",r.nzLoading),p(2),a("ngIf",r.isChecked)("ngIfElse",s)}},dependencies:[st,rt,re,oe,Q,ye,Ce],encapsulation:2,changeDetection:0});let t=o;return y([D()],t.prototype,"nzLoading",void 0),y([D()],t.prototype,"nzDisabled",void 0),y([D()],t.prototype,"nzControl",void 0),y([P()],t.prototype,"nzSize",void 0),t})(),Oi=(()=>{let o=class o{};o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=J({type:o}),o.\u0275inj=Y({imports:[Lt]});let t=o;return t})();var Ut=t=>({$implicit:t});function Dt(t,o){if(t&1&&(w(0),x(1,"span",8),T()),t&2){let i=l(3);p(),a("nzType",i.icon)}}function Et(t,o){if(t&1&&(w(0),$(1),T()),t&2){let i=o.$implicit,e=l(4);p(),ie(" ",i(e.nzPercent)," ")}}function Pt(t,o){if(t&1&&c(0,Et,2,1,"ng-container",9),t&2){let i=l(3);a("nzStringTemplateOutlet",i.formatter)("nzStringTemplateOutletContext",W(2,Ut,i.nzPercent))}}function Ot(t,o){if(t&1&&(g(0,"span",6),c(1,Dt,2,1,"ng-container",7)(2,Pt,1,4,"ng-template",null,1,S),z()),t&2){let i=u(3),e=l(2);p(),a("ngIf",(e.status==="exception"||e.status==="success")&&!e.nzFormat)("ngIfElse",i)}}function $t(t,o){if(t&1&&c(0,Ot,4,2,"span",5),t&2){let i=l();a("ngIf",i.nzShowInfo)}}function Rt(t,o){if(t&1&&x(0,"div",17),t&2){let i=l(4);H("width",i.nzSuccessPercent,"%")("border-radius",i.nzStrokeLinecap==="round"?"100px":"0")("height",i.strokeWidth,"px")}}function Mt(t,o){if(t&1&&(g(0,"div",13)(1,"div",14),x(2,"div",15),c(3,Rt,1,6,"div",16),z()()),t&2){let i=l(3);p(2),H("width",i.nzPercent,"%")("border-radius",i.nzStrokeLinecap==="round"?"100px":"0")("background",i.isGradient?null:i.nzStrokeColor)("background-image",i.isGradient?i.lineGradient:null)("height",i.strokeWidth,"px"),p(),a("ngIf",i.nzSuccessPercent||i.nzSuccessPercent===0)}}function jt(t,o){}function Vt(t,o){if(t&1&&(w(0),c(1,Mt,4,11,"div",11)(2,jt,0,0,"ng-template",12),T()),t&2){let i=l(2),e=u(1);p(),a("ngIf",!i.isSteps),p(),a("ngTemplateOutlet",e)}}function Gt(t,o){if(t&1&&x(0,"div",20),t&2){let i=o.$implicit;a("ngStyle",i)}}function At(t,o){}function Wt(t,o){if(t&1&&(g(0,"div",18),c(1,Gt,1,1,"div",19)(2,At,0,0,"ng-template",12),z()),t&2){let i=l(2),e=u(1);p(),a("ngForOf",i.steps),p(),a("ngTemplateOutlet",e)}}function Bt(t,o){if(t&1&&(g(0,"div"),c(1,Vt,3,2,"ng-container",3)(2,Wt,3,2,"div",10),z()),t&2){let i=l();p(),a("ngIf",!i.isSteps),p(),a("ngIf",i.isSteps)}}function qt(t,o){if(t&1&&(pe(),x(0,"stop")),t&2){let i=o.$implicit;N("offset",i.offset)("stop-color",i.color)}}function Ht(t,o){if(t&1&&(pe(),g(0,"defs")(1,"linearGradient",24),c(2,qt,1,2,"stop",25),z()()),t&2){let i=l(2);p(),a("id","gradient-"+i.gradientId),p(),a("ngForOf",i.circleGradient)}}function Zt(t,o){if(t&1&&(pe(),x(0,"path",26)),t&2){let i=o.$implicit,e=l(2);a("ngStyle",i.strokePathStyle),N("d",e.pathString)("stroke-linecap",e.nzStrokeLinecap)("stroke",i.stroke)("stroke-width",e.nzPercent?e.strokeWidth:0)}}function Qt(t,o){}function Xt(t,o){if(t&1&&(g(0,"div",14),pe(),g(1,"svg",21),c(2,Ht,3,2,"defs",3),x(3,"path",22),c(4,Zt,1,5,"path",23),z(),c(5,Qt,0,0,"ng-template",12),z()),t&2){let i=l(),e=u(1);H("width",i.nzWidth,"px")("height",i.nzWidth,"px")("font-size",i.nzWidth*.15+6,"px"),U("ant-progress-circle-gradient",i.isGradient),p(2),a("ngIf",i.isGradient),p(),a("ngStyle",i.trailPathStyle),N("stroke-width",i.strokeWidth)("d",i.pathString),p(),a("ngForOf",i.progressCirclePath)("ngForTrackBy",i.trackByFn),p(),a("ngTemplateOutlet",e)}}function Yt(t){return+t.replace("%","")}var _t=t=>{let o=[];return Object.keys(t).forEach(i=>{let e=t[i],n=Yt(i);isNaN(n)||o.push({key:n,value:e})}),o=o.sort((i,e)=>i.key-e.key),o},Jt=t=>_t(t).map(({key:o,value:i})=>({offset:`${o}%`,color:i})),Kt=t=>{let r=t,{from:o="#1890ff",to:i="#1890ff",direction:e="to right"}=r,n=Pe(r,["from","to","direction"]);if(Object.keys(n).length!==0){let s=_t(n).map(({key:d,value:m})=>`${m} ${d}%`).join(", ");return`linear-gradient(${e}, ${s})`}return`linear-gradient(${e}, ${o}, ${i})`},en=0,ht="progress",tn=new Map([["success","check"],["exception","close"]]),nn=new Map([["normal","#108ee9"],["exception","#ff5500"],["success","#87d068"]]),on=t=>`${t}%`,Ee=(()=>{let o=class o{get formatter(){return this.nzFormat||on}get status(){return this.nzStatus||this.inferredStatus}get strokeWidth(){return this.nzStrokeWidth||(this.nzType==="line"&&this.nzSize!=="small"?8:6)}get isCircleStyle(){return this.nzType==="circle"||this.nzType==="dashboard"}constructor(e,n,r){this.cdr=e,this.nzConfigService=n,this.directionality=r,this._nzModuleName=ht,this.nzShowInfo=!0,this.nzWidth=132,this.nzStrokeColor=void 0,this.nzSize="default",this.nzPercent=0,this.nzStrokeWidth=void 0,this.nzGapDegree=void 0,this.nzType="line",this.nzGapPosition="top",this.nzStrokeLinecap="round",this.nzSteps=0,this.steps=[],this.lineGradient=null,this.isGradient=!1,this.isSteps=!1,this.gradientId=en++,this.progressCirclePath=[],this.trailPathStyle=null,this.dir="ltr",this.trackByFn=s=>`${s}`,this.cachedStatus="normal",this.inferredStatus="normal",this.destroy$=new j}ngOnChanges(e){let{nzSteps:n,nzGapPosition:r,nzStrokeLinecap:s,nzStrokeColor:d,nzGapDegree:m,nzType:_,nzStatus:h,nzPercent:C,nzSuccessPercent:b,nzStrokeWidth:f}=e;h&&(this.cachedStatus=this.nzStatus||this.cachedStatus),(C||b)&&(parseInt(this.nzPercent.toString(),10)>=100?(De(this.nzSuccessPercent)&&this.nzSuccessPercent>=100||this.nzSuccessPercent===void 0)&&(this.inferredStatus="success"):this.inferredStatus=this.cachedStatus),(h||C||b||d)&&this.updateIcon(),d&&this.setStrokeColor(),(r||s||m||_||C||d||d)&&this.getCirclePaths(),(C||n||f)&&(this.isSteps=this.nzSteps>0,this.isSteps&&this.getSteps())}ngOnInit(){this.nzConfigService.getConfigChangeEventForComponent(ht).pipe(k(this.destroy$)).subscribe(()=>{this.updateIcon(),this.setStrokeColor(),this.getCirclePaths()}),this.directionality.change?.pipe(k(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateIcon(){let e=tn.get(this.status);this.icon=e?e+(this.isCircleStyle?"-o":"-circle-fill"):""}getSteps(){let e=Math.floor(this.nzSteps*(this.nzPercent/100)),n=this.nzSize==="small"?2:14,r=[];for(let s=0;s<this.nzSteps;s++){let d;s<=e-1&&(d=this.nzStrokeColor);let m={backgroundColor:`${d}`,width:`${n}px`,height:`${this.strokeWidth}px`};r.push(m)}this.steps=r}getCirclePaths(){if(!this.isCircleStyle)return;let e=De(this.nzSuccessPercent)?[this.nzSuccessPercent,this.nzPercent]:[this.nzPercent],n=50-this.strokeWidth/2,r=this.nzGapPosition||(this.nzType==="circle"?"top":"bottom"),s=Math.PI*2*n,d=this.nzGapDegree||(this.nzType==="circle"?0:75),m=0,_=-n,h=0,C=n*-2;switch(r){case"left":m=-n,_=0,h=n*2,C=0;break;case"right":m=n,_=0,h=n*-2,C=0;break;case"bottom":_=n,C=n*2;break;default:}this.pathString=`M 50,50 m ${m},${_}
       a ${n},${n} 0 1 1 ${h},${-C}
       a ${n},${n} 0 1 1 ${-h},${C}`,this.trailPathStyle={strokeDasharray:`${s-d}px ${s}px`,strokeDashoffset:`-${d/2}px`,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s"},this.progressCirclePath=e.map((b,f)=>{let I=e.length===2&&f===0;return{stroke:this.isGradient&&!I?`url(#gradient-${this.gradientId})`:null,strokePathStyle:{stroke:this.isGradient?null:I?nn.get("success"):this.nzStrokeColor,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s",strokeDasharray:`${(b||0)/100*(s-d)}px ${s}px`,strokeDashoffset:`-${d/2}px`}}}).reverse()}setStrokeColor(){let e=this.nzStrokeColor,n=this.isGradient=!!e&&typeof e!="string";n&&!this.isCircleStyle?this.lineGradient=Kt(e):n&&this.isCircleStyle?this.circleGradient=Jt(this.nzStrokeColor):(this.lineGradient=null,this.circleGradient=[])}};o.\u0275fac=function(n){return new(n||o)(v(Z),v(xe),v(se,8))},o.\u0275cmp=G({type:o,selectors:[["nz-progress"]],inputs:{nzShowInfo:"nzShowInfo",nzWidth:"nzWidth",nzStrokeColor:"nzStrokeColor",nzSize:"nzSize",nzFormat:"nzFormat",nzSuccessPercent:"nzSuccessPercent",nzPercent:"nzPercent",nzStrokeWidth:"nzStrokeWidth",nzGapDegree:"nzGapDegree",nzStatus:"nzStatus",nzType:"nzType",nzGapPosition:"nzGapPosition",nzStrokeLinecap:"nzStrokeLinecap",nzSteps:"nzSteps"},exportAs:["nzProgress"],standalone:!0,features:[le,A],decls:5,vars:17,consts:[["progressInfoTemplate",""],["formatTemplate",""],[3,"ngClass"],[4,"ngIf"],["class","ant-progress-inner",3,"width","height","fontSize","ant-progress-circle-gradient",4,"ngIf"],["class","ant-progress-text",4,"ngIf"],[1,"ant-progress-text"],[4,"ngIf","ngIfElse"],["nz-icon","",3,"nzType"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["class","ant-progress-steps-outer",4,"ngIf"],["class","ant-progress-outer",4,"ngIf"],[3,"ngTemplateOutlet"],[1,"ant-progress-outer"],[1,"ant-progress-inner"],[1,"ant-progress-bg"],["class","ant-progress-success-bg",3,"width","border-radius","height",4,"ngIf"],[1,"ant-progress-success-bg"],[1,"ant-progress-steps-outer"],["class","ant-progress-steps-item",3,"ngStyle",4,"ngFor","ngForOf"],[1,"ant-progress-steps-item",3,"ngStyle"],["viewBox","0 0 100 100",1,"ant-progress-circle"],["stroke","#f3f3f3","fill-opacity","0",1,"ant-progress-circle-trail",3,"ngStyle"],["class","ant-progress-circle-path","fill-opacity","0",3,"ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],["x1","100%","y1","0%","x2","0%","y2","0%",3,"id"],[4,"ngFor","ngForOf"],["fill-opacity","0",1,"ant-progress-circle-path",3,"ngStyle"]],template:function(n,r){n&1&&(c(0,$t,1,1,"ng-template",null,0,S),g(2,"div",2),c(3,Bt,3,2,"div",3)(4,Xt,6,15,"div",4),z()),n&2&&(p(2),U("ant-progress-line",r.nzType==="line")("ant-progress-small",r.nzSize==="small")("ant-progress-default",r.nzSize==="default")("ant-progress-show-info",r.nzShowInfo)("ant-progress-circle",r.isCircleStyle)("ant-progress-steps",r.isSteps)("ant-progress-rtl",r.dir==="rtl"),a("ngClass","ant-progress ant-progress-status-"+r.status),p(),a("ngIf",r.nzType==="line"),p(),a("ngIf",r.isCircleStyle))},dependencies:[Q,re,oe,ye,Ce,ue,de,fe,ge],encapsulation:2,changeDetection:0});let t=o;return y([P()],t.prototype,"nzShowInfo",void 0),y([P()],t.prototype,"nzStrokeColor",void 0),y([P()],t.prototype,"nzSize",void 0),y([R()],t.prototype,"nzSuccessPercent",void 0),y([R()],t.prototype,"nzPercent",void 0),y([P(),R()],t.prototype,"nzStrokeWidth",void 0),y([P(),R()],t.prototype,"nzGapDegree",void 0),y([P()],t.prototype,"nzGapPosition",void 0),y([P()],t.prototype,"nzStrokeLinecap",void 0),y([R()],t.prototype,"nzSteps",void 0),t})(),ut=(()=>{let o=class o{};o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=J({type:o}),o.\u0275inj=Y({imports:[Ee]});let t=o;return t})();var sn=["file"],an=["nz-upload-btn",""],gt=["*"],me=t=>({$implicit:t}),ln=()=>({opacity:.5,"pointer-events":"none"});function pn(t,o){}function cn(t,o){if(t&1&&(g(0,"div",20),c(1,pn,0,0,"ng-template",21),z()),t&2){let i=l(2).$implicit,e=u(5);U("ant-upload-list-item-file",!i.isUploading),p(),a("ngTemplateOutlet",e)("ngTemplateOutletContext",W(4,me,i))}}function dn(t,o){if(t&1&&x(0,"img",24),t&2){let i=l(3).$implicit;a("src",i.thumbUrl||i.url,ce),N("alt",i.name)}}function mn(t,o){if(t&1){let i=O();g(0,"a",22),E("click",function(n){F(i);let r=l(2).$implicit,s=l();return L(s.handlePreview(r,n))}),c(1,dn,1,2,"img",23),z()}if(t&2){l();let i=u(5),e=l().$implicit;U("ant-upload-list-item-file",!e.isImageUrl),a("href",e.url||e.thumbUrl,ce),p(),a("ngIf",e.isImageUrl)("ngIfElse",i)}}function hn(t,o){}function _n(t,o){if(t&1&&(g(0,"div",25),c(1,hn,0,0,"ng-template",21),z()),t&2){let i=l(2).$implicit,e=u(5);p(),a("ngTemplateOutlet",e)("ngTemplateOutletContext",W(2,me,i))}}function un(t,o){}function fn(t,o){if(t&1&&c(0,un,0,0,"ng-template",21),t&2){let i=l(2).$implicit,e=u(5);a("ngTemplateOutlet",e)("ngTemplateOutletContext",W(2,me,i))}}function gn(t,o){if(t&1&&(w(0,16),c(1,cn,2,6,"div",17)(2,mn,2,5,"a",18)(3,_n,2,4,"div",19),T(),c(4,fn,1,4,"ng-template",null,6,S)),t&2){let i=l().$implicit;a("ngSwitch",i.iconType),p(),a("ngSwitchCase","uploading"),p(),a("ngSwitchCase","thumbnail")}}function zn(t,o){t&1&&(w(0),x(1,"span",29),T())}function Cn(t,o){if(t&1&&(w(0),c(1,zn,2,0,"ng-container",26),T()),t&2){let i=l(2).$implicit,e=u(4);p(),a("ngIf",i.isUploading)("ngIfElse",e)}}function yn(t,o){if(t&1&&(w(0),$(1),T()),t&2){let i=l(5);p(),ie(" ",i.locale.uploading," ")}}function vn(t,o){if(t&1&&(w(0),c(1,yn,2,1,"ng-container",26),T()),t&2){let i=l(2).$implicit,e=u(4);p(),a("ngIf",i.isUploading)("ngIfElse",e)}}function xn(t,o){if(t&1&&x(0,"span",30),t&2){let i=l(2).$implicit;a("nzType",i.isUploading?"loading":"paper-clip")}}function Sn(t,o){if(t&1&&(w(0)(1,16),c(2,Cn,2,2,"ng-container",27)(3,vn,2,2,"ng-container",27)(4,xn,1,1,"span",28),T()()),t&2){let i=l(3);p(),a("ngSwitch",i.listType),p(),a("ngSwitchCase","picture"),p(),a("ngSwitchCase","picture-card")}}function wn(t,o){}function Tn(t,o){if(t&1&&x(0,"span",31),t&2){let i=l().$implicit;a("nzType",i.isImageUrl?"picture":"file")}}function In(t,o){if(t&1&&c(0,Sn,5,3,"ng-container",26)(1,wn,0,0,"ng-template",21,7,S)(3,Tn,1,1,"ng-template",null,8,S),t&2){let i=o.$implicit,e=u(2),n=l(2);a("ngIf",!n.iconRender)("ngIfElse",e),p(),a("ngTemplateOutlet",n.iconRender)("ngTemplateOutletContext",W(4,me,i))}}function bn(t,o){if(t&1){let i=O();g(0,"button",33),E("click",function(n){F(i);let r=l(2).$implicit,s=l();return L(s.handleRemove(r,n))}),x(1,"span",34),z()}if(t&2){let i=l(3);N("title",i.locale.removeFile)}}function Nn(t,o){if(t&1&&c(0,bn,2,1,"button",32),t&2){let i=l(2);a("ngIf",i.icons.showRemoveIcon)}}function kn(t,o){if(t&1){let i=O();g(0,"button",33),E("click",function(){F(i);let n=l(2).$implicit,r=l();return L(r.handleDownload(n))}),x(1,"span",35),z()}if(t&2){let i=l(3);N("title",i.locale.downloadFile)}}function Fn(t,o){if(t&1&&c(0,kn,2,1,"button",32),t&2){let i=l().$implicit;a("ngIf",i.showDownload)}}function Ln(t,o){}function Un(t,o){}function Dn(t,o){if(t&1&&(g(0,"span"),c(1,Ln,0,0,"ng-template",13)(2,Un,0,0,"ng-template",13),z()),t&2){l(2);let i=u(7),e=u(9),n=l();Te("ant-upload-list-item-card-actions ",n.listType==="picture"?"picture":"",""),p(),a("ngTemplateOutlet",e),p(),a("ngTemplateOutlet",i)}}function En(t,o){if(t&1&&c(0,Dn,3,5,"span",36),t&2){let i=l(2);a("ngIf",i.listType!=="picture-card")}}function Pn(t,o){if(t&1){let i=O();g(0,"a",39),E("click",function(n){F(i);let r=l(2).$implicit,s=l();return L(s.handlePreview(r,n))}),$(1),z()}if(t&2){let i=l(2).$implicit;a("href",i.url,ce),N("title",i.name)("download",i.linkProps&&i.linkProps.download),p(),ie(" ",i.name," ")}}function On(t,o){if(t&1){let i=O();g(0,"span",40),E("click",function(n){F(i);let r=l(2).$implicit,s=l();return L(s.handlePreview(r,n))}),$(1),z()}if(t&2){let i=l(2).$implicit;N("title",i.name),p(),ie(" ",i.name," ")}}function $n(t,o){}function Rn(t,o){if(t&1&&c(0,Pn,2,4,"a",37)(1,On,2,2,"span",38)(2,$n,0,0,"ng-template",13),t&2){let i=l().$implicit,e=u(11);a("ngIf",i.url),p(),a("ngIf",!i.url),p(),a("ngTemplateOutlet",e)}}function Mn(t,o){}function jn(t,o){}function Vn(t,o){if(t&1){let i=O();g(0,"a",44),E("click",function(n){F(i);let r=l(2).$implicit,s=l();return L(s.handlePreview(r,n))}),x(1,"span",45),z()}if(t&2){let i=l(2).$implicit,e=l();a("href",i.url||i.thumbUrl,ce)("ngStyle",i.url||i.thumbUrl?null:ke(3,ln)),N("title",e.locale.previewFile)}}function Gn(t,o){}function An(t,o){if(t&1&&(w(0),c(1,Gn,0,0,"ng-template",13),T()),t&2){l(2);let i=u(9);p(),a("ngTemplateOutlet",i)}}function Wn(t,o){}function Bn(t,o){if(t&1&&(g(0,"span",41),c(1,Vn,2,4,"a",42)(2,An,2,1,"ng-container",43)(3,Wn,0,0,"ng-template",13),z()),t&2){let i=l().$implicit,e=u(7),n=l();p(),a("ngIf",n.icons.showPreviewIcon),p(),a("ngIf",i.status==="done"),p(),a("ngTemplateOutlet",e)}}function qn(t,o){if(t&1&&(g(0,"div",46),x(1,"nz-progress",47),z()),t&2){let i=l().$implicit;p(),a("nzPercent",i.percent)("nzShowInfo",!1)("nzStrokeWidth",2)}}function Hn(t,o){if(t&1&&(g(0,"div")(1,"div",10),c(2,gn,6,3,"ng-template",null,0,S)(4,In,5,6,"ng-template",null,1,S)(6,Nn,1,1,"ng-template",null,2,S)(8,Fn,1,1,"ng-template",null,3,S)(10,En,1,1,"ng-template",null,4,S)(12,Rn,3,3,"ng-template",null,5,S),g(14,"div",11)(15,"span",12),c(16,Mn,0,0,"ng-template",13)(17,jn,0,0,"ng-template",13),z()(),c(18,Bn,4,3,"span",14)(19,qn,2,3,"div",15),z()()),t&2){let i=o.$implicit,e=u(3),n=u(13),r=l();Te("ant-upload-list-",r.listType,"-container"),p(),Me("ant-upload-list-item ant-upload-list-item-",i.status," ant-upload-list-item-list-type-",r.listType,""),a("@itemState",void 0)("nzTooltipTitle",i.status==="error"?i.message:null),N("data-key",i.key),p(15),a("ngTemplateOutlet",e),p(),a("ngTemplateOutlet",n),p(),a("ngIf",r.listType==="picture-card"&&!i.isUploading),p(),a("ngIf",i.isUploading)}}var Zn=["uploadComp"],Qn=["listComp"],Xn=()=>[];function Yn(t,o){if(t&1&&x(0,"nz-upload-list",10,5),t&2){let i=l(2);H("display",i.nzShowUploadList?"":"none"),a("locale",i.locale)("listType",i.nzListType)("items",i.nzFileList||ke(13,Xn))("icons",i.nzShowUploadList)("iconRender",i.nzIconRender)("previewFile",i.nzPreviewFile)("previewIsImage",i.nzPreviewIsImage)("onPreview",i.nzPreview)("onRemove",i.onRemove)("onDownload",i.nzDownload)("dir",i.dir)}}function Jn(t,o){t&1&&je(0)}function Kn(t,o){if(t&1&&(w(0),c(1,Jn,1,0,"ng-container",11),T()),t&2){let i=l(2);p(),a("ngTemplateOutlet",i.nzFileListRender)("ngTemplateOutletContext",W(2,me,i.nzFileList))}}function ei(t,o){if(t&1&&c(0,Yn,2,14,"nz-upload-list",8)(1,Kn,2,4,"ng-container",9),t&2){let i=l();a("ngIf",i.locale&&!i.nzFileListRender),p(),a("ngIf",i.nzFileListRender)}}function ti(t,o){t&1&&be(0)}function ni(t,o){}function ii(t,o){if(t&1&&(g(0,"div",12)(1,"div",13,6),c(3,ni,0,0,"ng-template",14),z()()),t&2){let i=l(),e=u(3);H("display",i.nzShowButton?"":"none"),a("ngClass",i.classList),p(),a("options",i._btnOptions),p(2),a("ngTemplateOutlet",e)}}function oi(t,o){}function ri(t,o){}function si(t,o){if(t&1){let i=O();w(0),g(1,"div",15),E("drop",function(n){F(i);let r=l();return L(r.fileDrop(n))})("dragover",function(n){F(i);let r=l();return L(r.fileDrop(n))})("dragleave",function(n){F(i);let r=l();return L(r.fileDrop(n))}),g(2,"div",16,6)(4,"div",17),c(5,oi,0,0,"ng-template",14),z()()(),c(6,ri,0,0,"ng-template",14),T()}if(t&2){let i=l(),e=u(1),n=u(3);p(),a("ngClass",i.classList),p(),a("options",i._btnOptions),p(3),a("ngTemplateOutlet",n),p(),a("ngTemplateOutlet",e)}}function ai(t,o){}function li(t,o){}function pi(t,o){if(t&1&&(w(0),c(1,ai,0,0,"ng-template",14)(2,li,0,0,"ng-template",14),T()),t&2){l(2);let i=u(1),e=u(5);p(),a("ngTemplateOutlet",i),p(),a("ngTemplateOutlet",e)}}function ci(t,o){if(t&1&&c(0,pi,3,2,"ng-container",7),t&2){let i=l(),e=u(10);a("ngIf",i.nzListType==="picture-card")("ngIfElse",e)}}function di(t,o){}function mi(t,o){}function hi(t,o){if(t&1&&c(0,di,0,0,"ng-template",14)(1,mi,0,0,"ng-template",14),t&2){l();let i=u(1),e=u(5);a("ngTemplateOutlet",e),p(),a("ngTemplateOutlet",i)}}var _i=(()=>{let o=class o{onClick(){this.options.disabled||!this.options.openFileDialogOnClick||this.file.nativeElement.click()}onFileDrop(e){if(this.options.disabled||e.type==="dragover"){e.preventDefault();return}if(this.options.directory)this.traverseFileTree(e.dataTransfer.items);else{let n=Array.prototype.slice.call(e.dataTransfer.files).filter(r=>this.attrAccept(r,this.options.accept));n.length&&this.uploadFiles(n)}e.preventDefault()}onChange(e){if(this.options.disabled)return;let n=e.target;this.uploadFiles(n.files),n.value=""}traverseFileTree(e){let n=(r,s)=>{r.isFile?r.file(d=>{this.attrAccept(d,this.options.accept)&&this.uploadFiles([d])}):r.isDirectory&&r.createReader().readEntries(m=>{for(let _ of m)n(_,`${s}${r.name}/`)})};for(let r of e)n(r.webkitGetAsEntry(),"")}attrAccept(e,n){if(e&&n){let r=Array.isArray(n)?n:n.split(","),s=`${e.name}`,d=`${e.type}`,m=d.replace(/\/.*$/,"");return r.some(_=>{let h=_.trim();return h.charAt(0)==="."?s.toLowerCase().indexOf(h.toLowerCase(),s.toLowerCase().length-h.toLowerCase().length)!==-1:/\/\*$/.test(h)?m===h.replace(/\/.*$/,""):d===h})}return!0}attachUid(e){return e.uid||(e.uid=Math.random().toString(36).substring(2)),e}uploadFiles(e){let n=q(Array.prototype.slice.call(e));this.options.filters&&this.options.filters.forEach(r=>{n=n.pipe(X(s=>{let d=r.fn(s);return d instanceof M?d:q(d)}))}),n.subscribe(r=>{r.forEach(s=>{this.attachUid(s),this.upload(s,r)})},r=>{ve("Unhandled upload filter error",r)})}upload(e,n){if(!this.options.beforeUpload)return this.post(e);let r=this.options.beforeUpload(e,n);if(r instanceof M)r.subscribe(s=>{let d=Object.prototype.toString.call(s);d==="[object File]"||d==="[object Blob]"?(this.attachUid(s),this.post(s)):typeof s=="boolean"&&s!==!1&&this.post(e)},s=>{ve("Unhandled upload beforeUpload error",s)});else if(r!==!1)return this.post(e)}post(e){if(this.destroy)return;let n=q(e),r,s=this.options,{uid:d}=e,{action:m,data:_,headers:h,transformFile:C}=s,b={action:typeof m=="string"?m:"",name:s.name,headers:h,file:e,postFile:e,data:_,withCredentials:s.withCredentials,onProgress:s.onProgress?f=>{s.onProgress(f,e)}:void 0,onSuccess:(f,I)=>{this.clean(d),s.onSuccess(f,e,I)},onError:f=>{this.clean(d),s.onError(f,e)}};if(typeof m=="function"){let f=m(e);f instanceof M?n=n.pipe(X(()=>f),ae(I=>(b.action=I,e))):b.action=f}if(typeof C=="function"){let f=C(e);n=n.pipe(X(()=>f instanceof M?f:q(f)),$e(I=>r=I))}if(typeof _=="function"){let f=_(e);f instanceof M?n=n.pipe(X(()=>f),ae(I=>(b.data=I,r??e))):b.data=f}if(typeof h=="function"){let f=h(e);f instanceof M?n=n.pipe(X(()=>f),ae(I=>(b.headers=I,r??e))):b.headers=f}n.subscribe(f=>{b.postFile=f;let I=(s.customRequest||this.xhr).call(this,b);I instanceof Se||ve("Must return Subscription type in '[nzCustomRequest]' property"),this.reqs[d]=I,s.onStart(e)})}xhr(e){let n=new FormData;e.data&&Object.keys(e.data).map(s=>{n.append(s,e.data[s])}),n.append(e.name,e.postFile),e.headers||(e.headers={}),e.headers["X-Requested-With"]!==null?e.headers["X-Requested-With"]="XMLHttpRequest":delete e.headers["X-Requested-With"];let r=new qe("POST",e.action,n,{reportProgress:!0,withCredentials:e.withCredentials,headers:new Be(e.headers)});return this.http.request(r).subscribe(s=>{s.type===He.UploadProgress?(s.total>0&&(s.percent=s.loaded/s.total*100),e.onProgress(s,e.file)):s instanceof Ze&&e.onSuccess(s.body,e.file,s)},s=>{this.abort(e.file),e.onError(s,e.file)})}clean(e){let n=this.reqs[e];n instanceof Se&&n.unsubscribe(),delete this.reqs[e]}abort(e){e?this.clean(e&&e.uid):Object.keys(this.reqs).forEach(n=>this.clean(n))}constructor(e,n,r){if(this.ngZone=e,this.http=n,this.elementRef=r,this.reqs={},this.destroy=!1,this.destroy$=new j,!n)throw new Error("Not found 'HttpClient', You can import 'HttpClientModule' in your root module.")}ngOnInit(){this.ngZone.runOutsideAngular(()=>{V(this.elementRef.nativeElement,"click").pipe(k(this.destroy$)).subscribe(()=>this.onClick()),V(this.elementRef.nativeElement,"keydown").pipe(k(this.destroy$)).subscribe(e=>{this.options.disabled||(e.key==="Enter"||e.keyCode===13)&&this.onClick()})})}ngOnDestroy(){this.destroy=!0,this.destroy$.next(),this.abort()}};o.\u0275fac=function(n){return new(n||o)(v(K),v(Qe,8),v(_e))},o.\u0275cmp=G({type:o,selectors:[["","nz-upload-btn",""]],viewQuery:function(n,r){if(n&1&&ee(sn,7),n&2){let s;te(s=ne())&&(r.file=s.first)}},hostAttrs:[1,"ant-upload"],hostVars:4,hostBindings:function(n,r){n&1&&E("drop",function(d){return r.onFileDrop(d)})("dragover",function(d){return r.onFileDrop(d)}),n&2&&(N("tabindex","0")("role","button"),U("ant-upload-disabled",r.options.disabled))},inputs:{options:"options"},exportAs:["nzUploadBtn"],standalone:!0,features:[A],attrs:an,ngContentSelectors:gt,decls:3,vars:4,consts:[["file",""],["type","file",2,"display","none",3,"change","multiple"]],template:function(n,r){if(n&1){let s=O();Ie(),g(0,"input",1,0),E("change",function(m){return F(s),L(r.onChange(m))}),z(),be(2)}n&2&&(a("multiple",r.options.multiple),N("accept",r.options.accept)("directory",r.options.directory?"directory":null)("webkitdirectory",r.options.directory?"webkitdirectory":null))},encapsulation:2});let t=o;return t})(),ft=t=>!!t&&t.indexOf("image/")===0,B=200,zt=(()=>{let o=class o{get showPic(){return this.listType==="picture"||this.listType==="picture-card"}set items(e){this.list=e}genErr(e){return e.response&&typeof e.response=="string"?e.response:e.error&&e.error.statusText||this.locale.uploadError}extname(e){let n=e.split("/"),s=n[n.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(s)||[""])[0]}isImageUrl(e){if(ft(e.type))return!0;let n=e.thumbUrl||e.url||"";if(!n)return!1;let r=this.extname(n);return/^data:image\//.test(n)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg)$/i.test(r)?!0:/^data:/.test(n)?!1:!r}getIconType(e){return this.showPic?e.isUploading||!e.thumbUrl&&!e.url?"uploading":"thumbnail":""}previewImage(e){if(!ft(e.type)||!this.platform.isBrowser)return q("");let n=this.doc.createElement("canvas");n.width=B,n.height=B,n.style.cssText=`position: fixed; left: 0; top: 0; width: ${B}px; height: ${B}px; z-index: 9999; display: none;`,this.doc.body.appendChild(n);let r=n.getContext("2d"),s=new Image,d=URL.createObjectURL(e);return s.src=d,V(s,"load").pipe(ae(()=>{let{width:m,height:_}=s,h=B,C=B,b=0,f=0;m<_?(C=_*(B/m),f=-(C-h)/2):(h=m*(B/_),b=-(h-C)/2);try{r.drawImage(s,b,f,h,C)}catch{}let I=n.toDataURL();return this.doc.body.removeChild(n),URL.revokeObjectURL(d),I}))}genThumb(){if(!this.platform.isBrowser)return;let e=window;!this.showPic||typeof document>"u"||typeof e>"u"||!e.FileReader||!e.File||this.list.filter(n=>n.originFileObj instanceof File&&n.thumbUrl===void 0).forEach(n=>{n.thumbUrl="";let r=(this.previewFile?this.previewFile(n):this.previewImage(n.originFileObj)).pipe(k(this.destroy$));this.ngZone.runOutsideAngular(()=>{r.subscribe(s=>{this.ngZone.run(()=>{n.thumbUrl=s,this.detectChanges()})})})})}showDownload(e){return!!(this.icons.showDownloadIcon&&e.status==="done")}fixData(){this.list.forEach(e=>{e.isUploading=e.status==="uploading",e.message=this.genErr(e),e.linkProps=typeof e.linkProps=="string"?JSON.parse(e.linkProps):e.linkProps,e.isImageUrl=this.previewIsImage?this.previewIsImage(e):this.isImageUrl(e),e.iconType=this.getIconType(e),e.showDownload=this.showDownload(e)})}handlePreview(e,n){if(this.onPreview)return n.preventDefault(),this.onPreview(e)}handleRemove(e,n){n.preventDefault(),this.onRemove&&this.onRemove(e)}handleDownload(e){typeof this.onDownload=="function"?this.onDownload(e):e.url&&window.open(e.url)}constructor(e,n,r,s){this.cdr=e,this.doc=n,this.ngZone=r,this.platform=s,this.list=[],this.locale={},this.iconRender=null,this.dir="ltr",this.destroy$=new j}detectChanges(){this.fixData(),this.cdr.detectChanges()}ngOnChanges(){this.fixData(),this.genThumb()}ngOnDestroy(){this.destroy$.next()}};o.\u0275fac=function(n){return new(n||o)(v(Z),v(Fe),v(K),v(Ke))},o.\u0275cmp=G({type:o,selectors:[["nz-upload-list"]],hostAttrs:[1,"ant-upload-list"],hostVars:8,hostBindings:function(n,r){n&2&&U("ant-upload-list-rtl",r.dir==="rtl")("ant-upload-list-text",r.listType==="text")("ant-upload-list-picture",r.listType==="picture")("ant-upload-list-picture-card",r.listType==="picture-card")},inputs:{locale:"locale",listType:"listType",items:"items",icons:"icons",onPreview:"onPreview",onRemove:"onRemove",onDownload:"onDownload",previewFile:"previewFile",previewIsImage:"previewIsImage",iconRender:"iconRender",dir:"dir"},exportAs:["nzUploadList"],standalone:!0,features:[le,A],decls:1,vars:1,consts:[["icon",""],["iconNode",""],["removeIcon",""],["downloadIcon",""],["downloadOrDelete",""],["preview",""],["noImageThumbTpl",""],["customIconRender",""],["iconNodeFileIcon",""],[3,"class",4,"ngFor","ngForOf"],["nz-tooltip","",3,"nzTooltipTitle"],[1,"ant-upload-list-item-info"],[1,"ant-upload-span"],[3,"ngTemplateOutlet"],["class","ant-upload-list-item-actions",4,"ngIf"],["class","ant-upload-list-item-progress",4,"ngIf"],[3,"ngSwitch"],["class","ant-upload-list-item-thumbnail",3,"ant-upload-list-item-file",4,"ngSwitchCase"],["class","ant-upload-list-item-thumbnail","target","_blank","rel","noopener noreferrer",3,"ant-upload-list-item-file","href","click",4,"ngSwitchCase"],["class","ant-upload-text-icon",4,"ngSwitchDefault"],[1,"ant-upload-list-item-thumbnail"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["target","_blank","rel","noopener noreferrer",1,"ant-upload-list-item-thumbnail",3,"click","href"],["class","ant-upload-list-item-image",3,"src",4,"ngIf","ngIfElse"],[1,"ant-upload-list-item-image",3,"src"],[1,"ant-upload-text-icon"],[4,"ngIf","ngIfElse"],[4,"ngSwitchCase"],["nz-icon","",3,"nzType",4,"ngSwitchDefault"],["nz-icon","","nzType","loading"],["nz-icon","",3,"nzType"],["nz-icon","","nzTheme","twotone",3,"nzType"],["type","button","nz-button","","nzType","text","nzSize","small","class","ant-upload-list-item-card-actions-btn",3,"click",4,"ngIf"],["type","button","nz-button","","nzType","text","nzSize","small",1,"ant-upload-list-item-card-actions-btn",3,"click"],["nz-icon","","nzType","delete"],["nz-icon","","nzType","download"],[3,"class",4,"ngIf"],["target","_blank","rel","noopener noreferrer","class","ant-upload-list-item-name",3,"href","click",4,"ngIf"],["class","ant-upload-list-item-name",3,"click",4,"ngIf"],["target","_blank","rel","noopener noreferrer",1,"ant-upload-list-item-name",3,"click","href"],[1,"ant-upload-list-item-name",3,"click"],[1,"ant-upload-list-item-actions"],["target","_blank","rel","noopener noreferrer",3,"href","ngStyle","click",4,"ngIf"],[4,"ngIf"],["target","_blank","rel","noopener noreferrer",3,"click","href","ngStyle"],["nz-icon","","nzType","eye"],[1,"ant-upload-list-item-progress"],["nzType","line",3,"nzPercent","nzShowInfo","nzStrokeWidth"]],template:function(n,r){n&1&&c(0,Hn,20,14,"div",9),n&2&&a("ngForOf",r.list)},dependencies:[fe,nt,tt,Ge,de,Q,We,Ae,re,oe,lt,at,ot,ge,ut,Ee],encapsulation:2,data:{animation:[Xe("itemState",[Ue(":enter",[ze({height:"0",width:"0",opacity:0}),Le(150,ze({height:"*",width:"*",opacity:1}))]),Ue(":leave",[Le(150,ze({height:"0",width:"0",opacity:0}))])])]},changeDetection:0});let t=o;return t})(),ui=(()=>{let o=class o{set nzShowUploadList(e){this._showUploadList=typeof e=="boolean"?Je(e):e}get nzShowUploadList(){return this._showUploadList}zipOptions(){typeof this.nzShowUploadList=="boolean"&&this.nzShowUploadList&&(this.nzShowUploadList={showPreviewIcon:!0,showRemoveIcon:!0,showDownloadIcon:!0});let e=this.nzFilter.slice();if(this.nzMultiple&&this.nzLimit>0&&e.findIndex(n=>n.name==="limit")===-1&&e.push({name:"limit",fn:n=>n.slice(-this.nzLimit)}),this.nzSize>0&&e.findIndex(n=>n.name==="size")===-1&&e.push({name:"size",fn:n=>n.filter(r=>r.size/1024<=this.nzSize)}),this.nzFileType&&this.nzFileType.length>0&&e.findIndex(n=>n.name==="type")===-1){let n=this.nzFileType.split(",");e.push({name:"type",fn:r=>r.filter(s=>~n.indexOf(s.type))})}return this._btnOptions={disabled:this.nzDisabled,accept:this.nzAccept,action:this.nzAction,directory:this.nzDirectory,openFileDialogOnClick:this.nzOpenFileDialogOnClick,beforeUpload:this.nzBeforeUpload,customRequest:this.nzCustomRequest,data:this.nzData,headers:this.nzHeaders,name:this.nzName,multiple:this.nzMultiple,withCredentials:this.nzWithCredentials,filters:e,transformFile:this.nzTransformFile,onStart:this.onStart,onProgress:this.onProgress,onSuccess:this.onSuccess,onError:this.onError},this}constructor(e,n,r,s,d){this.ngZone=e,this.document=n,this.cdr=r,this.i18n=s,this.directionality=d,this.destroy$=new j,this.dir="ltr",this.nzType="select",this.nzLimit=0,this.nzSize=0,this.nzDirectory=!1,this.nzOpenFileDialogOnClick=!0,this.nzFilter=[],this.nzFileList=[],this.nzDisabled=!1,this.nzListType="text",this.nzMultiple=!1,this.nzName="file",this._showUploadList=!0,this.nzShowButton=!0,this.nzWithCredentials=!1,this.nzIconRender=null,this.nzFileListRender=null,this.nzChange=new we,this.nzFileListChange=new we,this.onStart=m=>{this.nzFileList||(this.nzFileList=[]);let _=this.fileToObject(m);_.status="uploading",this.nzFileList=this.nzFileList.concat(_),this.nzFileListChange.emit(this.nzFileList),this.nzChange.emit({file:_,fileList:this.nzFileList,type:"start"}),this.detectChangesList()},this.onProgress=(m,_)=>{let h=this.nzFileList,C=this.getFileItem(_,h);C.percent=m.percent,this.nzChange.emit({event:m,file:he({},C),fileList:this.nzFileList,type:"progress"}),this.detectChangesList()},this.onSuccess=(m,_)=>{let h=this.nzFileList,C=this.getFileItem(_,h);C.status="done",C.response=m,this.nzChange.emit({file:he({},C),fileList:h,type:"success"}),this.detectChangesList()},this.onError=(m,_)=>{let h=this.nzFileList,C=this.getFileItem(_,h);C.error=m,C.status="error",this.nzChange.emit({file:he({},C),fileList:h,type:"error"}),this.detectChangesList()},this.onRemove=m=>{this.uploadComp.abort(m),m.status="removed";let _=typeof this.nzRemove=="function"?this.nzRemove(m):this.nzRemove==null?!0:this.nzRemove;(_ instanceof M?_:q(_)).pipe(Oe(h=>h)).subscribe(()=>{this.nzFileList=this.removeFileItem(m,this.nzFileList),this.nzChange.emit({file:m,fileList:this.nzFileList,type:"removed"}),this.nzFileListChange.emit(this.nzFileList),this.cdr.detectChanges()})},this.prefixCls="ant-upload",this.classList=[]}fileToObject(e){return{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.filename||e.name,size:e.size,type:e.type,uid:e.uid,response:e.response,error:e.error,percent:0,originFileObj:e}}getFileItem(e,n){return n.filter(r=>r.uid===e.uid)[0]}removeFileItem(e,n){return n.filter(r=>r.uid!==e.uid)}fileDrop(e){e.type!==this.dragState&&(this.dragState=e.type,this.setClassMap())}detectChangesList(){this.cdr.detectChanges(),this.listComp?.detectChanges()}setClassMap(){let e=[];this.nzType==="drag"?(this.nzFileList.some(n=>n.status==="uploading")&&e.push(`${this.prefixCls}-drag-uploading`),this.dragState==="dragover"&&e.push(`${this.prefixCls}-drag-hover`)):e=[`${this.prefixCls}-select-${this.nzListType}`],this.classList=[this.prefixCls,`${this.prefixCls}-${this.nzType}`,...e,this.nzDisabled&&`${this.prefixCls}-disabled`||"",this.dir==="rtl"&&`${this.prefixCls}-rtl`||""].filter(n=>!!n),this.cdr.detectChanges()}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe(k(this.destroy$)).subscribe(e=>{this.dir=e,this.setClassMap(),this.cdr.detectChanges()}),this.i18n.localeChange.pipe(k(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Upload"),this.detectChangesList()})}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>V(this.document.body,"drop").pipe(k(this.destroy$)).subscribe(e=>{e.preventDefault(),e.stopPropagation()}))}ngOnChanges(){this.zipOptions().setClassMap()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};o.\u0275fac=function(n){return new(n||o)(v(K),v(Fe),v(Z),v(et),v(se,8))},o.\u0275cmp=G({type:o,selectors:[["nz-upload"]],viewQuery:function(n,r){if(n&1&&(ee(Zn,5),ee(Qn,5)),n&2){let s;te(s=ne())&&(r.uploadComp=s.first),te(s=ne())&&(r.listComp=s.first)}},hostVars:2,hostBindings:function(n,r){n&2&&U("ant-upload-picture-card-wrapper",r.nzListType==="picture-card")},inputs:{nzType:"nzType",nzLimit:"nzLimit",nzSize:"nzSize",nzFileType:"nzFileType",nzAccept:"nzAccept",nzAction:"nzAction",nzDirectory:"nzDirectory",nzOpenFileDialogOnClick:"nzOpenFileDialogOnClick",nzBeforeUpload:"nzBeforeUpload",nzCustomRequest:"nzCustomRequest",nzData:"nzData",nzFilter:"nzFilter",nzFileList:"nzFileList",nzDisabled:"nzDisabled",nzHeaders:"nzHeaders",nzListType:"nzListType",nzMultiple:"nzMultiple",nzName:"nzName",nzShowUploadList:"nzShowUploadList",nzShowButton:"nzShowButton",nzWithCredentials:"nzWithCredentials",nzRemove:"nzRemove",nzPreview:"nzPreview",nzPreviewFile:"nzPreviewFile",nzPreviewIsImage:"nzPreviewIsImage",nzTransformFile:"nzTransformFile",nzDownload:"nzDownload",nzIconRender:"nzIconRender",nzFileListRender:"nzFileListRender"},outputs:{nzChange:"nzChange",nzFileListChange:"nzFileListChange"},exportAs:["nzUpload"],standalone:!0,features:[le,A],ngContentSelectors:gt,decls:11,vars:2,consts:[["list",""],["con",""],["btn",""],["select",""],["pic",""],["listComp",""],["uploadComp",""],[4,"ngIf","ngIfElse"],[3,"display","locale","listType","items","icons","iconRender","previewFile","previewIsImage","onPreview","onRemove","onDownload","dir",4,"ngIf"],[4,"ngIf"],[3,"locale","listType","items","icons","iconRender","previewFile","previewIsImage","onPreview","onRemove","onDownload","dir"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["nz-upload-btn","",3,"options"],[3,"ngTemplateOutlet"],[3,"drop","dragover","dragleave","ngClass"],["nz-upload-btn","",1,"ant-upload-btn",3,"options"],[1,"ant-upload-drag-container"]],template:function(n,r){if(n&1&&(Ie(),c(0,ei,2,2,"ng-template",null,0,S)(2,ti,1,0,"ng-template",null,1,S)(4,ii,4,5,"ng-template",null,2,S)(6,si,7,4,"ng-container",7)(7,ci,1,2,"ng-template",null,3,S)(9,hi,2,2,"ng-template",null,4,S)),n&2){let s=u(8);p(6),a("ngIf",r.nzType==="drag")("ngIfElse",s)}},dependencies:[zt,Q,de,ue,_i],encapsulation:2,changeDetection:0});let t=o;return y([R()],t.prototype,"nzLimit",void 0),y([R()],t.prototype,"nzSize",void 0),y([D()],t.prototype,"nzDirectory",void 0),y([D()],t.prototype,"nzOpenFileDialogOnClick",void 0),y([D()],t.prototype,"nzDisabled",void 0),y([D()],t.prototype,"nzMultiple",void 0),y([D()],t.prototype,"nzShowButton",void 0),y([D()],t.prototype,"nzWithCredentials",void 0),t})(),xo=(()=>{let o=class o{};o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=J({type:o}),o.\u0275inj=Y({imports:[ui,zt]});let t=o;return t})();export{Lt as a,Oi as b,Ee as c,ut as d,ui as e,xo as f};
