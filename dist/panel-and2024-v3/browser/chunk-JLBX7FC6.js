import{Ae as h,Rc as i,U as a,X as c,qf as n}from"./chunk-W3I2I5DW.js";var w=(()=>{class o{constructor(e,t){this.afs=e,this.messageService=t,this.collection="activityLog",this.collectionU="users",this.activityLogCollection=this.afs.collection(this.collection)}getActivityLog(e,t){return this.afs.collection(this.collection,r=>r.where("created",">",e).where("created","<",t).orderBy("created","desc")).snapshotChanges()}getActivityLogByCustomer(e,t,r){return this.afs.collection(this.collection,s=>s.where("customerPath","==",r).where("created",">",e).where("created","<",t).orderBy("created","desc")).snapshotChanges()}getActivityLogByCustomerByRoute(e,t,r,s){return this.afs.collection(this.collection,l=>l.where("customerPath","==",r).where("routePath","==",s).where("created",">",e).where("created","<",t).orderBy("created","desc")).snapshotChanges()}getliveBusses(e,t){let r=n();return this.afs.collection("customers").doc(e).collection("program",s=>s.where("routeId","==",t).where("isLive","==",!0).where("startAt",">=",r).limit(5)).snapshotChanges()}getMarkers(e,t){return this.afs.collection(this.collection,r=>r.where("created",">",e).where("created","<",t).orderBy("created","desc")).snapshotChanges()}getMarkersByCustomer(e,t,r){return this.afs.collection(this.collection,s=>s.where("customerPath","==",r).where("created",">",e).where("created","<",t).orderBy("created","desc")).snapshotChanges()}getChartData(e,t){return this.afs.collection(this.collection,r=>r.where("created",">",e).where("created","<",t).orderBy("created","desc")).snapshotChanges()}getChartDatabyCustomer(e,t,r){return this.afs.collection(this.collection,s=>s.where("customerPath","==",r).where("created",">",e).where("created","<",t).orderBy("created","desc")).snapshotChanges()}getUsersByCustomer(e,t,r){return this.afs.collection(this.collectionU,s=>s.where("customerId","==",r).where("dateCreateUserFormat","==",e).orderBy("dateCreateUserFormat","desc")).snapshotChanges()}getUsersByCustomerTot(e){return this.afs.collection(this.collectionU,t=>t.where("customerId","==",e)).snapshotChanges()}static{this.\u0275fac=function(t){return new(t||o)(c(i),c(h))}}static{this.\u0275prov=a({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();export{w as a};
