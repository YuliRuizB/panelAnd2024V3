import{b as jw,c as z,d as Y,e as fd,f as Uw,g as U,h as $}from"./chunk-JETCN7QF.js";import{c as Nn,d as Ow,i as pu,j as Vw,k as Pw}from"./chunk-X7FOUD52.js";import{A as ni,B as gu,E as fl,H as Hw,J as Bw,K as Ao,L as Mn,a as Nw,e as ud,f as kw,g as dl,m as hd,n as mu,q as Lw,r as Fw,t as dd,y as mt,z as Ss}from"./chunk-FIK6BGJA.js";import{a as zo,c as I}from"./chunk-NFQMHT45.js";import{a as P,b as je,c as fu,g as ld,h as _}from"./chunk-WT5K5NLM.js";var $w=null,vu=!1,pd=1,wu=Symbol("SIGNAL");function Ae(t){let e=$w;return $w=t,e}function OP(){return vu}var gd={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function VP(t){if(!(bd(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===pd)){if(!t.producerMustRecompute(t)&&!_u(t)){t.dirty=!1,t.lastCleanEpoch=pd;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=pd}}function PP(t){if(t.liveConsumerNode===void 0)return;let e=vu;vu=!0;try{for(let n of t.liveConsumerNode)n.dirty||qw(n)}finally{vu=e}}function qw(t){t.dirty=!0,PP(t),t.consumerMarkedDirty?.(t)}function vd(t){return t&&(t.nextProducerIndex=0),Ae(t)}function yd(t,e){if(Ae(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(bd(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)_d(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function _u(t){yu(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(VP(n),r!==n.version))return!0}return!1}function wd(t){if(yu(t),bd(t))for(let e=0;e<t.producerNode.length;e++)_d(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function _d(t,e){if(NP(t),yu(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)_d(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];yu(i),i.producerIndexOfThis[r]=e}}function bd(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function yu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function NP(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function kP(){throw new Error}var LP=kP;function Ww(t){LP=t}function Gw(t,e,n){let r=Object.create(FP);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;let i=c=>{r.cleanupFn=c};function o(c){return c.fn===null&&c.schedule===null}function s(c){o(c)||(wd(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=md)}let a=()=>{if(r.fn===null)return;if(OP())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!_u(r))return;r.hasRun=!0;let c=vd(r);try{r.cleanupFn(),r.cleanupFn=md,r.fn(i)}finally{yd(r,c)}};return r.ref={notify:()=>qw(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>s(r),[wu]:r},r.ref}var md=()=>{},FP=je(P({},gd),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:md});function se(t){return typeof t=="function"}function nc(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var bu=nc(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function xs(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var He=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(se(r))try{r()}catch(o){e=o instanceof bu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Yw(o)}catch(s){e=e??[],s instanceof bu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new bu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Yw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&xs(n,e)}remove(e){let{_finalizers:n}=this;n&&xs(n,e),e instanceof t&&e._removeParent(this)}};He.EMPTY=(()=>{let t=new He;return t.closed=!0,t})();var Ed=He.EMPTY;function Eu(t){return t instanceof He||t&&"closed"in t&&se(t.remove)&&se(t.add)&&se(t.unsubscribe)}function Yw(t){se(t)?t():t.unsubscribe()}var Vr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var rc={setTimeout(t,e,...n){let{delegate:r}=rc;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=rc;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Cu(t){rc.setTimeout(()=>{let{onUnhandledError:e}=Vr;if(e)e(t);else throw t})}function Pr(){}var Qw=Cd("C",void 0,void 0);function Kw(t){return Cd("E",void 0,t)}function Xw(t){return Cd("N",t,void 0)}function Cd(t,e,n){return{kind:t,value:e,error:n}}var As=null;function ic(t){if(Vr.useDeprecatedSynchronousErrorHandling){let e=!As;if(e&&(As={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=As;if(As=null,n)throw r}}else t()}function Zw(t){Vr.useDeprecatedSynchronousErrorHandling&&As&&(As.errorThrown=!0,As.error=t)}var zs=class extends He{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Eu(e)&&e.add(this)):this.destination=jP}static create(e,n,r){return new $i(e,n,r)}next(e){this.isStopped?Td(Xw(e),this):this._next(e)}error(e){this.isStopped?Td(Kw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Td(Qw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},HP=Function.prototype.bind;function Md(t,e){return HP.call(t,e)}var Id=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Mu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Mu(r)}else Mu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Mu(n)}}},$i=class extends zs{constructor(e,n,r){super();let i;if(se(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Vr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Md(e.next,o),error:e.error&&Md(e.error,o),complete:e.complete&&Md(e.complete,o)}):i=e}this.destination=new Id(i)}};function Mu(t){Vr.useDeprecatedSynchronousErrorHandling?Zw(t):Cu(t)}function BP(t){throw t}function Td(t,e){let{onStoppedNotification:n}=Vr;n&&rc.setTimeout(()=>n(t,e))}var jP={closed:!0,next:Pr,error:BP,complete:Pr};var oc=typeof Symbol=="function"&&Symbol.observable||"@@observable";function rn(t){return t}function Dd(...t){return Sd(t)}function Sd(t){return t.length===0?rn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var le=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=$P(n)?n:new $i(n,r,i);return ic(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Jw(r),new r((i,o)=>{let s=new $i({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[oc](){return this}pipe(...n){return Sd(n)(this)}toPromise(n){return n=Jw(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Jw(t){var e;return(e=t??Vr.Promise)!==null&&e!==void 0?e:Promise}function UP(t){return t&&se(t.next)&&se(t.error)&&se(t.complete)}function $P(t){return t&&t instanceof zs||UP(t)&&Eu(t)}function xd(t){return se(t?.lift)}function ie(t){return e=>{if(xd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function te(t,e,n,r,i){return new Ad(t,e,n,r,i)}var Ad=class extends zs{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function sc(){return ie((t,e)=>{let n=null;t._refCount++;let r=te(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ro=class extends le{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,xd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new He;let n=this.getSubject();e.add(this.source.subscribe(te(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=He.EMPTY)}return e}refCount(){return sc()(this)}};var ac={schedule(t){let e=requestAnimationFrame,n=cancelAnimationFrame,{delegate:r}=ac;r&&(e=r.requestAnimationFrame,n=r.cancelAnimationFrame);let i=e(o=>{n=void 0,t(o)});return new He(()=>n?.(i))},requestAnimationFrame(...t){let{delegate:e}=ac;return(e?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){let{delegate:e}=ac;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};var e_=nc(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Q=(()=>{class t extends le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Tu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new e_}next(n){ic(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ic(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ic(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Ed:(this.currentObservers=null,o.push(n),new He(()=>{this.currentObservers=null,xs(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new le;return n.source=this,n}}return t.create=(e,n)=>new Tu(e,n),t})(),Tu=class extends Q{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Ed}};var on=class extends Q{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var pl={now(){return(pl.delegate||Date).now()},delegate:void 0};var ml=class extends Q{constructor(e=1/0,n=1/0,r=pl){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var Iu=class extends He{constructor(e,n){super()}schedule(e,n=0){return this}};var gl={setInterval(t,e,...n){let{delegate:r}=gl;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=gl;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ri=class extends Iu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return gl.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&gl.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,xs(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var qP=1,zd,Rd={};function t_(t){return t in Rd?(delete Rd[t],!0):!1}var n_={setImmediate(t){let e=qP++;return Rd[e]=!0,zd||(zd=Promise.resolve()),zd.then(()=>t_(e)&&t()),e},clearImmediate(t){t_(t)}};var{setImmediate:WP,clearImmediate:GP}=n_,vl={setImmediate(...t){let{delegate:e}=vl;return(e?.setImmediate||WP)(...t)},clearImmediate(t){let{delegate:e}=vl;return(e?.clearImmediate||GP)(t)},delegate:void 0};var Du=class extends ri{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,r=0){return r!==null&&r>0?super.requestAsyncId(e,n,r):(e.actions.push(this),e._scheduled||(e._scheduled=vl.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,n,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(e,n,r);let{actions:o}=e;n!=null&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==n&&(vl.clearImmediate(n),e._scheduled===n&&(e._scheduled=void 0))}};var cc=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};cc.now=pl.now;var ii=class extends cc{constructor(e,n=cc.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Su=class extends ii{flush(e){this._active=!0;let n=this._scheduled;this._scheduled=void 0;let{actions:r}=this,i;e=e||r.shift();do if(i=e.execute(e.state,e.delay))break;while((e=r[0])&&e.id===n&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===n&&r.shift();)e.unsubscribe();throw i}}};var Od=new Su(Du);var kn=new ii(ri),Vd=kn;var xu=class extends ri{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Au=class extends ii{};var Pd=new Au(xu);var zu=class extends ri{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,r=0){return r!==null&&r>0?super.requestAsyncId(e,n,r):(e.actions.push(this),e._scheduled||(e._scheduled=ac.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,n,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(e,n,r);let{actions:o}=e;n!=null&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==n&&(ac.cancelAnimationFrame(n),e._scheduled=void 0)}};var Ru=class extends ii{flush(e){this._active=!0;let n=this._scheduled;this._scheduled=void 0;let{actions:r}=this,i;e=e||r.shift();do if(i=e.execute(e.state,e.delay))break;while((e=r[0])&&e.id===n&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===n&&r.shift();)e.unsubscribe();throw i}}};var Nd=new Ru(zu);var Tn=new le(t=>t.complete());function Ou(t){return t&&se(t.schedule)}function kd(t){return t[t.length-1]}function lc(t){return se(kd(t))?t.pop():void 0}function oi(t){return Ou(kd(t))?t.pop():void 0}function r_(t,e){return typeof kd(t)=="number"?t.pop():e}var uc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Vu(t){return se(t?.then)}function Pu(t){return se(t[oc])}function Nu(t){return Symbol.asyncIterator&&se(t?.[Symbol.asyncIterator])}function ku(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function YP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Lu=YP();function Fu(t){return se(t?.[Lu])}function Hu(t){return Vw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield pu(n.read());if(i)return yield pu(void 0);yield yield pu(r)}}finally{n.releaseLock()}})}function Bu(t){return se(t?.getReader)}function Se(t){if(t instanceof le)return t;if(t!=null){if(Pu(t))return QP(t);if(uc(t))return KP(t);if(Vu(t))return XP(t);if(Nu(t))return i_(t);if(Fu(t))return ZP(t);if(Bu(t))return JP(t)}throw ku(t)}function QP(t){return new le(e=>{let n=t[oc]();if(se(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function KP(t){return new le(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function XP(t){return new le(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Cu)})}function ZP(t){return new le(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function i_(t){return new le(e=>{eN(t,e).catch(n=>e.error(n))})}function JP(t){return i_(Hu(t))}function eN(t,e){var n,r,i,o;return Ow(this,void 0,void 0,function*(){try{for(n=Pw(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ln(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function er(t,e=0){return ie((n,r)=>{n.subscribe(te(r,i=>Ln(r,t,()=>r.next(i),e),()=>Ln(r,t,()=>r.complete(),e),i=>Ln(r,t,()=>r.error(i),e)))})}function Nr(t,e=0){return ie((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function o_(t,e){return Se(t).pipe(Nr(e),er(e))}function s_(t,e){return Se(t).pipe(Nr(e),er(e))}function a_(t,e){return new le(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function c_(t,e){return new le(n=>{let r;return Ln(n,e,()=>{r=t[Lu](),Ln(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>se(r?.return)&&r.return()})}function ju(t,e){if(!t)throw new Error("Iterable cannot be null");return new le(n=>{Ln(n,e,()=>{let r=t[Symbol.asyncIterator]();Ln(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function l_(t,e){return ju(Hu(t),e)}function u_(t,e){if(t!=null){if(Pu(t))return o_(t,e);if(uc(t))return a_(t,e);if(Vu(t))return s_(t,e);if(Nu(t))return ju(t,e);if(Fu(t))return c_(t,e);if(Bu(t))return l_(t,e)}throw ku(t)}function ze(t,e){return e?u_(t,e):Se(t)}function j(...t){let e=oi(t);return ze(t,e)}function hc(t,e){let n=se(t)?t:()=>t,r=i=>i.error(n());return new le(e?i=>e.schedule(r,0,i):r)}function qi(t){return!!t&&(t instanceof le||se(t.lift)&&se(t.subscribe))}var Wi=nc(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function h_(t){return t instanceof Date&&!isNaN(t)}function W(t,e){return ie((n,r)=>{let i=0;n.subscribe(te(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:tN}=Array;function nN(t,e){return tN(e)?t(...e):t(e)}function dc(t){return W(e=>nN(t,e))}var{isArray:rN}=Array,{getPrototypeOf:iN,prototype:oN,keys:sN}=Object;function Uu(t){if(t.length===1){let e=t[0];if(rN(e))return{args:e,keys:null};if(aN(e)){let n=sN(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function aN(t){return t&&typeof t=="object"&&iN(t)===oN}function $u(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Rs(...t){let e=oi(t),n=lc(t),{args:r,keys:i}=Uu(t);if(r.length===0)return ze([],e);let o=new le(cN(r,e,i?s=>$u(i,s):rn));return n?o.pipe(dc(n)):o}function cN(t,e,n=rn){return r=>{d_(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)d_(e,()=>{let l=ze(t[c],e),u=!1;l.subscribe(te(r,h=>{o[c]=h,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function d_(t,e,n){t?Ln(n,t,e):e()}function f_(t,e,n,r,i,o,s,a){let c=[],l=0,u=0,h=!1,d=()=>{h&&!c.length&&!l&&e.complete()},f=m=>l<r?p(m):c.push(m),p=m=>{o&&e.next(m),l++;let g=!1;Se(n(m,u++)).subscribe(te(e,b=>{i?.(b),o?f(b):e.next(b)},()=>{g=!0},void 0,()=>{if(g)try{for(l--;c.length&&l<r;){let b=c.shift();s?Ln(e,s,()=>p(b)):p(b)}d()}catch(b){e.error(b)}}))};return t.subscribe(te(e,f,()=>{h=!0,d()})),()=>{a?.()}}function dt(t,e,n=1/0){return se(e)?dt((r,i)=>W((o,s)=>e(r,o,i,s))(Se(t(r,i))),n):(typeof e=="number"&&(n=e),ie((r,i)=>f_(r,i,t,n)))}function si(t=1/0){return dt(rn,t)}function p_(){return si(1)}function ai(...t){return p_()(ze(t,oi(t)))}function qu(t){return new le(e=>{Se(t()).subscribe(e)})}function lN(...t){let e=lc(t),{args:n,keys:r}=Uu(t),i=new le(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let h=!1;Se(n[u]).subscribe(te(o,d=>{h||(h=!0,l--),a[u]=d},()=>c--,void 0,()=>{(!c||!h)&&(l||o.next(r?$u(r,a):a),o.complete())}))}});return e?i.pipe(dc(e)):i}var uN=["addListener","removeListener"],hN=["addEventListener","removeEventListener"],dN=["on","off"];function Oo(t,e,n,r){if(se(n)&&(r=n,n=void 0),r)return Oo(t,e,n).pipe(dc(r));let[i,o]=mN(t)?hN.map(s=>a=>t[s](e,a,n)):fN(t)?uN.map(m_(t,e)):pN(t)?dN.map(m_(t,e)):[];if(!i&&uc(t))return dt(s=>Oo(s,e,n))(Se(t));if(!i)throw new TypeError("Invalid event target");return new le(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function m_(t,e){return n=>r=>t[n](e,r)}function fN(t){return se(t.addListener)&&se(t.removeListener)}function pN(t){return se(t.on)&&se(t.off)}function mN(t){return se(t.addEventListener)&&se(t.removeEventListener)}function Os(t=0,e,n=Vd){let r=-1;return e!=null&&(Ou(e)?n=e:r=e),new le(i=>{let o=h_(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function gN(t=0,e=kn){return t<0&&(t=0),Os(t,t,e)}function yl(...t){let e=oi(t),n=r_(t,1/0),r=t;return r.length?r.length===1?Se(r[0]):si(n)(ze(r,e)):Tn}function Pe(t,e){return ie((n,r)=>{let i=0;n.subscribe(te(r,o=>t.call(e,o,i++)&&r.next(o)))})}function g_(t){return ie((e,n)=>{let r=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let l=i;i=null,n.next(l)}s&&n.complete()},c=()=>{o=null,s&&n.complete()};e.subscribe(te(n,l=>{r=!0,i=l,o||Se(t(l)).subscribe(o=te(n,a,c))},()=>{s=!0,(!r||!o||o.closed)&&n.complete()}))})}function Vs(t,e=kn){return g_(()=>Os(t,e))}function ci(t){return ie((e,n)=>{let r=null,i=!1,o;r=e.subscribe(te(n,void 0,void 0,s=>{o=Se(t(s,ci(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function v_(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(te(s,u=>{let h=l++;c=a?t(c,u,h):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Gi(t,e){return se(e)?dt(t,e,1):dt(t,1)}function vN(t){return ie((e,n)=>{let r=!1,i=null,o=null,s=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let a=i;i=null,n.next(a)}};e.subscribe(te(n,a=>{o?.unsubscribe(),r=!0,i=a,o=te(n,s,Pr),Se(t(a)).subscribe(o)},()=>{s(),n.complete()},void 0,()=>{i=o=null}))})}function Ld(t,e=kn){return ie((n,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function c(){let l=s+t,u=e.now();if(u<l){i=this.schedule(void 0,l-u),r.add(i);return}a()}n.subscribe(te(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function Vo(t){return ie((e,n)=>{let r=!1;e.subscribe(te(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Ct(t){return t<=0?()=>Tn:ie((e,n)=>{let r=0;e.subscribe(te(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function y_(){return ie((t,e)=>{t.subscribe(te(e,Pr))})}function Ps(t){return W(()=>t)}function Fd(t,e){return e?n=>ai(e.pipe(Ct(1),y_()),n.pipe(Fd(t))):dt((n,r)=>Se(t(n,r)).pipe(Ct(1),Ps(n)))}function yN(t,e=kn){let n=Os(t,e);return Fd(()=>n)}function Po(t,e=rn){return t=t??wN,ie((n,r)=>{let i,o=!0;n.subscribe(te(r,s=>{let a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function wN(t,e){return t===e}function Wu(t=_N){return ie((e,n)=>{let r=!1;e.subscribe(te(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function _N(){return new Wi}function w_(t,e){return e?n=>n.pipe(w_((r,i)=>Se(t(r,i)).pipe(W((o,s)=>e(r,o,i,s))))):ie((n,r)=>{let i=0,o=null,s=!1;n.subscribe(te(r,a=>{o||(o=te(r,void 0,()=>{o=null,s&&r.complete()}),Se(t(a,i++)).subscribe(o))},()=>{s=!0,!o&&r.complete()}))})}function li(t){return ie((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function tr(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Pe((i,o)=>t(i,o,r)):rn,Ct(1),n?Vo(e):Wu(()=>new Wi))}function fc(t){return t<=0?()=>Tn:ie((e,n)=>{let r=[];e.subscribe(te(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Hd(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Pe((i,o)=>t(i,o,r)):rn,fc(1),n?Vo(e):Wu(()=>new Wi))}function Ns(){return ie((t,e)=>{let n,r=!1;t.subscribe(te(e,i=>{let o=n;n=i,r&&e.next([o,i]),r=!0}))})}function ks(t,e){return ie(v_(t,e,arguments.length>=2,!0))}function wl(t={}){let{connector:e=()=>new Q,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,c,l=0,u=!1,h=!1,d=()=>{a?.unsubscribe(),a=void 0},f=()=>{d(),s=c=void 0,u=h=!1},p=()=>{let m=s;f(),m?.unsubscribe()};return ie((m,g)=>{l++,!h&&!u&&d();let b=c=c??e();g.add(()=>{l--,l===0&&!h&&!u&&(a=Bd(p,i))}),b.subscribe(g),!s&&l>0&&(s=new $i({next:S=>b.next(S),error:S=>{h=!0,d(),a=Bd(f,n,S),b.error(S)},complete:()=>{u=!0,d(),a=Bd(f,r),b.complete()}}),Se(m).subscribe(s))})(o)}}function Bd(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new $i({next:()=>{r.unsubscribe(),t()}});return Se(e(...n)).subscribe(r)}function pc(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,wl({connector:()=>new ml(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function jd(t){return Pe((e,n)=>t<=n)}function sn(...t){let e=oi(t);return ie((n,r)=>{(e?ai(t,n,e):ai(t,n)).subscribe(r)})}function at(t,e){return ie((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(te(r,c=>{i?.unsubscribe();let l=0,u=o++;Se(t(c,u)).subscribe(i=te(r,h=>r.next(e?e(c,h,u,l++):h),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Gu(t,e){return se(e)?at(()=>t,e):at(()=>t)}function rt(t){return ie((e,n)=>{Se(t).subscribe(te(n,()=>n.complete(),Pr)),!n.closed&&e.subscribe(n)})}function Ud(t,e=!1){return ie((n,r)=>{let i=0;n.subscribe(te(r,o=>{let s=t(o,i++);(s||e)&&r.next(o),!s&&r.complete()}))})}function gt(t,e,n){let r=se(t)||e||n?{next:t,error:e,complete:n}:t;return r?ie((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(te(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):rn}function bN(...t){let e=lc(t);return ie((n,r)=>{let i=t.length,o=new Array(i),s=t.map(()=>!1),a=!1;for(let c=0;c<i;c++)Se(t[c]).subscribe(te(r,l=>{o[c]=l,!a&&!s[c]&&(s[c]=!0,(a=s.every(rn))&&(s=null))},Pr));n.subscribe(te(r,c=>{if(a){let l=[c,...o];r.next(e?e(...l):l)}}))})}var db="https://g.co/ng/security#xss",R=class extends Error{constructor(e,n){super(P3(e,n)),this.code=e}};function P3(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Nl(t){return{toString:t}.toString()}var Yu="__parameters__";function EN(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function C5(t,e,n){return Nl(()=>{let r=EN(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let h=c.hasOwnProperty(Yu)?c[Yu]:Object.defineProperty(c,Yu,{value:[]})[Yu];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var St=globalThis;function Ze(t){for(let e in t)if(t[e]===Ze)return e;throw Error("Could not find renamed property on target object.")}function CN(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Sn(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Sn).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function cf(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var MN=Ze({__forward_ref__:Ze});function N3(t){return t.__forward_ref__=N3,t.toString=function(){return Sn(this())},t}function In(t){return fb(t)?t():t}function fb(t){return typeof t=="function"&&t.hasOwnProperty(MN)&&t.__forward_ref__===N3}function A(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function me(t){return{providers:t.providers||[],imports:t.imports||[]}}function k3(t){return __(t,mb)||__(t,gb)}function pb(t){return k3(t)!==null}function __(t,e){return t.hasOwnProperty(e)?t[e]:null}function TN(t){let e=t&&(t[mb]||t[gb]);return e||null}function b_(t){return t&&(t.hasOwnProperty(E_)||t.hasOwnProperty(IN))?t[E_]:null}var mb=Ze({\u0275prov:Ze}),E_=Ze({\u0275inj:Ze}),gb=Ze({ngInjectableDef:Ze}),IN=Ze({ngInjectorDef:Ze}),O=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=A({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function vb(t){return t&&!!t.\u0275providers}var DN=Ze({\u0275cmp:Ze}),SN=Ze({\u0275dir:Ze}),xN=Ze({\u0275pipe:Ze}),AN=Ze({\u0275mod:Ze}),u3=Ze({\u0275fac:Ze}),bl=Ze({__NG_ELEMENT_ID__:Ze}),C_=Ze({__NG_ENV_ID__:Ze});function Hn(t){return typeof t=="string"?t:t==null?"":String(t)}function zN(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Hn(t)}function RN(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new R(-200,t)}function M5(t,e){throw new R(-201,!1)}var xe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(xe||{}),lf;function yb(){return lf}function Fn(t){let e=lf;return lf=t,e}function wb(t,e,n){let r=k3(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&xe.Optional)return null;if(e!==void 0)return e;M5(t,"Injector")}var ON={},Cl=ON,uf="__NG_DI_FLAG__",h3="ngTempTokenPath",VN="ngTokenPath",PN=/\n/gm,NN="\u0275",M_="__source",wc;function kN(){return wc}function No(t){let e=wc;return wc=t,e}function LN(t,e=xe.Default){if(wc===void 0)throw new R(-203,!1);return wc===null?wb(t,void 0,e):wc.get(t,e&xe.Optional?null:void 0,e)}function v(t,e=xe.Default){return(yb()||LN)(In(t),e)}function x(t,e=xe.Default){return v(t,L3(e))}function L3(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function hf(t){let e=[];for(let n=0;n<t.length;n++){let r=In(t[n]);if(Array.isArray(r)){if(r.length===0)throw new R(900,!1);let i,o=xe.Default;for(let s=0;s<r.length;s++){let a=r[s],c=FN(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(v(i,o))}else e.push(v(r))}return e}function T5(t,e){return t[uf]=e,t.prototype[uf]=e,t}function FN(t){return t[uf]}function HN(t,e,n,r){let i=t[h3];throw e[M_]&&i.unshift(e[M_]),t.message=BN(`
`+t.message,i,n,r),t[VN]=i,t[h3]=null,t}function BN(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==NN?t.slice(2):t;let i=Sn(e);if(Array.isArray(e))i=e.map(Sn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Sn(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(PN,`
  `)}`}var _b=T5(C5("Inject",t=>({token:t})),-1),eo=T5(C5("Optional"),8);var F3=T5(C5("SkipSelf"),4);function Hs(t,e){let n=t.hasOwnProperty(u3);return n?t[u3]:null}function jN(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function UN(t){return t.flat(Number.POSITIVE_INFINITY)}function I5(t,e){t.forEach(n=>Array.isArray(n)?I5(n,e):e(n))}function bb(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function d3(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function $N(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function qN(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function Ys(t,e,n){let r=kl(t,e);return r>=0?t[r|1]=n:(r=~r,qN(t,r,e,n)),r}function $d(t,e){let n=kl(t,e);if(n>=0)return t[n|1]}function kl(t,e){return WN(t,e,1)}function WN(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var bc={},Dn=[],Bs=new O(""),Eb=new O("",-1),Cb=new O(""),f3=class{get(e,n=Cl){if(n===Cl){let r=new Error(`NullInjectorError: No provider for ${Sn(e)}!`);throw r.name="NullInjectorError",r}return n}},Mb=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Mb||{}),di=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(di||{}),Ie=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ie||{});function GN(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function df(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];YN(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function Tb(t){return t===3||t===4||t===6}function YN(t){return t.charCodeAt(0)===64}function Ml(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?T_(t,n,i,null,e[++r]):T_(t,n,i,null,null))}}return t}function T_(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var Ib="ng-template";function QN(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&GN(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(D5(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function D5(t){return t.type===4&&t.value!==Ib}function KN(t,e,n){let r=t.type===4&&!n?Ib:t.value;return e===r}function XN(t,e,n){let r=4,i=t.attrs,o=i!==null?ek(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!kr(r)&&!kr(c))return!1;if(s&&kr(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!KN(t,c,n)||c===""&&e.length===1){if(kr(r))return!1;s=!0}}else if(r&8){if(i===null||!QN(t,i,c,n)){if(kr(r))return!1;s=!0}}else{let l=e[++a],u=ZN(c,i,D5(t),n);if(u===-1){if(kr(r))return!1;s=!0;continue}if(l!==""){let h;if(u>o?h="":h=i[u+1].toLowerCase(),r&2&&l!==h){if(kr(r))return!1;s=!0}}}}return kr(r)||s}function kr(t){return(t&1)===0}function ZN(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return tk(e,t)}function Db(t,e,n=!1){for(let r=0;r<e.length;r++)if(XN(t,e[r],n))return!0;return!1}function JN(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function ek(t){for(let e=0;e<t.length;e++){let n=t[e];if(Tb(n))return e}return t.length}function tk(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function nk(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function I_(t,e){return t?":not("+e.trim()+")":e}function rk(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!kr(s)&&(e+=I_(o,i),i=""),r=s,o=o||!kr(r);n++}return i!==""&&(e+=I_(o,i)),e}function ik(t){return t.map(rk).join(",")}function ok(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!kr(i))break;i=o}r++}return{attrs:e,classes:n}}function pi(t){return Nl(()=>{let e=Rb(t),n=je(P({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Mb.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||di.Emulated,styles:t.styles||Dn,_:null,schemas:t.schemas||null,tView:null,id:""});Ob(n);let r=t.dependencies;return n.directiveDefs=S_(r,!1),n.pipeDefs=S_(r,!0),n.id=ck(n),n})}function sk(t){return Lo(t)||Sb(t)}function ak(t){return t!==null}function ge(t){return Nl(()=>({type:t.type,bootstrap:t.bootstrap||Dn,declarations:t.declarations||Dn,imports:t.imports||Dn,exports:t.exports||Dn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function D_(t,e){if(t==null)return bc;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=Ie.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==Ie.None?[r,a]:r,e[o]=s):n[o]=r}return n}function be(t){return Nl(()=>{let e=Rb(t);return Ob(e),e})}function Ll(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Lo(t){return t[DN]||null}function Sb(t){return t[SN]||null}function xb(t){return t[xN]||null}function Ab(t){let e=Lo(t)||Sb(t)||xb(t);return e!==null?e.standalone:!1}function zb(t,e){let n=t[AN]||null;if(!n&&e===!0)throw new Error(`Type ${Sn(t)} does not have '\u0275mod' property.`);return n}function Rb(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||bc,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Dn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:D_(t.inputs,e),outputs:D_(t.outputs),debugInfo:null}}function Ob(t){t.features?.forEach(e=>e(t))}function S_(t,e){if(!t)return null;let n=e?xb:sk;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(ak)}function ck(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function jo(t){return{\u0275providers:t}}function lk(...t){return{\u0275providers:Vb(!0,t),\u0275fromNgModule:!0}}function Vb(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return I5(e,s=>{let a=s;ff(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Pb(i,o),n}function Pb(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];S5(i,o=>{e(o,r)})}}function ff(t,e,n,r){if(t=In(t),!t)return!1;let i=null,o=b_(t),s=!o&&Lo(t);if(!o&&!s){let c=t.ngModule;if(o=b_(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)ff(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{I5(o.imports,u=>{ff(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Pb(l,e)}if(!a){let l=Hs(i)||(()=>new i);e({provide:i,useFactory:l,deps:Dn},i),e({provide:Cb,useValue:i,multi:!0},i),e({provide:Bs,useValue:()=>v(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;S5(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function S5(t,e){for(let n of t)vb(n)&&(n=n.\u0275providers),Array.isArray(n)?S5(n,e):e(n)}var uk=Ze({provide:String,useValue:Ze});function Nb(t){return t!==null&&typeof t=="object"&&uk in t}function hk(t){return!!(t&&t.useExisting)}function dk(t){return!!(t&&t.useFactory)}function Ec(t){return typeof t=="function"}function fk(t){return!!t.useClass}var H3=new O(""),r3={},pk={},qd;function x5(){return qd===void 0&&(qd=new f3),qd}var Bn=class{},Tl=class extends Bn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,mf(e,s=>this.processProvider(s)),this.records.set(Eb,mc(void 0,this)),i.has("environment")&&this.records.set(Bn,mc(void 0,this));let o=this.records.get(H3);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Cb,Dn,xe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ae(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ae(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=No(this),r=Fn(void 0),i;try{return e()}finally{No(n),Fn(r)}}get(e,n=Cl,r=xe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(C_))return e[C_](this);r=L3(r);let i,o=No(this),s=Fn(void 0);try{if(!(r&xe.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=wk(e)&&k3(e);l&&this.injectableDefInScope(l)?c=mc(pf(e),r3):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&xe.Self?x5():this.parent;return n=r&xe.Optional&&n===Cl?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[h3]=a[h3]||[]).unshift(Sn(e)),o)throw a;return HN(a,e,"R3InjectorError",this.source)}else throw a}finally{Fn(s),No(o)}}resolveInjectorInitializers(){let e=Ae(null),n=No(this),r=Fn(void 0),i;try{let o=this.get(Bs,Dn,xe.Self);for(let s of o)s()}finally{No(n),Fn(r),Ae(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Sn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new R(205,!1)}processProvider(e){e=In(e);let n=Ec(e)?e:In(e&&e.provide),r=gk(e);if(!Ec(e)&&e.multi===!0){let i=this.records.get(n);i||(i=mc(void 0,r3,!0),i.factory=()=>hf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Ae(null);try{return n.value===r3&&(n.value=pk,n.value=n.factory()),typeof n.value=="object"&&n.value&&yk(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ae(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=In(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function pf(t){let e=k3(t),n=e!==null?e.factory:Hs(t);if(n!==null)return n;if(t instanceof O)throw new R(204,!1);if(t instanceof Function)return mk(t);throw new R(204,!1)}function mk(t){if(t.length>0)throw new R(204,!1);let n=TN(t);return n!==null?()=>n.factory(t):()=>new t}function gk(t){if(Nb(t))return mc(void 0,t.useValue);{let e=kb(t);return mc(e,r3)}}function kb(t,e,n){let r;if(Ec(t)){let i=In(t);return Hs(i)||pf(i)}else if(Nb(t))r=()=>In(t.useValue);else if(dk(t))r=()=>t.useFactory(...hf(t.deps||[]));else if(hk(t))r=()=>v(In(t.useExisting));else{let i=In(t&&(t.useClass||t.provide));if(vk(t))r=()=>new i(...hf(t.deps));else return Hs(i)||pf(i)}return r}function mc(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function vk(t){return!!t.deps}function yk(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function wk(t){return typeof t=="function"||typeof t=="object"&&t instanceof O}function mf(t,e){for(let n of t)Array.isArray(n)?mf(n,e):n&&vb(n)?mf(n.\u0275providers,e):e(n)}function mi(t,e){t instanceof Tl&&t.assertNotDestroyed();let n,r=No(t),i=Fn(void 0);try{return e()}finally{No(r),Fn(i)}}function Lb(){return yb()!==void 0||kN()!=null}function Fb(t){if(!Lb())throw new R(-203,!1)}function _k(t){let e=St.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}var nle=Function;function bk(t){return typeof t=="function"}var jn=0,de=1,ue=2,Qt=3,Lr=4,ir=5,nr=6,Il=7,pn=8,Cc=9,Fr=10,We=11,Dl=12,x_=13,zc=14,Un=15,Fl=16,gc=17,Qi=18,B3=19,Hb=20,ko=21,i3=22,js=23,vt=25,A5=1,Sl=6,Ki=7,p3=8,Mc=9,an=10,z5=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(z5||{});function Yi(t){return Array.isArray(t)&&typeof t[A5]=="object"}function gi(t){return Array.isArray(t)&&t[A5]===!0}function R5(t){return(t.flags&4)!==0}function Hl(t){return t.componentOffset>-1}function j3(t){return(t.flags&1)===1}function Xi(t){return!!t.template}function Bb(t){return(t[ue]&512)!==0}var gf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function jb(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function wt(){return Ub}function Ub(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ck),Ek}wt.ngInherit=!0;function Ek(){let t=qb(this),e=t?.current;if(e){let n=t.previous;if(n===bc)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Ck(t,e,n,r,i){let o=this.declaredInputs[r],s=qb(t)||Mk(t,{previous:bc,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new gf(l&&l.currentValue,n,c===bc),jb(t,e,i,n)}var $b="__ngSimpleChanges__";function qb(t){return t[$b]||null}function Mk(t,e){return t[$b]=e}var A_=null;var ui=function(t,e,n){A_?.(t,e,n)},Wb="svg",Tk="math",Ik=!1;function Dk(){return Ik}function Hr(t){for(;Array.isArray(t);)t=t[jn];return t}function Sk(t){for(;Array.isArray(t);){if(typeof t[A5]=="object")return t;t=t[jn]}return null}function Gb(t,e){return Hr(e[t])}function or(t,e){return Hr(e[t.index])}function O5(t,e){return t.data[e]}function U3(t,e){return t[e]}function Uo(t,e){let n=e[t];return Yi(n)?n:n[jn]}function xk(t){return(t[ue]&4)===4}function V5(t){return(t[ue]&128)===128}function Ak(t){return gi(t[Qt])}function Tc(t,e){return e==null?null:t[e]}function Yb(t){t[gc]=0}function zk(t){t[ue]&1024||(t[ue]|=1024,V5(t)&&xl(t))}function Rk(t,e){for(;t>0;)e=e[zc],t--;return e}function P5(t){return!!(t[ue]&9216||t[js]?.dirty)}function vf(t){t[Fr].changeDetectionScheduler?.notify(1),P5(t)?xl(t):t[ue]&64&&(Dk()?(t[ue]|=1024,xl(t)):t[Fr].changeDetectionScheduler?.notify())}function xl(t){t[Fr].changeDetectionScheduler?.notify();let e=Al(t);for(;e!==null&&!(e[ue]&8192||(e[ue]|=8192,!V5(e)));)e=Al(e)}function Qb(t,e){if((t[ue]&256)===256)throw new R(911,!1);t[ko]===null&&(t[ko]=[]),t[ko].push(e)}function Ok(t,e){if(t[ko]===null)return;let n=t[ko].indexOf(e);n!==-1&&t[ko].splice(n,1)}function Al(t){let e=t[Qt];return gi(e)?e[Qt]:e}var ye={lFrame:rE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Vk(){return ye.lFrame.elementDepthCount}function Pk(){ye.lFrame.elementDepthCount++}function Nk(){ye.lFrame.elementDepthCount--}function Kb(){return ye.bindingsEnabled}function Rc(){return ye.skipHydrationRootTNode!==null}function kk(t){return ye.skipHydrationRootTNode===t}function Lk(t){ye.skipHydrationRootTNode=t}function Fk(){ye.skipHydrationRootTNode=null}function oe(){return ye.lFrame.lView}function ct(){return ye.lFrame.tView}function Xb(t){return ye.lFrame.contextLView=t,t[pn]}function Zb(t){return ye.lFrame.contextLView=null,t}function cn(){let t=Jb();for(;t!==null&&t.type===64;)t=t.parent;return t}function Jb(){return ye.lFrame.currentTNode}function Hk(){let t=ye.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Qs(t,e){let n=ye.lFrame;n.currentTNode=t,n.isParent=e}function N5(){return ye.lFrame.isParent}function k5(){ye.lFrame.isParent=!1}function Bk(){return ye.lFrame.contextLView}function $o(){let t=ye.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function L5(){return ye.lFrame.bindingIndex}function jk(t){return ye.lFrame.bindingIndex=t}function qo(){return ye.lFrame.bindingIndex++}function Bl(t){let e=ye.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Uk(){return ye.lFrame.inI18n}function $k(t,e){let n=ye.lFrame;n.bindingIndex=n.bindingRootIndex=t,yf(e)}function qk(){return ye.lFrame.currentDirectiveIndex}function yf(t){ye.lFrame.currentDirectiveIndex=t}function F5(t){let e=ye.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function eE(){return ye.lFrame.currentQueryIndex}function H5(t){ye.lFrame.currentQueryIndex=t}function Wk(t){let e=t[de];return e.type===2?e.declTNode:e.type===1?t[ir]:null}function tE(t,e,n){if(n&xe.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&xe.Host);)if(i=Wk(o),i===null||(o=o[zc],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ye.lFrame=nE();return r.currentTNode=e,r.lView=t,!0}function B5(t){let e=nE(),n=t[de];ye.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function nE(){let t=ye.lFrame,e=t===null?null:t.child;return e===null?rE(t):e}function rE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function iE(){let t=ye.lFrame;return ye.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var oE=iE;function j5(){let t=iE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Gk(t){return(ye.lFrame.contextLView=Rk(t,ye.lFrame.contextLView))[pn]}function vi(){return ye.lFrame.selectedIndex}function Us(t){ye.lFrame.selectedIndex=t}function Oc(){let t=ye.lFrame;return O5(t.tView,t.selectedIndex)}function rle(){ye.lFrame.currentNamespace=Wb}function sE(){return ye.lFrame.currentNamespace}var aE=!0;function $3(){return aE}function yi(t){aE=t}function Yk(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Ub(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function q3(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function o3(t,e,n){cE(t,e,3,n)}function s3(t,e,n,r){(t[ue]&3)===n&&cE(t,e,n,r)}function Wd(t,e){let n=t[ue];(n&3)===e&&(n&=16383,n+=1,t[ue]=n)}function cE(t,e,n,r){let i=r!==void 0?t[gc]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[gc]+=65536),(a<o||o==-1)&&(Qk(t,n,e,c),t[gc]=(t[gc]&4294901760)+c+2),c++}function z_(t,e){ui(4,t,e);let n=Ae(null);try{e.call(t)}finally{Ae(n),ui(5,t,e)}}function Qk(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[ue]>>14<t[gc]>>16&&(t[ue]&3)===e&&(t[ue]+=16384,z_(a,o)):z_(a,o)}var _c=-1,$s=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function Kk(t){return t instanceof $s}function Xk(t){return(t.flags&8)!==0}function Zk(t){return(t.flags&16)!==0}function lE(t){return t!==_c}function m3(t){return t&32767}function Jk(t){return t>>16}function g3(t,e){let n=Jk(t),r=e;for(;n>0;)r=r[zc],n--;return r}var wf=!0;function v3(t){let e=wf;return wf=t,e}var eL=256,uE=eL-1,hE=5,tL=0,hi={};function nL(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(bl)&&(r=n[bl]),r==null&&(r=n[bl]=tL++);let i=r&uE,o=1<<i;e.data[t+(i>>hE)]|=o}function y3(t,e){let n=dE(t,e);if(n!==-1)return n;let r=e[de];r.firstCreatePass&&(t.injectorIndex=e.length,Gd(r.data,t),Gd(e,null),Gd(r.blueprint,null));let i=U5(t,e),o=t.injectorIndex;if(lE(i)){let s=m3(i),a=g3(i,e),c=a[de].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Gd(t,e){t.push(0,0,0,0,0,0,0,0,e)}function dE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function U5(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=vE(i),r===null)return _c;if(n++,i=i[zc],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return _c}function _f(t,e,n){nL(t,e,n)}function rL(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(Tb(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function fE(t,e,n){if(n&xe.Optional||t!==void 0)return t;M5(e,"NodeInjector")}function pE(t,e,n,r){if(n&xe.Optional&&r===void 0&&(r=null),!(n&(xe.Self|xe.Host))){let i=t[Cc],o=Fn(void 0);try{return i?i.get(e,r,n&xe.Optional):wb(e,r,n&xe.Optional)}finally{Fn(o)}}return fE(r,e,n)}function mE(t,e,n,r=xe.Default,i){if(t!==null){if(e[ue]&2048&&!(r&xe.Self)){let s=aL(t,e,n,r,hi);if(s!==hi)return s}let o=gE(t,e,n,r,hi);if(o!==hi)return o}return pE(e,n,r,i)}function gE(t,e,n,r,i){let o=oL(n);if(typeof o=="function"){if(!tE(e,t,r))return r&xe.Host?fE(i,n,r):pE(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&xe.Optional))M5(n);else return s}finally{oE()}}else if(typeof o=="number"){let s=null,a=dE(t,e),c=_c,l=r&xe.Host?e[Un][ir]:null;for((a===-1||r&xe.SkipSelf)&&(c=a===-1?U5(t,e):e[a+8],c===_c||!O_(r,!1)?a=-1:(s=e[de],a=m3(c),e=g3(c,e)));a!==-1;){let u=e[de];if(R_(o,a,u.data)){let h=iL(a,e,n,s,r,l);if(h!==hi)return h}c=e[a+8],c!==_c&&O_(r,e[de].data[a+8]===l)&&R_(o,a,e)?(s=u,a=m3(c),e=g3(c,e)):a=-1}}return i}function iL(t,e,n,r,i,o){let s=e[de],a=s.data[t+8],c=r==null?Hl(a)&&wf:r!=s&&(a.type&3)!==0,l=i&xe.Host&&o===a,u=a3(a,s,n,c,l);return u!==null?qs(e,s,u,a):hi}function a3(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,h=r?a:a+u,d=i?a+u:l;for(let f=h;f<d;f++){let p=s[f];if(f<c&&n===p||f>=c&&p.type===n)return f}if(i){let f=s[c];if(f&&Xi(f)&&f.type===n)return c}return null}function qs(t,e,n,r){let i=t[n],o=e.data;if(Kk(i)){let s=i;s.resolving&&RN(zN(o[n]));let a=v3(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Fn(s.injectImpl):null,u=tE(t,r,xe.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&Yk(n,o[n],e)}finally{l!==null&&Fn(l),v3(a),s.resolving=!1,oE()}}return i}function oL(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(bl)?t[bl]:void 0;return typeof e=="number"?e>=0?e&uE:sL:e}function R_(t,e,n){let r=1<<t;return!!(n[e+(t>>hE)]&r)}function O_(t,e){return!(t&xe.Self)&&!(t&xe.Host&&e)}var Fs=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return mE(this._tNode,this._lView,e,L3(r),n)}};function sL(){return new Fs(cn(),oe())}function Vc(t){return Nl(()=>{let e=t.prototype.constructor,n=e[u3]||bf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[u3]||bf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function bf(t){return fb(t)?()=>{let e=bf(In(t));return e&&e()}:Hs(t)}function aL(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[ue]&2048&&!(s[ue]&512);){let a=gE(o,s,n,r|xe.Self,hi);if(a!==hi)return a;let c=o.parent;if(!c){let l=s[Hb];if(l){let u=l.get(n,hi,r);if(u!==hi)return u}c=vE(s),s=s[zc]}o=c}return i}function vE(t){let e=t[de],n=e.type;return n===2?e.declTNode:n===1?t[ir]:null}function $5(t){return rL(cn(),t)}function V_(t,e=null,n=null,r){let i=yE(t,e,n,r);return i.resolveInjectorInitializers(),i}function yE(t,e=null,n=null,r,i=new Set){let o=[n||Dn,lk(t)];return r=r||(typeof t=="object"?void 0:Sn(t)),new Tl(o,e||x5(),r||null,i)}var Kt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return V_({name:""},i,r,"");{let o=r.name??"";return V_({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=Cl,e.NULL=new f3,e.\u0275prov=A({token:e,providedIn:"any",factory:()=>v(Eb)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var cL="ngOriginalError";function Yd(t){return t[cL]}var Br=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Yd(e);for(;n&&Yd(n);)n=Yd(n);return n||null}},wE=new O("",{providedIn:"root",factory:()=>x(Br).handleError.bind(void 0)}),W3=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=lL,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Ef=class extends W3{constructor(e){super(),this._lView=e}onDestroy(e){return Qb(this._lView,e),()=>Ok(this._lView,e)}};function lL(){return new Ef(oe())}function uL(){return Pc(cn(),oe())}function Pc(t,e){return new Ce(or(t,e))}var Ce=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=uL;let t=e;return t})();function hL(t){return t instanceof Ce?t.nativeElement:t}var Cf=class extends Q{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,Lb()&&(this.destroyRef=x(W3,{optional:!0})??void 0)}emit(e){let n=Ae(null);try{super.next(e)}finally{Ae(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Qd(o),i&&(i=Qd(i)),s&&(s=Qd(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof He&&e.add(a),a}};function Qd(t){return e=>{setTimeout(t,void 0,e)}}var Ue=Cf;function dL(){return this._results[Symbol.iterator]()}var Mf=class t{get changes(){return this._changes??=new Ue}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=dL)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=UN(e);(this._changesDetected=!jN(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},fL="ngSkipHydration",pL="ngskiphydration";function _E(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===pL)return!0}return!1}function bE(t){return t.hasAttribute(fL)}function w3(t){return(t.flags&128)===128}function mL(t){if(w3(t))return!0;let e=t.parent;for(;e;){if(w3(t)||_E(e))return!0;e=e.parent}return!1}var EE=new Map,gL=0;function vL(){return gL++}function yL(t){EE.set(t[B3],t)}function wL(t){EE.delete(t[B3])}var P_="__ngContext__";function Fo(t,e){Yi(e)?(t[P_]=e[B3],yL(e)):t[P_]=e}function CE(t){return TE(t[Dl])}function ME(t){return TE(t[Lr])}function TE(t){for(;t!==null&&!gi(t);)t=t[Lr];return t}var Tf;function IE(t){Tf=t}function jl(){if(Tf!==void 0)return Tf;if(typeof document<"u")return document;throw new R(210,!1)}var Ul=new O("",{providedIn:"root",factory:()=>_L}),_L="ng",q5=new O(""),xt=new O("",{providedIn:"platform",factory:()=>"unknown"});var wi=new O(""),to=new O("",{providedIn:"root",factory:()=>jl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function bL(){let t=new Ks;return x(xt)==="browser"&&(t.store=EL(jl(),x(Ul))),t}var Ks=(()=>{let e=class e{constructor(){this.store={},this.onSerializeCallbacks={}}get(r,i){return this.store[r]!==void 0?this.store[r]:i}set(r,i){this.store[r]=i}remove(r){delete this.store[r]}hasKey(r){return this.store.hasOwnProperty(r)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(r,i){this.onSerializeCallbacks[r]=i}toJson(){for(let r in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(r))try{this.store[r]=this.onSerializeCallbacks[r]()}catch(i){console.warn("Exception in onSerialize callback: ",i)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}};e.\u0275prov=A({token:e,providedIn:"root",factory:bL});let t=e;return t})();function EL(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var DE="h",SE="b",If=function(t){return t.FirstChild="f",t.NextSibling="n",t}(If||{}),CL="e",ML="t",W5="c",xE="x",_3="r",TL="i",IL="n",DL="d",SL="__nghData__",AE=SL,Kd="ngh",xL="nghm",zE=()=>null;function AL(t,e,n=!1){let r=t.getAttribute(Kd);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",a=n?i:s,c={};if(r!==""){let u=e.get(Ks,null,{optional:!0});u!==null&&(c=u.get(AE,[])[Number(r)])}let l={data:c,firstChild:t.firstChild??null};return n&&(l.firstChild=t,G3(l,0,t.nextSibling)),a?t.setAttribute(Kd,a):t.removeAttribute(Kd),l}function zL(){zE=AL}function G5(t,e,n=!1){return zE(t,e,n)}function RL(t){let e=t._lView;return e[de].type===2?null:(Bb(e)&&(e=e[vt]),e)}function OL(t){return t.textContent?.replace(/\s/gm,"")}function VL(t){let e=jl(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=OL(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function G3(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function Df(t,e){return t.segmentHeads?.[e]??null}function PL(t,e){let n=t.data,r=n[CL]?.[e]??null;return r===null&&n[W5]?.[e]&&(r=Y5(t,e)),r}function RE(t,e){return t.data[W5]?.[e]??null}function Y5(t,e){let n=RE(t,e)??[],r=0;for(let i of n)r+=i[_3]*(i[xE]??1);return r}function Y3(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[DL];t.disconnectedNodes=n?new Set(n):null}return!!t.disconnectedNodes?.has(e)}var Qu=new O(""),OE=!1,VE=new O("",{providedIn:"root",factory:()=>OE}),NL=new O(""),Ku;function kL(){if(Ku===void 0&&(Ku=null,St.trustedTypes))try{Ku=St.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ku}function Q3(t){return kL()?.createHTML(t)||t}var Xu;function PE(){if(Xu===void 0&&(Xu=null,St.trustedTypes))try{Xu=St.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Xu}function N_(t){return PE()?.createHTML(t)||t}function k_(t){return PE()?.createScriptURL(t)||t}var Zi=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${db})`}},Sf=class extends Zi{getTypeName(){return"HTML"}},xf=class extends Zi{getTypeName(){return"Style"}},Af=class extends Zi{getTypeName(){return"Script"}},zf=class extends Zi{getTypeName(){return"URL"}},Rf=class extends Zi{getTypeName(){return"ResourceURL"}};function sr(t){return t instanceof Zi?t.changingThisBreaksApplicationSecurity:t}function no(t,e){let n=LL(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${db})`)}return n===e}function LL(t){return t instanceof Zi&&t.getTypeName()||null}function NE(t){return new Sf(t)}function kE(t){return new xf(t)}function LE(t){return new Af(t)}function FE(t){return new zf(t)}function HE(t){return new Rf(t)}function FL(t){let e=new Vf(t);return HL()?new Of(e):e}var Of=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Q3(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},Vf=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Q3(e),n}};function HL(){try{return!!new window.DOMParser().parseFromString(Q3(""),"text/html")}catch{return!1}}var BL=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function K3(t){return t=String(t),t.match(BL)?t:"unsafe:"+t}function ro(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function $l(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var BE=ro("area,br,col,hr,img,wbr"),jE=ro("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),UE=ro("rp,rt"),jL=$l(UE,jE),UL=$l(jE,ro("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$L=$l(UE,ro("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),L_=$l(BE,UL,$L,jL),$E=ro("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),qL=ro("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),WL=ro("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),GL=$l($E,qL,WL),YL=ro("script,style,template"),Pf=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=XL(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=KL(n);if(o){n=o;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=F_(e).toLowerCase();if(!L_.hasOwnProperty(n))return this.sanitizedSomething=!0,!YL.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!GL.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;$E[a]&&(c=K3(c)),this.buf.push(" ",s,'="',H_(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=F_(e).toLowerCase();L_.hasOwnProperty(n)&&!BE.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(H_(e))}};function QL(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function KL(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw qE(e);return e}function XL(t){let e=t.firstChild;if(e&&QL(t,e))throw qE(e);return e}function F_(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function qE(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var ZL=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,JL=/([^\#-~ |!])/g;function H_(t){return t.replace(/&/g,"&amp;").replace(ZL,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(JL,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Zu;function Q5(t,e){let n=null;try{Zu=Zu||FL(t);let r=e?String(e):"";n=Zu.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Zu.getInertBodyElement(r)}while(r!==o);let a=new Pf().sanitizeChildren(B_(n)||n);return Q3(a)}finally{if(n){let r=B_(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function B_(t){return"content"in t&&eF(t)?t.content:null}function eF(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var ar=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ar||{});function WE(t){let e=K5();return e?N_(e.sanitize(ar.HTML,t)||""):no(t,"HTML")?N_(sr(t)):Q5(jl(),Hn(t))}function tF(t){let e=K5();return e?e.sanitize(ar.URL,t)||"":no(t,"URL")?sr(t):K3(Hn(t))}function nF(t){let e=K5();if(e)return k_(e.sanitize(ar.RESOURCE_URL,t)||"");if(no(t,"ResourceURL"))return k_(sr(t));throw new R(904,!1)}function rF(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?nF:tF}function GE(t,e,n){return rF(e,n)(t)}function K5(){let t=oe();return t&&t[Fr].sanitizer}var iF=/^>|^->|<!--|-->|--!>|<!-$/g,oF=/(<|>)/g,sF="\u200B$1\u200B";function aF(t){return t.replace(iF,e=>e.replace(oF,sF))}function cF(t){return t.ownerDocument.body}function YE(t){return t instanceof Function?t():t}function _l(t){return(t??x(Kt)).get(xt)==="browser"}var fi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(fi||{}),lF;function X5(t,e){return lF(t,e)}function vc(t,e,n,r,i){if(r!=null){let o,s=!1;gi(r)?o=r:Yi(r)&&(s=!0,r=r[jn]);let a=Hr(r);t===0&&n!==null?i==null?ZE(e,n,a):b3(e,n,a,i||null,!0):t===1&&n!==null?b3(e,n,a,i||null,!0):t===2?t7(e,a,s):t===3&&e.destroyNode(a),o!=null&&MF(e,t,o,n,i)}}function Z5(t,e){return t.createText(e)}function uF(t,e,n){t.setValue(e,n)}function J5(t,e){return t.createComment(aF(e))}function X3(t,e,n){return t.createElement(e,n)}function hF(t,e){QE(t,e),e[jn]=null,e[ir]=null}function dF(t,e,n,r,i,o){r[jn]=i,r[ir]=e,e0(t,r,n,1,i,o)}function QE(t,e){e[Fr].changeDetectionScheduler?.notify(1),e0(t,e,e[We],2,null,null)}function fF(t){let e=t[Dl];if(!e)return Xd(t[de],t);for(;e;){let n=null;if(Yi(e))n=e[Dl];else{let r=e[an];r&&(n=r)}if(!n){for(;e&&!e[Lr]&&e!==t;)Yi(e)&&Xd(e[de],e),e=e[Qt];e===null&&(e=t),Yi(e)&&Xd(e[de],e),n=e&&e[Lr]}e=n}}function pF(t,e,n,r){let i=an+r,o=n.length;r>0&&(n[i-1][Lr]=e),r<o-an?(e[Lr]=n[i],bb(n,an+r,e)):(n.push(e),e[Lr]=null),e[Qt]=n;let s=e[Fl];s!==null&&n!==s&&mF(s,e);let a=e[Qi];a!==null&&a.insertView(t),vf(e),e[ue]|=128}function mF(t,e){let n=t[Mc],i=e[Qt][Qt][Un];e[Un]!==i&&(t[ue]|=z5.HasTransplantedViews),n===null?t[Mc]=[e]:n.push(e)}function KE(t,e){let n=t[Mc],r=n.indexOf(e);n.splice(r,1)}function zl(t,e){if(t.length<=an)return;let n=an+e,r=t[n];if(r){let i=r[Fl];i!==null&&i!==t&&KE(i,r),e>0&&(t[n-1][Lr]=r[Lr]);let o=d3(t,an+e);hF(r[de],r);let s=o[Qi];s!==null&&s.detachView(o[de]),r[Qt]=null,r[Lr]=null,r[ue]&=-129}return r}function Z3(t,e){if(!(e[ue]&256)){let n=e[We];n.destroyNode&&e0(t,e,n,3,null,null),fF(e)}}function Xd(t,e){if(e[ue]&256)return;let n=Ae(null);try{e[ue]&=-129,e[ue]|=256,e[js]&&wd(e[js]),vF(t,e),gF(t,e),e[de].type===1&&e[We].destroy();let r=e[Fl];if(r!==null&&gi(e[Qt])){r!==e[Qt]&&KE(r,e);let i=e[Qi];i!==null&&i.detachView(t)}wL(e)}finally{Ae(n)}}function gF(t,e){let n=t.cleanup,r=e[Il];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Il]=null);let i=e[ko];if(i!==null){e[ko]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function vF(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof $s)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];ui(4,a,c);try{c.call(a)}finally{ui(5,a,c)}}else{ui(4,i,o);try{o.call(i)}finally{ui(5,i,o)}}}}}function XE(t,e,n){return yF(t,e.parent,n)}function yF(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[jn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===di.None||o===di.Emulated)return null}return or(r,n)}}function b3(t,e,n,r,i){t.insertBefore(e,n,r,i)}function ZE(t,e,n){t.appendChild(e,n)}function j_(t,e,n,r,i){r!==null?b3(t,e,n,r,i):ZE(t,e,n)}function wF(t,e,n,r){t.removeChild(e,n,r)}function e7(t,e){return t.parentNode(e)}function _F(t,e){return t.nextSibling(e)}function JE(t,e,n){return EF(t,e,n)}function bF(t,e,n){return t.type&40?or(t,n):null}var EF=bF,U_;function J3(t,e,n,r){let i=XE(t,r,e),o=e[We],s=r.parent||e[ir],a=JE(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)j_(o,i,n[c],a,!1);else j_(o,i,n,a,!1);U_!==void 0&&U_(o,r,e,n,i)}function c3(t,e){if(e!==null){let n=e.type;if(n&3)return or(e,t);if(n&4)return Nf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return c3(t,r);{let i=t[e.index];return gi(i)?Nf(-1,i):Hr(i)}}else{if(n&32)return X5(e,t)()||Hr(t[e.index]);{let r=eC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Al(t[Un]);return c3(i,r)}else return c3(t,e.next)}}}return null}function eC(t,e){if(e!==null){let r=t[Un][ir],i=e.projection;return r.projection[i]}return null}function Nf(t,e){let n=an+t+1;if(n<e.length){let r=e[n],i=r[de].firstChild;if(i!==null)return c3(r,i)}return e[Ki]}function t7(t,e,n){let r=e7(t,e);r&&wF(t,r,e,n)}function tC(t){t.textContent=""}function n7(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],c=n.type;if(s&&e===0&&(a&&Fo(Hr(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)n7(t,e,n.child,r,i,o,!1),vc(e,t,i,a,o);else if(c&32){let l=X5(n,r),u;for(;u=l();)vc(e,t,i,u,o);vc(e,t,i,a,o)}else c&16?nC(t,e,r,n,i,o):vc(e,t,i,a,o);n=s?n.projectionNext:n.next}}function e0(t,e,n,r,i,o){n7(n,r,t.firstChild,e,i,o,!1)}function CF(t,e,n){let r=e[We],i=XE(t,n,e),o=n.parent||e[ir],s=JE(o,n,e);nC(r,0,e,n,i,s)}function nC(t,e,n,r,i,o){let s=n[Un],c=s[ir].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];vc(e,t,i,u,o)}else{let l=c,u=s[Qt];w3(r)&&(l.flags|=128),n7(t,e,l,u,i,o,!0)}}function MF(t,e,n,r,i){let o=n[Ki],s=Hr(n);o!==s&&vc(e,t,r,o,i);for(let a=an;a<n.length;a++){let c=n[a];e0(c[de],c,t,e,r,o)}}function TF(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:fi.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=fi.Important),t.setStyle(n,r,i,o))}}function IF(t,e,n){t.setAttribute(e,"style",n)}function rC(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function iC(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&df(t,e,r),i!==null&&rC(t,e,i),o!==null&&IF(t,e,o)}var mn={};function cr(t=1){oC(ct(),oe(),vi()+t,!1)}function oC(t,e,n,r){if(!r)if((e[ue]&3)===3){let o=t.preOrderCheckHooks;o!==null&&o3(e,o,n)}else{let o=t.preOrderHooks;o!==null&&s3(e,o,0,n)}Us(n)}function E(t,e=xe.Default){let n=oe();if(n===null)return v(t,e);let r=cn();return mE(r,n,In(t),e)}function sC(){let t="invalid";throw new Error(t)}function aC(t,e,n,r,i,o){let s=Ae(null);try{let a=null;i&Ie.SignalBased&&(a=e[r][wu]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Ie.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):jb(e,a,r,o)}finally{Ae(s)}}function DF(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Us(~i);else{let o=i,s=n[++r],a=n[++r];$k(s,o);let c=e[o];a(2,c)}}}finally{Us(-1)}}function t0(t,e,n,r,i,o,s,a,c,l,u){let h=e.blueprint.slice();return h[jn]=i,h[ue]=r|4|128|8|64,(l!==null||t&&t[ue]&2048)&&(h[ue]|=2048),Yb(h),h[Qt]=h[zc]=t,h[pn]=n,h[Fr]=s||t&&t[Fr],h[We]=a||t&&t[We],h[Cc]=c||t&&t[Cc]||null,h[ir]=o,h[B3]=vL(),h[nr]=u,h[Hb]=l,h[Un]=e.type==2?t[Un]:h,h}function Nc(t,e,n,r,i){let o=t.data[e];if(o===null)o=SF(t,e,n,r,i),Uk()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=Hk();o.injectorIndex=s===null?-1:s.injectorIndex}return Qs(o,!0),o}function SF(t,e,n,r,i){let o=Jb(),s=N5(),a=s?o:o&&o.parent,c=t.data[e]=PF(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function cC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function lC(t,e,n,r,i){let o=vi(),s=r&2;try{Us(-1),s&&e.length>vt&&oC(t,e,vt,!1),ui(s?2:0,i),n(r,i)}finally{Us(o),ui(s?3:1,i)}}function r7(t,e,n){if(R5(e)){let r=Ae(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{Ae(r)}}}function i7(t,e,n){Kb()&&(BF(t,e,n,or(n,e)),(n.flags&64)===64&&fC(t,e,n))}function o7(t,e,n=or){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function uC(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=s7(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function s7(t,e,n,r,i,o,s,a,c,l,u){let h=vt+r,d=h+i,f=xF(h,d),p=typeof l=="function"?l():l;return f[de]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}function xF(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:mn);return n}function AF(t,e,n,r){let o=r.get(VE,OE)||n===di.ShadowDom,s=t.selectRootElement(e,o);return zF(s),s}function zF(t){hC(t)}var hC=()=>null;function RF(t){bE(t)?tC(t):VL(t)}function OF(){hC=RF}function VF(t,e,n,r){let i=gC(e);i.push(n),t.firstCreatePass&&vC(t).push(r,i.length-1)}function PF(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Rc()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function $_(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=Ie.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?q_(r,n,l,a,c):q_(r,n,l,a)}return r}function q_(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function NF(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let h=o[u],d=n?n.get(h):null,f=d?d.inputs:null,p=d?d.outputs:null;c=$_(0,h.inputs,u,c,f),l=$_(1,h.outputs,u,l,p);let m=c!==null&&s!==null&&!D5(e)?ZF(c,u,s):null;a.push(m)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function kF(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function ql(t,e,n,r,i,o,s,a){let c=or(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(c7(t,n,u,r,i),Hl(e)&&LF(n,e.index)):e.type&3?(r=kF(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function LF(t,e){let n=Uo(e,t);n[ue]&16||(n[ue]|=64)}function a7(t,e,n,r){if(Kb()){let i=r===null?null:{"":-1},o=UF(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&dC(t,e,n,s,i,a),i&&$F(n,r,i)}n.mergedAttrs=Ml(n.mergedAttrs,n.attrs)}function dC(t,e,n,r,i,o){for(let l=0;l<r.length;l++)_f(y3(n,e),t,r[l].type);WF(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=cC(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=Ml(n.mergedAttrs,u.hostAttrs),GF(t,n,e,c,u),qF(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let h=u.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}NF(t,n,o)}function FF(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;HF(s)!=a&&s.push(a),s.push(n,r,o)}}function HF(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function BF(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Hl(n)&&YF(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||y3(n,e),Fo(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=qs(e,t,a,n);if(Fo(l,e),s!==null&&XF(e,a-i,l,c,n,s),Xi(c)){let u=Uo(n.index,e);u[pn]=qs(e,t,a,n)}}}function fC(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=qk();try{Us(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];yf(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&jF(c,l)}}finally{Us(-1),yf(s)}}function jF(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function UF(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(Db(e,s.selectors,!1))if(r||(r=[]),Xi(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;kf(t,e,c)}else r.unshift(s),kf(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function kf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function $F(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new R(-301,!1);r.push(e[i],o)}}}function qF(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Xi(e)&&(n[""]=t)}}function WF(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function GF(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Hs(i.type,!0)),s=new $s(o,Xi(i),E);t.blueprint[r]=s,n[r]=s,FF(t,e,r,cC(t,n,i.hostVars,mn),i)}function YF(t,e,n){let r=or(e,t),i=uC(n),o=t[Fr].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=n0(t,t0(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function QF(t,e,n,r,i,o){let s=or(t,e);KF(e[We],s,o,t.value,n,r,i)}function KF(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Hn(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function XF(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],h=s[a++];aC(r,n,c,l,u,h)}}function ZF(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function pC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function mC(t,e){let n=t.contentQueries;if(n!==null){let r=Ae(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];H5(o),a.contentQueries(2,e[s],s)}}}finally{Ae(r)}}}function n0(t,e){return t[Dl]?t[x_][Lr]=e:t[Dl]=e,t[x_]=e,e}function Lf(t,e,n){H5(0);let r=Ae(null);try{e(t,n)}finally{Ae(r)}}function gC(t){return t[Il]||(t[Il]=[])}function vC(t){return t.cleanup||(t.cleanup=[])}function yC(t,e,n){return(t===null||Xi(t))&&(n=Sk(n[e.index])),n[We]}function wC(t,e){let n=t[Cc],r=n?n.get(Br,null):null;r&&r.handleError(e)}function c7(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],u=t.data[s];aC(u,l,r,a,c,i)}}function l7(t,e,n){let r=Gb(e,t);uF(t[We],r,n)}function JF(t,e){let n=Uo(e,t),r=n[de];eH(r,n);let i=n[jn];i!==null&&n[nr]===null&&(n[nr]=G5(i,n[Cc])),u7(r,n,n[pn])}function eH(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function u7(t,e,n){B5(e);try{let r=t.viewQuery;r!==null&&Lf(1,r,n);let i=t.template;i!==null&&lC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Qi]?.finishViewCreation(t),t.staticContentQueries&&mC(t,e),t.staticViewQueries&&Lf(2,t.viewQuery,n);let o=t.components;o!==null&&tH(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ue]&=-5,j5()}}function tH(t,e){for(let n=0;n<e.length;n++)JF(t,e[n])}function r0(t,e,n,r){let i=Ae(null);try{let o=e.tView,a=t[ue]&4096?4096:16,c=t0(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[Fl]=l;let u=t[Qi];return u!==null&&(c[Qi]=u.createEmbeddedView(o)),u7(o,c,n),c}finally{Ae(i)}}function _C(t,e){let n=an+e;if(n<t.length)return t[n]}function Rl(t,e){return!e||e.firstChild===null||w3(t)}function i0(t,e,n,r=!0){let i=e[de];if(pF(i,e,t,n),r){let s=Nf(n,t),a=e[We],c=e7(a,t[Ki]);c!==null&&dF(i,t[ir],a,e,c,s)}let o=e[nr];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function bC(t,e){let n=zl(t,e);return n!==void 0&&Z3(n[de],n),n}function E3(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(Hr(o)),gi(o)&&nH(o,r);let s=n.type;if(s&8)E3(t,e,n.child,r);else if(s&32){let a=X5(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=eC(e,n);if(Array.isArray(a))r.push(...a);else{let c=Al(e[Un]);E3(c[de],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function nH(t,e){for(let n=an;n<t.length;n++){let r=t[n],i=r[de].firstChild;i!==null&&E3(r[de],r,i,e)}t[Ki]!==t[jn]&&e.push(t[Ki])}var EC=[];function rH(t){return t[js]??iH(t)}function iH(t){let e=EC.pop()??Object.create(sH);return e.lView=t,e}function oH(t){t.lView[js]!==t&&(t.lView=null,EC.push(t))}var sH=je(P({},gd),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{xl(t.lView)},consumerOnSignalRead(){this.lView[js]=this}}),CC=100;function MC(t,e=!0,n=0){let r=t[Fr],i=r.rendererFactory,o=!1;o||i.begin?.();try{aH(t,n)}catch(s){throw e&&wC(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function aH(t,e){Ff(t,e);let n=0;for(;P5(t);){if(n===CC)throw new R(103,!1);n++,Ff(t,1)}}function cH(t,e,n,r){let i=e[ue];if((i&256)===256)return;let o=!1;!o&&e[Fr].inlineEffectRunner?.flush(),B5(e);let s=null,a=null;!o&&lH(t)&&(a=rH(e),s=vd(a));try{Yb(e),jk(t.bindingStartIndex),n!==null&&lC(t,e,n,2,r);let c=(i&3)===3;if(!o)if(c){let h=t.preOrderCheckHooks;h!==null&&o3(e,h,null)}else{let h=t.preOrderHooks;h!==null&&s3(e,h,0,null),Wd(e,0)}if(uH(e),TC(e,0),t.contentQueries!==null&&mC(t,e),!o)if(c){let h=t.contentCheckHooks;h!==null&&o3(e,h)}else{let h=t.contentHooks;h!==null&&s3(e,h,1),Wd(e,1)}DF(t,e);let l=t.components;l!==null&&DC(e,l,0);let u=t.viewQuery;if(u!==null&&Lf(2,u,r),!o)if(c){let h=t.viewCheckHooks;h!==null&&o3(e,h)}else{let h=t.viewHooks;h!==null&&s3(e,h,2),Wd(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[i3]){for(let h of e[i3])h();e[i3]=null}o||(e[ue]&=-73)}catch(c){throw xl(e),c}finally{a!==null&&(yd(a,s),oH(a)),j5()}}function lH(t){return t.type!==2}function TC(t,e){for(let n=CE(t);n!==null;n=ME(n))for(let r=an;r<n.length;r++){let i=n[r];IC(i,e)}}function uH(t){for(let e=CE(t);e!==null;e=ME(e)){if(!(e[ue]&z5.HasTransplantedViews))continue;let n=e[Mc];for(let r=0;r<n.length;r++){let i=n[r],o=i[Qt];zk(i)}}}function hH(t,e,n){let r=Uo(e,t);IC(r,n)}function IC(t,e){V5(t)&&Ff(t,e)}function Ff(t,e){let r=t[de],i=t[ue],o=t[js],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&_u(o)),o&&(o.dirty=!1),t[ue]&=-9217,s)cH(r,t,r.template,t[pn]);else if(i&8192){TC(t,1);let a=r.components;a!==null&&DC(t,a,1)}}function DC(t,e,n){for(let r=0;r<e.length;r++)hH(t,e[r],n)}function h7(t){for(t[Fr].changeDetectionScheduler?.notify();t;){t[ue]|=64;let e=Al(t);if(Bb(t)&&!e)return t;t=e}return null}var Ws=class{get rootNodes(){let e=this._lView,n=e[de];return E3(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[pn]}set context(e){this._lView[pn]=e}get destroyed(){return(this._lView[ue]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Qt];if(gi(e)){let n=e[p3],r=n?n.indexOf(this):-1;r>-1&&(zl(e,r),d3(n,r))}this._attachedToViewContainer=!1}Z3(this._lView[de],this._lView)}onDestroy(e){Qb(this._lView,e)}markForCheck(){h7(this._cdRefInjectingView||this._lView)}detach(){this._lView[ue]&=-129}reattach(){vf(this._lView),this._lView[ue]|=128}detectChanges(){this._lView[ue]|=1024,MC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new R(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,QE(this._lView[de],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new R(902,!1);this._appRef=e,vf(this._lView)}},yt=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=pH;let t=e;return t})(),dH=yt,fH=class extends dH{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=r0(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Ws(i)}};function pH(){return o0(cn(),oe())}function o0(t,e){return t.type&4?new fH(e,t,Pc(t,e)):null}function SC(t){let e=t[Sl]??[],r=t[Qt][We];for(let i of e)mH(i,r);t[Sl]=Dn}function mH(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[_3];for(;n<i;){let o=r.nextSibling;t7(e,r,!1),r=o,n++}}}function xC(t){SC(t);for(let e=an;e<t.length;e++)C3(t[e])}function gH(t){let e=t[nr]?.i18nNodes;if(e){let n=t[We];for(let r of e.values())t7(n,r,!1);t[nr].i18nNodes=void 0}}function C3(t){gH(t);let e=t[de];for(let n=vt;n<e.bindingStartIndex;n++)if(gi(t[n])){let r=t[n];xC(r)}else Yi(t[n])&&C3(t[n])}function vH(t){let e=t._views;for(let n of e){let r=RL(n);if(r!==null&&r[jn]!==null)if(Yi(r))C3(r);else{let i=r[jn];C3(i),xC(r)}}}var yH=new RegExp(`^(\\d+)*(${SE}|${DE})*(.*)`);function wH(t){let e=t.match(yH),[n,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[c,l,u]of o.matchAll(/(f|n)(\d*)/g)){let h=parseInt(u,10)||1;a.push(l,h)}return[s,...a]}function _H(t){return!t.prev&&t.parent?.type===8}function Zd(t){return t.index-vt}function bH(t,e){let n=t.i18nNodes;if(n){let r=n.get(e);return r&&n.delete(e),r}return null}function s0(t,e,n,r){let i=Zd(r),o=bH(t,i);if(!o){let s=t.data[IL];if(s?.[i])o=CH(s[i],n);else if(e.firstChild===r)o=t.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(_H(r)){let l=Zd(r.parent);o=Df(t,l)}else{let l=or(c,n);if(a)o=l.firstChild;else{let u=Zd(c),h=Df(t,u);if(c.type===2&&h){let f=Y5(t,u)+1;o=a0(f,h)}else o=l.nextSibling}}}}return o}function a0(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function EH(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case If.FirstChild:n=n.firstChild;break;case If.NextSibling:n=n.nextSibling;break}}return n}function CH(t,e){let[n,...r]=wH(t),i;if(n===DE)i=e[Un][jn];else if(n===SE)i=cF(e[Un][jn]);else{let o=Number(n);i=Hr(e[o+vt])}return EH(i,r)}function MH(t,e){let n=[];for(let r of e)for(let i=0;i<(r[xE]??1);i++){let o={data:r,firstChild:null};r[_3]>0&&(o.firstChild=t,t=a0(r[_3],t)),n.push(o)}return[t,n]}var AC=()=>null;function TH(t,e){let n=t[Sl];return!e||n===null||n.length===0?null:n[0].data[TL]===e?n.shift():(SC(t),null)}function IH(){AC=TH}function Ol(t,e){return AC(t,e)}var Ic=class{},Hf=class{},M3=class{};function DH(t){let e=Error(`No component factory found for ${Sn(t)}.`);return e[SH]=t,e}var SH="ngComponent";var Bf=class{resolveComponentFactory(e){throw DH(e)}},Wo=(()=>{let e=class e{};e.NULL=new Bf;let t=e;return t})(),rr=class{},ln=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>xH();let t=e;return t})();function xH(){let t=oe(),e=cn(),n=Uo(e.index,t);return(Yi(n)?n:t)[We]}var AH=(()=>{let e=class e{};e.\u0275prov=A({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Jd={};var W_=new Set;function _i(t){W_.has(t)||(W_.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function G_(...t){}function zH(){let t=typeof St.requestAnimationFrame=="function",e=St[t?"requestAnimationFrame":"setTimeout"],n=St[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var K=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ue(!1),this.onMicrotaskEmpty=new Ue(!1),this.onStable=new Ue(!1),this.onError=new Ue(!1),typeof Zone>"u")throw new R(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=zH().nativeRequestAnimationFrame,VH(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new R(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new R(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,RH,G_,G_);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},RH={};function d7(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function OH(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(St,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,jf(t),t.isCheckStableRunning=!0,d7(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),jf(t))}function VH(t){let e=()=>{OH(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(PH(a))return n.invokeTask(i,o,s,a);try{return Y_(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Q_(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return Y_(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Q_(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,jf(t),d7(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function jf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Y_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Q_(t){t._nesting--,d7(t)}var Uf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ue,this.onMicrotaskEmpty=new Ue,this.onStable=new Ue,this.onError=new Ue}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function PH(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function NH(t="zone.js",e){return t==="noop"?new Uf:t==="zone.js"?new K(e):t}var yc=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(yc||{}),kH={destroy(){}};function f7(t,e){!e&&Fb(f7);let n=e?.injector??x(Kt);if(!_l(n))return kH;_i("NgAfterNextRender");let r=n.get(p7),i=r.handler??=new qf,o=e?.phase??yc.MixedReadWrite,s=()=>{i.unregister(c),a()},a=n.get(W3).onDestroy(s),c=mi(n,()=>new $f(o,()=>{s(),t()}));return i.register(c),{destroy:s}}var $f=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=x(K),this.errorHandler=x(Br,{optional:!0}),x(Ic,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},qf=class{constructor(){this.executingCallbacks=!1,this.buckets={[yc.EarlyRead]:new Set,[yc.Write]:new Set,[yc.MixedReadWrite]:new Set,[yc.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},p7=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=A({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function T3(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=cf(i,a);else if(o==2){let c=a,l=e[++s];r=cf(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var I3=class extends Wo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Lo(e);return new Dc(n,this.ngModule)}};function K_(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function LH(t){let e=t.toLowerCase();return e==="svg"?Wb:e==="math"?Tk:null}var Wf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=L3(r);let i=this.injector.get(e,Jd,r);return i!==Jd||n===Jd?i:this.parentInjector.get(e,n,r)}},Dc=class extends M3{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=K_(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return K_(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=ik(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Ae(null);try{i=i||this.ngModule;let s=i instanceof Bn?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Wf(e,s):e,c=a.get(rr,null);if(c===null)throw new R(407,!1);let l=a.get(AH,null),u=a.get(p7,null),h=a.get(Ic,null),d={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:h},f=c.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",m=r?AF(f,r,this.componentDef.encapsulation,a):X3(f,p,LH(p)),g=512;this.componentDef.signals?g|=4096:this.componentDef.onPush||(g|=16);let b=null;m!==null&&(b=G5(m,a,!0));let S=s7(0,null,null,1,0,null,null,null,null,null,null),M=t0(null,S,null,g,null,null,d,f,a,null,b);B5(M);let N,Z;try{let B=this.componentDef,re,Me=null;B.findHostDirectiveDefs?(re=[],Me=new Map,B.findHostDirectiveDefs(B,re,Me),re.push(B)):re=[B];let Ot=FH(M,m),Vt=HH(Ot,m,B,re,M,d,f);Z=O5(S,vt),m&&UH(f,B,m,r),n!==void 0&&$H(Z,this.ngContentSelectors,n),N=jH(Vt,B,re,Me,M,[qH]),u7(S,M,null)}finally{j5()}return new Gf(this.componentType,N,Pc(Z,M),M,Z)}finally{Ae(o)}}},Gf=class extends Hf{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Ws(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;c7(o[de],o,i,e,n),this.previousInputValues.set(e,n);let s=Uo(this._tNode.index,o);h7(s)}}get injector(){return new Fs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function FH(t,e){let n=t[de],r=vt;return t[r]=e,Nc(n,r,2,"#host",null)}function HH(t,e,n,r,i,o,s){let a=i[de];BH(r,t,e,s);let c=null;e!==null&&(c=G5(e,i[Cc]));let l=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let h=t0(i,uC(n),null,u,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&kf(a,t,r.length-1),n0(i,h),i[t.index]=h}function BH(t,e,n,r){for(let i of t)e.mergedAttrs=Ml(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(T3(e,e.mergedAttrs,!0),n!==null&&iC(r,n,e))}function jH(t,e,n,r,i,o){let s=cn(),a=i[de],c=or(s,i);dC(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let h=s.directiveStart+u,d=qs(i,a,h,s);Fo(d,i)}fC(a,i,s),c&&Fo(c,i);let l=qs(i,a,s.directiveStart+s.componentOffset,s);if(t[pn]=i[pn]=l,o!==null)for(let u of o)u(l,e);return r7(a,s,i),l}function UH(t,e,n,r){if(r)df(t,n,["ng-version","17.3.4"]);else{let{attrs:i,classes:o}=ok(e.selectors[0]);i&&df(t,n,i),o&&o.length>0&&rC(t,n,o.join(" "))}}function $H(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function qH(){let t=cn();q3(oe()[de],t)}var qt=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=WH;let t=e;return t})();function WH(){let t=cn();return RC(t,oe())}var GH=qt,zC=class extends GH{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Pc(this._hostTNode,this._hostLView)}get injector(){return new Fs(this._hostTNode,this._hostLView)}get parentInjector(){let e=U5(this._hostTNode,this._hostLView);if(lE(e)){let n=g3(e,this._hostLView),r=m3(e),i=n[de].data[r+8];return new Fs(i,n)}else return new Fs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=X_(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-an}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Ol(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Rl(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!bk(e),a;if(s)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let c=s?e:new Dc(Lo(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let m=(s?l:this.parentInjector).get(Bn,null);m&&(o=m)}let u=Lo(c.componentType??{}),h=Ol(this._lContainer,u?.id??null),d=h?.firstChild??null,f=c.create(l,i,d,o);return this.insertImpl(f.hostView,a,Rl(this._hostTNode,h)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Ak(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Qt],l=new zC(c,c[ir],c[Qt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return i0(s,i,o,r),e.attachToViewContainerRef(),bb(ef(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=X_(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=zl(this._lContainer,n);r&&(d3(ef(this._lContainer),n),Z3(r[de],r))}detach(e){let n=this._adjustIndex(e,-1),r=zl(this._lContainer,n);return r&&d3(ef(this._lContainer),n)!=null?new Ws(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function X_(t){return t[p3]}function ef(t){return t[p3]||(t[p3]=[])}function RC(t,e){let n,r=e[t.index];return gi(r)?n=r:(n=pC(r,e,null,t),e[t.index]=n,n0(e,n)),OC(n,e,t,r),new zC(n,t,e)}function YH(t,e){let n=t[We],r=n.createComment(""),i=or(e,t),o=e7(n,i);return b3(n,o,r,_F(n,i),!1),r}var OC=VC,m7=()=>!1;function QH(t,e,n){return m7(t,e,n)}function VC(t,e,n,r){if(t[Ki])return;let i;n.type&8?i=Hr(r):i=YH(e,n),t[Ki]=i}function KH(t,e,n){if(t[Ki]&&t[Sl])return!0;let r=n[nr],i=e.index-vt;if(!r||mL(e)||Y3(r,i))return!1;let s=Df(r,i),a=r.data[W5]?.[i],[c,l]=MH(s,a);return t[Ki]=c,t[Sl]=l,!0}function XH(t,e,n,r){m7(t,n,e)||VC(t,e,n,r)}function ZH(){OC=XH,m7=KH}var Yf=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Qf=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)g7(e,n).matches!==null&&this.queries[n].setDirty()}},D3=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=sB(e):this.predicate=e}},Kf=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Xf=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,JH(n,o)),this.matchTNodeWithReadOption(e,n,a3(n,e,o,!1,!1))}else r===yt?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,a3(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Ce||i===qt||i===yt&&n.type&4)this.addMatch(n.index,-2);else{let o=a3(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function JH(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function eB(t,e){return t.type&11?Pc(t,e):t.type&4?o0(t,e):null}function tB(t,e,n,r){return n===-1?eB(e,t):n===-2?nB(t,e,r):qs(t,t[de],n,e)}function nB(t,e,n){if(n===Ce)return Pc(e,t);if(n===yt)return o0(e,t);if(n===qt)return RC(e,t)}function PC(t,e,n,r){let i=e[Qi].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(tB(e,u,s[c+1],n.metadata.read))}}i.matches=a}return i.matches}function Zf(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=PC(t,e,i,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let h=an;h<u.length;h++){let d=u[h];d[Fl]===d[Qt]&&Zf(d[de],d,l,r)}if(u[Mc]!==null){let h=u[Mc];for(let d=0;d<h.length;d++){let f=h[d];Zf(f[de],f,l,r)}}}}}return r}function rB(t,e){return t[Qi].queries[e].queryList}function NC(t,e,n){let r=new Mf((n&4)===4);return VF(t,e,r,r.destroy),(e[Qi]??=new Qf).queries.push(new Yf(r))-1}function iB(t,e,n){let r=ct();return r.firstCreatePass&&(kC(r,new D3(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),NC(r,oe(),e)}function oB(t,e,n,r){let i=ct();if(i.firstCreatePass){let o=cn();kC(i,new D3(e,n,r),o.index),aB(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return NC(i,oe(),n)}function sB(t){return t.split(",").map(e=>e.trim())}function kC(t,e,n){t.queries===null&&(t.queries=new Kf),t.queries.track(new Xf(e,n))}function aB(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function g7(t,e){return t.queries.getByIndex(e)}function cB(t,e){let n=t[de],r=g7(n,e);return r.crossesNgTemplate?Zf(n,t,e,[]):PC(n,t,r,e)}function lB(t){return typeof t=="function"&&t[wu]!==void 0}function LC(t){return lB(t)&&typeof t.set=="function"}function uB(t){let e=[],n=new Map;function r(i){let o=n.get(i);if(!o){let s=t(i);n.set(i,o=s.then(pB))}return o}return S3.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(l=>{i.template=l}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let l=i.styles.length,u=i.styleUrls;i.styleUrls.forEach((h,d)=>{a.push(""),s.push(r(h).then(f=>{a[l+d]=f,u.splice(u.indexOf(h),1),u.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(l=>{a.push(l),i.styleUrl=void 0}));let c=Promise.all(s).then(()=>mB(o));e.push(c)}),dB(),Promise.all(e).then(()=>{})}var S3=new Map,hB=new Set;function dB(){let t=S3;return S3=new Map,t}function fB(){return S3.size===0}function pB(t){return typeof t=="string"?t:t.text()}function mB(t){hB.delete(t)}function gB(t){return Object.getPrototypeOf(t.prototype).constructor}function jr(t){let e=gB(t.type),n=!0,r=[t];for(;e;){let i;if(Xi(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new R(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Ju(t.inputs),s.inputTransforms=Ju(t.inputTransforms),s.declaredInputs=Ju(t.declaredInputs),s.outputs=Ju(t.outputs);let a=i.hostBindings;a&&bB(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&wB(t,c),l&&_B(t,l),vB(t,i),CN(t.outputs,i.outputs),Xi(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===jr&&(n=!1)}}e=Object.getPrototypeOf(e)}yB(r)}function vB(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function yB(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ml(i.hostAttrs,n=Ml(n,i.hostAttrs))}}function Ju(t){return t===bc?{}:t===Dn?[]:t}function wB(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function _B(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function bB(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Xs(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Ho=class{},Vl=class{};var x3=class extends Ho{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new I3(this);let i=zb(e);this._bootstrapComponents=YE(i.bootstrap),this._r3Injector=yE(e,n,[{provide:Ho,useValue:this},{provide:Wo,useValue:this.componentFactoryResolver},...r],Sn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},A3=class extends Vl{constructor(e){super(),this.moduleType=e}create(e){return new x3(this.moduleType,e,[])}};function EB(t,e,n){return new x3(t,e,n)}var Jf=class extends Ho{constructor(e){super(),this.componentFactoryResolver=new I3(this),this.instance=null;let n=new Tl([...e.providers,{provide:Ho,useValue:this},{provide:Wo,useValue:this.componentFactoryResolver}],e.parent||x5(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function c0(t,e,n=null){return new Jf({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var kc=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new on(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function FC(t){return v7(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function CB(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function v7(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Lc(t,e,n){return t[e]=n}function HC(t,e){return t[e]}function $n(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Sc(t,e,n,r){let i=$n(t,e,n);return $n(t,e+1,r)||i}function BC(t,e,n,r,i){let o=Sc(t,e,n,r);return $n(t,e+2,i)||o}function y7(t,e,n,r,i,o){let s=Sc(t,e,n,r);return Sc(t,e+2,i,o)||s}function Wl(t){return(t.flags&32)===32}function MB(t,e,n,r,i,o,s,a,c){let l=e.consts,u=Nc(e,t,4,s||null,Tc(l,a));a7(e,n,u,Tc(l,c)),q3(e,u);let h=u.tView=s7(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}function Ji(t,e,n,r,i,o,s,a){let c=oe(),l=ct(),u=t+vt,h=l.firstCreatePass?MB(u,l,c,e,n,r,i,o,s):l.data[u];Qs(h,!1);let d=jC(l,c,h,t);$3()&&J3(l,c,d,h),Fo(d,c);let f=pC(d,c,d,h);return c[u]=f,n0(c,f),QH(f,h,c),j3(h)&&i7(l,c,h),s!=null&&o7(c,h,a),Ji}var jC=UC;function UC(t,e,n,r){return yi(!0),e[We].createComment("")}function TB(t,e,n,r){let i=e[nr],o=!i||Rc()||Wl(n)||Y3(i,r);if(yi(o),o)return UC(t,e,n,r);let s=i.data[ML]?.[r]??null;s!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=s);let a=s0(i,t,e,n);G3(i,r,a);let c=Y5(i,r);return a0(c,a)}function IB(){jC=TB}function Fc(t,e,n,r){let i=oe(),o=qo();if($n(i,o,e)){let s=ct(),a=Oc();QF(a,i,t,e,n,r)}return Fc}function w7(t,e,n,r){return $n(t,qo(),n)?e+Hn(n)+r:mn}function $C(t,e,n,r,i,o){let s=L5(),a=Sc(t,s,n,i);return Bl(2),a?e+Hn(n)+r+Hn(i)+o:mn}function DB(t,e,n,r,i,o,s,a){let c=L5(),l=BC(t,c,n,i,s);return Bl(3),l?e+Hn(n)+r+Hn(i)+o+Hn(s)+a:mn}function SB(t,e,n,r,i,o,s,a,c,l){let u=L5(),h=y7(t,u,n,i,s,c);return Bl(4),h?e+Hn(n)+r+Hn(i)+o+Hn(s)+a+Hn(c)+l:mn}function e3(t,e){return t<<17|e<<2}function Gs(t){return t>>17&32767}function xB(t){return(t&2)==2}function AB(t,e){return t&131071|e<<17}function e5(t){return t|2}function xc(t){return(t&131068)>>2}function tf(t,e){return t&-131069|e<<2}function zB(t){return(t&1)===1}function t5(t){return t|1}function RB(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Gs(s),c=xc(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let h=n;u=h[1],(u===null||kl(h,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let d=Gs(t[a+1]);t[r+1]=e3(d,a),d!==0&&(t[d+1]=tf(t[d+1],r)),t[a+1]=AB(t[a+1],r)}else t[r+1]=e3(a,0),a!==0&&(t[a+1]=tf(t[a+1],r)),a=r;else t[r+1]=e3(c,0),a===0?a=r:t[c+1]=tf(t[c+1],r),c=r;l&&(t[r+1]=e5(t[r+1])),Z_(t,u,r,!0),Z_(t,u,r,!1),OB(e,u,t,r,o),s=e3(a,c),o?e.classBindings=s:e.styleBindings=s}function OB(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&kl(o,e)>=0&&(n[r+1]=t5(n[r+1]))}function Z_(t,e,n,r){let i=t[n+1],o=e===null,s=r?Gs(i):xc(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];VB(c,e)&&(a=!0,t[s+1]=r?t5(l):e5(l)),s=r?Gs(l):xc(l)}a&&(t[n+1]=r?e5(i):t5(i))}function VB(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?kl(t,e)>=0:!1}var $t={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function qC(t){return t.substring($t.key,$t.keyEnd)}function PB(t){return t.substring($t.value,$t.valueEnd)}function NB(t){return YC(t),WC(t,Ac(t,0,$t.textEnd))}function WC(t,e){let n=$t.textEnd;return n===e?-1:(e=$t.keyEnd=LB(t,$t.key=e,n),Ac(t,e,n))}function kB(t){return YC(t),GC(t,Ac(t,0,$t.textEnd))}function GC(t,e){let n=$t.textEnd,r=$t.key=Ac(t,e,n);return n===r?-1:(r=$t.keyEnd=FB(t,r,n),r=J_(t,r,n,58),r=$t.value=Ac(t,r,n),r=$t.valueEnd=HB(t,r,n),J_(t,r,n,59))}function YC(t){$t.key=0,$t.keyEnd=0,$t.value=0,$t.valueEnd=0,$t.textEnd=t.length}function Ac(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function LB(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function FB(t,e,n){let r;for(;e<n&&((r=t.charCodeAt(e))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)e++;return e}function J_(t,e,n,r){return e=Ac(t,e,n),e<n&&e++,e}function HB(t,e,n){let r=-1,i=-1,o=-1,s=e,a=s;for(;s<n;){let c=t.charCodeAt(s++);if(c===59)return a;c===34||c===39?a=s=eb(t,c,s,n):e===s-4&&o===85&&i===82&&r===76&&c===40?a=s=eb(t,41,s,n):c>32&&(a=s),o=i,i=r,r=c&-33}return a}function eb(t,e,n,r){let i=-1,o=n;for(;o<r;){let s=t.charCodeAt(o++);if(s==e&&i!==92)return o;s==92&&i===92?i=0:i=s}throw new Error}function qn(t,e,n){let r=oe(),i=qo();if($n(r,i,e)){let o=ct(),s=Oc();ql(o,s,r,t,e,r[We],n,!1)}return qn}function n5(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";c7(t,n,o[s],s,r)}function Hc(t,e,n){return QC(t,e,n,!1),Hc}function bi(t,e){return QC(t,e,null,!0),bi}function sle(t){Gl(ZC,BB,t,!1)}function BB(t,e){for(let n=kB(e);n>=0;n=GC(e,n))ZC(t,qC(e),PB(e))}function ale(t){Gl(GB,l0,t,!0)}function l0(t,e){for(let n=NB(e);n>=0;n=WC(e,n))Ys(t,qC(e),!0)}function QC(t,e,n,r){let i=oe(),o=ct(),s=Bl(2);if(o.firstUpdatePass&&XC(o,t,s,r),e!==mn&&$n(i,s,e)){let a=o.data[vi()];JC(o,a,i,i[We],t,i[s+1]=QB(e,n),r,s)}}function Gl(t,e,n,r){let i=ct(),o=Bl(2);i.firstUpdatePass&&XC(i,null,o,r);let s=oe();if(n!==mn&&$n(s,o,n)){let a=i.data[vi()];if(eM(a,r)&&!KC(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=cf(c,n||"")),n5(i,a,s,n,r)}else YB(i,a,s,s[We],s[o+1],s[o+1]=WB(t,e,n),r,o)}}function KC(t,e){return e>=t.expandoStartIndex}function XC(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[vi()],s=KC(t,n);eM(o,r)&&e===null&&!s&&(e=!1),e=jB(i,o,e,r),RB(i,o,e,n,s,r)}}function jB(t,e,n,r){let i=F5(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=nf(null,t,e,n,r),n=Pl(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=nf(i,t,e,n,r),o===null){let c=UB(t,e,r);c!==void 0&&Array.isArray(c)&&(c=nf(null,t,e,c[1],r),c=Pl(c,e.attrs,r),$B(t,e,r,c))}else o=qB(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function UB(t,e,n){let r=n?e.classBindings:e.styleBindings;if(xc(r)!==0)return t[Gs(r)]}function $B(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Gs(i)]=r}function qB(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Pl(r,s,n)}return Pl(r,e.attrs,n)}function nf(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Pl(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Pl(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Ys(t,s,n?!0:e[++o]))}return t===void 0?null:t}function WB(t,e,n){if(n==null||n==="")return Dn;let r=[],i=sr(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function ZC(t,e,n){Ys(t,e,sr(n))}function GB(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Ys(t,r,n)}function YB(t,e,n,r,i,o,s,a){i===mn&&(i=Dn);let c=0,l=0,u=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;u!==null||h!==null;){let d=c<i.length?i[c+1]:void 0,f=l<o.length?o[l+1]:void 0,p=null,m;u===h?(c+=2,l+=2,d!==f&&(p=h,m=f)):h===null||u!==null&&u<h?(c+=2,p=u):(l+=2,p=h,m=f),p!==null&&JC(t,e,n,r,p,m,s,a),u=c<i.length?i[c]:null,h=l<o.length?o[l]:null}}function JC(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=zB(l)?tb(c,e,n,i,xc(l),s):void 0;if(!z3(u)){z3(o)||xB(l)&&(o=tb(c,null,n,i,a,s));let h=Gb(vi(),n);TF(r,s,h,i,o)}}function tb(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,h=u===null,d=n[i+1];d===mn&&(d=h?Dn:void 0);let f=h?$d(d,r):u===r?d:void 0;if(l&&!z3(f)&&(f=$d(c,r)),z3(f)&&(a=f,s))return a;let p=t[i+1];i=s?Gs(p):xc(p)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=$d(c,r))}return a}function z3(t){return t!==void 0}function QB(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Sn(sr(t)))),t}function eM(t,e){return(t.flags&(e?8:16))!==0}function cle(t,e,n){let r=oe(),i=w7(r,t,e,n);Gl(Ys,l0,i,!0)}function lle(t,e,n,r,i){let o=oe(),s=$C(o,t,e,n,r,i);Gl(Ys,l0,s,!0)}function ule(t,e,n,r,i,o,s,a,c){let l=oe(),u=SB(l,t,e,n,r,i,o,s,a,c);Gl(Ys,l0,u,!0)}var r5=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function rf(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function KB(t,e,n){let r,i,o=0,s=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;o<=s&&o<=a;){let c=t.at(o),l=e[o],u=rf(o,c,o,l,n);if(u!==0){u<0&&t.updateValue(o,l),o++;continue}let h=t.at(s),d=e[a],f=rf(s,h,a,d,n);if(f!==0){f<0&&t.updateValue(s,d),s--,a--;continue}let p=n(o,c),m=n(s,h),g=n(o,l);if(Object.is(g,m)){let b=n(a,d);Object.is(b,p)?(t.swap(o,s),t.updateValue(s,d),a--,s--):t.move(s,o),t.updateValue(o,l),o++;continue}if(r??=new R3,i??=rb(t,o,s,n),i5(t,r,o,g))t.updateValue(o,l),o++,s++;else if(i.has(g))r.set(p,t.detach(o)),s--;else{let b=t.create(o,e[o]);t.attach(o,b),o++,s++}}for(;o<=a;)nb(t,r,n,o,e[o]),o++}else if(e!=null){let a=e[Symbol.iterator](),c=a.next();for(;!c.done&&o<=s;){let l=t.at(o),u=c.value,h=rf(o,l,o,u,n);if(h!==0)h<0&&t.updateValue(o,u),o++,c=a.next();else{r??=new R3,i??=rb(t,o,s,n);let d=n(o,u);if(i5(t,r,o,d))t.updateValue(o,u),o++,s++,c=a.next();else if(!i.has(d))t.attach(o,t.create(o,u)),o++,s++,c=a.next();else{let f=n(o,l);r.set(f,t.detach(o)),s--}}}for(;!c.done;)nb(t,r,n,t.length,c.value),c=a.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(a=>{t.destroy(a)})}function i5(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function nb(t,e,n,r,i){if(i5(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function rb(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var R3=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function tM(t,e,n){_i("NgControlFlow");let r=oe(),i=qo(),o=c5(r,vt+t),s=0;if($n(r,i,e)){let a=Ae(null);try{if(bC(o,s),e!==-1){let c=l5(r[de],vt+e),l=Ol(o,c.tView.ssrId),u=r0(r,c,n,{dehydratedView:l});i0(o,u,s,Rl(c,l))}}finally{Ae(a)}}else{let a=_C(o,s);a!==void 0&&(a[pn]=n)}}var o5=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-an}};function hle(t){return t}function dle(t,e){return e}var s5=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function fle(t,e,n,r,i,o,s,a,c,l,u,h,d){_i("NgControlFlow");let f=c!==void 0,p=oe(),m=a?s.bind(p[Un][pn]):s,g=new s5(f,m);p[vt+t]=g,Ji(t+1,e,n,r,i,o),f&&Ji(t+2,c,l,u,h,d)}var a5=class extends r5{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-an}at(e){return this.getLView(e)[pn].$implicit}attach(e,n){let r=n[nr];this.needsIndexUpdate||=e!==this.length,i0(this.lContainer,n,e,Rl(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,XB(this.lContainer,e)}create(e,n){let r=Ol(this.lContainer,this.templateTNode.tView.ssrId);return r0(this.hostLView,this.templateTNode,new o5(this.lContainer,n,e),{dehydratedView:r})}destroy(e){Z3(e[de],e)}updateValue(e,n){this.getLView(e)[pn].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[pn].$index=e}getLView(e){return ZB(this.lContainer,e)}};function ple(t){let e=Ae(null),n=vi();try{let r=oe(),i=r[de],o=r[n];if(o.liveCollection===void 0){let a=n+1,c=c5(r,a),l=l5(i,a);o.liveCollection=new a5(c,r,l)}else o.liveCollection.reset();let s=o.liveCollection;if(KB(s,t,o.trackByFn),s.updateIndexes(),o.hasEmptyBlock){let a=qo(),c=s.length===0;if($n(r,a,c)){let l=n+2,u=c5(r,l);if(c){let h=l5(i,l),d=Ol(u,h.tView.ssrId),f=r0(r,h,void 0,{dehydratedView:d});i0(u,f,0,Rl(h,d))}else bC(u,0)}}}finally{Ae(e)}}function c5(t,e){return t[e]}function XB(t,e){return zl(t,e)}function ZB(t,e){return _C(t,e)}function l5(t,e){return O5(t,e)}function JB(t,e,n,r,i,o){let s=e.consts,a=Tc(s,i),c=Nc(e,t,2,r,a);return a7(e,n,c,Tc(s,o)),c.attrs!==null&&T3(c,c.attrs,!1),c.mergedAttrs!==null&&T3(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function io(t,e,n,r){let i=oe(),o=ct(),s=vt+t,a=i[We],c=o.firstCreatePass?JB(s,o,i,e,n,r):o.data[s],l=nM(o,i,c,a,e,t);i[s]=l;let u=j3(c);return Qs(c,!0),iC(a,l,c),!Wl(c)&&$3()&&J3(o,i,l,c),Vk()===0&&Fo(l,i),Pk(),u&&(i7(o,i,c),r7(o,c,i)),r!==null&&o7(i,c),io}function Go(){let t=cn();N5()?k5():(t=t.parent,Qs(t,!1));let e=t;kk(e)&&Fk(),Nk();let n=ct();return n.firstCreatePass&&(q3(n,t),R5(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&Xk(e)&&n5(n,e,oe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Zk(e)&&n5(n,e,oe(),e.stylesWithoutHost,!1),Go}function Wn(t,e,n,r){return io(t,e,n,r),Go(),Wn}var nM=(t,e,n,r,i,o)=>(yi(!0),X3(r,i,sE()));function ej(t,e,n,r,i,o){let s=e[nr],a=!s||Rc()||Wl(n)||Y3(s,o);if(yi(a),a)return X3(r,i,sE());let c=s0(s,t,e,n);return RE(s,o)&&G3(s,o,c.nextSibling),s&&(_E(n)||bE(c))&&Hl(n)&&(Lk(n),tC(c)),c}function tj(){nM=ej}function nj(t,e,n,r,i){let o=e.consts,s=Tc(o,r),a=Nc(e,t,8,"ng-container",s);s!==null&&T3(a,s,!0);let c=Tc(o,i);return a7(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Yl(t,e,n){let r=oe(),i=ct(),o=t+vt,s=i.firstCreatePass?nj(o,i,r,e,n):i.data[o];Qs(s,!0);let a=rM(i,r,s,t);return r[o]=a,$3()&&J3(i,r,a,s),Fo(a,r),j3(s)&&(i7(i,r,s),r7(i,s,r)),n!=null&&o7(r,s),Yl}function Ql(){let t=cn(),e=ct();return N5()?k5():(t=t.parent,Qs(t,!1)),e.firstCreatePass&&(q3(e,t),R5(t)&&e.queries.elementEnd(t)),Ql}function rj(t,e,n){return Yl(t,e,n),Ql(),rj}var rM=(t,e,n,r)=>(yi(!0),J5(e[We],""));function ij(t,e,n,r){let i,o=e[nr],s=!o||Rc()||Wl(n);if(yi(s),s)return J5(e[We],"");let a=s0(o,t,e,n),c=PL(o,r);return G3(o,r,a),i=a0(c,a),i}function oj(){rM=ij}function iM(){return oe()}function sj(t,e,n){let r=oe(),i=qo();if($n(r,i,e)){let o=ct(),s=Oc();ql(o,s,r,t,e,r[We],n,!0)}return sj}function aj(t,e,n){let r=oe(),i=qo();if($n(r,i,e)){let o=ct(),s=Oc(),a=F5(o.data),c=yC(a,s,r);ql(o,s,r,t,e,c,n,!0)}return aj}var Ls=void 0;function cj(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var lj=["en",[["a","p"],["AM","PM"],Ls],[["AM","PM"],Ls,Ls],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ls,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ls,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ls,"{1} 'at' {0}",Ls],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",cj],of={};function Gn(t){let e=uj(t),n=ib(e);if(n)return n;let r=e.split("-")[0];if(n=ib(r),n)return n;if(r==="en")return lj;throw new R(701,!1)}function ib(t){return t in of||(of[t]=St.ng&&St.ng.common&&St.ng.common.locales&&St.ng.common.locales[t]),of[t]}var _t=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(_t||{});function uj(t){return t.toLowerCase().replace(/_/g,"-")}var O3="en-US",hj="USD";var dj=O3;function fj(t){typeof t=="string"&&(dj=t.toLowerCase().replace(/_/g,"-"))}function oM(t,e,n){let r=t[We];switch(n){case Node.COMMENT_NODE:return J5(r,e);case Node.TEXT_NODE:return Z5(r,e);case Node.ELEMENT_NODE:return X3(r,e,null)}}var pj=(t,e,n,r)=>(yi(!0),oM(t,n,r));function mj(t,e,n,r){return yi(!0),oM(t,n,r)}function gj(){pj=mj}function Bc(t,e,n,r){let i=oe(),o=ct(),s=cn();return _7(o,i,i[We],s,t,e,r),Bc}function vj(t,e){let n=cn(),r=oe(),i=ct(),o=F5(i.data),s=yC(o,n,r);return _7(i,r,s,n,t,e),vj}function yj(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Il],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function _7(t,e,n,r,i,o,s){let a=j3(r),l=t.firstCreatePass&&vC(t),u=e[pn],h=gC(e),d=!0;if(r.type&3||s){let m=or(r,e),g=s?s(m):m,b=h.length,S=s?N=>s(Hr(N[r.index])):r.index,M=null;if(!s&&a&&(M=yj(t,e,i,r.index)),M!==null){let N=M.__ngLastListenerFn__||M;N.__ngNextListenerFn__=o,M.__ngLastListenerFn__=o,d=!1}else{o=sb(r,e,u,o,!1);let N=n.listen(g,i,o);h.push(o,N),l&&l.push(i,S,b,b+1)}}else o=sb(r,e,u,o,!1);let f=r.outputs,p;if(d&&f!==null&&(p=f[i])){let m=p.length;if(m)for(let g=0;g<m;g+=2){let b=p[g],S=p[g+1],Z=e[b][S].subscribe(o),B=h.length;h.push(o,Z),l&&l.push(i,r.index,B,-(B+1))}}}function ob(t,e,n,r){let i=Ae(null);try{return ui(6,e,n),n(r)!==!1}catch(o){return wC(t,o),!1}finally{ui(7,e,n),Ae(i)}}function sb(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?Uo(t.index,e):e;h7(a);let c=ob(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)c=ob(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return i&&c===!1&&s.preventDefault(),c}}function b7(t=1){return Gk(t)}function wj(t,e){let n=null,r=JN(t);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){n=i;continue}if(r===null?Db(t,o,!0):nk(r,o))return i}return n}function Kl(t){let e=oe()[Un][ir];if(!e.projection){let n=t?t.length:1,r=e.projection=$N(n,null),i=r.slice(),o=e.child;for(;o!==null;){let s=t?wj(o,t):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}function Xl(t,e=0,n){let r=oe(),i=ct(),o=Nc(i,vt+t,16,null,n||null);o.projection===null&&(o.projection=e),k5(),(!r[nr]||Rc())&&(o.flags&32)!==32&&CF(i,r,o)}function _j(t,e,n){return sM(t,"",e,"",n),_j}function sM(t,e,n,r,i){let o=oe(),s=w7(o,e,n,r);if(s!==mn){let a=ct(),c=Oc();ql(a,c,o,t,s,o[We],i,!1)}return sM}function u0(t,e,n,r){oB(t,e,n,r)}function aM(t,e,n){iB(t,e,n)}function jc(t){let e=oe(),n=ct(),r=eE();H5(r+1);let i=g7(n,r);if(t.dirty&&xk(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=cB(e,r);t.reset(o,hL),t.notifyOnChanges()}return!0}return!1}function Uc(){return rB(oe(),eE())}function bj(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function mle(t){let e=Bk();return U3(e,vt+t)}function gle(t,e=""){let n=oe(),r=ct(),i=t+vt,o=r.firstCreatePass?Nc(r,i,1,e,null):r.data[i],s=cM(r,n,o,e,t);n[i]=s,$3()&&J3(r,n,s,o),Qs(o,!1)}var cM=(t,e,n,r,i)=>(yi(!0),Z5(e[We],r));function Ej(t,e,n,r,i){let o=e[nr],s=!o||Rc()||Wl(n)||Y3(o,i);return yi(s),s?Z5(e[We],r):s0(o,t,e,n)}function Cj(){cM=Ej}function Mj(t){return lM("",t,""),Mj}function lM(t,e,n){let r=oe(),i=w7(r,t,e,n);return i!==mn&&l7(r,vi(),i),lM}function Tj(t,e,n,r,i){let o=oe(),s=$C(o,t,e,n,r,i);return s!==mn&&l7(o,vi(),s),Tj}function Ij(t,e,n,r,i,o,s){let a=oe(),c=DB(a,t,e,n,r,i,o,s);return c!==mn&&l7(a,vi(),c),Ij}function Dj(t,e,n){LC(e)&&(e=e());let r=oe(),i=qo();if($n(r,i,e)){let o=ct(),s=Oc();ql(o,s,r,t,e,r[We],n,!1)}return Dj}function vle(t,e){let n=LC(t);return n&&t.set(e),n}function Sj(t,e){let n=oe(),r=ct(),i=cn();return _7(r,n,n[We],i,t,e),Sj}function xj(t,e,n){let r=ct();if(r.firstCreatePass){let i=Xi(t);u5(n,r.data,r.blueprint,i,!0),u5(e,r.data,r.blueprint,i,!1)}}function u5(t,e,n,r,i){if(t=In(t),Array.isArray(t))for(let o=0;o<t.length;o++)u5(t[o],e,n,r,i);else{let o=ct(),s=oe(),a=cn(),c=Ec(t)?t:In(t.provide),l=kb(t),u=a.providerIndexes&1048575,h=a.directiveStart,d=a.providerIndexes>>20;if(Ec(t)||!t.multi){let f=new $s(l,i,E),p=af(c,e,i?u:u+d,h);p===-1?(_f(y3(a,s),o,c),sf(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{let f=af(c,e,u+d,h),p=af(c,e,u,u+d),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){_f(y3(a,s),o,c);let b=Rj(i?zj:Aj,n.length,i,r,l);!i&&g&&(n[p].providerFactory=b),sf(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(b),s.push(b)}else{let b=uM(n[i?p:f],l,!i&&r);sf(o,t,f>-1?f:p,b)}!i&&r&&g&&n[p].componentProviders++}}}function sf(t,e,n,r){let i=Ec(e),o=fk(e);if(i||o){let c=(o?In(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function uM(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function af(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Aj(t,e,n,r){return h5(this.multi,[])}function zj(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=qs(n,n[de],this.providerFactory.index,r);o=a.slice(0,s),h5(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],h5(i,o);return o}function h5(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function Rj(t,e,n,r,i){let o=new $s(t,n,E);return o.multi=[],o.index=e,o.componentProviders=0,uM(o,i,r&&!n),o}function Yo(t,e=[]){return n=>{n.providersResolver=(r,i)=>xj(r,i?i(t):t,e)}}var Oj=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=Vb(!1,r.type),o=i.length>0?c0([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=A({token:e,providedIn:"environment",factory:()=>new e(v(Bn))});let t=e;return t})();function Ei(t){_i("NgStandalone"),t.getStandaloneInjector=e=>e.get(Oj).getOrCreateStandaloneInjector(t)}function yle(t,e,n){let r=$o()+t,i=oe();return i[r]===mn?Lc(i,r,n?e.call(n):e()):HC(i,r)}function wle(t,e,n,r){return hM(oe(),$o(),t,e,n,r)}function _le(t,e,n,r,i){return dM(oe(),$o(),t,e,n,r,i)}function ble(t,e,n,r,i,o){return Vj(oe(),$o(),t,e,n,r,i,o)}function Ele(t,e,n,r,i,o,s,a,c){let l=$o()+t,u=oe(),h=y7(u,l,n,r,i,o);return Sc(u,l+4,s,a)||h?Lc(u,l+6,c?e.call(c,n,r,i,o,s,a):e(n,r,i,o,s,a)):HC(u,l+6)}function h0(t,e){let n=t[e];return n===mn?void 0:n}function hM(t,e,n,r,i,o){let s=e+n;return $n(t,s,i)?Lc(t,s+1,o?r.call(o,i):r(i)):h0(t,s+1)}function dM(t,e,n,r,i,o,s){let a=e+n;return Sc(t,a,i,o)?Lc(t,a+2,s?r.call(s,i,o):r(i,o)):h0(t,a+2)}function Vj(t,e,n,r,i,o,s,a){let c=e+n;return BC(t,c,i,o,s)?Lc(t,c+3,a?r.call(a,i,o,s):r(i,o,s)):h0(t,c+3)}function Pj(t,e,n,r,i,o,s,a,c){let l=e+n;return y7(t,l,i,o,s,a)?Lc(t,l+4,c?r.call(c,i,o,s,a):r(i,o,s,a)):h0(t,l+4)}function Cle(t,e){let n=ct(),r,i=t+vt;n.firstCreatePass?(r=Nj(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Hs(r.type,!0)),s,a=Fn(E);try{let c=v3(!1),l=o();return v3(c),bj(n,oe(),i,l),l}finally{Fn(a)}}function Nj(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Mle(t,e,n){let r=t+vt,i=oe(),o=U3(i,r);return E7(i,r)?hM(i,$o(),e,o.transform,n,o):o.transform(n)}function Tle(t,e,n,r){let i=t+vt,o=oe(),s=U3(o,i);return E7(o,i)?dM(o,$o(),e,s.transform,n,r,s):s.transform(n,r)}function Ile(t,e,n,r,i,o){let s=t+vt,a=oe(),c=U3(a,s);return E7(a,s)?Pj(a,$o(),e,c.transform,n,r,i,o,c):c.transform(n,r,i,o)}function E7(t,e){return t[de].data[e].pure}function Dle(t,e){return o0(t,e)}var t3=null;function kj(t){t3!==null&&(t.defaultEncapsulation!==t3.defaultEncapsulation||t.preserveWhitespaces!==t3.preserveWhitespaces)||(t3=t)}var Bo=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},fM=new Bo("17.3.4"),d0=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var C7=new O(""),Zl=new O(""),f0=(()=>{let e=class e{constructor(r,i,o){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,M7||(Lj(o),o.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{K.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r()},i)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:o})}whenStable(r,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,o){return[]}};e.\u0275fac=function(i){return new(i||e)(v(K),v(p0),v(Zl))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),p0=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return M7?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function Lj(t){M7=t}var M7;function $c(t){return!!t&&typeof t.then=="function"}function T7(t){return!!t&&typeof t.subscribe=="function"}var m0=new O(""),pM=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=x(m0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if($c(s))r.push(s);else if(T7(s)){let a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qc=new O("");function Fj(){Ww(()=>{throw new R(600,!1)})}function Hj(t){return t.isBoundToModule}function Bj(t,e,n){try{let r=n();return $c(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}function mM(t,e){return Array.isArray(e)?e.reduce(mM,t):P(P({},t),e)}var Ur=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=x(wE),this.afterRenderEffectManager=x(p7),this.externalTestViews=new Set,this.beforeRender=new Q,this.afterTick=new Q,this.componentTypes=[],this.components=[],this.isStable=x(kc).hasPendingTasks.pipe(W(r=>!r)),this._injector=x(Bn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof M3;if(!this._injector.get(pM).done){let f=!o&&Ab(r),p=!1;throw new R(405,p)}let a;o?a=r:a=this._injector.get(Wo).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=Hj(a)?void 0:this._injector.get(Ho),l=i||a.selector,u=a.create(Kt.NULL,[],l,c),h=u.location.nativeElement,d=u.injector.get(C7,null);return d?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),l3(this.components,u),d?.unregisterApplication(h)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new R(101,!1);let i=Ae(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,Ae(i)}}detectChangesInAttachedViews(r){let i=0,o=this.afterRenderEffectManager;for(;;){if(i===CC)throw new R(103,!1);if(r){let s=i===0;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:c}of this._views)jj(a,s,c)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>d5(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>d5(s))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;l3(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(qc,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>l3(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new R(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function l3(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var n3;function I7(t){n3??=new WeakMap;let e=n3.get(t);if(e)return e;let n=t.isStable.pipe(tr(r=>r)).toPromise().then(()=>{});return n3.set(t,n),t.onDestroy(()=>n3?.delete(t)),n}function jj(t,e,n){!e&&!d5(t)||Uj(t,n,e)}function d5(t){return P5(t)}function Uj(t,e,n){let r;n?(r=0,t[ue]|=1024):t[ue]&64?r=0:r=1,MC(t,e,r)}var f5=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},g0=(()=>{let e=class e{compileModuleSync(r){return new A3(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=zb(r),s=YE(o.declarations).reduce((a,c)=>{let l=Lo(c);return l&&a.push(new Dc(l)),a},[]);return new f5(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$j=new O("");function qj(t,e,n){let r=new A3(n);return Promise.resolve(r)}function ab(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var Wj=(()=>{let e=class e{constructor(){this.zone=x(K),this.applicationRef=x(Ur)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Gj(t){return[{provide:K,useFactory:t},{provide:Bs,multi:!0,useFactory:()=>{let e=x(Wj,{optional:!0});return()=>e.initialize()}},{provide:Bs,multi:!0,useFactory:()=>{let e=x(Kj);return()=>{e.initialize()}}},{provide:wE,useFactory:Yj}]}function Yj(){let t=x(K),e=x(Br);return n=>t.runOutsideAngular(()=>e.handleError(n))}function Qj(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Kj=(()=>{let e=class e{constructor(){this.subscription=new He,this.initialized=!1,this.zone=x(K),this.pendingTasks=x(kc)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{K.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{K.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Xj(){return typeof $localize<"u"&&$localize.locale||O3}var Wc=new O("",{providedIn:"root",factory:()=>x(Wc,xe.Optional|xe.SkipSelf)||Xj()}),gM=new O("",{providedIn:"root",factory:()=>hj});var vM=new O(""),yM=(()=>{let e=class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){let o=NH(i?.ngZone,Qj({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return o.run(()=>{let s=EB(r.moduleType,this.injector,Gj(()=>o)),a=s.injector.get(Br,null);return o.runOutsideAngular(()=>{let c=o.onError.subscribe({next:l=>{a.handleError(l)}});s.onDestroy(()=>{l3(this._modules,s),c.unsubscribe()})}),Bj(a,o,()=>{let c=s.injector.get(pM);return c.runInitializers(),c.donePromise.then(()=>{let l=s.injector.get(Wc,O3);return fj(l||O3),this._moduleDoBootstrap(s),s})})})}bootstrapModule(r,i=[]){let o=mM({},i);return qj(this.injector,o,r).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(r){let i=r.injector.get(Ur);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(o=>i.bootstrap(o));else if(r.instance.ngDoBootstrap)r.instance.ngDoBootstrap(i);else throw new R(-403,!1);this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new R(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let r=this._injector.get(vM,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(i){return new(i||e)(v(Kt))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),El=null,wM=new O("");function Zj(t){if(El&&!El.get(wM,!1))throw new R(400,!1);Fj(),El=t;let e=t.get(yM);return tU(t),e}function D7(t,e,n=[]){let r=`Platform: ${e}`,i=new O(r);return(o=[])=>{let s=_M();if(!s||s.injector.get(wM,!1)){let a=[...n,...o,{provide:i,useValue:!0}];t?t(a):Zj(Jj(a,r))}return eU(i)}}function Jj(t=[],e){return Kt.create({name:e,providers:[{provide:H3,useValue:"platform"},{provide:vM,useValue:new Set([()=>El=null])},...t]})}function eU(t){let e=_M();if(!e)throw new R(401,!1);return e}function _M(){return El?.get(yM)??null}function tU(t){t.get(q5,null)?.forEach(n=>n())}function Zs(){return!1}var Wt=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=nU;let t=e;return t})();function nU(t){return rU(cn(),oe(),(t&16)===16)}function rU(t,e,n){if(Hl(t)&&!n){let r=Uo(t.index,e);return new Ws(r,r)}else if(t.type&47){let r=e[Un];return new Ws(r,e)}return null}var p5=class{constructor(){}supports(e){return FC(e)}create(e){return new m5(e)}},iU=(t,e)=>e,m5=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||iU}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<cb(r,i,o)?n:r,a=cb(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let d=0;d<l;d++){let f=d<o.length?o[d]:o[d]=0,p=f+d;u<=p&&p<l&&(o[d]=f+1)}let h=s.previousIndex;o[h]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!FC(e))throw new R(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,CB(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new g5(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new V3),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new V3),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},g5=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},v5=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},V3=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new v5,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function cb(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var y5=class{constructor(){}supports(e){return e instanceof Map||v7(e)}create(){return new w5}},w5=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||v7(e)))throw new R(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new _5(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},_5=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function lb(){return new Jl([new p5])}var Jl=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||lb()),deps:[[e,new F3,new eo]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new R(901,!1)}};e.\u0275prov=A({token:e,providedIn:"root",factory:lb});let t=e;return t})();function ub(){return new S7([new y5])}var S7=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||ub()),deps:[[e,new F3,new eo]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i)return i;throw new R(901,!1)}};e.\u0275prov=A({token:e,providedIn:"root",factory:ub});let t=e;return t})();var bM=D7(null,"core",[]),EM=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(v(Ur))},e.\u0275mod=ge({type:e}),e.\u0275inj=me({});let t=e;return t})();var hb=!1,oU=!1;function sU(){hb||(hb=!0,zL(),tj(),Cj(),oj(),IB(),ZH(),IH(),OF(),gj())}function aU(t,e){return I7(t)}function CM(){return jo([{provide:Qu,useFactory:()=>{let t=!0;return _l()&&(t=!!x(Ks,{optional:!0})?.get(AE,null)),t&&_i("NgHydration"),t}},{provide:Bs,useValue:()=>{oU=!!x(NL,{optional:!0}),_l()&&x(Qu)&&(cU(),sU())},multi:!0},{provide:VE,useFactory:()=>_l()&&x(Qu)},{provide:qc,useFactory:()=>{if(_l()&&x(Qu)){let t=x(Ur),e=x(Kt);return()=>{aU(t,e).then(()=>{vH(t)})}}return()=>{}},multi:!0}])}function cU(){let t=jl(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===xL){e=n;break}if(!e)throw new R(-507,!1)}function Yn(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function x7(t){let e=Ae(null);try{return t()}finally{Ae(e)}}var lU=new O("",{providedIn:"root",factory:()=>x(uU)}),uU=(()=>{let e=class e{};e.\u0275prov=A({token:e,providedIn:"root",factory:()=>new b5});let t=e;return t})(),b5=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=x(kc),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},E5=class{constructor(e,n,r,i,o,s){this.scheduler=e,this.effectFn=n,this.creationZone=r,this.injector=o,this.watcher=Gw(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(Br,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function hU(t,e){_i("NgSignals"),!e?.injector&&Fb(hU);let n=e?.injector??x(Kt),r=e?.manualCleanup!==!0?n.get(W3):null,i=new E5(n.get(lU),t,typeof Zone>"u"?null:Zone.current,r,n,e?.allowSignalWrites??!1),o=n.get(Wt,null,{optional:!0});return!o||!(o._lView[ue]&8)?i.watcher.notify():(o._lView[i3]??=[]).push(i.watcher.notify),i}function MM(t){let e=Lo(t);if(!e)return null;let n=new Dc(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var OM=null;function Js(){return OM}function VM(t){OM??=t}var T0=class{};var De=new O(""),j7=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>x(dU),providedIn:"platform"});let t=e;return t})(),PM=new O(""),dU=(()=>{let e=class e extends j7{constructor(){super(),this._doc=x(De),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Js().getBaseHref(this._doc)}onPopState(r){let i=Js().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Js().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function U7(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function TM(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function so(t){return t&&t[0]!=="?"?"?"+t:t}var co=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>x($7),providedIn:"root"});let t=e;return t})(),NM=new O(""),$7=(()=>{let e=class e extends co{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??x(De).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return U7(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+so(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+so(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+so(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(v(j7),v(NM,8))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kM=(()=>{let e=class e extends co{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=U7(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+so(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+so(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(v(j7),v(NM,8))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),Qo=(()=>{let e=class e{constructor(r){this._subject=new Ue,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=mU(TM(IM(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+so(i))}normalize(r){return e.stripTrailingSlash(pU(this._basePath,IM(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+so(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+so(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=so,e.joinWithSlash=U7,e.stripTrailingSlash=TM,e.\u0275fac=function(i){return new(i||e)(v(co))},e.\u0275prov=A({token:e,factory:()=>fU(),providedIn:"root"});let t=e;return t})();function fU(){return new Qo(v(co))}function pU(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function IM(t){return t.replace(/\/index.html$/,"")}function mU(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var LM={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},q7=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(q7||{});var xn=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(xn||{}),et=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(et||{}),lr=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(lr||{}),gn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function gU(t){return Gn(t)[_t.LocaleId]}function vU(t,e,n){let r=Gn(t),i=[r[_t.DayPeriodsFormat],r[_t.DayPeriodsStandalone]],o=br(i,e);return br(o,n)}function yU(t,e,n){let r=Gn(t),i=[r[_t.DaysFormat],r[_t.DaysStandalone]],o=br(i,e);return br(o,n)}function wU(t,e,n){let r=Gn(t),i=[r[_t.MonthsFormat],r[_t.MonthsStandalone]],o=br(i,e);return br(o,n)}function _U(t,e){let r=Gn(t)[_t.Eras];return br(r,e)}function v0(t,e){let n=Gn(t);return br(n[_t.DateFormat],e)}function y0(t,e){let n=Gn(t);return br(n[_t.TimeFormat],e)}function w0(t,e){let r=Gn(t)[_t.DateTimeFormat];return br(r,e)}function Ci(t,e){let n=Gn(t),r=n[_t.NumberSymbols][e];if(typeof r>"u"){if(e===gn.CurrencyDecimal)return n[_t.NumberSymbols][gn.Decimal];if(e===gn.CurrencyGroup)return n[_t.NumberSymbols][gn.Group]}return r}function FM(t,e){return Gn(t)[_t.NumberFormats][e]}function bU(t){return Gn(t)[_t.Currencies]}function HM(t){if(!t[_t.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[_t.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function EU(t){let e=Gn(t);return HM(e),(e[_t.ExtraData][2]||[]).map(r=>typeof r=="string"?A7(r):[A7(r[0]),A7(r[1])])}function CU(t,e,n){let r=Gn(t);HM(r);let i=[r[_t.ExtraData][0],r[_t.ExtraData][1]],o=br(i,e)||[];return br(o,n)||[]}function br(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function A7(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}function MU(t,e,n="en"){let r=bU(n)[t]||LM[t]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||t}var TU=2;function IU(t){let e,n=LM[t];return n&&(e=n[2]),typeof e=="number"?e:TU}var DU=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,_0={},SU=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,ao=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(ao||{}),qe=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(qe||{}),$e=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}($e||{});function xU(t,e,n,r){let i=LU(t);e=oo(n,e)||e;let s=[],a;for(;e;)if(a=SU.exec(e),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;e=u}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=jM(r,c),i=kU(i,r,!0));let l="";return s.forEach(u=>{let h=PU(u);l+=h?h(i,n,c):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function I0(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function oo(t,e){let n=gU(t);if(_0[n]??={},_0[n][e])return _0[n][e];let r="";switch(e){case"shortDate":r=v0(t,lr.Short);break;case"mediumDate":r=v0(t,lr.Medium);break;case"longDate":r=v0(t,lr.Long);break;case"fullDate":r=v0(t,lr.Full);break;case"shortTime":r=y0(t,lr.Short);break;case"mediumTime":r=y0(t,lr.Medium);break;case"longTime":r=y0(t,lr.Long);break;case"fullTime":r=y0(t,lr.Full);break;case"short":let i=oo(t,"shortTime"),o=oo(t,"shortDate");r=b0(w0(t,lr.Short),[i,o]);break;case"medium":let s=oo(t,"mediumTime"),a=oo(t,"mediumDate");r=b0(w0(t,lr.Medium),[s,a]);break;case"long":let c=oo(t,"longTime"),l=oo(t,"longDate");r=b0(w0(t,lr.Long),[c,l]);break;case"full":let u=oo(t,"fullTime"),h=oo(t,"fullDate");r=b0(w0(t,lr.Full),[u,h]);break}return r&&(_0[n][e]=r),r}function b0(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function $r(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function AU(t,e){return $r(t,3).substring(0,e)}function kt(t,e,n=0,r=!1,i=!1){return function(o,s){let a=zU(t,o);if((n>0||a>-n)&&(a+=n),t===qe.Hours)a===0&&n===-12&&(a=12);else if(t===qe.FractionalSeconds)return AU(a,e);let c=Ci(s,gn.MinusSign);return $r(a,e,c,r,i)}}function zU(t,e){switch(t){case qe.FullYear:return e.getFullYear();case qe.Month:return e.getMonth();case qe.Date:return e.getDate();case qe.Hours:return e.getHours();case qe.Minutes:return e.getMinutes();case qe.Seconds:return e.getSeconds();case qe.FractionalSeconds:return e.getMilliseconds();case qe.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function it(t,e,n=xn.Format,r=!1){return function(i,o){return RU(i,o,t,e,n,r)}}function RU(t,e,n,r,i,o){switch(n){case $e.Months:return wU(e,i,r)[t.getMonth()];case $e.Days:return yU(e,i,r)[t.getDay()];case $e.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let l=EU(e),u=CU(e,i,r),h=l.findIndex(d=>{if(Array.isArray(d)){let[f,p]=d,m=s>=f.hours&&a>=f.minutes,g=s<p.hours||s===p.hours&&a<p.minutes;if(f.hours<p.hours){if(m&&g)return!0}else if(m||g)return!0}else if(d.hours===s&&d.minutes===a)return!0;return!1});if(h!==-1)return u[h]}return vU(e,i,r)[s<12?0:1];case $e.Eras:return _U(e,r)[t.getFullYear()<=0?0:1];default:let c=n;throw new Error(`unexpected translation type ${c}`)}}function E0(t){return function(e,n,r){let i=-1*r,o=Ci(n,gn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case ao.Short:return(i>=0?"+":"")+$r(s,2,o)+$r(Math.abs(i%60),2,o);case ao.ShortGMT:return"GMT"+(i>=0?"+":"")+$r(s,1,o);case ao.Long:return"GMT"+(i>=0?"+":"")+$r(s,2,o)+":"+$r(Math.abs(i%60),2,o);case ao.Extended:return r===0?"Z":(i>=0?"+":"")+$r(s,2,o)+":"+$r(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var OU=0,M0=4;function VU(t){let e=I0(t,OU,1).getDay();return I0(t,0,1+(e<=M0?M0:M0+7)-e)}function BM(t){let e=t.getDay(),n=e===0?-3:M0-e;return I0(t.getFullYear(),t.getMonth(),t.getDate()+n)}function z7(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=BM(n),s=VU(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return $r(i,t,Ci(r,gn.MinusSign))}}function C0(t,e=!1){return function(n,r){let o=BM(n).getFullYear();return $r(o,t,Ci(r,gn.MinusSign),e)}}var R7={};function PU(t){if(R7[t])return R7[t];let e;switch(t){case"G":case"GG":case"GGG":e=it($e.Eras,et.Abbreviated);break;case"GGGG":e=it($e.Eras,et.Wide);break;case"GGGGG":e=it($e.Eras,et.Narrow);break;case"y":e=kt(qe.FullYear,1,0,!1,!0);break;case"yy":e=kt(qe.FullYear,2,0,!0,!0);break;case"yyy":e=kt(qe.FullYear,3,0,!1,!0);break;case"yyyy":e=kt(qe.FullYear,4,0,!1,!0);break;case"Y":e=C0(1);break;case"YY":e=C0(2,!0);break;case"YYY":e=C0(3);break;case"YYYY":e=C0(4);break;case"M":case"L":e=kt(qe.Month,1,1);break;case"MM":case"LL":e=kt(qe.Month,2,1);break;case"MMM":e=it($e.Months,et.Abbreviated);break;case"MMMM":e=it($e.Months,et.Wide);break;case"MMMMM":e=it($e.Months,et.Narrow);break;case"LLL":e=it($e.Months,et.Abbreviated,xn.Standalone);break;case"LLLL":e=it($e.Months,et.Wide,xn.Standalone);break;case"LLLLL":e=it($e.Months,et.Narrow,xn.Standalone);break;case"w":e=z7(1);break;case"ww":e=z7(2);break;case"W":e=z7(1,!0);break;case"d":e=kt(qe.Date,1);break;case"dd":e=kt(qe.Date,2);break;case"c":case"cc":e=kt(qe.Day,1);break;case"ccc":e=it($e.Days,et.Abbreviated,xn.Standalone);break;case"cccc":e=it($e.Days,et.Wide,xn.Standalone);break;case"ccccc":e=it($e.Days,et.Narrow,xn.Standalone);break;case"cccccc":e=it($e.Days,et.Short,xn.Standalone);break;case"E":case"EE":case"EEE":e=it($e.Days,et.Abbreviated);break;case"EEEE":e=it($e.Days,et.Wide);break;case"EEEEE":e=it($e.Days,et.Narrow);break;case"EEEEEE":e=it($e.Days,et.Short);break;case"a":case"aa":case"aaa":e=it($e.DayPeriods,et.Abbreviated);break;case"aaaa":e=it($e.DayPeriods,et.Wide);break;case"aaaaa":e=it($e.DayPeriods,et.Narrow);break;case"b":case"bb":case"bbb":e=it($e.DayPeriods,et.Abbreviated,xn.Standalone,!0);break;case"bbbb":e=it($e.DayPeriods,et.Wide,xn.Standalone,!0);break;case"bbbbb":e=it($e.DayPeriods,et.Narrow,xn.Standalone,!0);break;case"B":case"BB":case"BBB":e=it($e.DayPeriods,et.Abbreviated,xn.Format,!0);break;case"BBBB":e=it($e.DayPeriods,et.Wide,xn.Format,!0);break;case"BBBBB":e=it($e.DayPeriods,et.Narrow,xn.Format,!0);break;case"h":e=kt(qe.Hours,1,-12);break;case"hh":e=kt(qe.Hours,2,-12);break;case"H":e=kt(qe.Hours,1);break;case"HH":e=kt(qe.Hours,2);break;case"m":e=kt(qe.Minutes,1);break;case"mm":e=kt(qe.Minutes,2);break;case"s":e=kt(qe.Seconds,1);break;case"ss":e=kt(qe.Seconds,2);break;case"S":e=kt(qe.FractionalSeconds,1);break;case"SS":e=kt(qe.FractionalSeconds,2);break;case"SSS":e=kt(qe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=E0(ao.Short);break;case"ZZZZZ":e=E0(ao.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=E0(ao.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=E0(ao.Long);break;default:return null}return R7[t]=e,e}function jM(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function NU(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function kU(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=jM(e,i);return NU(t,r*(o-i))}function LU(t){if(DM(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return I0(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(DU))return FU(r)}let e=new Date(t);if(!DM(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function FU(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,c,l),e}function DM(t){return t instanceof Date&&!isNaN(t.valueOf())}var HU=/^(\d+)?\.((\d+)(-(\d+))?)?$/,SM=22,D0=".",e4="0",BU=";",jU=",",O7="#",xM="\xA4";function UM(t,e,n,r,i,o,s=!1){let a="",c=!1;if(!isFinite(t))a=Ci(n,gn.Infinity);else{let l=WU(t);s&&(l=qU(l));let u=e.minInt,h=e.minFrac,d=e.maxFrac;if(o){let S=o.match(HU);if(S===null)throw new Error(`${o} is not a valid digit info`);let M=S[1],N=S[3],Z=S[5];M!=null&&(u=V7(M)),N!=null&&(h=V7(N)),Z!=null?d=V7(Z):N!=null&&h>d&&(d=h)}GU(l,h,d);let f=l.digits,p=l.integerLen,m=l.exponent,g=[];for(c=f.every(S=>!S);p<u;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?g=f.splice(p,f.length):(g=f,f=[0]);let b=[];for(f.length>=e.lgSize&&b.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)b.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&b.unshift(f.join("")),a=b.join(Ci(n,r)),g.length&&(a+=Ci(n,i)+g.join("")),m&&(a+=Ci(n,gn.Exponential)+"+"+m)}return t<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function UU(t,e,n,r,i){let o=FM(e,q7.Currency),s=$M(o,Ci(e,gn.MinusSign));return s.minFrac=IU(r),s.maxFrac=s.minFrac,UM(t,s,e,gn.CurrencyGroup,gn.CurrencyDecimal,i).replace(xM,n).replace(xM,"").trim()}function $U(t,e,n){let r=FM(e,q7.Decimal),i=$M(r,Ci(e,gn.MinusSign));return UM(t,i,e,gn.Group,gn.Decimal,n)}function $M(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(BU),i=r[0],o=r[1],s=i.indexOf(D0)!==-1?i.split(D0):[i.substring(0,i.lastIndexOf(e4)+1),i.substring(i.lastIndexOf(e4)+1)],a=s[0],c=s[1]||"";n.posPre=a.substring(0,a.indexOf(O7));for(let u=0;u<c.length;u++){let h=c.charAt(u);h===e4?n.minFrac=n.maxFrac=u+1:h===O7?n.maxFrac=u+1:n.posSuf+=h}let l=a.split(jU);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let u=i.length-n.posPre.length-n.posSuf.length,h=o.indexOf(O7);n.negPre=o.substring(0,h).replace(/'/g,""),n.negSuf=o.slice(h+u).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function qU(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function WU(t){let e=Math.abs(t)+"",n=0,r,i,o,s,a;for((i=e.indexOf(D0))>-1&&(e=e.replace(D0,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===e4;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===e4;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>SM&&(r=r.splice(0,SM-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function GU(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let h=s;h<r.length;h++)r[h]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let h=1;h<s;h++)r[h]=0}if(a>=5)if(s-1<0){for(let h=0;h>s;h--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,l=e+t.integerLen,u=r.reduceRight(function(h,d,f,p){return d=d+h,p[f]=d<10?d:d-10,c&&(p[f]===0&&f>=l?p.pop():c=!1),d>=10?1:0},0);u&&(r.unshift(u),t.integerLen++)}function V7(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function W7(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var P7=/\s+/,AM=[],qM=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=AM,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(P7):AM}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(P7):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(P7).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(E(Ce),E(ln))},e.\u0275dir=be({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Ie.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var N7=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},WM=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new N7(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let c=i.get(s);i.move(c,a),zM(c,o)}});for(let o=0,s=i.length;o<s;o++){let c=i.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);zM(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(E(qt),E(yt),E(Jl))},e.\u0275dir=be({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function zM(t,e){t.context.$implicit=e.item}var Wle=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new k7,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){RM("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){RM("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(E(qt),E(yt))},e.\u0275dir=be({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),k7=class{constructor(){this.$implicit=null,this.ngIf=null}};function RM(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Sn(e)}'.`)}var YU=!0,S0=class{constructor(e,n){this._viewContainerRef=e,this._templateRef=n,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}},A0=(()=>{let e=class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(r){this._ngSwitch=r,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(r){this._defaultViews.push(r)}_matchCase(r){let i=YU?r===this._ngSwitch:r==this._ngSwitch;return this._lastCasesMatched||=i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(r){if(this._defaultViews.length>0&&r!==this._defaultUsed){this._defaultUsed=r;for(let i of this._defaultViews)i.enforceState(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=be({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0});let t=e;return t})(),GM=(()=>{let e=class e{constructor(r,i,o){this.ngSwitch=o,o._addCase(),this._view=new S0(r,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}};e.\u0275fac=function(i){return new(i||e)(E(qt),E(yt),E(A0,9))},e.\u0275dir=be({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0});let t=e;return t})(),Gle=(()=>{let e=class e{constructor(r,i,o){o._addDefault(new S0(r,i))}};e.\u0275fac=function(i){return new(i||e)(E(qt),E(yt),E(A0,9))},e.\u0275dir=be({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0});let t=e;return t})();var Yle=(()=>{let e=class e{constructor(r,i,o){this._ngEl=r,this._differs=i,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(r){this._ngStyle=r,!this._differ&&r&&(this._differ=this._differs.find(r).create())}ngDoCheck(){if(this._differ){let r=this._differ.diff(this._ngStyle);r&&this._applyChanges(r)}}_setStyle(r,i){let[o,s]=r.split("."),a=o.indexOf("-")===-1?void 0:fi.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,o,s?`${i}${s}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,o,a)}_applyChanges(r){r.forEachRemovedItem(i=>this._setStyle(i.key,null)),r.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),r.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}};e.\u0275fac=function(i){return new(i||e)(E(Ce),E(S7),E(ln))},e.\u0275dir=be({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let t=e;return t})(),Qle=(()=>{let e=class e{constructor(r){this._viewContainerRef=r,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(r){if(this._shouldRecreateView(r)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let o=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(r){return!!r.ngTemplateOutlet||!!r.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(r,i,o)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,o):!1,get:(r,i,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,o)}})}};e.\u0275fac=function(i){return new(i||e)(E(qt))},e.\u0275dir=be({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[wt]});let t=e;return t})();function z0(t,e){return new R(2100,!1)}var L7=class{createSubscription(e,n){return x7(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){x7(()=>e.unsubscribe())}},F7=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},QU=new F7,KU=new L7,Kle=(()=>{let e=class e{constructor(r){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){if(!this._obj){if(r)try{this.markForCheckOnValueUpdate=!1,this._subscribe(r)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if($c(r))return QU;if(T7(r))return KU;throw z0(e,r)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(i){return new(i||e)(E(Wt,16))},e.\u0275pipe=Ll({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var XU="mediumDate",ZU=new O(""),JU=new O(""),Xle=(()=>{let e=class e{constructor(r,i,o){this.locale=r,this.defaultTimezone=i,this.defaultOptions=o}transform(r,i,o,s){if(r==null||r===""||r!==r)return null;try{let a=i??this.defaultOptions?.dateFormat??XU,c=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return xU(r,a,s||this.locale,c)}catch(a){throw z0(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)(E(Wc,16),E(ZU,24),E(JU,24))},e.\u0275pipe=Ll({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var Zle=(()=>{let e=class e{constructor(r){this._locale=r}transform(r,i,o){if(!YM(r))return null;o||=this._locale;try{let s=QM(r);return $U(s,o,i)}catch(s){throw z0(e,s.message)}}};e.\u0275fac=function(i){return new(i||e)(E(Wc,16))},e.\u0275pipe=Ll({name:"number",type:e,pure:!0,standalone:!0});let t=e;return t})();var Jle=(()=>{let e=class e{constructor(r,i="USD"){this._locale=r,this._defaultCurrencyCode=i}transform(r,i=this._defaultCurrencyCode,o="symbol",s,a){if(!YM(r))return null;a||=this._locale,typeof o=="boolean"&&(o=o?"symbol":"code");let c=i||this._defaultCurrencyCode;o!=="code"&&(o==="symbol"||o==="symbol-narrow"?c=MU(c,o==="symbol"?"wide":"narrow",a):c=o);try{let l=QM(r);return UU(l,a,c,i,s)}catch(l){throw z0(e,l.message)}}};e.\u0275fac=function(i){return new(i||e)(E(Wc,16),E(gM,16))},e.\u0275pipe=Ll({name:"currency",type:e,pure:!0,standalone:!0});let t=e;return t})();function YM(t){return!(t==null||t===""||t!==t)}function QM(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var KM=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=me({});let t=e;return t})(),G7="browser",e$="server";function Y7(t){return t===G7}function lo(t){return t===e$}var XM=(()=>{let e=class e{};e.\u0275prov=A({token:e,providedIn:"root",factory:()=>Y7(x(xt))?new H7(x(De),window):new B7});let t=e;return t})(),H7=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=t$(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function t$(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var B7=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},x0=class{};var K7=class{},Gc=class{},ea=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var X7=class{encodeKey(e){return JM(e)}encodeValue(e){return JM(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function r$(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var i$=/%(\d[a-f0-9])/gi,o$={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function JM(t){return encodeURIComponent(t).replace(i$,(e,n)=>o$[n]??e)}function R0(t){return`${t}`}var Ko=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new X7,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=r$(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(R0):[R0(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(R0(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(R0(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Z7=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function s$(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function eT(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function tT(t){return typeof Blob<"u"&&t instanceof Blob}function nT(t){return typeof FormData<"u"&&t instanceof FormData}function a$(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var t4=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(s$(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new ea,this.context??=new Z7,!this.params)this.params=new Ko,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||eT(this.body)||tT(this.body)||nT(this.body)||a$(this.body)?this.body:this.body instanceof Ko?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||nT(this.body)?null:tT(this.body)?this.body.type||null:eT(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ko?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,u=e.params||this.params,h=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((d,f)=>d.set(f,e.setHeaders[f]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((d,f)=>d.set(f,e.setParams[f]),u)),new t(n,r,s,{params:u,headers:l,context:h,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},uT=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(uT||{}),J7=class{constructor(e,n=hT.Ok,r="OK"){this.headers=e.headers||new ea,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var n4=class t extends J7{constructor(e={}){super(e),this.type=uT.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};var hT=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(hT||{});function Q7(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var dT=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof t4)s=r;else{let l;o.headers instanceof ea?l=o.headers:l=new ea(o.headers);let u;o.params&&(o.params instanceof Ko?u=o.params:u=new Ko({fromObject:o.params})),s=new t4(r,i,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=j(s).pipe(Gi(l=>this.handler.handle(l)));if(r instanceof t4||o.observe==="events")return a;let c=a.pipe(Pe(l=>l instanceof n4));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(W(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(W(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(W(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe(W(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new Ko().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,Q7(o,i))}post(r,i,o={}){return this.request("POST",r,Q7(o,i))}put(r,i,o={}){return this.request("PUT",r,Q7(o,i))}};e.\u0275fac=function(i){return new(i||e)(v(K7))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})();var c$=new O("");var rT="b",iT="h",oT="s",sT="st",aT="u",cT="rt",O0=new O(""),l$=["GET","HEAD"];function u$(t,e){let h=x(O0),{isCacheActive:n}=h,r=fu(h,["isCacheActive"]),{transferCache:i,method:o}=t;if(!n||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!l$.includes(o)||i===!1||r.filter?.(t)===!1)return e(t);let s=x(Ks),a=d$(t),c=s.get(a,null),l=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(l=i.includeHeaders),c){let{[rT]:d,[cT]:f,[iT]:p,[oT]:m,[sT]:g,[aT]:b}=c,S=d;switch(f){case"arraybuffer":S=new TextEncoder().encode(d).buffer;break;case"blob":S=new Blob([d]);break}let M=new ea(p);return j(new n4({body:S,headers:M,status:m,statusText:g,url:b}))}let u=lo(x(xt));return e(t).pipe(gt(d=>{d instanceof n4&&u&&s.set(a,{[rT]:d.body,[iT]:h$(d.headers,l),[oT]:d.status,[sT]:d.statusText,[aT]:d.url||"",[cT]:t.responseType})}))}function h$(t,e){if(!e)return{};let n={};for(let r of e){let i=t.getAll(r);i!==null&&(n[r]=i)}return n}function lT(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function d$(t){let{params:e,method:n,responseType:r,url:i}=t,o=lT(e),s=t.serializeBody();s instanceof URLSearchParams?s=lT(s):typeof s!="string"&&(s="");let a=[n,r,i,s,o].join("|"),c=f$(a);return c}function f$(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function fT(t){return[{provide:O0,useFactory:()=>(_i("NgHttpTransferCache"),P({isCacheActive:!0},t))},{provide:c$,useValue:u$,multi:!0,deps:[Ks,O0]},{provide:qc,multi:!0,useFactory:()=>{let e=x(Ur),n=x(O0);return()=>{I7(e).then(()=>{n.isCacheActive=!1})}}}]}var np=class extends T0{constructor(){super(...arguments),this.supportsDOMEvents=!0}},rp=class t extends np{static makeCurrent(){VM(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=p$();return n==null?null:m$(n)}resetBaseElement(){r4=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return W7(document.cookie,e)}},r4=null;function p$(){return r4=r4||document.querySelector("base"),r4?r4.getAttribute("href"):null}function m$(t){return new URL(t,document.baseURI).pathname}var ip=class{addToWindow(e){St.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new R(5103,!1);return o},St.getAllAngularTestabilities=()=>e.getAllTestabilities(),St.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=St.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};St.frameworkStabilizers||(St.frameworkStabilizers=[]),St.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?Js().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},g$=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),op=new O(""),vT=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new R(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(v(op),v(K))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),V0=class{constructor(e){this._doc=e}},ep="ng-app-id",yT=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=lo(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${ep}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(ep),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(ep,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(v(De),v(Ul),v(to,8),v(xt))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),tp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},cp=/%COMP%/g,wT="%COMP%",v$=`_nghost-${wT}`,y$=`_ngcontent-${wT}`,w$=!0,_$=new O("",{providedIn:"root",factory:()=>w$});function b$(t){return y$.replace(cp,t)}function E$(t){return v$.replace(cp,t)}function _T(t,e){return e.map(n=>n.replace(cp,t))}var P0=(()=>{let e=class e{constructor(r,i,o,s,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=lo(c),this.defaultRenderer=new i4(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===di.ShadowDom&&(i=je(P({},i),{encapsulation:di.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof N0?o.applyToHost(r):o instanceof o4&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case di.Emulated:s=new N0(l,u,i,this.appId,h,a,c,d);break;case di.ShadowDom:return new sp(l,u,r,i,a,c,this.nonce,d);default:s=new o4(l,u,i,h,a,c,d);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(v(vT),v(yT),v(Ul),v(_$),v(De),v(xt),v(K),v(to))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),i4=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(tp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(mT(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(mT(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new R(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=tp[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=tp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(fi.DashCase|fi.Important)?e.style.setProperty(n,r,i&fi.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&fi.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Js().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function mT(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var sp=class extends i4{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=_T(i.id,i.styles);for(let u of l){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=u,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},o4=class extends i4{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?_T(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},N0=class extends o4{constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=b$(l),this.hostAttr=E$(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},C$=(()=>{let e=class e extends V0{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(v(De))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),gT=["alt","control","meta","shift"],M$={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},T$={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},I$=(()=>{let e=class e extends V0{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Js().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),gT.forEach(u=>{let h=i.indexOf(u);h>-1&&(i.splice(h,1),a+=u+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=M$[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),gT.forEach(a=>{if(a!==o){let c=T$[a];c(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(v(De))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})();function D$(){rp.makeCurrent()}function S$(){return new Br}function x$(){return IE(document),document}var A$=[{provide:xt,useValue:G7},{provide:q5,useValue:D$,multi:!0},{provide:De,useFactory:x$,deps:[]}],b4e=D7(bM,"browser",A$),z$=new O(""),R$=[{provide:Zl,useClass:ip,deps:[]},{provide:C7,useClass:f0,deps:[K,p0,Zl]},{provide:f0,useClass:f0,deps:[K,p0,Zl]}],O$=[{provide:H3,useValue:"root"},{provide:Br,useFactory:S$,deps:[]},{provide:op,useClass:C$,multi:!0,deps:[De,K,xt]},{provide:op,useClass:I$,multi:!0,deps:[De]},P0,yT,vT,{provide:rr,useExisting:P0},{provide:x0,useClass:g$,deps:[]},[]],V$=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Ul,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(v(z$,12))},e.\u0275mod=ge({type:e}),e.\u0275inj=me({providers:[...O$,...R$],imports:[KM,EM]});let t=e;return t})();var bT=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(v(De))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var s4=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:function(i){let o=null;return i?o=new(i||e):o=v(P$),o},providedIn:"root"});let t=e;return t})(),P$=(()=>{let e=class e extends s4{constructor(r){super(),this._doc=r}sanitize(r,i){if(i==null)return null;switch(r){case ar.NONE:return i;case ar.HTML:return no(i,"HTML")?sr(i):Q5(this._doc,String(i)).toString();case ar.STYLE:return no(i,"Style")?sr(i):i;case ar.SCRIPT:if(no(i,"Script"))return sr(i);throw new R(5200,!1);case ar.URL:return no(i,"URL")?sr(i):K3(String(i));case ar.RESOURCE_URL:if(no(i,"ResourceURL"))return sr(i);throw new R(5201,!1);default:throw new R(5202,!1)}}bypassSecurityTrustHtml(r){return NE(r)}bypassSecurityTrustStyle(r){return kE(r)}bypassSecurityTrustScript(r){return LE(r)}bypassSecurityTrustUrl(r){return FE(r)}bypassSecurityTrustResourceUrl(r){return HE(r)}};e.\u0275fac=function(i){return new(i||e)(v(De))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ap=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t}(ap||{});function E4e(...t){let e=[],n=new Set,r=n.has(ap.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:o}of t)n.add(o),i.length&&e.push(i);return jo([[],CM(),n.has(ap.NoHttpTransferCache)||r?[]:fT({}),e])}var Ee="primary",b4=Symbol("RouteTitle"),pp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Zc(t){return new pp(t)}function N$(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function k$(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Mi(t[n],e[n]))return!1;return!0}function Mi(t,e){let n=t?mp(t):void 0,r=e?mp(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!zT(t[i],e[i]))return!1;return!0}function mp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function zT(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function RT(t){return t.length>0?t[t.length-1]:null}function es(t){return qi(t)?t:$c(t)?ze(Promise.resolve(t)):j(t)}var L$={exact:VT,subset:PT},OT={exact:F$,subset:H$,ignored:()=>!0};function ET(t,e,n){return L$[n.paths](t.root,e.root,n.matrixParams)&&OT[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function F$(t,e){return Mi(t,e)}function VT(t,e,n){if(!na(t.segments,e.segments)||!F0(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!VT(t.children[r],e.children[r],n))return!1;return!0}function H$(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>zT(t[n],e[n]))}function PT(t,e,n){return NT(t,e,e.segments,n)}function NT(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!na(i,n)||e.hasChildren()||!F0(i,n,r))}else if(t.segments.length===n.length){if(!na(t.segments,n)||!F0(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!PT(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!na(t.segments,i)||!F0(t.segments,i,r)||!t.children[Ee]?!1:NT(t.children[Ee],e,o,r)}}function F0(t,e,n){return e.every((r,i)=>OT[n](t[i].parameters,r.parameters))}var Xo=class{constructor(e=new Ge([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Zc(this.queryParams),this._queryParamMap}toString(){return U$.serialize(this)}},Ge=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return H0(this)}},ta=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Zc(this.parameters),this._parameterMap}toString(){return LT(this)}};function B$(t,e){return na(t,e)&&t.every((n,r)=>Mi(n.parameters,e[r].parameters))}function na(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function j$(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Ee&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Ee&&(n=n.concat(e(i,r)))}),n}var E4=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>new f4,providedIn:"root"});let t=e;return t})(),f4=class{parse(e){let n=new vp(e);return new Xo(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${a4(e.root,!0)}`,r=W$(e.queryParams),i=typeof e.fragment=="string"?`#${$$(e.fragment)}`:"";return`${n}${r}${i}`}},U$=new f4;function H0(t){return t.segments.map(e=>LT(e)).join("/")}function a4(t,e){if(!t.hasChildren())return H0(t);if(e){let n=t.children[Ee]?a4(t.children[Ee],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Ee&&r.push(`${i}:${a4(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=j$(t,(r,i)=>i===Ee?[a4(t.children[Ee],!1)]:[`${i}:${a4(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Ee]!=null?`${H0(t)}/${n[0]}`:`${H0(t)}/(${n.join("//")})`}}function kT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function k0(t){return kT(t).replace(/%3B/gi,";")}function $$(t){return encodeURI(t)}function gp(t){return kT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function B0(t){return decodeURIComponent(t)}function CT(t){return B0(t.replace(/\+/g,"%20"))}function LT(t){return`${gp(t.path)}${q$(t.parameters)}`}function q$(t){return Object.entries(t).map(([e,n])=>`;${gp(e)}=${gp(n)}`).join("")}function W$(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${k0(n)}=${k0(i)}`).join("&"):`${k0(n)}=${k0(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var G$=/^[^\/()?;#]+/;function up(t){let e=t.match(G$);return e?e[0]:""}var Y$=/^[^\/()?;=#]+/;function Q$(t){let e=t.match(Y$);return e?e[0]:""}var K$=/^[^=?&#]+/;function X$(t){let e=t.match(K$);return e?e[0]:""}var Z$=/^[^&#]+/;function J$(t){let e=t.match(Z$);return e?e[0]:""}var vp=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ge([],{}):new Ge([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Ee]=new Ge(e,n)),r}parseSegment(){let e=up(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new R(4009,!1);return this.capture(e),new ta(B0(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Q$(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=up(this.remaining);i&&(r=i,this.capture(r))}e[B0(n)]=B0(r)}parseQueryParam(e){let n=X$(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=J$(this.remaining);s&&(r=s,this.capture(r))}let i=CT(n),o=CT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=up(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new R(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ee);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[Ee]:new Ge([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new R(4011,!1)}};function FT(t){return t.segments.length>0?new Ge([],{[Ee]:t}):t}function HT(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=HT(i);if(r===Ee&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Ge(t.segments,e);return eq(n)}function eq(t){if(t.numberOfChildren===1&&t.children[Ee]){let e=t.children[Ee];return new Ge(t.segments.concat(e.segments),e.children)}return t}function Jc(t){return t instanceof Xo}function tq(t,e,n=null,r=null){let i=BT(t);return jT(i,e,n,r)}function BT(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new Ge(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=FT(r);return e??i}function jT(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return hp(i,i,i,n,r);let o=nq(e);if(o.toRoot())return hp(i,i,new Ge([],{}),n,r);let s=rq(o,i,t),a=s.processChildren?u4(s.segmentGroup,s.index,o.commands):$T(s.segmentGroup,s.index,o.commands);return hp(i,s.segmentGroup,a,n,r)}function j0(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function p4(t){return typeof t=="object"&&t!=null&&t.outlets}function hp(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=UT(t,e,n);let a=FT(HT(s));return new Xo(a,o,i)}function UT(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=UT(o,e,n)}),new Ge(t.segments,r)}var U0=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&j0(r[0]))throw new R(4003,!1);let i=r.find(p4);if(i&&i!==RT(r))throw new R(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function nq(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new U0(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new U0(n,e,r)}var Kc=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function rq(t,e,n){if(t.isAbsolute)return new Kc(e,!0,0);if(!n)return new Kc(e,!1,NaN);if(n.parent===null)return new Kc(n,!0,0);let r=j0(t.commands[0])?0:1,i=n.segments.length-1+r;return iq(n,i,t.numberOfDoubleDots)}function iq(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new R(4005,!1);i=r.segments.length}return new Kc(r,!1,i-o)}function oq(t){return p4(t[0])?t[0].outlets:{[Ee]:t}}function $T(t,e,n){if(t??=new Ge([],{}),t.segments.length===0&&t.hasChildren())return u4(t,e,n);let r=sq(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Ge(t.segments.slice(0,r.pathIndex),{});return o.children[Ee]=new Ge(t.segments.slice(r.pathIndex),t.children),u4(o,0,i)}else return r.match&&i.length===0?new Ge(t.segments,{}):r.match&&!t.hasChildren()?yp(t,e,n):r.match?u4(t,0,i):yp(t,e,n)}function u4(t,e,n){if(n.length===0)return new Ge(t.segments,{});{let r=oq(n),i={};if(Object.keys(r).some(o=>o!==Ee)&&t.children[Ee]&&t.numberOfChildren===1&&t.children[Ee].segments.length===0){let o=u4(t.children[Ee],e,n);return new Ge(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=$T(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ge(t.segments,i)}}function sq(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(p4(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!TT(c,l,s))return o;r+=2}else{if(!TT(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function yp(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(p4(o)){let c=aq(o.outlets);return new Ge(r,c)}if(i===0&&j0(n[0])){let c=t.segments[e];r.push(new ta(c.path,MT(n[0]))),i++;continue}let s=p4(o)?o.outlets[Ee]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&j0(a)?(r.push(new ta(s,MT(a))),i+=2):(r.push(new ta(s,{})),i++)}return new Ge(r,{})}function aq(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=yp(new Ge([],{}),0,r))}),e}function MT(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function TT(t,e,n){return t==n.path&&Mi(e,n.parameters)}var h4="imperative",Xt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Xt||{}),Er=class{constructor(e,n){this.id=e,this.url=n}},e1=class extends Er{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Xt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},qr=class extends Er{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Xt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},hr=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(hr||{}),$0=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}($0||{}),Zo=class extends Er{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Xt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Jo=class extends Er{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Xt.NavigationSkipped}},m4=class extends Er{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Xt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},q0=class extends Er{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Xt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wp=class extends Er{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Xt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_p=class extends Er{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Xt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},bp=class extends Er{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Xt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ep=class extends Er{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Xt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cp=class{constructor(e){this.route=e,this.type=Xt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Mp=class{constructor(e){this.route=e,this.type=Xt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Tp=class{constructor(e){this.snapshot=e,this.type=Xt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ip=class{constructor(e){this.snapshot=e,this.type=Xt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dp=class{constructor(e){this.snapshot=e,this.type=Xt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sp=class{constructor(e){this.snapshot=e,this.type=Xt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},W0=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Xt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},g4=class{},v4=class{constructor(e){this.url=e}};var xp=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new C4,this.attachRef=null}},C4=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new xp,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),G0=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Ap(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Ap(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=zp(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return zp(e,this._root).map(n=>n.value)}};function Ap(t,e){if(t===e.value)return e;for(let n of e.children){let r=Ap(t,n);if(r)return r}return null}function zp(t,e){if(t===e.value)return[e];for(let n of e.children){let r=zp(t,n);if(r.length)return r.unshift(e),r}return[]}var ur=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Qc(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Y0=class extends G0{constructor(e,n){super(e),this.snapshot=n,Bp(this,e)}toString(){return this.snapshot.toString()}};function qT(t){let e=cq(t),n=new on([new ta("",{})]),r=new on({}),i=new on({}),o=new on({}),s=new on(""),a=new ra(n,r,o,s,i,Ee,t,e.root);return a.snapshot=e.root,new Y0(new ur(a,[]),e)}function cq(t){let e={},n={},r={},i="",o=new y4([],e,r,i,n,Ee,t,null,{});return new Q0("",new ur(o,[]))}var ra=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(W(l=>l[b4]))??j(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(W(e=>Zc(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(W(e=>Zc(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Hp(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:P(P({},e.params),t.params),data:P(P({},e.data),t.data),resolve:P(P(P(P({},t.data),e.data),i?.data),t._resolvedData)}:r={params:P({},t.params),data:P({},t.data),resolve:P(P({},t.data),t._resolvedData??{})},i&&GT(i)&&(r.resolve[b4]=i.title),r}var y4=class{get title(){return this.data?.[b4]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Zc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Zc(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Q0=class extends G0{constructor(e,n){super(n),this.url=e,Bp(this,n)}toString(){return WT(this._root)}};function Bp(t,e){e.value._routerState=t,e.children.forEach(n=>Bp(t,n))}function WT(t){let e=t.children.length>0?` { ${t.children.map(WT).join(", ")} } `:"";return`${t.value}${e}`}function dp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Mi(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Mi(e.params,n.params)||t.paramsSubject.next(n.params),k$(e.url,n.url)||t.urlSubject.next(n.url),Mi(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Rp(t,e){let n=Mi(t.params,e.params)&&B$(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Rp(t.parent,e.parent))}function GT(t){return typeof t.title=="string"||t.title===null}var lq=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ee,this.activateEvents=new Ue,this.deactivateEvents=new Ue,this.attachEvents=new Ue,this.detachEvents=new Ue,this.parentContexts=x(C4),this.location=x(qt),this.changeDetector=x(Wt),this.environmentInjector=x(Bn),this.inputBinder=x(e8,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new R(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new R(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new R(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new R(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new Op(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=be({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[wt]});let t=e;return t})(),Op=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r,this.__ngOutletInjector=!0}get(e,n){return e===ra?this.route:e===C4?this.childContexts:this.parent.get(e,n)}},e8=new O(""),IT=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=Rs([i.queryParams,i.params,i.data]).pipe(at(([s,a,c],l)=>(c=P(P(P({},s),a),c),l===0?j(c):Promise.resolve(c)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=MM(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})();function uq(t,e,n){let r=w4(t,e._root,n?n._root:void 0);return new Y0(r,e)}function w4(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=hq(t,e,n);return new ur(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>w4(t,a)),s}}let r=dq(e.value),i=e.children.map(o=>w4(t,o));return new ur(r,i)}}function hq(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return w4(t,r,i);return w4(t,r)})}function dq(t){return new ra(new on(t.url),new on(t.params),new on(t.queryParams),new on(t.fragment),new on(t.data),t.outlet,t.component,t)}var YT="ngNavigationCancelingError";function QT(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Jc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=KT(!1,hr.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function KT(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[YT]=!0,n.cancellationCode=e,n}function fq(t){return XT(t)&&Jc(t.url)}function XT(t){return!!t&&t[YT]}var pq=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=pi({type:e,selectors:[["ng-component"]],standalone:!0,features:[Ei],decls:1,vars:0,template:function(i,o){i&1&&Wn(0,"router-outlet")},dependencies:[lq],encapsulation:2});let t=e;return t})();function mq(t,e){return t.providers&&!t._injector&&(t._injector=c0(t.providers,e,`Route: ${t.path}`)),t._injector??e}function jp(t){let e=t.children&&t.children.map(jp),n=e?je(P({},t),{children:e}):P({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ee&&(n.component=pq),n}function Ti(t){return t.outlet||Ee}function gq(t,e){let n=t.filter(r=>Ti(r)===e);return n.push(...t.filter(r=>Ti(r)!==e)),n}function M4(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var vq=(t,e,n,r)=>W(i=>(new Vp(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Vp=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),dp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Qc(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Qc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Qc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Qc(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Sp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Ip(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(dp(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),dp(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=M4(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},K0=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Xc=class{constructor(e,n){this.component=e,this.route=n}};function yq(t,e,n){let r=t._root,i=e?e._root:null;return c4(r,i,n,[r.value])}function wq(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function n1(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!pb(t)?t:e.get(t):r}function c4(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Qc(e);return t.children.forEach(s=>{_q(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>d4(a,n.getContext(s),i)),i}function _q(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=bq(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new K0(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?c4(t,e,a?a.children:null,r,i):c4(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Xc(a.outlet.component,s))}else s&&d4(e,a,i),i.canActivateChecks.push(new K0(r)),o.component?c4(t,null,a?a.children:null,r,i):c4(t,null,n,r,i);return i}function bq(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!na(t.url,e.url);case"pathParamsOrQueryParamsChange":return!na(t.url,e.url)||!Mi(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rp(t,e)||!Mi(t.queryParams,e.queryParams);case"paramsChange":default:return!Rp(t,e)}}function d4(t,e,n){let r=Qc(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?d4(s,e.children.getContext(o),n):d4(s,null,n):d4(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Xc(e.outlet.component,i)):n.canDeactivateChecks.push(new Xc(null,i)):n.canDeactivateChecks.push(new Xc(null,i))}function T4(t){return typeof t=="function"}function Eq(t){return typeof t=="boolean"}function Cq(t){return t&&T4(t.canLoad)}function Mq(t){return t&&T4(t.canActivate)}function Tq(t){return t&&T4(t.canActivateChild)}function Iq(t){return t&&T4(t.canDeactivate)}function Dq(t){return t&&T4(t.canMatch)}function ZT(t){return t instanceof Wi||t?.name==="EmptyError"}var L0=Symbol("INITIAL_VALUE");function t1(){return at(t=>Rs(t.map(e=>e.pipe(Ct(1),sn(L0)))).pipe(W(e=>{for(let n of e)if(n!==!0){if(n===L0)return L0;if(n===!1||n instanceof Xo)return n}return!0}),Pe(e=>e!==L0),Ct(1)))}function Sq(t,e){return dt(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?j(je(P({},n),{guardsResult:!0})):xq(s,r,i,t).pipe(dt(a=>a&&Eq(a)?Aq(r,o,t,e):j(a)),W(a=>je(P({},n),{guardsResult:a})))})}function xq(t,e,n,r){return ze(t).pipe(dt(i=>Pq(i.component,i.route,n,e,r)),tr(i=>i!==!0,!0))}function Aq(t,e,n,r){return ze(e).pipe(Gi(i=>ai(Rq(i.route.parent,r),zq(i.route,r),Vq(t,i.path,n),Oq(t,i.route,n))),tr(i=>i!==!0,!0))}function zq(t,e){return t!==null&&e&&e(new Dp(t)),j(!0)}function Rq(t,e){return t!==null&&e&&e(new Tp(t)),j(!0)}function Oq(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return j(!0);let i=r.map(o=>qu(()=>{let s=M4(e)??n,a=n1(o,s),c=Mq(a)?a.canActivate(e,t):mi(s,()=>a(e,t));return es(c).pipe(tr())}));return j(i).pipe(t1())}function Vq(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>wq(s)).filter(s=>s!==null).map(s=>qu(()=>{let a=s.guards.map(c=>{let l=M4(s.node)??n,u=n1(c,l),h=Tq(u)?u.canActivateChild(r,t):mi(l,()=>u(r,t));return es(h).pipe(tr())});return j(a).pipe(t1())}));return j(o).pipe(t1())}function Pq(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return j(!0);let s=o.map(a=>{let c=M4(e)??i,l=n1(a,c),u=Iq(l)?l.canDeactivate(t,e,n,r):mi(c,()=>l(t,e,n,r));return es(u).pipe(tr())});return j(s).pipe(t1())}function Nq(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return j(!0);let o=i.map(s=>{let a=n1(s,t),c=Cq(a)?a.canLoad(e,n):mi(t,()=>a(e,n));return es(c)});return j(o).pipe(t1(),JT(r))}function JT(t){return Dd(gt(e=>{if(Jc(e))throw QT(t,e)}),W(e=>e===!0))}function kq(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return j(!0);let o=i.map(s=>{let a=n1(s,t),c=Dq(a)?a.canMatch(e,n):mi(t,()=>a(e,n));return es(c)});return j(o).pipe(t1(),JT(r))}var _4=class{constructor(e){this.segmentGroup=e||null}},X0=class extends Error{constructor(e){super(),this.urlTree=e}};function Yc(t){return hc(new _4(t))}function Lq(t){return hc(new R(4e3,!1))}function Fq(t){return hc(KT(!1,hr.GuardRejected))}var Pp=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return j(r);if(i.numberOfChildren>1||!i.children[Ee])return Lq(e.redirectTo);i=i.children[Ee]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new X0(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Xo(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Ge(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new R(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Np={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Hq(t,e,n,r,i){let o=Up(t,e,n);return o.matched?(r=mq(e,r),kq(r,e,n,i).pipe(W(s=>s===!0?o:P({},Np)))):j(o)}function Up(t,e,n){if(e.path==="**")return Bq(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?P({},Np):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||N$)(n,t,e);if(!i)return P({},Np);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?P(P({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Bq(t){return{matched:!0,parameters:t.length>0?RT(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function DT(t,e,n,r){return n.length>0&&$q(t,n,r)?{segmentGroup:new Ge(e,Uq(r,new Ge(n,t.children))),slicedSegments:[]}:n.length===0&&qq(t,n,r)?{segmentGroup:new Ge(t.segments,jq(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ge(t.segments,t.children),slicedSegments:n}}function jq(t,e,n,r){let i={};for(let o of n)if(t8(t,e,o)&&!r[Ti(o)]){let s=new Ge([],{});i[Ti(o)]=s}return P(P({},r),i)}function Uq(t,e){let n={};n[Ee]=e;for(let r of t)if(r.path===""&&Ti(r)!==Ee){let i=new Ge([],{});n[Ti(r)]=i}return n}function $q(t,e,n){return n.some(r=>t8(t,e,r)&&Ti(r)!==Ee)}function qq(t,e,n){return n.some(r=>t8(t,e,r))}function t8(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Wq(t,e,n,r){return Ti(t)!==r&&(r===Ee||!t8(e,n,t))?!1:Up(e,t,n).matched}function Gq(t,e,n){return e.length===0&&!t.children[n]}var kp=class{};function Yq(t,e,n,r,i,o,s="emptyOnly"){return new Lp(t,e,n,r,i,s,o).recognize()}var Qq=31,Lp=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Pp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new R(4002,`'${e.segmentGroup}'`)}recognize(){let e=DT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(W(n=>{let r=new y4([],Object.freeze({}),Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ee,this.rootComponentType,null,{}),i=new ur(r,n),o=new Q0("",i),s=tq(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Ee).pipe(ci(r=>{if(r instanceof X0)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof _4?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Hp(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(W(o=>o instanceof ur?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return ze(i).pipe(Gi(o=>{let s=r.children[o],a=gq(n,o);return this.processSegmentGroup(e,a,s,o)}),ks((o,s)=>(o.push(...s),o)),Vo(null),Hd(),dt(o=>{if(o===null)return Yc(r);let s=eI(o);return Kq(s),j(s)}))}processSegment(e,n,r,i,o,s){return ze(n).pipe(Gi(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(ci(c=>{if(c instanceof _4)return j(null);throw c}))),tr(a=>!!a),ci(a=>{if(ZT(a))return Gq(r,i,o)?j(new kp):Yc(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return Wq(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Yc(i):Yc(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=Up(n,i,o);if(!a)return Yc(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Qq&&(this.allowRedirects=!1));let h=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,h).pipe(dt(d=>this.processSegment(e,r,n,d.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=Hq(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(at(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(at(({routes:c})=>{let l=r._loadedInjector??e,{consumedSegments:u,remainingSegments:h,parameters:d}=a,f=new y4(u,d,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,Zq(r),Ti(r),r.component??r._loadedComponent??null,r,Jq(r)),{segmentGroup:p,slicedSegments:m}=DT(n,u,h,c);if(m.length===0&&p.hasChildren())return this.processChildren(l,c,p).pipe(W(b=>b===null?null:new ur(f,b)));if(c.length===0&&m.length===0)return j(new ur(f,[]));let g=Ti(r)===o;return this.processSegment(l,c,p,m,g?Ee:o,!0).pipe(W(b=>new ur(f,b instanceof ur?[b]:[])))}))):Yc(n)))}getChildConfig(e,n,r){return n.children?j({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?j({routes:n._loadedRoutes,injector:n._loadedInjector}):Nq(e,n,r,this.urlSerializer).pipe(dt(i=>i?this.configLoader.loadChildren(e,n).pipe(gt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Fq(n))):j({routes:[],injector:e})}};function Kq(t){t.sort((e,n)=>e.value.outlet===Ee?-1:n.value.outlet===Ee?1:e.value.outlet.localeCompare(n.value.outlet))}function Xq(t){let e=t.value.routeConfig;return e&&e.path===""}function eI(t){let e=[],n=new Set;for(let r of t){if(!Xq(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=eI(r.children);e.push(new ur(r.value,i))}return e.filter(r=>!n.has(r))}function Zq(t){return t.data||{}}function Jq(t){return t.resolve||{}}function eW(t,e,n,r,i,o){return dt(s=>Yq(t,e,n,r,s.extractedUrl,i,o).pipe(W(({state:a,tree:c})=>je(P({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function tW(t,e){return dt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return j(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of tI(c))s.add(l);let a=0;return ze(s).pipe(Gi(c=>o.has(c)?nW(c,r,t,e):(c.data=Hp(c,c.parent,t).resolve,j(void 0))),gt(()=>a++),fc(1),dt(c=>a===s.size?j(n):Tn))})}function tI(t){let e=t.children.map(n=>tI(n)).flat();return[t,...e]}function nW(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!GT(i)&&(o[b4]=i.title),rW(o,t,e,r).pipe(W(s=>(t._resolvedData=s,t.data=Hp(t,t.parent,n).resolve,null)))}function rW(t,e,n,r){let i=mp(t);if(i.length===0)return j({});let o={};return ze(i).pipe(dt(s=>iW(t[s],e,n,r).pipe(tr(),gt(a=>{o[s]=a}))),fc(1),Ps(o),ci(s=>ZT(s)?Tn:hc(s)))}function iW(t,e,n,r){let i=M4(e)??r,o=n1(t,i),s=o.resolve?o.resolve(e,n):mi(i,()=>o(e,n));return es(s)}function fp(t){return at(e=>{let n=t(e);return n?ze(n).pipe(W(()=>e)):j(e)})}var nI=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===Ee);return i}getResolvedTitleForRoute(r){return r.data[b4]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>x(oW),providedIn:"root"});let t=e;return t})(),oW=(()=>{let e=class e extends nI{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(v(bT))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),I4=new O("",{providedIn:"root",factory:()=>({})}),Z0=new O(""),$p=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=x(g0)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return j(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=es(r.loadComponent()).pipe(W(rI),gt(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),li(()=>{this.componentLoaders.delete(r)})),o=new Ro(i,()=>new Q).pipe(sc());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return j({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=sW(i,this.compiler,r,this.onLoadEndListener).pipe(li(()=>{this.childrenLoaders.delete(i)})),a=new Ro(s,()=>new Q).pipe(sc());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function sW(t,e,n,r){return es(t.loadChildren()).pipe(W(rI),dt(i=>i instanceof Vl||Array.isArray(i)?j(i):ze(e.compileModuleAsync(i))),W(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Z0,[],{optional:!0,self:!0}).flat()),{routes:s.map(jp),injector:o}}))}function aW(t){return t&&typeof t=="object"&&"default"in t}function rI(t){return aW(t)?t.default:t}var qp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>x(cW),providedIn:"root"});let t=e;return t})(),cW=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),iI=new O(""),oI=new O("");function lW(t,e,n){let r=t.get(oI),i=t.get(De);return t.get(K).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),uW(t))),{onViewTransitionCreated:c}=r;return c&&mi(t,()=>c({transition:a,from:e,to:n})),s})}function uW(t){return new Promise(e=>{f7(e,{injector:t})})}var Wp=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Q,this.transitionAbortSubject=new Q,this.configLoader=x($p),this.environmentInjector=x(Bn),this.urlSerializer=x(E4),this.rootContexts=x(C4),this.location=x(Qo),this.inputBindingEnabled=x(e8,{optional:!0})!==null,this.titleStrategy=x(nI),this.options=x(I4,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=x(qp),this.createViewTransition=x(iI,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>j(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Cp(o)),i=o=>this.events.next(new Mp(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(je(P(P({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new on({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:h4,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Pe(s=>s.id!==0),W(s=>je(P({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),at(s=>{let a=!1,c=!1;return j(s).pipe(at(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",hr.SupersededByNewNavigation),Tn;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?je(P({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&h!=="reload"){let d="";return this.events.next(new Jo(l.id,this.urlSerializer.serialize(l.rawUrl),d,$0.IgnoredSameUrlNavigation)),l.resolve(null),Tn}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return j(l).pipe(at(d=>{let f=this.transitions?.getValue();return this.events.next(new e1(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?Tn:Promise.resolve(d)}),eW(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),gt(d=>{s.targetSnapshot=d.targetSnapshot,s.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=je(P({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let f=new q0(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:d,extractedUrl:f,source:p,restoredState:m,extras:g}=l,b=new e1(d,this.urlSerializer.serialize(f),p,m);this.events.next(b);let S=qT(this.rootComponentType).snapshot;return this.currentTransition=s=je(P({},l),{targetSnapshot:S,urlAfterRedirects:f,extras:je(P({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,j(s)}else{let d="";return this.events.next(new Jo(l.id,this.urlSerializer.serialize(l.extractedUrl),d,$0.IgnoredByUrlHandlingStrategy)),l.resolve(null),Tn}}),gt(l=>{let u=new wp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),W(l=>(this.currentTransition=s=je(P({},l),{guards:yq(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),Sq(this.environmentInjector,l=>this.events.next(l)),gt(l=>{if(s.guardsResult=l.guardsResult,Jc(l.guardsResult))throw QT(this.urlSerializer,l.guardsResult);let u=new _p(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Pe(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",hr.GuardRejected),!1)),fp(l=>{if(l.guards.canActivateChecks.length)return j(l).pipe(gt(u=>{let h=new bp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),at(u=>{let h=!1;return j(u).pipe(tW(this.paramsInheritanceStrategy,this.environmentInjector),gt({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(u,"",hr.NoDataFromResolver)}}))}),gt(u=>{let h=new Ep(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}))}),fp(l=>{let u=h=>{let d=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(h.routeConfig).pipe(gt(f=>{h.component=f}),W(()=>{})));for(let f of h.children)d.push(...u(f));return d};return Rs(u(l.targetSnapshot.root)).pipe(Vo(null),Ct(1))}),fp(()=>this.afterPreactivation()),at(()=>{let{currentSnapshot:l,targetSnapshot:u}=s,h=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return h?ze(h).pipe(W(()=>s)):j(s)}),W(l=>{let u=uq(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=je(P({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),gt(()=>{this.events.next(new g4)}),vq(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Ct(1),gt({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new qr(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),rt(this.transitionAbortSubject.pipe(gt(l=>{throw l}))),li(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",hr.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),ci(l=>{if(c=!0,XT(l))this.events.next(new Zo(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),fq(l)?this.events.next(new v4(l.url)):s.resolve(!1);else{this.events.next(new m4(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return Tn}))}))}cancelNavigationTransition(r,i,o){let s=new Zo(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function hW(t){return t!==h4}var dW=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>x(fW),providedIn:"root"});let t=e;return t})(),Fp=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},fW=(()=>{let e=class e extends Fp{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Vc(e)))(o||e)}})(),e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sI=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>x(pW),providedIn:"root"});let t=e;return t})(),pW=(()=>{let e=class e extends sI{constructor(){super(...arguments),this.location=x(Qo),this.urlSerializer=x(E4),this.options=x(I4,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=x(qp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Xo,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=qT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof e1)this.stateMemento=this.createStateMemento();else if(r instanceof Jo)this.rawUrlTree=i.initialUrl;else if(r instanceof q0){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof g4?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Zo&&(r.code===hr.GuardRejected||r.code===hr.NoDataFromResolver)?this.restoreHistory(i):r instanceof m4?this.restoreHistory(i,!0):r instanceof qr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=P(P({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=P(P({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Vc(e)))(o||e)}})(),e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),l4=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(l4||{});function aI(t,e){t.events.pipe(Pe(n=>n instanceof qr||n instanceof Zo||n instanceof m4||n instanceof Jo),W(n=>n instanceof qr||n instanceof Jo?l4.COMPLETE:(n instanceof Zo?n.code===hr.Redirect||n.code===hr.SupersededByNewNavigation:!1)?l4.REDIRECTING:l4.FAILED),Pe(n=>n!==l4.REDIRECTING),Ct(1)).subscribe(()=>{e()})}function mW(t){throw t}var gW={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vW={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},uo=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=x(d0),this.stateManager=x(sI),this.options=x(I4,{optional:!0})||{},this.pendingTasks=x(kc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=x(Wp),this.urlSerializer=x(E4),this.location=x(Qo),this.urlHandlingStrategy=x(qp),this._events=new Q,this.errorHandler=this.options.errorHandler||mW,this.navigated=!1,this.routeReuseStrategy=x(dW),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=x(Z0,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!x(e8,{optional:!0}),this.eventsSubscription=new He,this.isNgZoneEnabled=x(K)instanceof K&&K.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof Zo&&i.code!==hr.Redirect&&i.code!==hr.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof qr)this.navigated=!0;else if(i instanceof v4){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),c={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||hW(o.source)};this.scheduleNavigation(a,h4,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}wW(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),h4,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=P({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(jp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a,h=null;switch(c){case"merge":h=P(P({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}h!==null&&(h=this.removeEmptyProps(h));let d;try{let f=o?o.snapshot:this.routerState.snapshot.root;d=BT(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),d=this.currentUrlTree.root}return jT(d,r,h,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Jc(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,h4,null,i)}navigate(r,i={skipLocationChange:!1}){return yW(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=P({},gW):i===!1?o=P({},vW):o=i,Jc(r))return ET(this.currentUrlTree,r,o);let s=this.parseUrl(r);return ET(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((d,f)=>{c=d,l=f});let h=this.pendingTasks.add();return aI(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yW(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new R(4008,!1)}function wW(t){return!(t instanceof g4)&&!(t instanceof v4)}var ST=(()=>{let e=class e{constructor(r,i,o,s,a,c){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new Q,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(u=>{u instanceof qr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:GE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(E(uo),E(ra),$5("tabindex"),E(ln),E(Ce),E(co))},e.\u0275dir=be({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&Bc("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Fc("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Ie.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Yn],skipLocationChange:[Ie.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Yn],replaceUrl:[Ie.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Yn],routerLink:"routerLink"},standalone:!0,features:[Xs,wt]});let t=e;return t})(),H4e=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,o,s,a){this.router=r,this.element=i,this.renderer=o,this.cdr=s,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ue,this.routerEventsSubscription=r.events.subscribe(c=>{c instanceof qr&&this.update()})}ngAfterContentInit(){j(this.links.changes,j(null)).pipe(si()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=ze(r).pipe(si()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(o=>!!o)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let i=_W(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let s=o.urlTree;return s?r.isActive(s,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(E(uo),E(Ce),E(ln),E(Wt),E(ST,8))},e.\u0275dir=be({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,o,s){if(i&1&&u0(s,ST,5),i&2){let a;jc(a=Uc())&&(o.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[wt]});let t=e;return t})();function _W(t){return!!t.paths}var J0=class{};var bW=(()=>{let e=class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Pe(r=>r instanceof qr),Gi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=c0(s.providers,r,`Route: ${s.path}`));let a=s._injector??r,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(c,s.children??s._loadedRoutes))}return ze(o).pipe(si())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=j(null);let s=o.pipe(dt(a=>a===null?j(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return ze([s,a]).pipe(si())}else return s})}};e.\u0275fac=function(i){return new(i||e)(v(uo),v(g0),v(Bn),v(J0),v($p))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cI=new O(""),EW=(()=>{let e=class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof e1?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof qr?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Jo&&r.code===$0.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof W0&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new W0(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){sC()},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})();function CW(t){return t.routerState.root}function D4(t,e){return{\u0275kind:t,\u0275providers:e}}function MW(){let t=x(Kt);return e=>{let n=t.get(Ur);if(e!==n.components[0])return;let r=t.get(uo),i=t.get(lI);t.get(Gp)===1&&r.initialNavigation(),t.get(uI,null,xe.Optional)?.setUpPreloading(),t.get(cI,null,xe.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var lI=new O("",{factory:()=>new Q}),Gp=new O("",{providedIn:"root",factory:()=>1});function TW(){return D4(2,[{provide:Gp,useValue:0},{provide:m0,multi:!0,deps:[Kt],useFactory:e=>{let n=e.get(PM,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(uo),o=e.get(lI);aI(i,()=>{r(!0)}),e.get(Wp).afterPreactivation=()=>(r(!0),o.closed?j(void 0):o),i.initialNavigation()}))}}])}function IW(){return D4(3,[{provide:m0,multi:!0,useFactory:()=>{let e=x(uo);return()=>{e.setUpLocationChangeListener()}}},{provide:Gp,useValue:2}])}var uI=new O("");function DW(t){return D4(0,[{provide:uI,useExisting:bW},{provide:J0,useExisting:t}])}function SW(){return D4(8,[IT,{provide:e8,useExisting:IT}])}function xW(t){let e=[{provide:iI,useValue:lW},{provide:oI,useValue:P({skipNextTransition:!!t?.skipInitialTransition},t)}];return D4(9,e)}var xT=new O("ROUTER_FORROOT_GUARD"),AW=[Qo,{provide:E4,useClass:f4},uo,C4,{provide:ra,useFactory:CW,deps:[uo]},$p,[]],B4e=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[AW,[],{provide:Z0,multi:!0,useValue:r},{provide:xT,useFactory:VW,deps:[[uo,new eo,new F3]]},{provide:I4,useValue:i||{}},i?.useHash?RW():OW(),zW(),i?.preloadingStrategy?DW(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?PW(i):[],i?.bindToComponentInputs?SW().\u0275providers:[],i?.enableViewTransitions?xW().\u0275providers:[],NW()]}}static forChild(r){return{ngModule:e,providers:[{provide:Z0,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(v(xT,8))},e.\u0275mod=ge({type:e}),e.\u0275inj=me({});let t=e;return t})();function zW(){return{provide:cI,useFactory:()=>{let t=x(XM),e=x(K),n=x(I4),r=x(Wp),i=x(E4);return n.scrollOffset&&t.setOffset(n.scrollOffset),new EW(i,r,t,e,n)}}}function RW(){return{provide:co,useClass:kM}}function OW(){return{provide:co,useClass:$7}}function VW(t){return"guarded"}function PW(t){return[t.initialNavigation==="disabled"?IW().\u0275providers:[],t.initialNavigation==="enabledBlocking"?TW().\u0275providers:[]]}var AT=new O("");function NW(){return[{provide:AT,useFactory:MW},{provide:qc,multi:!0,useExisting:AT}]}var kW="firebase",LW="10.11.0";Ao(kW,LW,"app");var oa=new Bo("ANGULARFIRE2_VERSION");var FW=(t,e)=>{let n=e?[e]:Bw(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ia=class{constructor(){return FW(HW)}},HW="app-check";function Yp(){}var n8=class{zone;delegate;constructor(e,n=Pd){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},Qp=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Yp,{},Yp,Yp)),n.pipe(gt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},r8=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new n8(Zone.current)),this.insideAngular=n.run(()=>new n8(Zone.current,kn)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(v(K))};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function hI(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Z4e(t){return t.pipe(er(hI().outsideAngular))}function Qn(t){return BW(hI())(t)}function BW(t){return function(n){return n=n.lift(new Qp(t.ngZone)),n.pipe(Nr(t.outsideAngular),er(t.insideAngular))}}var jW="firebase",UW="10.11.0";Mn.registerVersion(jW,UW,"app-compat");var $W=["ngOnDestroy"],pI=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{if(t[o])return r?.spy?.get&&r.spy.get(o,t[o]),t[o];if($W.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(a=>{let c=a?.[o];return typeof c=="function"?c.bind(a):c?.then?c.then(l=>n.run(()=>l)):n.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,l)=>s.then(u=>{let h=u?.(...l);return r?.spy?.apply&&r.spy.apply(o,l,h),h})})})});var i8=class{constructor(e){return e}},r1=new O("angularfire2.app.options"),i1=new O("angularfire2.app.name");function S4(t,e,n){let r=typeof n=="string"&&n||"[DEFAULT]",i=typeof n=="object"&&n||{};i.name=i.name||r;let s=Mn.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>Mn.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){let a=!!module.hot;qW("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new i8(s)}var qW=(t,...e)=>{Zs()&&typeof console<"u"&&console[t](...e)},WW={provide:i8,useFactory:S4,deps:[r1,K,[new eo,i1]]},a2e=(()=>{class t{static initializeApp(n,r){return{ngModule:t,providers:[{provide:r1,useValue:n},{provide:i1,useValue:r}]}}constructor(n){Mn.registerVersion("angularfire",oa.full,"core"),Mn.registerVersion("angularfire",oa.full,"app-compat"),Mn.registerVersion("angular",fM.full,n.toString())}static \u0275fac=function(r){return new(r||t)(v(xt))};static \u0275mod=ge({type:t});static \u0275inj=me({providers:[WW]})}return t})();function o8(t,e,n,r,i){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return GW(i,s)||(fI("error",`${e} was already initialized on the ${n} Firebase App with different settings.${YW?" You may need to reload as Firebase is not HMR aware.":""}`),fI("warn",{is:i,was:s})),o;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}function GW(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var YW=typeof module<"u"&&!!module.hot,fI=(t,...e)=>{Zs()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var XW=new Map,ZW={activated:!1,tokenObservers:[]},JW={initialized:!1,enabled:!1};function Wr(t){return XW.get(t)||Object.assign({},ZW)}function wI(){return JW}var eG="https://content-firebaseappcheck.googleapis.com/v1";var tG="exchangeDebugToken",mI={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},v2e=24*60*60*1e3;var Xp=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return _(this,null,function*(){this.stop();try{this.pending=new ud,this.pending.promise.catch(n=>{}),yield nG(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new ud,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function nG(t){return new Promise(e=>{setTimeout(e,t)})}var rG={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},ts=new Fw("appCheck","AppCheck",rG);function _I(t){if(!Wr(t).activated)throw ts.create("use-before-activation",{appName:t.name})}function bI(r,i){return _(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let f=yield s.getHeartbeatsHeader();f&&(o["X-Firebase-Client"]=f)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(t,a)}catch(f){throw ts.create("fetch-network-error",{originalErrorMessage:f?.message})}if(c.status!==200)throw ts.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(f){throw ts.create("fetch-parse-error",{originalErrorMessage:f?.message})}let u=l.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw ts.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let h=Number(u[1])*1e3,d=Date.now();return{token:l.token,expireTimeMillis:d+h,issuedAtTimeMillis:d}})}function EI(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${eG}/projects/${n}/apps/${r}:${tG}?key=${i}`,body:{debug_token:e}}}var iG="firebase-app-check-database",oG=1,Zp="firebase-app-check-store";var s8=null;function sG(){return s8||(s8=new Promise((t,e)=>{try{let n=indexedDB.open(iG,oG);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(ts.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Zp,{keyPath:"compositeKey"})}}}catch(n){e(ts.create("storage-open",{originalErrorMessage:n?.message}))}}),s8)}function aG(t,e){return cG(lG(t),e)}function cG(t,e){return _(this,null,function*(){let r=(yield sG()).transaction(Zp,"readwrite"),o=r.objectStore(Zp).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(ts.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function lG(t){return`${t.options.appId}-${t.name}`}var Jp=new gu("@firebase/app-check");function Kp(t,e){return mu()?aG(t,e).catch(n=>{Jp.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function CI(){return wI().enabled}function MI(){return _(this,null,function*(){let t=wI();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var uG={error:"UNKNOWN_ERROR"};function hG(t){return Nw.encodeString(JSON.stringify(t),!1)}function em(t,e=!1){return _(this,null,function*(){let n=t.app;_I(n);let r=Wr(n),i=r.token,o;if(i&&!x4(i)&&(r.token=void 0,i=void 0),!i){let c=yield r.cachedTokenPromise;c&&(x4(c)?i=c:yield Kp(n,void 0))}if(!e&&i&&x4(i))return{token:i.token};let s=!1;if(CI()){r.exchangeTokenPromise||(r.exchangeTokenPromise=bI(EI(n,yield MI()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let c=yield r.exchangeTokenPromise;return yield Kp(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield Wr(n).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"?Jp.warn(c.message):Jp.error(c),o=c}let a;return i?o?x4(i)?a={token:i.token,internalError:o}:a=vI(o):(a={token:i.token},r.token=i,yield Kp(n,i)):a=vI(o),s&&mG(n,a),a})}function dG(t){return _(this,null,function*(){let e=t.app;_I(e);let{provider:n}=Wr(e);if(CI()){let r=yield MI(),{token:i}=yield bI(EI(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function fG(t,e,n,r){let{app:i}=t,o=Wr(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&x4(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),gI(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>gI(t))}function TI(t,e){let n=Wr(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function gI(t){let{app:e}=t,n=Wr(e),r=n.tokenRefresher;r||(r=pG(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function pG(t){let{app:e}=t;return new Xp(()=>_(this,null,function*(){let n=Wr(e),r;if(n.token?r=yield em(t,!0):r=yield em(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=Wr(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},mI.RETRIAL_MIN_WAIT,mI.RETRIAL_MAX_WAIT)}function mG(t,e){let n=Wr(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function x4(t){return t.expireTimeMillis-Date.now()>0}function vI(t){return{token:hG(uG),error:t}}var tm=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Wr(this.app);for(let n of e)TI(this.app,n.next);return Promise.resolve()}};function gG(t,e){return new tm(t,e)}function vG(t){return{getToken:e=>em(t,e),getLimitedUseToken:()=>dG(t),addTokenListener:e=>fG(t,"INTERNAL",e),removeTokenListener:e=>TI(t.app,e)}}var yG="@firebase/app-check",wG="0.8.3";var _G="app-check",yI="app-check-internal";function bG(){fl(new Ss(_G,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return gG(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(yI).initialize()})),fl(new Ss(yI,t=>{let e=t.getProvider("app-check").getImmediate();return vG(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ao(yG,wG)}bG();var EG=["localhost","0.0.0.0","127.0.0.1"],x2e=typeof window<"u"&&EG.includes(window.location.hostname);var nm=new O("angularfire2.auth.use-emulator"),rm=new O("angularfire2.auth.settings"),im=new O("angularfire2.auth.tenant-id"),om=new O("angularfire2.auth.langugage-code"),sm=new O("angularfire2.auth.use-device-language"),am=new O("angularfire.auth.persistence"),cm=(t,e,n,r,i,o,s,a)=>o8(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let c=e.runOutsideAngular(()=>t.auth());if(n&&c.useEmulator(...n),r&&(c.tenantId=r),c.languageCode=i,o&&c.useDeviceLanguage(),s)for(let[l,u]of Object.entries(s))c.settings[l]=u;return a&&c.setPersistence(a),c},[n,r,i,o,s,a]),lm=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,r,i,o,s,a,c,l,u,h,d,f){let p=new Q,m=j(void 0).pipe(er(s.outsideAngular),at(()=>o.runOutsideAngular(()=>import("./chunk-X3GHG2CL.js"))),W(()=>S4(n,o,r)),W(g=>cm(g,o,a,l,u,h,c,d)),pc({bufferSize:1,refCount:!1}));if(lo(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=j(null);else{m.pipe(tr()).subscribe();let g=m.pipe(at(M=>M.getRedirectResult().then(N=>N,()=>null)),Qn,pc({bufferSize:1,refCount:!1})),b=m.pipe(at(M=>new le(N=>({unsubscribe:o.runOutsideAngular(()=>M.onAuthStateChanged(Z=>N.next(Z),Z=>N.error(Z),()=>N.complete()))})))),S=m.pipe(at(M=>new le(N=>({unsubscribe:o.runOutsideAngular(()=>M.onIdTokenChanged(Z=>N.next(Z),Z=>N.error(Z),()=>N.complete()))}))));this.authState=g.pipe(Gu(b),Nr(s.outsideAngular),er(s.insideAngular)),this.user=g.pipe(Gu(S),Nr(s.outsideAngular),er(s.insideAngular)),this.idToken=this.user.pipe(at(M=>M?ze(M.getIdToken()):j(null))),this.idTokenResult=this.user.pipe(at(M=>M?ze(M.getIdTokenResult()):j(null))),this.credential=yl(g,p,this.authState.pipe(Pe(M=>!M))).pipe(W(M=>M?.user?M:null),Nr(s.outsideAngular),er(s.insideAngular))}return pI(this,m,o,{spy:{apply:(g,b,S)=>{(g.startsWith("signIn")||g.startsWith("createUser"))&&S.then(M=>p.next(M))}}})}static \u0275fac=function(r){return new(r||t)(v(r1),v(i1,8),v(xt),v(K),v(r8),v(nm,8),v(rm,8),v(im,8),v(om,8),v(sm,8),v(am,8),v(ia,8))};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),q2e=(()=>{class t{constructor(){Mn.registerVersion("angularfire",oa.full,"auth-compat")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ge({type:t});static \u0275inj=me({providers:[lm]})}return t})();var MG=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yr={},H,zm=zm||{},fe=MG||self;function _8(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function U4(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function TG(t){return Object.prototype.hasOwnProperty.call(t,um)&&t[um]||(t[um]=++IG)}var um="closure_uid_"+(1e9*Math.random()>>>0),IG=0;function DG(t,e,n){return t.call.apply(t.bind,arguments)}function SG(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function vn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?vn=DG:vn=SG,vn.apply(null,arguments)}function a8(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Jt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function ns(){this.s=this.s,this.o=this.o}var xG=0;ns.prototype.s=!1;ns.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),xG!=0)&&TG(this)};ns.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var FI=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Rm(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function DI(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(_8(r)){let i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function yn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}yn.prototype.h=function(){this.defaultPrevented=!0};var AG=function(){if(!fe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};fe.addEventListener("test",n,e),fe.removeEventListener("test",n,e)}catch{}return t}();function P4(t){return/^[\s\xa0]*$/.test(t)}function b8(){var t=fe.navigator;return t&&(t=t.userAgent)?t:""}function Ii(t){return b8().indexOf(t)!=-1}function Om(t){return Om[" "](t),t}Om[" "]=function(){};function zG(t,e){var n=wY;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var RG=Ii("Opera"),c1=Ii("Trident")||Ii("MSIE"),HI=Ii("Edge"),mm=HI||c1,BI=Ii("Gecko")&&!(b8().toLowerCase().indexOf("webkit")!=-1&&!Ii("Edge"))&&!(Ii("Trident")||Ii("MSIE"))&&!Ii("Edge"),OG=b8().toLowerCase().indexOf("webkit")!=-1&&!Ii("Edge");function jI(){var t=fe.document;return t?t.documentMode:void 0}var gm;e:{if(c8="",l8=function(){var t=b8();if(BI)return/rv:([^\);]+)(\)|;)/.exec(t);if(HI)return/Edge\/([\d\.]+)/.exec(t);if(c1)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(OG)return/WebKit\/(\S+)/.exec(t);if(RG)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),l8&&(c8=l8?l8[1]:""),c1&&(u8=jI(),u8!=null&&u8>parseFloat(c8))){gm=String(u8);break e}gm=c8}var c8,l8,u8,vm;fe.document&&c1?(hm=jI(),vm=hm||parseInt(gm,10)||void 0):vm=void 0;var hm,VG=vm;function N4(t,e){if(yn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(BI){e:{try{Om(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:PG[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&N4.$.h.call(this)}}Jt(N4,yn);var PG={2:"touch",3:"pen",4:"mouse"};N4.prototype.h=function(){N4.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var $4="closure_listenable_"+(1e6*Math.random()|0),NG=0;function kG(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++NG,this.fa=this.ia=!1}function E8(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Vm(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function LG(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function UI(t){let e={};for(let n in t)e[n]=t[n];return e}var SI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $I(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<SI.length;o++)n=SI[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function C8(t){this.src=t,this.g={},this.h=0}C8.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=wm(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new kG(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function ym(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=FI(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(E8(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function wm(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var Pm="closure_lm_"+(1e6*Math.random()|0),dm={};function qI(t,e,n,r,i){if(r&&r.once)return GI(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)qI(t,e[o],n,r,i);return null}return n=Lm(n),t&&t[$4]?t.O(e,n,U4(r)?!!r.capture:!!r,i):WI(t,e,n,!1,r,i)}function WI(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=U4(i)?!!i.capture:!!i,a=km(t);if(a||(t[Pm]=a=new C8(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=FG(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)AG||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(QI(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function FG(){function t(n){return e.call(t.src,t.listener,n)}let e=HG;return t}function GI(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)GI(t,e[o],n,r,i);return null}return n=Lm(n),t&&t[$4]?t.P(e,n,U4(r)?!!r.capture:!!r,i):WI(t,e,n,!0,r,i)}function YI(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)YI(t,e[o],n,r,i);else r=U4(r)?!!r.capture:!!r,n=Lm(n),t&&t[$4]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=wm(o,n,r,i),-1<n&&(E8(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=km(t))&&(e=t.g[e.toString()],t=-1,e&&(t=wm(e,n,r,i)),(n=-1<t?e[t]:null)&&Nm(n))}function Nm(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[$4])ym(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(QI(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=km(e))?(ym(n,t),n.h==0&&(n.src=null,e[Pm]=null)):E8(t)}}}function QI(t){return t in dm?dm[t]:dm[t]="on"+t}function HG(t,e){if(t.fa)t=!0;else{e=new N4(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Nm(t),t=n.call(r,e)}return t}function km(t){return t=t[Pm],t instanceof C8?t:null}var fm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lm(t){return typeof t=="function"?t:(t[fm]||(t[fm]=function(e){return t.handleEvent(e)}),t[fm])}function Zt(){ns.call(this),this.i=new C8(this),this.S=this,this.J=null}Jt(Zt,ns);Zt.prototype[$4]=!0;Zt.prototype.removeEventListener=function(t,e,n,r){YI(this,t,e,n,r)};function hn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new yn(e,t);else if(e instanceof yn)e.target=e.target||t;else{var i=e;e=new yn(r,t),$I(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=h8(s,r,!0,e)&&i}if(s=e.g=t,i=h8(s,r,!0,e)&&i,i=h8(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=h8(s,r,!1,e)&&i}Zt.prototype.N=function(){if(Zt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)E8(n[r]);delete t.g[e],t.h--}}this.J=null};Zt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Zt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function h8(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&ym(t.i,s),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var Fm=fe.JSON.stringify,_m=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function BG(){var t=Hm;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var bm=class{constructor(){this.h=this.g=null}add(e,n){let r=KI.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},KI=new _m(()=>new Em,t=>t.reset()),Em=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function jG(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function UG(t){fe.setTimeout(()=>{throw t},0)}var k4,L4=!1,Hm=new bm,XI=()=>{let t=fe.Promise.resolve(void 0);k4=()=>{t.then($G)}},$G=()=>{for(var t;t=BG();){try{t.h.call(t.g)}catch(n){UG(n)}var e=KI;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}L4=!1};function M8(t,e){Zt.call(this),this.h=t||1,this.g=e||fe,this.j=vn(this.qb,this),this.l=Date.now()}Jt(M8,Zt);H=M8.prototype;H.ga=!1;H.T=null;H.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),hn(this,"tick"),this.ga&&(Bm(this),this.start()))}};H.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Bm(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}H.N=function(){M8.$.N.call(this),Bm(this),delete this.g};function jm(t,e,n){if(typeof t=="function")n&&(t=vn(t,n));else if(t&&typeof t.handleEvent=="function")t=vn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:fe.setTimeout(t,e||0)}function ZI(t){t.g=jm(()=>{t.g=null,t.i&&(t.i=!1,ZI(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var Cm=class extends ns{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ZI(this)}N(){super.N(),this.g&&(fe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function F4(t){ns.call(this),this.h=t,this.g={}}Jt(F4,ns);var xI=[];function JI(t,e,n,r){Array.isArray(n)||(n&&(xI[0]=n.toString()),n=xI);for(var i=0;i<n.length;i++){var o=qI(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function eD(t){Vm(t.g,function(e,n){this.g.hasOwnProperty(n)&&Nm(e)},t),t.g={}}F4.prototype.N=function(){F4.$.N.call(this),eD(this)};F4.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function T8(){this.g=!0}T8.prototype.Ea=function(){this.g=!1};function qG(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");s=2<=h.length&&h[1]=="type"?s+(u+"="+l+"&"):s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function WG(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function s1(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+YG(t,n)+(r?" "+r:"")})}function GG(t,e){t.info(function(){return"TIMEOUT: "+e})}T8.prototype.info=function(){};function YG(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Fm(n)}catch{return e}}var la={},AI=null;function I8(){return AI=AI||new Zt}la.Ta="serverreachability";function tD(t){yn.call(this,la.Ta,t)}Jt(tD,yn);function H4(t){let e=I8();hn(e,new tD(e))}la.STAT_EVENT="statevent";function nD(t,e){yn.call(this,la.STAT_EVENT,t),this.stat=e}Jt(nD,yn);function An(t){let e=I8();hn(e,new nD(e,t))}la.Ua="timingevent";function rD(t,e){yn.call(this,la.Ua,t),this.size=e}Jt(rD,yn);function q4(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return fe.setTimeout(function(){t()},e)}var D8={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},iD={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Um(){}Um.prototype.h=null;function zI(t){return t.h||(t.h=t.i())}function oD(){}var W4={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function $m(){yn.call(this,"d")}Jt($m,yn);function qm(){yn.call(this,"c")}Jt(qm,yn);var Mm;function S8(){}Jt(S8,Um);S8.prototype.g=function(){return new XMLHttpRequest};S8.prototype.i=function(){return{}};Mm=new S8;function G4(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new F4(this),this.P=QG,t=mm?125:void 0,this.V=new M8(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new sD}function sD(){this.i=null,this.g="",this.h=!1}var QG=45e3,aD={},Tm={};H=G4.prototype;H.setTimeout=function(t){this.P=t};function Im(t,e,n){t.L=1,t.A=A8(fo(e)),t.u=n,t.S=!0,cD(t,null)}function cD(t,e){t.G=Date.now(),Y4(t),t.B=fo(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),gD(n.i,"t",r),t.o=0,n=t.l.J,t.h=new sD,t.g=kD(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Cm(vn(t.Pa,t,t.g),t.O)),JI(t.U,t.g,"readystatechange",t.nb),e=t.I?UI(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),H4(),qG(t.j,t.v,t.B,t.m,t.W,t.u)}H.nb=function(t){t=t.target;let e=this.M;e&&Di(t)==3?e.l():this.Pa(t)};H.Pa=function(t){try{if(t==this.g)e:{let u=Di(this.g);var e=this.g.Ia();let h=this.g.da();if(!(3>u)&&(u!=3||mm||this.g&&(this.h.h||this.g.ja()||PI(this.g)))){this.J||u!=4||e==7||(e==8||0>=h?H4(3):H4(2)),x8(this);var n=this.g.da();this.ca=n;t:if(lD(this)){var r=PI(this.g);t="";var i=r.length,o=Di(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sa(this),V4(this);var s="";break t}this.h.i=new fe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,WG(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P4(a)){var l=a;break t}}l=null}if(n=l)s1(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dm(this,n);else{this.i=!1,this.s=3,An(12),sa(this),V4(this);break e}}this.S?(uD(this,u,s),mm&&this.i&&u==3&&(JI(this.U,this.V,"tick",this.mb),this.V.start())):(s1(this.j,this.m,s,null),Dm(this,s)),u==4&&sa(this),this.i&&!this.J&&(u==4?OD(this.l,this):(this.i=!1,Y4(this)))}else gY(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,An(12)):(this.s=0,An(13)),sa(this),V4(this)}}}catch{}finally{}};function lD(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function uD(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=KG(t,n),i==Tm){e==4&&(t.s=4,An(14),r=!1),s1(t.j,t.m,null,"[Incomplete Response]");break}else if(i==aD){t.s=4,An(15),s1(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else s1(t.j,t.m,i,null),Dm(t,i);lD(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,An(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Xm(e),e.M=!0,An(11))):(s1(t.j,t.m,n,"[Invalid Chunked Response]"),sa(t),V4(t))}H.mb=function(){if(this.g){var t=Di(this.g),e=this.g.ja();this.o<e.length&&(x8(this),uD(this,t,e),this.i&&t!=4&&Y4(this))}};function KG(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Tm:(n=Number(e.substring(n,r)),isNaN(n)?aD:(r+=1,r+n>e.length?Tm:(e=e.slice(r,r+n),t.o=r+n,e)))}H.cancel=function(){this.J=!0,sa(this)};function Y4(t){t.Y=Date.now()+t.P,hD(t,t.P)}function hD(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=q4(vn(t.lb,t),e)}function x8(t){t.C&&(fe.clearTimeout(t.C),t.C=null)}H.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(GG(this.j,this.B),this.L!=2&&(H4(),An(17)),sa(this),this.s=2,V4(this)):hD(this,this.Y-t)};function V4(t){t.l.H==0||t.J||OD(t.l,t)}function sa(t){x8(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Bm(t.V),eD(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Dm(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Sm(n.i,t))){if(!t.K&&Sm(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)g8(n),O8(n);else break e;Km(n),An(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=q4(vn(n.ib,n),6e3));if(1>=wD(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else aa(n,11)}else if((t.K||n.g==t)&&g8(n),!P4(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];let u=l[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));let h=l[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));let d=l[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=t.g;if(f){let p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=r.i;o.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Wm(o,o.h),o.h=null))}if(r.F){let m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,lt(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=ND(r,r.J?r.pa:null,r.Y),s.K){_D(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.C&&(x8(a),Y4(a)),r.g=s}else zD(r);0<n.j.length&&V8(n)}else l[0]!="stop"&&l[0]!="close"||aa(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?aa(n,7):Qm(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}H4(4)}catch{}}function XG(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(_8(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function ZG(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(_8(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function dD(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(_8(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=ZG(t),r=XG(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var fD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function JG(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ca(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ca){this.h=t.h,p8(this,t.j),this.s=t.s,this.g=t.g,m8(this,t.m),this.l=t.l;var e=t.i,n=new B4;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),RI(this,n),this.o=t.o}else t&&(e=String(t).match(fD))?(this.h=!1,p8(this,e[1]||"",!0),this.s=R4(e[2]||""),this.g=R4(e[3]||"",!0),m8(this,e[4]),this.l=R4(e[5]||"",!0),RI(this,e[6]||"",!0),this.o=R4(e[7]||"")):(this.h=!1,this.i=new B4(null,this.h))}ca.prototype.toString=function(){var t=[],e=this.j;e&&t.push(O4(e,OI,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(O4(e,OI,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(O4(n,n.charAt(0)=="/"?nY:tY,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",O4(n,iY)),t.join("")};function fo(t){return new ca(t)}function p8(t,e,n){t.j=n?R4(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function m8(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function RI(t,e,n){e instanceof B4?(t.i=e,oY(t.i,t.h)):(n||(e=O4(e,rY)),t.i=new B4(e,t.h))}function lt(t,e,n){t.i.set(e,n)}function A8(t){return lt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function R4(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function O4(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,eY),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function eY(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var OI=/[#\/\?@]/g,tY=/[#\?:]/g,nY=/[#\?]/g,rY=/[#\?@]/g,iY=/#/g;function B4(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function rs(t){t.g||(t.g=new Map,t.h=0,t.i&&JG(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}H=B4.prototype;H.add=function(t,e){rs(this),this.i=null,t=l1(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function pD(t,e){rs(t),e=l1(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function mD(t,e){return rs(t),e=l1(t,e),t.g.has(e)}H.forEach=function(t,e){rs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};H.ta=function(){rs(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};H.Z=function(t){rs(this);let e=[];if(typeof t=="string")mD(this,t)&&(e=e.concat(this.g.get(l1(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};H.set=function(t,e){return rs(this),this.i=null,t=l1(this,t),mD(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};H.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function gD(t,e,n){pD(t,e),0<n.length&&(t.i=null,t.g.set(l1(t,e),Rm(n)),t.h+=n.length)}H.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function l1(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function oY(t,e){e&&!t.j&&(rs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(pD(this,r),gD(this,i,n))},t)),t.j=e}var sY=class{constructor(t,e){this.g=t,this.map=e}};function vD(t){this.l=t||aY,fe.PerformanceNavigationTiming?(t=fe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(fe.g&&fe.g.Ka&&fe.g.Ka()&&fe.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var aY=10;function yD(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function wD(t){return t.h?1:t.g?t.g.size:0}function Sm(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Wm(t,e){t.g?t.g.add(e):t.h=e}function _D(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}vD.prototype.cancel=function(){if(this.i=bD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function bD(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return Rm(t.i)}var cY=class{stringify(t){return fe.JSON.stringify(t,void 0)}parse(t){return fe.JSON.parse(t,void 0)}};function lY(){this.g=new cY}function uY(t,e,n){let r=n||"";try{dD(t,function(i,o){let s=i;U4(i)&&(s=Fm(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function hY(t,e){let n=new T8;if(fe.Image){let r=new Image;r.onload=a8(d8,n,r,"TestLoadImage: loaded",!0,e),r.onerror=a8(d8,n,r,"TestLoadImage: error",!1,e),r.onabort=a8(d8,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=a8(d8,n,r,"TestLoadImage: timeout",!1,e),fe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function d8(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Q4(t){this.l=t.ec||null,this.j=t.ob||!1}Jt(Q4,Um);Q4.prototype.g=function(){return new z8(this.l,this.j)};Q4.prototype.i=function(t){return function(){return t}}({});function z8(t,e){Zt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Gm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Jt(z8,Zt);var Gm=0;H=z8.prototype;H.open=function(t,e){if(this.readyState!=Gm)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,j4(this)};H.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||fe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};H.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,K4(this)),this.readyState=Gm};H.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,j4(this)),this.g&&(this.readyState=3,j4(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof fe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ED(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function ED(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}H.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?K4(this):j4(this),this.readyState==3&&ED(this)}};H.Za=function(t){this.g&&(this.response=this.responseText=t,K4(this))};H.Ya=function(t){this.g&&(this.response=t,K4(this))};H.ka=function(){this.g&&K4(this)};function K4(t){t.readyState=4,t.l=null,t.j=null,t.A=null,j4(t)}H.setRequestHeader=function(t,e){this.v.append(t,e)};H.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};H.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function j4(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(z8.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var dY=fe.JSON.parse;function Mt(t){Zt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=CD,this.L=this.M=!1}Jt(Mt,Zt);var CD="",fY=/^https?$/i,pY=["POST","PUT"];H=Mt.prototype;H.Oa=function(t){this.M=t};H.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Mm.g(),this.C=this.u?zI(this.u):zI(Mm),this.g.onreadystatechange=vn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){VI(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=fe.FormData&&t instanceof fe.FormData,!(0<=FI(pY,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ID(this),0<this.B&&((this.L=mY(this.g))?(this.g.timeout=this.B,this.g.ontimeout=vn(this.ua,this)):this.A=jm(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){VI(this,o)}};function mY(t){return c1&&typeof t.timeout=="number"&&t.ontimeout!==void 0}H.ua=function(){typeof zm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,hn(this,"timeout"),this.abort(8))};function VI(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,MD(t),R8(t)}function MD(t){t.F||(t.F=!0,hn(t,"complete"),hn(t,"error"))}H.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,hn(this,"complete"),hn(this,"abort"),R8(this))};H.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),R8(this,!0)),Mt.$.N.call(this)};H.La=function(){this.s||(this.G||this.v||this.l?TD(this):this.kb())};H.kb=function(){TD(this)};function TD(t){if(t.h&&typeof zm<"u"&&(!t.C[1]||Di(t)!=4||t.da()!=2)){if(t.v&&Di(t)==4)jm(t.La,0,t);else if(hn(t,"readystatechange"),Di(t)==4){t.h=!1;try{let s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(fD)[1]||null;!i&&fe.self&&fe.self.location&&(i=fe.self.location.protocol.slice(0,-1)),r=!fY.test(i?i.toLowerCase():"")}n=r}if(n)hn(t,"complete"),hn(t,"success");else{t.m=6;try{var o=2<Di(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",MD(t)}}finally{R8(t)}}}}function R8(t,e){if(t.g){ID(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||hn(t,"ready");try{n.onreadystatechange=r}catch{}}}function ID(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(fe.clearTimeout(t.A),t.A=null)}H.isActive=function(){return!!this.g};function Di(t){return t.g?t.g.readyState:0}H.da=function(){try{return 2<Di(this)?this.g.status:-1}catch{return-1}};H.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};H.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),dY(e)}};function PI(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case CD:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function gY(t){let e={};t=(t.g&&2<=Di(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(P4(t[r]))continue;var n=jG(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let o=e[i]||[];e[i]=o,o.push(n)}LG(e,function(r){return r.join(", ")})}H.Ia=function(){return this.m};H.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function DD(t){let e="";return Vm(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Ym(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=DD(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):lt(t,e,n))}function A4(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function SD(t){this.Ga=0,this.j=[],this.l=new T8,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=A4("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=A4("baseRetryDelayMs",5e3,t),this.hb=A4("retryDelaySeedMs",1e4,t),this.eb=A4("forwardChannelMaxRetries",2,t),this.xa=A4("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new vD(t&&t.concurrentRequestLimit),this.Ja=new lY,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}H=SD.prototype;H.ra=8;H.H=1;function Qm(t){if(xD(t),t.H==3){var e=t.W++,n=fo(t.I);if(lt(n,"SID",t.K),lt(n,"RID",e),lt(n,"TYPE","terminate"),X4(t,n),e=new G4(t,t.l,e),e.L=2,e.A=A8(fo(n)),n=!1,fe.navigator&&fe.navigator.sendBeacon)try{n=fe.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&fe.Image&&(new Image().src=e.A,n=!0),n||(e.g=kD(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Y4(e)}PD(t)}function O8(t){t.g&&(Xm(t),t.g.cancel(),t.g=null)}function xD(t){O8(t),t.u&&(fe.clearTimeout(t.u),t.u=null),g8(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&fe.clearTimeout(t.m),t.m=null)}function V8(t){if(!yD(t.i)&&!t.m){t.m=!0;var e=t.Na;k4||XI(),L4||(k4(),L4=!0),Hm.add(e,t),t.C=0}}function vY(t,e){return wD(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=q4(vn(t.Na,t,e),VD(t,t.C)),t.C++,!0)}H.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new G4(this,this.l,t),o=this.s;if(this.U&&(o?(o=UI(o),$I(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=AD(this,i,e),n=fo(this.I),lt(n,"RID",t),lt(n,"CVER",22),this.F&&lt(n,"X-HTTP-Session-Id",this.F),X4(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(DD(o)))+"&"+e:this.o&&Ym(n,this.o,o)),Wm(this.i,i),this.bb&&lt(n,"TYPE","init"),this.P?(lt(n,"$req",e),lt(n,"SID","null"),i.aa=!0,Im(i,n,null)):Im(i,n,e),this.H=2}}else this.H==3&&(t?NI(this,t):this.j.length==0||yD(this.i)||NI(this))};function NI(t,e){var n;e?n=e.m:n=t.W++;let r=fo(t.I);lt(r,"SID",t.K),lt(r,"RID",n),lt(r,"AID",t.V),X4(t,r),t.o&&t.s&&Ym(r,t.o,t.s),n=new G4(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=AD(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Wm(t.i,n),Im(n,r,e)}function X4(t,e){t.na&&Vm(t.na,function(n,r){lt(e,r,n)}),t.h&&dD({},function(n,r){lt(e,r,n)})}function AD(t,e,n){n=Math.min(t.j.length,n);var r=t.h?vn(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){let s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let l=i[c].g,u=i[c].map;if(l-=o,0>l)o=Math.max(0,i[c].g-100),a=!1;else try{uY(u,s,"req"+l+"_")}catch{r&&r(u)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function zD(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;k4||XI(),L4||(k4(),L4=!0),Hm.add(e,t),t.A=0}}function Km(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=q4(vn(t.Ma,t),VD(t,t.A)),t.A++,!0)}H.Ma=function(){if(this.u=null,RD(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=q4(vn(this.jb,this),t)}};H.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,An(10),O8(this),RD(this))};function Xm(t){t.B!=null&&(fe.clearTimeout(t.B),t.B=null)}function RD(t){t.g=new G4(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=fo(t.wa);lt(e,"RID","rpc"),lt(e,"SID",t.K),lt(e,"AID",t.V),lt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&lt(e,"TO",t.qa),lt(e,"TYPE","xmlhttp"),X4(t,e),t.o&&t.s&&Ym(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=A8(fo(e)),n.u=null,n.S=!0,cD(n,t)}H.ib=function(){this.v!=null&&(this.v=null,O8(this),Km(this),An(19))};function g8(t){t.v!=null&&(fe.clearTimeout(t.v),t.v=null)}function OD(t,e){var n=null;if(t.g==e){g8(t),Xm(t),t.g=null;var r=2}else if(Sm(t.i,e))n=e.F,_D(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=I8(),hn(r,new rD(r,n)),V8(t)}else zD(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&vY(t,e)||r==2&&Km(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:aa(t,5);break;case 4:aa(t,10);break;case 3:aa(t,6);break;default:aa(t,2)}}}function VD(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function aa(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=vn(t.pb,t);n||(n=new ca("//www.google.com/images/cleardot.gif"),fe.location&&fe.location.protocol=="http"||p8(n,"https"),A8(n)),hY(n.toString(),r)}else An(2);t.H=0,t.h&&t.h.za(e),PD(t),xD(t)}H.pb=function(t){t?(this.l.info("Successfully pinged google.com"),An(2)):(this.l.info("Failed to ping google.com"),An(1))};function PD(t){if(t.H=0,t.ma=[],t.h){let e=bD(t.i);(e.length!=0||t.j.length!=0)&&(DI(t.ma,e),DI(t.ma,t.j),t.i.i.length=0,Rm(t.j),t.j.length=0),t.h.ya()}}function ND(t,e,n){var r=n instanceof ca?fo(n):new ca(n);if(r.g!="")e&&(r.g=e+"."+r.g),m8(r,r.m);else{var i=fe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new ca(null);r&&p8(o,r),e&&(o.g=e),i&&m8(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&lt(r,n,e),lt(r,"VER",t.ra),X4(t,r),r}function kD(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Mt(new Q4({ob:n})):new Mt(t.va),e.Oa(t.J),e}H.isActive=function(){return!!this.h&&this.h.isActive(this)};function LD(){}H=LD.prototype;H.Ba=function(){};H.Aa=function(){};H.za=function(){};H.ya=function(){};H.isActive=function(){return!0};H.Va=function(){};function v8(){if(c1&&!(10<=Number(VG)))throw Error("Environmental error: no available transport.")}v8.prototype.g=function(t,e){return new dr(t,e)};function dr(t,e){Zt.call(this),this.g=new SD(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!P4(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!P4(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new u1(this)}Jt(dr,Zt);dr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;An(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=ND(t,null,t.Y),V8(t)};dr.prototype.close=function(){Qm(this.g)};dr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Fm(t),t=n);e.j.push(new sY(e.fb++,t)),e.H==3&&V8(e)};dr.prototype.N=function(){this.g.h=null,delete this.j,Qm(this.g),delete this.g,dr.$.N.call(this)};function FD(t){$m.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Jt(FD,$m);function HD(){qm.call(this),this.status=1}Jt(HD,qm);function u1(t){this.g=t}Jt(u1,LD);u1.prototype.Ba=function(){hn(this.g,"a")};u1.prototype.Aa=function(t){hn(this.g,new FD(t))};u1.prototype.za=function(t){hn(this.g,new HD)};u1.prototype.ya=function(){hn(this.g,"b")};function yY(){this.blockSize=-1}function Gr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Jt(Gr,yY);Gr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function pm(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}Gr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)pm(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){pm(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){pm(this,r),i=0;break}}this.h=i,this.i+=e};Gr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ye(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var wY={};function Zm(t){return-128<=t&&128>t?zG(t,function(e){return new Ye([e|0],0>e?-1:0)}):new Ye([t|0],0>t?-1:0)}function Si(t){if(isNaN(t)||!isFinite(t))return a1;if(0>t)return un(Si(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=xm;return new Ye(e,0)}function BD(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return un(BD(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Si(Math.pow(e,8)),r=a1,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Si(Math.pow(e,o)),r=r.R(o).add(Si(s))):(r=r.R(n),r=r.add(Si(s)))}return r}var xm=4294967296,a1=Zm(0),Am=Zm(1),kI=Zm(16777216);H=Ye.prototype;H.ea=function(){if(Cr(this))return-un(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:xm+r)*e,e*=xm}return t};H.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ho(this))return"0";if(Cr(this))return"-"+un(this).toString(t);for(var e=Si(Math.pow(t,6)),n=this,r="";;){var i=w8(n,e).g;n=y8(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,ho(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};H.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ho(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Cr(t){return t.h==-1}H.X=function(t){return t=y8(this,t),Cr(t)?-1:ho(t)?0:1};function un(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ye(n,~t.h).add(Am)}H.abs=function(){return Cr(this)?un(this):this};H.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Ye(n,n[n.length-1]&-2147483648?-1:0)};function y8(t,e){return t.add(un(e))}H.R=function(t){if(ho(this)||ho(t))return a1;if(Cr(this))return Cr(t)?un(this).R(un(t)):un(un(this).R(t));if(Cr(t))return un(this.R(un(t)));if(0>this.X(kI)&&0>t.X(kI))return Si(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=s*c,f8(n,2*r+2*i),n[2*r+2*i+1]+=o*c,f8(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,f8(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,f8(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ye(n,0)};function f8(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function z4(t,e){this.g=t,this.h=e}function w8(t,e){if(ho(e))throw Error("division by zero");if(ho(t))return new z4(a1,a1);if(Cr(t))return e=w8(un(t),e),new z4(un(e.g),un(e.h));if(Cr(e))return e=w8(t,un(e)),new z4(un(e.g),e.h);if(30<t.g.length){if(Cr(t)||Cr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Am,r=e;0>=r.X(t);)n=LI(n),r=LI(r);var i=o1(n,1),o=o1(r,1);for(r=o1(r,2),n=o1(n,2);!ho(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=o1(r,1),n=o1(n,1)}return e=y8(t,i.R(e)),new z4(i,e)}for(i=a1;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Si(n),s=o.R(e);Cr(s)||0<s.X(t);)n-=r,o=Si(n),s=o.R(e);ho(o)&&(o=Am),i=i.add(o),t=y8(t,s)}return new z4(i,t)}H.gb=function(t){return w8(this,t).h};H.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ye(n,this.h&t.h)};H.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ye(n,this.h|t.h)};H.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ye(n,this.h^t.h)};function LI(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ye(n,t.h)}function o1(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Ye(i,t.h)}v8.prototype.createWebChannel=v8.prototype.g;dr.prototype.send=dr.prototype.u;dr.prototype.open=dr.prototype.m;dr.prototype.close=dr.prototype.close;D8.NO_ERROR=0;D8.TIMEOUT=8;D8.HTTP_ERROR=6;iD.COMPLETE="complete";oD.EventType=W4;W4.OPEN="a";W4.CLOSE="b";W4.ERROR="c";W4.MESSAGE="d";Zt.prototype.listen=Zt.prototype.O;Mt.prototype.listenOnce=Mt.prototype.P;Mt.prototype.getLastError=Mt.prototype.Sa;Mt.prototype.getLastErrorCode=Mt.prototype.Ia;Mt.prototype.getStatus=Mt.prototype.da;Mt.prototype.getResponseJson=Mt.prototype.Wa;Mt.prototype.getResponseText=Mt.prototype.ja;Mt.prototype.send=Mt.prototype.ha;Mt.prototype.setWithCredentials=Mt.prototype.Oa;Gr.prototype.digest=Gr.prototype.l;Gr.prototype.reset=Gr.prototype.reset;Gr.prototype.update=Gr.prototype.j;Ye.prototype.add=Ye.prototype.add;Ye.prototype.multiply=Ye.prototype.R;Ye.prototype.modulo=Ye.prototype.gb;Ye.prototype.compare=Ye.prototype.X;Ye.prototype.toNumber=Ye.prototype.ea;Ye.prototype.toString=Ye.prototype.toString;Ye.prototype.getBits=Ye.prototype.D;Ye.fromNumber=Si;Ye.fromString=BD;var jD=Yr.createWebChannelTransport=function(){return new v8},UD=Yr.getStatEventTarget=function(){return I8()},P8=Yr.ErrorCode=D8,$D=Yr.EventType=iD,qD=Yr.Event=la,Jm=Yr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},W2e=Yr.FetchXmlHttpFactory=Q4,Z4=Yr.WebChannel=oD,WD=Yr.XhrIo=Mt,GD=Yr.Md5=Gr,ua=Yr.Integer=Ye;var YD="@firebase/firestore";var Ht=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");var B1="10.11.0";var us=new gu("@firebase/firestore");function m1(){return us.logLevel}function YS(t){us.setLogLevel(t)}function D(t,...e){if(us.logLevel<=ni.DEBUG){let n=e.map(nv);us.debug(`Firestore (${B1}): ${t}`,...n)}}function At(t,...e){if(us.logLevel<=ni.ERROR){let n=e.map(nv);us.error(`Firestore (${B1}): ${t}`,...n)}}function Tr(t,...e){if(us.logLevel<=ni.WARN){let n=e.map(nv);us.warn(`Firestore (${B1}): ${t}`,...n)}}function nv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function q(t="Unexpected state"){let e=`FIRESTORE (${B1}) INTERNAL ASSERTION FAILED: `+t;throw At(e),new Error(e)}function ee(t,e){t||q()}function QS(t,e){t||q()}function F(t,e){return t}var w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},T=class extends Lw{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Bt=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var W8=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},i9=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ht.UNAUTHENTICATED))}shutdown(){}},o9=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},s9=class{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new Bt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Bt,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>_(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{D("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(D("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Bt)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(D("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ee(typeof r.accessToken=="string"),new W8(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return ee(e===null||typeof e=="string"),new Ht(e)}},a9=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},c9=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new a9(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}},l9=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},u9=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&D("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,D("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{D("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):D("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ee(typeof n.token=="string"),this.R=n.token,new l9(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function _Y(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var G8=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=_Y(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function ve(t,e){return t<e?-1:t>e?1:0}function M1(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function KS(t){return t+"\0"}var bt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new T(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new T(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new T(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new T(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ne=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new bt(0,0))}static max(){return new t(new bt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Y8=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&q(),r===void 0?r=e.length-n:r>e.length-n&&q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},ke=class t extends Y8{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new T(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},bY=/^[_a-zA-Z][_a-zA-Z0-9]*$/,zt=class t extends Y8{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return bY.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new T(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new T(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new T(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new T(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var k=class t{constructor(e){this.path=e}static fromPath(e){return new t(ke.fromString(e))}static fromName(e){return new t(ke.fromString(e).popFirst(5))}static empty(){return new t(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new ke(e.slice()))}};var T1=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};function h9(t){return t.fields.find(e=>e.kind===2)}function da(t){return t.fields.filter(e=>e.kind!==2)}T1.UNKNOWN_ID=-1;var b1=class{constructor(e,n){this.fieldPath=e,this.kind=n}};var u2=class t{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new t(0,Ir.min())}};function XS(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new bt(n+1,0):new bt(n,r));return new Ir(i,k.empty(),e)}function ZS(t){return new Ir(t.readTime,t.key,-1)}var Ir=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ne.min(),k.empty(),-1)}static max(){return new t(ne.max(),k.empty(),-1)}};function rv(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=k.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}var JS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Q8=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function ws(t){return _(this,null,function*(){if(t.code!==w.FAILED_PRECONDITION||t.message!==JS)throw t;D("LocalStore","Unexpectedly lost primary lease")})}var y=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;n(e[l]).next(u=>{s[l]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};var K8=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Bt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new ya(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=iv(r.target.error);this.V.reject(new ya(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(o){throw new ya(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(D("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new f9(n)}},go=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(dl())===12.2&&At("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return D("SimpleDb","Removing database:",e),fa(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!mu())return!1;if(t.C())return!0;let e=dl(),n=t.S(e),r=0<n&&n<10,i=t.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){let n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){return _(this,null,function*(){return this.db||(D("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{let s=o.target.result;n(s)},i.onblocked=()=>{r(new ya(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{let s=o.target.error;s.name==="VersionError"?r(new T(w.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new T(w.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new ya(e,s))},i.onupgradeneeded=o=>{D("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let s=o.target.result;this.p.N(s,i.transaction,o.oldVersion,this.version).next(()=>{D("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db})}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return _(this,null,function*(){let o=n==="readonly",s=0;for(;;){++s;try{this.db=yield this.O(e);let a=K8.open(this.db,e,o?"readonly":"readwrite",r),c=i(a).next(l=>(a.g(),l)).catch(l=>(a.abort(l),y.reject(l))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,l=c.name!=="FirebaseError"&&s<3;if(D("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),this.close(),!l)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}},d9=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return fa(this.k.delete())}},ya=class extends T{constructor(e,n){super(w.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function _s(t){return t.name==="IndexedDbTransactionError"}var f9=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(D("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(D("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),fa(r)}add(e){return D("SimpleDb","ADD",this.store.name,e,e),fa(this.store.add(e))}get(e){return fa(this.store.get(e)).next(n=>(n===void 0&&(n=null),D("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return D("SimpleDb","DELETE",this.store.name,e),fa(this.store.delete(e))}count(){return D("SimpleDb","COUNT",this.store.name),fa(this.store.count())}W(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let o=i.getAll(r.range);return new y((s,a)=>{o.onerror=c=>{a(c.target.error)},o.onsuccess=c=>{s(c.target.result)}})}{let o=this.cursor(r),s=[];return this.G(o,(a,c)=>{s.push(c)}).next(()=>s)}}j(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new y((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){D("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.J=!1;let i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.G(i,n)}Z(e){let n=this.cursor({});return new y((r,i)=>{n.onerror=o=>{let s=iv(o.target.error);i(s)},n.onsuccess=o=>{let s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){let r=[];return new y((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{let a=s.target.result;if(!a)return void i();let c=new d9(a),l=n(a.primaryKey,a.value,c);if(l instanceof y){let u=l.catch(h=>(c.done(),y.reject(h)));r.push(u)}c.isDone?i():c.$===null?a.continue():a.continue(c.$)}}).next(()=>y.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function fa(t){return new y((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=iv(r.target.error);n(i)}})}var QD=!1;function iv(t){let e=go.S(dl());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new T("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return QD||(QD=!0,setTimeout(()=>{throw r},0)),r}}return t}var p9=class{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ee(e){D("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>_(this,null,function*(){this.task=null;try{D("IndexBackfiller",`Documents written: ${yield this.X.te()}`)}catch(n){_s(n)?D("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):yield ws(n)}yield this.ee(6e4)}))}},m9=class{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){return _(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ne(n,e))})}ne(e,n){let r=new Set,i=n,o=!0;return y.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!r.has(s))return D("IndexBackfiller",`Processing collection: ${s}`),this.re(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{let s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.ie(i,o)).next(a=>(D("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,o)=>{let s=ZS(o);rv(s,r)>0&&(r=s)}),new Ir(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}};var fr=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function R2(t){return t==null}function h2(t){return t===0&&1/t==-1/0}function ex(t){return typeof t=="number"&&Number.isInteger(t)&&!h2(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function zn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=KD(e)),e=EY(t.get(n),e);return KD(e)}function EY(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function KD(t){return t+""}function xi(t){let e=t.length;if(ee(e>=2),e===2)return ee(t.charAt(0)===""&&t.charAt(1)===""),ke.emptyPath();let n=e-2,r=[],i="";for(let o=0;o<e;){let s=t.indexOf("",o);switch((s<0||s>n)&&q(),t.charAt(s+1)){case"":let a=t.substring(o,s),c;i.length===0?c=a:(i+=a,c=i,i=""),r.push(c);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:q()}o=s+2}return new ke(r)}var XD=["userId","batchId"];function H8(t,e){return[t,zn(e)]}function tx(t,e,n){return[t,zn(e),n]}var CY={},MY=["prefixPath","collectionGroup","readTime","documentId"],TY=["prefixPath","collectionGroup","documentId"],IY=["collectionGroup","readTime","prefixPath","documentId"],DY=["canonicalId","targetId"],SY=["targetId","path"],xY=["path","targetId"],AY=["collectionId","parent"],zY=["indexId","uid"],RY=["uid","sequenceNumber"],OY=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],VY=["indexId","uid","orderedDocumentKey"],PY=["userId","collectionPath","documentId"],NY=["userId","collectionPath","largestBatchId"],kY=["userId","collectionGroup","largestBatchId"],nx=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],LY=[...nx,"documentOverlays"],rx=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ix=rx,ox=[...ix,"indexConfiguration","indexState","indexEntries"],FY=ox;var d2=class extends Q8{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}};function tn(t,e){let n=F(t);return go.M(n.ae,e)}function ZD(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Aa(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function sx(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ut=class t{constructor(e,n){this.comparator=e,this.root=n||zi.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zi.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _1(this.root,e,this.comparator,!1)}getReverseIterator(){return new _1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _1(this.root,e,this.comparator,!0)}},_1=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},zi=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw q();let e=this.left.check();if(e!==this.right.check())throw q();return e+(this.isRed()?0:1)}};zi.EMPTY=null,zi.RED=!0,zi.BLACK=!1;zi.EMPTY=new class{constructor(){this.size=0}get key(){throw q()}get value(){throw q()}get color(){throw q()}get left(){throw q()}get right(){throw q()}copy(e,n,r,i,o){return this}insert(e,n,r){return new zi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var tt=class t{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new X8(this.data.getIterator())}getIteratorFrom(e){return new X8(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},X8=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function h1(t){return t.hasNext()?t.getNext():void 0}var pr=class t{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new t([])}unionWith(e){let n=new tt(zt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return M1(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Z8=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function ax(){return typeof atob<"u"}var en=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Z8("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};en.EMPTY_BYTE_STRING=new en("");var HY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vo(t){if(ee(!!t),typeof t=="string"){let e=0,n=HY.exec(t);if(ee(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tt(t.seconds),nanos:Tt(t.nanos)}}function Tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function hs(t){return typeof t=="string"?en.fromBase64String(t):en.fromUint8Array(t)}function j6(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ov(t){let e=t.mapValue.fields.__previous_value__;return j6(e)?ov(e):e}function f2(t){let e=vo(t.mapValue.fields.__local_write_time__.timestampValue);return new bt(e.seconds,e.nanos)}var g9=class{constructor(e,n,r,i,o,s,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},ds=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var cs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},B8={nullValue:"NULL_VALUE"};function wa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?j6(t)?4:cx(t)?9007199254740991:10:q()}function Vi(t,e){if(t===e)return!0;let n=wa(t);if(n!==wa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return f2(t).isEqual(f2(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=vo(i.timestampValue),a=vo(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return hs(i.bytesValue).isEqual(hs(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Tt(i.geoPointValue.latitude)===Tt(o.geoPointValue.latitude)&&Tt(i.geoPointValue.longitude)===Tt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Tt(i.integerValue)===Tt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Tt(i.doubleValue),a=Tt(o.doubleValue);return s===a?h2(s)===h2(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return M1(t.arrayValue.values||[],e.arrayValue.values||[],Vi);case 10:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(ZD(s)!==ZD(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Vi(s[c],a[c])))return!1;return!0}(t,e);default:return q()}}function p2(t,e){return(t.values||[]).find(n=>Vi(n,e))!==void 0}function fs(t,e){if(t===e)return 0;let n=wa(t),r=wa(e);if(n!==r)return ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Tt(o.integerValue||o.doubleValue),c=Tt(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return JD(t.timestampValue,e.timestampValue);case 4:return JD(f2(t),f2(e));case 5:return ve(t.stringValue,e.stringValue);case 6:return function(o,s){let a=hs(o),c=hs(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let u=ve(a[l],c[l]);if(u!==0)return u}return ve(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ve(Tt(o.latitude),Tt(s.latitude));return a!==0?a:ve(Tt(o.longitude),Tt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){let a=o.values||[],c=s.values||[];for(let l=0;l<a.length&&l<c.length;++l){let u=fs(a[l],c[l]);if(u)return u}return ve(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===cs.mapValue&&s===cs.mapValue)return 0;if(o===cs.mapValue)return 1;if(s===cs.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let h=0;h<c.length&&h<u.length;++h){let d=ve(c[h],u[h]);if(d!==0)return d;let f=fs(a[c[h]],l[u[h]]);if(f!==0)return f}return ve(c.length,u.length)}(t.mapValue,e.mapValue);default:throw q()}}function JD(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);let n=vo(t),r=vo(e),i=ve(n.seconds,r.seconds);return i!==0?i:ve(n.nanos,r.nanos)}function I1(t){return v9(t)}function v9(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=vo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return hs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return k.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=v9(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${v9(n.fields[s])}`;return i+"}"}(t.mapValue):q()}function _a(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function y9(t){return!!t&&"integerValue"in t}function m2(t){return!!t&&"arrayValue"in t}function eS(t){return!!t&&"nullValue"in t}function tS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function j8(t){return!!t&&"mapValue"in t}function o2(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Aa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=o2(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=o2(t.arrayValue.values[n]);return e}return Object.assign({},t)}function cx(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function BY(t){return"nullValue"in t?B8:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?_a(ds.empty(),k.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:q()}function jY(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?_a(ds.empty(),k.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?cs:q()}function nS(t,e){let n=fs(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function rS(t,e){let n=fs(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}var _n=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!j8(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=o2(n)}setAll(e){let n=zt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=o2(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());j8(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];j8(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Aa(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(o2(this.value))}};function lx(t){let e=[];return Aa(t.fields,(n,r)=>{let i=new zt([n]);if(j8(r)){let o=lx(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new pr(e)}var jt=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ne.min(),ne.min(),ne.min(),_n.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ne.min(),ne.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ne.min(),ne.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Pi=class{constructor(e,n){this.position=e,this.inclusive=n}};function iS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=k.comparator(k.fromName(s.referenceValue),n.key):r=fs(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function oS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vi(t.position[n],e.position[n]))return!1;return!0}var ba=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function UY(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var J8=class{},Oe=class t extends J8{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new b9(e,n,r):n==="array-contains"?new M9(e,r):n==="in"?new e6(e,r):n==="not-in"?new T9(e,r):n==="array-contains-any"?new I9(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new E9(e,r):new C9(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(fs(n,this.value)):n!==null&&wa(this.value)===wa(n)&&this.matchesComparison(fs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Qe=class t extends J8{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return D1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function D1(t){return t.op==="and"}function w9(t){return t.op==="or"}function sv(t){return ux(t)&&D1(t)}function ux(t){for(let e of t.filters)if(e instanceof Qe)return!1;return!0}function _9(t){if(t instanceof Oe)return t.field.canonicalString()+t.op.toString()+I1(t.value);if(sv(t))return t.filters.map(e=>_9(e)).join(",");{let e=t.filters.map(n=>_9(n)).join(",");return`${t.op}(${e})`}}function hx(t,e){return t instanceof Oe?function(r,i){return i instanceof Oe&&r.op===i.op&&r.field.isEqual(i.field)&&Vi(r.value,i.value)}(t,e):t instanceof Qe?function(r,i){return i instanceof Qe&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&hx(s,i.filters[a]),!0):!1}(t,e):void q()}function dx(t,e){let n=t.filters.concat(e);return Qe.create(n,t.op)}function fx(t){return t instanceof Oe?function(n){return`${n.field.canonicalString()} ${n.op} ${I1(n.value)}`}(t):t instanceof Qe?function(n){return n.op.toString()+" {"+n.getFilters().map(fx).join(" ,")+"}"}(t):"Filter"}var b9=class extends Oe{constructor(e,n,r){super(e,n,r),this.key=k.fromName(r.referenceValue)}matches(e){let n=k.comparator(e.key,this.key);return this.matchesComparison(n)}},E9=class extends Oe{constructor(e,n){super(e,"in",n),this.keys=px("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},C9=class extends Oe{constructor(e,n){super(e,"not-in",n),this.keys=px("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function px(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>k.fromName(r.referenceValue))}var M9=class extends Oe{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return m2(n)&&p2(n.arrayValue,this.value)}},e6=class extends Oe{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&p2(this.value.arrayValue,n)}},T9=class extends Oe{constructor(e,n){super(e,"not-in",n)}matches(e){if(p2(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!p2(this.value.arrayValue,n)}},I9=class extends Oe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!m2(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>p2(this.value.arrayValue,r))}};var D9=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}};function S9(t,e=null,n=[],r=[],i=null,o=null,s=null){return new D9(t,e,n,r,i,o,s)}function Ea(t){let e=F(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>_9(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),R2(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>I1(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>I1(r)).join(",")),e.ce=n}return e.ce}function O2(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!UY(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!hx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!oS(t.startAt,e.startAt)&&oS(t.endAt,e.endAt)}function t6(t){return k.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function n6(t,e){return t.filters.filter(n=>n instanceof Oe&&n.field.isEqual(e))}function sS(t,e,n){let r=B8,i=!0;for(let o of n6(t,e)){let s=B8,a=!0;switch(o.op){case"<":case"<=":s=BY(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=B8}nS({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){let s=n.position[o];nS({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}function aS(t,e,n){let r=cs,i=!0;for(let o of n6(t,e)){let s=cs,a=!0;switch(o.op){case">=":case">":s=jY(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=cs}rS({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){let s=n.position[o];rS({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}var Qr=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function mx(t,e,n,r,i,o,s,a){return new Qr(t,e,n,r,i,o,s,a)}function j1(t){return new Qr(t)}function cS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function av(t){return t.collectionGroup!==null}function E1(t){let e=F(t);if(e.le===null){e.le=[];let n=new Set;for(let o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new tt(zt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new ba(o,r))}),n.has(zt.keyField().canonicalString())||e.le.push(new ba(zt.keyField(),r))}return e.le}function Rn(t){let e=F(t);return e.he||(e.he=$Y(e,E1(t))),e.he}function $Y(t,e){if(t.limitType==="F")return S9(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ba(i.field,o)});let n=t.endAt?new Pi(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Pi(t.startAt.position,t.startAt.inclusive):null;return S9(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function x9(t,e){let n=t.filters.concat([e]);return new Qr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function r6(t,e,n){return new Qr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function V2(t,e){return O2(Rn(t),Rn(e))&&t.limitType===e.limitType}function gx(t){return`${Ea(Rn(t))}|lt:${t.limitType}`}function g1(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>fx(i)).join(", ")}]`),R2(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>I1(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>I1(i)).join(",")),`Target(${r})`}(Rn(t))}; limitType=${t.limitType})`}function P2(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):k.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of E1(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let l=iS(s,a,c);return s.inclusive?l<=0:l<0}(r.startAt,E1(r),i)||r.endAt&&!function(s,a,c){let l=iS(s,a,c);return s.inclusive?l>=0:l>0}(r.endAt,E1(r),i))}(t,e)}function vx(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yx(t){return(e,n)=>{let r=!1;for(let i of E1(t)){let o=qY(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function qY(t,e,n){let r=t.field.isKeyField()?k.comparator(e.key,n.key):function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?fs(c,l):q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return q()}}var Ni=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Aa(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return sx(this.inner)}size(){return this.innerSize}};var WY=new ut(k.comparator);function Kn(){return WY}var wx=new ut(k.comparator);function r2(...t){let e=wx;for(let n of t)e=e.insert(n.key,n);return e}function _x(t){let e=wx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ai(){return s2()}function bx(){return s2()}function s2(){return new Ni(t=>t.toString(),(t,e)=>t.isEqual(e))}var GY=new ut(k.comparator),YY=new tt(k.comparator);function we(...t){let e=YY;for(let n of t)e=e.add(n);return e}var QY=new tt(ve);function cv(){return QY}function Ex(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:h2(e)?"-0":e}}function Cx(t){return{integerValue:""+t}}function Mx(t,e){return ex(e)?Cx(e):Ex(t,e)}var S1=class{constructor(){this._=void 0}};function KY(t,e,n){return t instanceof ps?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&j6(o)&&(o=ov(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof yo?Ix(t,e):t instanceof wo?Dx(t,e):function(i,o){let s=Tx(i,o),a=lS(s)+lS(i.Ie);return y9(s)&&y9(i.Ie)?Cx(a):Ex(i.serializer,a)}(t,e)}function XY(t,e,n){return t instanceof yo?Ix(t,e):t instanceof wo?Dx(t,e):n}function Tx(t,e){return t instanceof ms?function(r){return y9(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var ps=class extends S1{},yo=class extends S1{constructor(e){super(),this.elements=e}};function Ix(t,e){let n=Sx(e);for(let r of t.elements)n.some(i=>Vi(i,r))||n.push(r);return{arrayValue:{values:n}}}var wo=class extends S1{constructor(e){super(),this.elements=e}};function Dx(t,e){let n=Sx(e);for(let r of t.elements)n=n.filter(i=>!Vi(i,r));return{arrayValue:{values:n}}}var ms=class extends S1{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function lS(t){return Tt(t.integerValue||t.doubleValue)}function Sx(t){return m2(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Ca=class{constructor(e,n){this.field=e,this.transform=n}};function ZY(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof yo&&i instanceof yo||r instanceof wo&&i instanceof wo?M1(r.elements,i.elements,Vi):r instanceof ms&&i instanceof ms?Vi(r.Ie,i.Ie):r instanceof ps&&i instanceof ps}(t.transform,e.transform)}var A9=class{constructor(e,n){this.version=e,this.transformResults=n}},It=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function U8(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var x1=class{};function xx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vs(t.key,It.none()):new gs(t.key,t.data,It.none());{let n=t.data,r=_n.empty(),i=new tt(zt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Kr(t.key,r,new pr(i.toArray()),It.none())}}function JY(t,e,n){t instanceof gs?function(i,o,s){let a=i.value.clone(),c=hS(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Kr?function(i,o,s){if(!U8(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=hS(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(Ax(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function a2(t,e,n,r){return t instanceof gs?function(o,s,a,c){if(!U8(o.precondition,s))return a;let l=o.value.clone(),u=dS(o.fieldTransforms,c,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Kr?function(o,s,a,c){if(!U8(o.precondition,s))return a;let l=dS(o.fieldTransforms,c,s),u=s.data;return u.setAll(Ax(o)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,s,a){return U8(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function eQ(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=Tx(r.transform,i||null);o!=null&&(n===null&&(n=_n.empty()),n.set(r.field,o))}return n||null}function uS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&M1(r,i,(o,s)=>ZY(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var gs=class extends x1{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Kr=class extends x1{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function Ax(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function hS(t,e,n){let r=new Map;ee(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,XY(s,a,n[i]))}return r}function dS(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,KY(o,s,e))}return r}var vs=class extends x1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},g2=class extends x1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var v2=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&JY(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=a2(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=a2(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=bx();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let c=xx(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&M1(this.mutations,e.mutations,(n,r)=>uS(n,r))&&M1(this.baseMutations,e.baseMutations,(n,r)=>uS(n,r))}},z9=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ee(e.mutations.length===r.length);let i=function(){return GY}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var y2=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var R9=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Lt,Ne;function zx(t){switch(t){default:return q();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}function Rx(t){if(t===void 0)return At("GRPC error has no .code"),w.UNKNOWN;switch(t){case Lt.OK:return w.OK;case Lt.CANCELLED:return w.CANCELLED;case Lt.UNKNOWN:return w.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return w.INTERNAL;case Lt.UNAVAILABLE:return w.UNAVAILABLE;case Lt.UNAUTHENTICATED:return w.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case Lt.NOT_FOUND:return w.NOT_FOUND;case Lt.ALREADY_EXISTS:return w.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return w.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case Lt.ABORTED:return w.ABORTED;case Lt.OUT_OF_RANGE:return w.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return w.UNIMPLEMENTED;case Lt.DATA_LOSS:return w.DATA_LOSS;default:return q()}}(Ne=Lt||(Lt={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";var fS=null;function Ox(){return new TextEncoder}var tQ=new ua([4294967295,4294967295],0);function pS(t){let e=Ox().encode(t),n=new GD;return n.update(e),new Uint8Array(n.digest())}function mS(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ua([n,r],0),new ua([i,o],0)]}var O9=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new va(`Invalid padding: ${n}`);if(r<0)throw new va(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new va(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new va(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=ua.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(ua.fromNumber(r)));return i.compare(tQ)===1&&(i=new ua([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=pS(e),[r,i]=mS(n);for(let o=0;o<this.hashCount;o++){let s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;let n=pS(e),[r,i]=mS(n);for(let o=0;o<this.hashCount;o++){let s=this.de(r,i,o);this.Re(s)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},va=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var w2=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,_2.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ne.min(),i,new ut(ve),Kn(),we())}},_2=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,we(),we(),we())}};var C1=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},i6=class{constructor(e,n){this.targetId=e,this.fe=n}},o6=class{constructor(e,n,r=en.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},s6=class{constructor(){this.ge=0,this.pe=vS(),this.ye=en.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=we(),n=we(),r=we();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:q()}}),new _2(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=vS()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ee(this.ge>=0)}Le(){this.Se=!0,this.we=!0}},V9=class{constructor(e){this.Be=e,this.ke=new Map,this.qe=Kn(),this.Qe=gS(),this.Ke=new ut(ve)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let o=i.target;if(t6(o))if(r===0){let s=new k(o.path);this.We(n,s,jt.newNoDocument(s,ne.min()))}else ee(r===1);else{let s=this.Ze(n);if(s!==r){let a=this.Xe(e),c=a?this.et(a,e,s):1;if(c!==0){this.He(n);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}fS?.tt(function(u,h,d,f,p){var m,g,b,S,M,N;let Z={localCacheCount:u,existenceFilterCount:h.count,databaseId:d.database,projectId:d.projectId},B=h.unchangedNames;return B&&(Z.bloomFilter={applied:p===0,hashCount:(m=B?.hashCount)!==null&&m!==void 0?m:0,bitmapLength:(S=(b=(g=B?.bits)===null||g===void 0?void 0:g.bitmap)===null||b===void 0?void 0:b.length)!==null&&S!==void 0?S:0,padding:(N=(M=B?.bits)===null||M===void 0?void 0:M.padding)!==null&&N!==void 0?N:0,mightContain:re=>{var Me;return(Me=f?.mightContain(re))!==null&&Me!==void 0&&Me}}),Z}(s,e.fe,this.Be.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=hs(r).toUint8Array()}catch(c){if(c instanceof Z8)return Tr("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new O9(s,i,o)}catch(c){return Tr(c instanceof va?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Be.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Be.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((o,s)=>{let a=this.Ye(s);if(a){if(o.current&&t6(a.target)){let c=new k(a.target.path);this.qe.get(c)!==null||this.st(s,c)||this.We(s,c,jt.newNoDocument(c,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=we();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this.Ye(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));let i=new w2(e,n,this.Ke,this.qe,r);return this.qe=Kn(),this.Qe=gS(),this.Ke=new ut(ve),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new s6,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new tt(ve),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||D("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new s6),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}};function gS(){return new ut(k.comparator)}function vS(){return new ut(k.comparator)}var nQ={asc:"ASCENDING",desc:"DESCENDING"},rQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iQ={and:"AND",or:"OR"},P9=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function N9(t,e){return t.useProto3Json||R2(e)?e:{value:e}}function A1(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Vx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function oQ(t,e){return A1(t,e.toTimestamp())}function Rt(t){return ee(!!t),ne.fromTimestamp(function(n){let r=vo(n);return new bt(r.seconds,r.nanos)}(t))}function lv(t,e){return k9(t,e).canonicalString()}function k9(t,e){let n=function(i){return new ke(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Px(t){let e=ke.fromString(t);return ee(qx(e)),e}function b2(t,e){return lv(t.databaseId,e.path)}function Ri(t,e){let n=Px(e);if(n.get(1)!==t.databaseId.projectId)throw new T(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new T(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new k(Lx(n))}function Nx(t,e){return lv(t.databaseId,e)}function kx(t){let e=Px(t);return e.length===4?ke.emptyPath():Lx(e)}function L9(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Lx(t){return ee(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function yS(t,e,n){return{name:b2(t,e),fields:n.value.mapValue.fields}}function Fx(t,e,n){let r=Ri(t,e.name),i=Rt(e.updateTime),o=e.createTime?Rt(e.createTime):ne.min(),s=new _n({mapValue:{fields:e.fields}}),a=jt.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function sQ(t,e){return"found"in e?function(r,i){ee(!!i.found),i.found.name,i.found.updateTime;let o=Ri(r,i.found.name),s=Rt(i.found.updateTime),a=i.found.createTime?Rt(i.found.createTime):ne.min(),c=new _n({mapValue:{fields:i.found.fields}});return jt.newFoundDocument(o,s,a,c)}(t,e):"missing"in e?function(r,i){ee(!!i.missing),ee(!!i.readTime);let o=Ri(r,i.missing),s=Rt(i.readTime);return jt.newNoDocument(o,s)}(t,e):q()}function aQ(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:q()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,u){return l.useProto3Json?(ee(u===void 0||typeof u=="string"),en.fromBase64String(u||"")):(ee(u===void 0||u instanceof Buffer||u instanceof Uint8Array),en.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let u=l.code===void 0?w.UNKNOWN:Rx(l.code);return new T(u,l.message||"")}(s);n=new o6(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Ri(t,r.document.name),o=Rt(r.document.updateTime),s=r.document.createTime?Rt(r.document.createTime):ne.min(),a=new _n({mapValue:{fields:r.document.fields}}),c=jt.newFoundDocument(i,o,s,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new C1(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Ri(t,r.document),o=r.readTime?Rt(r.readTime):ne.min(),s=jt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new C1([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Ri(t,r.document),o=r.removedTargetIds||[];n=new C1([],o,i,null)}else{if(!("filter"in e))return q();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new R9(i,o),a=r.targetId;n=new i6(a,s)}}return n}function E2(t,e){let n;if(e instanceof gs)n={update:yS(t,e.key,e.value)};else if(e instanceof vs)n={delete:b2(t,e.key)};else if(e instanceof Kr)n={update:yS(t,e.key,e.data),updateMask:fQ(e.fieldMask)};else{if(!(e instanceof g2))return q();n={verify:b2(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof ps)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof yo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof wo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ms)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw q()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:oQ(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:q()}(t,e.precondition)),n}function F9(t,e){let n=e.currentDocument?function(o){return o.updateTime!==void 0?It.updateTime(Rt(o.updateTime)):o.exists!==void 0?It.exists(o.exists):It.none()}(e.currentDocument):It.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let c=null;if("setToServerValue"in a)ee(a.setToServerValue==="REQUEST_TIME"),c=new ps;else if("appendMissingElements"in a){let u=a.appendMissingElements.values||[];c=new yo(u)}else if("removeAllFromArray"in a){let u=a.removeAllFromArray.values||[];c=new wo(u)}else"increment"in a?c=new ms(s,a.increment):q();let l=zt.fromServerFormat(a.fieldPath);return new Ca(l,c)}(t,i)):[];if(e.update){e.update.name;let i=Ri(t,e.update.name),o=new _n({mapValue:{fields:e.update.fields}});if(e.updateMask){let s=function(c){let l=c.fieldPaths||[];return new pr(l.map(u=>zt.fromServerFormat(u)))}(e.updateMask);return new Kr(i,o,s,n,r)}return new gs(i,o,n,r)}if(e.delete){let i=Ri(t,e.delete);return new vs(i,n)}if(e.verify){let i=Ri(t,e.verify);return new g2(i,n)}return q()}function cQ(t,e){return t&&t.length>0?(ee(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Rt(i.updateTime):Rt(o);return s.isEqual(ne.min())&&(s=Rt(o)),new A9(s,i.transformResults||[])}(n,e))):[]}function Hx(t,e){return{documents:[Nx(t,e.path)]}}function Bx(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Nx(t,i);let o=function(l){if(l.length!==0)return $x(Qe.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(u=>function(d){return{field:v1(d.field),direction:uQ(d.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=N9(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{ut:n,parent:i}}function jx(t){let e=kx(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ee(r===1);let u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(h){let d=Ux(h);return d instanceof Qe&&sv(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(d=>function(p){return new ba(y1(p.field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,R2(d)?null:d}(n.limit));let c=null;n.startAt&&(c=function(h){let d=!!h.before,f=h.values||[];return new Pi(f,d)}(n.startAt));let l=null;return n.endAt&&(l=function(h){let d=!h.before,f=h.values||[];return new Pi(f,d)}(n.endAt)),mx(e,i,s,o,a,"F",c,l)}function lQ(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return q()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Ux(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=y1(n.unaryFilter.field);return Oe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=y1(n.unaryFilter.field);return Oe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=y1(n.unaryFilter.field);return Oe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=y1(n.unaryFilter.field);return Oe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return q()}}(t):t.fieldFilter!==void 0?function(n){return Oe.create(y1(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return q()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Qe.create(n.compositeFilter.filters.map(r=>Ux(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return q()}}(n.compositeFilter.op))}(t):q()}function uQ(t){return nQ[t]}function hQ(t){return rQ[t]}function dQ(t){return iQ[t]}function v1(t){return{fieldPath:t.canonicalString()}}function y1(t){return zt.fromServerFormat(t.fieldPath)}function $x(t){return t instanceof Oe?function(n){if(n.op==="=="){if(tS(n.value))return{unaryFilter:{field:v1(n.field),op:"IS_NAN"}};if(eS(n.value))return{unaryFilter:{field:v1(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(tS(n.value))return{unaryFilter:{field:v1(n.field),op:"IS_NOT_NAN"}};if(eS(n.value))return{unaryFilter:{field:v1(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:v1(n.field),op:hQ(n.op),value:n.value}}}(t):t instanceof Qe?function(n){let r=n.getFilters().map(i=>$x(i));return r.length===1?r[0]:{compositeFilter:{op:dQ(n.op),filters:r}}}(t):q()}function fQ(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var z1=class t{constructor(e,n,r,i,o=ne.min(),s=ne.min(),a=en.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var a6=class{constructor(e){this.ct=e}};function pQ(t,e){let n;if(e.document)n=Fx(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let r=k.fromSegments(e.noDocument.path),i=Ta(e.noDocument.readTime);n=jt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return q();{let r=k.fromSegments(e.unknownDocument.path),i=Ta(e.unknownDocument.version);n=jt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){let o=new bt(i[0],i[1]);return ne.fromTimestamp(o)}(e.readTime)),n}function wS(t,e){let n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:c6(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,s){return{name:b2(o,s.key),fields:s.data.value.mapValue.fields,updateTime:A1(o,s.version.toTimestamp()),createTime:A1(o,s.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Ma(e.version)};else{if(!e.isUnknownDocument())return q();r.unknownDocument={path:n.path.toArray(),version:Ma(e.version)}}return r}function c6(t){let e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Ma(t){let e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ta(t){let e=new bt(t.seconds,t.nanoseconds);return ne.fromTimestamp(e)}function pa(t,e){let n=(e.baseMutations||[]).map(o=>F9(t.ct,o));for(let o=0;o<e.mutations.length-1;++o){let s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){let a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}let r=e.mutations.map(o=>F9(t.ct,o)),i=bt.fromMillis(e.localWriteTimeMs);return new v2(e.batchId,i,n,r)}function i2(t){let e=Ta(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Ta(t.lastLimboFreeSnapshotVersion):ne.min(),r;return r=function(o){return o.documents!==void 0}(t.query)?function(o){return ee(o.documents.length===1),Rn(j1(kx(o.documents[0])))}(t.query):function(o){return Rn(jx(o))}(t.query),new z1(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,en.fromBase64String(t.resumeToken))}function Wx(t,e){let n=Ma(e.snapshotVersion),r=Ma(e.lastLimboFreeSnapshotVersion),i;i=t6(e.target)?Hx(t.ct,e.target):Bx(t.ct,e.target).ut;let o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ea(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function uv(t){let e=jx({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?r6(e,e.limit,"L"):e}function e9(t,e){return new y2(e.largestBatchId,F9(t.ct,e.overlayMutation))}function _S(t,e){let n=e.path.lastSegment();return[t,zn(e.path.popLast()),n]}function bS(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Ma(r.readTime),documentKey:zn(r.documentKey.path),largestBatchId:r.largestBatchId}}var H9=class{getBundleMetadata(e,n){return ES(e).get(n).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:Ta(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,n){return ES(e).put(function(i){return{bundleId:i.id,createTime:Ma(Rt(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return CS(e).get(n).next(r=>{if(r)return function(o){return{name:o.name,query:uv(o.bundledQuery),readTime:Ta(o.readTime)}}(r)})}saveNamedQuery(e,n){return CS(e).put(function(i){return{name:i.name,readTime:Ma(Rt(i.readTime)),bundledQuery:i.bundledQuery}}(n))}};function ES(t){return tn(t,"bundles")}function CS(t){return tn(t,"namedQueries")}var l6=class t{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){let r=n.uid||"";return new t(e,r)}getOverlay(e,n){return J4(e).get(_S(this.userId,n)).next(r=>r?e9(this.serializer,r):null)}getOverlays(e,n){let r=Ai();return y.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){let i=[];return r.forEach((o,s)=>{let a=new y2(n,s);i.push(this.ht(e,a))}),y.waitFor(i)}removeOverlaysForBatchId(e,n,r){let i=new Set;n.forEach(s=>i.add(zn(s.getCollectionPath())));let o=[];return i.forEach(s=>{let a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(J4(e).H("collectionPathOverlayIndex",a))}),y.waitFor(o)}getOverlaysForCollection(e,n,r){let i=Ai(),o=zn(n),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return J4(e).W("collectionPathOverlayIndex",s).next(a=>{for(let c of a){let l=e9(this.serializer,c);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,n,r,i){let o=Ai(),s,a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return J4(e).Y({index:"collectionGroupOverlayIndex",range:a},(c,l,u)=>{let h=e9(this.serializer,l);o.size()<i||h.largestBatchId===s?(o.set(h.getKey(),h),s=h.largestBatchId):u.done()}).next(()=>o)}ht(e,n){return J4(e).put(function(i,o,s){let[a,c,l]=_S(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:E2(i.ct,s.mutation)}}(this.serializer,this.userId,n))}};function J4(t){return tn(t,"documentOverlays")}var po=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Tt(e.integerValue));else if("doubleValue"in e){let r=Tt(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),h2(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"&&(r=vo(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(hs(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?cx(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):q()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),k.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};po.bt=new po;function mQ(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function MS(t){let e=64-function(r){let i=0;for(let o=0;o<8;++o){let s=mQ(255&r[o]);if(i+=s,s!==8)break}return i}(t);return Math.ceil(e/8)}var B9=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){let n=e[Symbol.iterator](),r=n.next();for(;!r.done;)this.Ct(r.value),r=n.next();this.vt()}Ft(e){let n=e[Symbol.iterator](),r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(let n of e){let r=n.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{let i=n.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(let n of e){let r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{let i=n.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Lt(e){let n=this.Bt(e),r=MS(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}qt(e){let n=this.Bt(e),r=MS(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){let n=function(o){let s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ct(e){let n=255&e;n===0?(this.Kt(0),this.Kt(255)):n===255?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){let n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){let n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);let i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}},j9=class{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}},U9=class{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}},ma=class{constructor(){this.Gt=new B9,this.zt=new j9(this.Gt),this.jt=new U9(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}};var ga=class t{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Jt(){let e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new t(this.indexId,this.documentKey,this.arrayValue,r)}};function is(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=TS(t.arrayValue,e.arrayValue),n!==0?n:(n=TS(t.directionalValue,e.directionalValue),n!==0?n:k.comparator(t.documentKey,e.documentKey)))}function TS(t,e){for(let n=0;n<t.length&&n<e.length;++n){let r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}var u6=class{constructor(e){this.Yt=new tt((n,r)=>zt.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(let n of e.filters){let r=n;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(ee(e.collectionGroup===this.collectionId),this.en)return!1;let n=h9(e);if(n!==void 0&&!this.nn(n))return!1;let r=da(e),i=new Set,o=0,s=0;for(;o<r.length&&this.nn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Yt.size>0){let a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){let c=r[o];if(!this.rn(a,c)||!this.sn(this.Zt[s++],c))return!1}++o}for(;o<r.length;++o){let a=r[o];if(s>=this.Zt.length||!this.sn(this.Zt[s++],a))return!1}return!0}on(){if(this.en)return null;let e=new tt(zt.comparator),n=[];for(let r of this.Xt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new b1(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new b1(r.field,0))}for(let r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new b1(r.field,r.dir==="asc"?0:1)));return new T1(T1.UNKNOWN_ID,this.collectionId,n,u2.empty())}nn(e){for(let n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;let r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}};function Gx(t){var e,n;if(ee(t instanceof Oe||t instanceof Qe),t instanceof Oe){if(t instanceof e6){let i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(o=>Oe.create(t.field,"==",o)))||[];return Qe.create(i,"or")}return t}let r=t.filters.map(i=>Gx(i));return Qe.create(r,t.op)}function gQ(t){if(t.getFilters().length===0)return[];let e=W9(Gx(t));return ee(Yx(e)),$9(e)||q9(e)?[e]:e.getFilters()}function $9(t){return t instanceof Oe}function q9(t){return t instanceof Qe&&sv(t)}function Yx(t){return $9(t)||q9(t)||function(n){if(n instanceof Qe&&w9(n)){for(let r of n.getFilters())if(!$9(r)&&!q9(r))return!1;return!0}return!1}(t)}function W9(t){if(ee(t instanceof Oe||t instanceof Qe),t instanceof Oe)return t;if(t.filters.length===1)return W9(t.filters[0]);let e=t.filters.map(r=>W9(r)),n=Qe.create(e,t.op);return n=h6(n),Yx(n)?n:(ee(n instanceof Qe),ee(D1(n)),ee(n.filters.length>1),n.filters.reduce((r,i)=>hv(r,i)))}function hv(t,e){let n;return ee(t instanceof Oe||t instanceof Qe),ee(e instanceof Oe||e instanceof Qe),n=t instanceof Oe?e instanceof Oe?function(i,o){return Qe.create([i,o],"and")}(t,e):IS(t,e):e instanceof Oe?IS(e,t):function(i,o){if(ee(i.filters.length>0&&o.filters.length>0),D1(i)&&D1(o))return dx(i,o.getFilters());let s=w9(i)?i:o,a=w9(i)?o:i,c=s.filters.map(l=>hv(l,a));return Qe.create(c,"or")}(t,e),h6(n)}function IS(t,e){if(D1(e))return dx(e,t.getFilters());{let n=e.filters.map(r=>hv(t,r));return Qe.create(n,"or")}}function h6(t){if(ee(t instanceof Oe||t instanceof Qe),t instanceof Oe)return t;let e=t.getFilters();if(e.length===1)return h6(e[0]);if(ux(t))return t;let n=e.map(i=>h6(i)),r=[];return n.forEach(i=>{i instanceof Oe?r.push(i):i instanceof Qe&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Qe.create(r,t.op)}var G9=class{constructor(){this._n=new C2}addToCollectionParentIndex(e,n){return this._n.add(n),y.resolve()}getCollectionParents(e,n){return y.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return y.resolve()}deleteFieldIndex(e,n){return y.resolve()}deleteAllFieldIndexes(e){return y.resolve()}createTargetIndexes(e,n){return y.resolve()}getDocumentsMatchingTarget(e,n){return y.resolve(null)}getIndexType(e,n){return y.resolve(0)}getFieldIndexes(e,n){return y.resolve([])}getNextCollectionGroupToUpdate(e){return y.resolve(null)}getMinOffset(e,n){return y.resolve(Ir.min())}getMinOffsetFromCollectionGroup(e,n){return y.resolve(Ir.min())}updateCollectionGroup(e,n,r){return y.resolve()}updateIndexEntries(e,n){return y.resolve()}},C2=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new tt(ke.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tt(ke.comparator)).toArray()}};var N8=new Uint8Array(0),Y9=class{constructor(e,n){this.databaseId=n,this.an=new C2,this.un=new Ni(r=>Ea(r),(r,i)=>O2(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){let r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});let o={collectionId:r,parent:zn(i)};return DS(e).put(o)}return y.resolve()}getCollectionParents(e,n){let r=[],i=IDBKeyRange.bound([n,""],[KS(n),""],!1,!0);return DS(e).W(i).next(o=>{for(let s of o){if(s.collectionId!==n)break;r.push(xi(s.parent))}return r})}addFieldIndex(e,n){let r=e2(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(n);delete i.indexId;let o=r.add(i);if(n.indexState){let s=f1(e);return o.next(a=>{s.put(bS(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){let r=e2(e),i=f1(e),o=d1(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let n=e2(e),r=d1(e),i=f1(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return y.forEach(this.cn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){let o=new u6(r).on();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){let r=d1(e),i=!0,o=new Map;return y.forEach(this.cn(n),s=>this.ln(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=we(),a=[];return y.forEach(o,(c,l)=>{D("IndexedDbIndexManager",`Using index ${function(M){return`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map(N=>`${N.fieldPath}:${N.kind}`).join(",")}`}(c)} to execute ${Ea(n)}`);let u=function(M,N){let Z=h9(N);if(Z===void 0)return null;for(let B of n6(M,Z.fieldPath))switch(B.op){case"array-contains-any":return B.value.arrayValue.values||[];case"array-contains":return[B.value]}return null}(l,c),h=function(M,N){let Z=new Map;for(let B of da(N))for(let re of n6(M,B.fieldPath))switch(re.op){case"==":case"in":Z.set(B.fieldPath.canonicalString(),re.value);break;case"not-in":case"!=":return Z.set(B.fieldPath.canonicalString(),re.value),Array.from(Z.values())}return null}(l,c),d=function(M,N){let Z=[],B=!0;for(let re of da(N)){let Me=re.kind===0?sS(M,re.fieldPath,M.startAt):aS(M,re.fieldPath,M.startAt);Z.push(Me.value),B&&(B=Me.inclusive)}return new Pi(Z,B)}(l,c),f=function(M,N){let Z=[],B=!0;for(let re of da(N)){let Me=re.kind===0?aS(M,re.fieldPath,M.endAt):sS(M,re.fieldPath,M.endAt);Z.push(Me.value),B&&(B=Me.inclusive)}return new Pi(Z,B)}(l,c),p=this.hn(c,l,d),m=this.hn(c,l,f),g=this.Pn(c,l,h),b=this.In(c.indexId,u,p,d.inclusive,m,f.inclusive,g);return y.forEach(b,S=>r.j(S,n.limit).next(M=>{M.forEach(N=>{let Z=k.fromSegments(N.documentKey);s.has(Z)||(s=s.add(Z),a.push(Z))})}))}).next(()=>a)}return y.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=gQ(Qe.create(e.filters,"and")).map(r=>S9(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,r,i,o,s,a){let c=(n!=null?n.length:1)*Math.max(r.length,o.length),l=c/(n!=null?n.length:1),u=[];for(let h=0;h<c;++h){let d=n?this.Tn(n[h/l]):N8,f=this.En(e,d,r[h%l],i),p=this.dn(e,d,o[h%l],s),m=a.map(g=>this.En(e,d,g,!0));u.push(...this.createRange(f,p,m))}return u}En(e,n,r,i){let o=new ga(e,k.empty(),n,r);return i?o:o.Jt()}dn(e,n,r,i){let o=new ga(e,k.empty(),n,r);return i?o.Jt():o}ln(e,n){let r=new u6(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(let a of o)r.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let r=2,i=this.cn(n);return y.forEach(i,o=>this.ln(e,o).next(s=>{s?r!==0&&s.fields.length<function(c){let l=new tt(zt.comparator),u=!1;for(let h of c.filters)for(let d of h.getFlattenedFilters())d.field.isKeyField()||(d.op==="array-contains"||d.op==="array-contains-any"?u=!0:l=l.add(d.field));for(let h of c.orderBy)h.field.isKeyField()||(l=l.add(h.field));return l.size+(u?1:0)}(o)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(n)&&i.length>1&&r===2?1:r)}An(e,n){let r=new ma;for(let i of da(e)){let o=n.data.field(i.fieldPath);if(o==null)return null;let s=r.Ht(i.kind);po.bt.Pt(o,s)}return r.Wt()}Tn(e){let n=new ma;return po.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){let r=new ma;return po.bt.Pt(_a(this.databaseId,n),r.Ht(function(o){let s=da(o);return s.length===0?0:s[s.length-1].kind}(e))),r.Wt()}Pn(e,n,r){if(r===null)return[];let i=[];i.push(new ma);let o=0;for(let s of da(e)){let a=r[o++];for(let c of i)if(this.Vn(n,s.fieldPath)&&m2(a))i=this.mn(i,s,a);else{let l=c.Ht(s.kind);po.bt.Pt(a,l)}}return this.fn(i)}hn(e,n,r){return this.Pn(e,n,r.position)}fn(e){let n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}mn(e,n,r){let i=[...e],o=[];for(let s of r.arrayValue.values||[])for(let a of i){let c=new ma;c.seed(a.Wt()),po.bt.Pt(s,c.Ht(n.kind)),o.push(c)}return o}Vn(e,n){return!!e.filters.find(r=>r instanceof Oe&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){let r=e2(e),i=f1(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(o=>{let s=[];return y.forEach(o,a=>i.get([a.indexId,this.uid]).next(c=>{s.push(function(u,h){let d=h?new u2(h.sequenceNumber,new Ir(Ta(h.readTime),new k(xi(h.documentKey)),h.largestBatchId)):u2.empty(),f=u.fields.map(([p,m])=>new b1(zt.fromServerFormat(p),m));return new T1(u.indexId,u.collectionGroup,f,d)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{let o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:ve(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){let i=e2(e),o=f1(e);return this.gn(e).next(s=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>y.forEach(a,c=>o.put(bS(c.indexId,this.uid,s,r)))))}updateIndexEntries(e,n){let r=new Map;return y.forEach(n,(i,o)=>{let s=r.get(i.collectionGroup);return(s?y.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),y.forEach(a,c=>this.pn(e,i,c).next(l=>{let u=this.yn(o,c);return l.isEqual(u)?y.resolve():this.wn(e,o,c,l,u)}))))})}Sn(e,n,r,i){return d1(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,n.key),documentKey:n.key.path.toArray()})}bn(e,n,r,i){return d1(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,n.key),n.key.path.toArray()])}pn(e,n,r){let i=d1(e),o=new tt(is);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,n)])},(s,a)=>{o=o.add(new ga(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}yn(e,n){let r=new tt(is),i=this.An(n,e);if(i==null)return r;let o=h9(n);if(o!=null){let s=e.data.field(o.fieldPath);if(m2(s))for(let a of s.arrayValue.values||[])r=r.add(new ga(n.indexId,e.key,this.Tn(a),i))}else r=r.add(new ga(n.indexId,e.key,N8,i));return r}wn(e,n,r,i,o){D("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);let s=[];return function(c,l,u,h,d){let f=c.getIterator(),p=l.getIterator(),m=h1(f),g=h1(p);for(;m||g;){let b=!1,S=!1;if(m&&g){let M=u(m,g);M<0?S=!0:M>0&&(b=!0)}else m!=null?S=!0:b=!0;b?(h(g),g=h1(p)):S?(d(m),m=h1(f)):(m=h1(f),g=h1(p))}}(i,o,is,a=>{s.push(this.Sn(e,n,r,a))},a=>{s.push(this.bn(e,n,r,a))}),y.waitFor(s)}gn(e){let n=1;return f1(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,a)=>is(s,a)).filter((s,a,c)=>!a||is(s,c[a-1])!==0);let i=[];i.push(e);for(let s of r){let a=is(s,e),c=is(s,n);if(a===0)i[0]=e.Jt();else if(a>0&&c<0)i.push(s),i.push(s.Jt());else if(c>0)break}i.push(n);let o=[];for(let s=0;s<i.length;s+=2){if(this.Dn(i[s],i[s+1]))return[];let a=[i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,N8,[]],c=[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,N8,[]];o.push(IDBKeyRange.bound(a,c))}return o}Dn(e,n){return is(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(SS)}getMinOffset(e,n){return y.mapArray(this.cn(n),r=>this.ln(e,r).next(i=>i||q())).next(SS)}};function DS(t){return tn(t,"collectionParents")}function d1(t){return tn(t,"indexEntries")}function e2(t){return tn(t,"indexConfiguration")}function f1(t){return tn(t,"indexState")}function SS(t){ee(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){let i=t[r].indexState.offset;rv(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Ir(e.readTime,e.documentKey,n)}var xS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mr=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function Qx(t,e,n){let r=t.store("mutations"),i=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId),a=0,c=r.Y({range:s},(u,h,d)=>(a++,d.delete()));o.push(c.next(()=>{ee(a===1)}));let l=[];for(let u of n.mutations){let h=tx(e,u.key.path,n.batchId);o.push(i.delete(h)),l.push(u.key)}return y.waitFor(o).next(()=>l)}function d6(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw q();e=t.noDocument}return JSON.stringify(e).length}Mr.DEFAULT_COLLECTION_PERCENTILE=10,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mr.DEFAULT=new Mr(41943040,Mr.DEFAULT_COLLECTION_PERCENTILE,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mr.DISABLED=new Mr(-1,0,0);var f6=class t{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,n,r,i){ee(e.uid!=="");let o=e.isAuthenticated()?e.uid:"";return new t(o,n,r,i)}checkEmpty(e){let n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return os(e).Y({index:"userMutationsIndex",range:r},(i,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,i){let o=w1(e),s=os(e);return s.add({}).next(a=>{ee(typeof a=="number");let c=new v2(a,n,r,i),l=function(f,p,m){let g=m.baseMutations.map(S=>E2(f.ct,S)),b=m.mutations.map(S=>E2(f.ct,S));return{userId:p,batchId:m.batchId,localWriteTimeMs:m.localWriteTime.toMillis(),baseMutations:g,mutations:b}}(this.serializer,this.userId,c),u=[],h=new tt((d,f)=>ve(d.canonicalString(),f.canonicalString()));for(let d of i){let f=tx(this.userId,d.key.path,a);h=h.add(d.key.path.popLast()),u.push(s.put(l)),u.push(o.put(f,CY))}return h.forEach(d=>{u.push(this.indexManager.addToCollectionParentIndex(e,d))}),e.addOnCommittedListener(()=>{this.Cn[a]=c.keys()}),y.waitFor(u).next(()=>c)})}lookupMutationBatch(e,n){return os(e).get(n).next(r=>r?(ee(r.userId===this.userId),pa(this.serializer,r)):null)}vn(e,n){return this.Cn[n]?y.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){let i=r.keys();return this.Cn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return os(e).Y({index:"userMutationsIndex",range:i},(s,a,c)=>{a.userId===this.userId&&(ee(a.batchId>=r),o=pa(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){let n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return os(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){let n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return os(e).W("userMutationsIndex",n).next(r=>r.map(i=>pa(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){let r=H8(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return w1(e).Y({range:i},(s,a,c)=>{let[l,u,h]=s,d=xi(u);if(l===this.userId&&n.path.isEqual(d))return os(e).get(h).next(f=>{if(!f)throw q();ee(f.userId===this.userId),o.push(pa(this.serializer,f))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tt(ve),i=[];return n.forEach(o=>{let s=H8(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=w1(e).Y({range:a},(l,u,h)=>{let[d,f,p]=l,m=xi(f);d===this.userId&&o.path.isEqual(m)?r=r.add(p):h.done()});i.push(c)}),y.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=H8(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new tt(ve);return w1(e).Y({range:s},(c,l,u)=>{let[h,d,f]=c,p=xi(d);h===this.userId&&r.isPrefixOf(p)?p.length===i&&(a=a.add(f)):u.done()}).next(()=>this.Fn(e,a))}Fn(e,n){let r=[],i=[];return n.forEach(o=>{i.push(os(e).get(o).next(s=>{if(s===null)throw q();ee(s.userId===this.userId),r.push(pa(this.serializer,s))}))}),y.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return Qx(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),y.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return y.resolve();let r=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),i=[];return w1(e).Y({range:r},(o,s,a)=>{if(o[0]===this.userId){let c=xi(o[1]);i.push(c)}else a.done()}).next(()=>{ee(i.length===0)})})}containsKey(e,n){return Kx(e,this.userId,n)}xn(e){return Xx(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function Kx(t,e,n){let r=H8(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return w1(t).Y({range:o,J:!0},(a,c,l)=>{let[u,h,d]=a;u===e&&h===i&&(s=!0),l.done()}).next(()=>s)}function os(t){return tn(t,"mutations")}function w1(t){return tn(t,"documentMutations")}function Xx(t){return tn(t,"mutationQueues")}var R1=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var Q9=class{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{let r=new R1(n.highestTargetId);return n.highestTargetId=r.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>ne.fromTimestamp(new bt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.kn(e,i)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(n,r),this.kn(e,r))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>p1(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(ee(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,n,r){let i=0,o=[];return p1(e).Y((s,a)=>{let c=i2(a);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i++,o.push(this.removeTargetData(e,c)))}).next(()=>y.waitFor(o)).next(()=>i)}forEachTarget(e,n){return p1(e).Y((r,i)=>{let o=i2(i);n(o)})}Bn(e){return AS(e).get("targetGlobalKey").next(n=>(ee(n!==null),n))}kn(e,n){return AS(e).put("targetGlobalKey",n)}qn(e,n){return p1(e).put(Wx(this.serializer,n))}Qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){let r=Ea(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return p1(e).Y({range:i,index:"queryTargetsIndex"},(s,a,c)=>{let l=i2(a);O2(n,l.target)&&(o=l,c.done())}).next(()=>o)}addMatchingKeys(e,n,r){let i=[],o=ss(e);return n.forEach(s=>{let a=zn(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),y.waitFor(i)}removeMatchingKeys(e,n,r){let i=ss(e);return y.forEach(n,o=>{let s=zn(o.path);return y.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){let r=ss(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){let r=IDBKeyRange.bound([n],[n+1],!1,!0),i=ss(e),o=we();return i.Y({range:r,J:!0},(s,a,c)=>{let l=xi(s[1]),u=new k(l);o=o.add(u)}).next(()=>o)}containsKey(e,n){let r=zn(n.path),i=IDBKeyRange.bound([r],[KS(r)],!1,!0),o=0;return ss(e).Y({index:"documentTargetsIndex",J:!0,range:i},([s,a],c,l)=>{s!==0&&(o++,l.done())}).next(()=>o>0)}_t(e,n){return p1(e).get(n).next(r=>r?i2(r):null)}};function p1(t){return tn(t,"targets")}function AS(t){return tn(t,"targetGlobal")}function ss(t){return tn(t,"targetDocuments")}function zS([t,e],[n,r]){let i=ve(t,n);return i===0?ve(e,r):i}var K9=class{constructor(e){this.Kn=e,this.buffer=new tt(zS),this.$n=0}Un(){return++this.$n}Wn(e){let n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();zS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},X9=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){D("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Gn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){_s(n)?D("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield ws(n)}yield this.zn(3e5)}))}},Z9=class{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return y.resolve(fr._e);let r=new K9(n);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(D("LruGarbageCollector","Garbage collection skipped; disabled"),y.resolve(xS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(D("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xS):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let r,i,o,s,a,c,l,u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(D("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(o=h,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(l=Date.now(),m1()<=ni.DEBUG&&D("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${h} documents in `+(l-c)+`ms
Total Duration: ${l-u}ms`),y.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:h})))}};function vQ(t,e){return new Z9(t,e)}var J9=class{constructor(e,n){this.db=e,this.garbageCollector=vQ(this,n)}Hn(e){let n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Zn(e){let n=0;return this.Jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(r,i)=>n(i))}addReference(e,n,r){return k8(e,r)}removeReference(e,n,r){return k8(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return k8(e,n)}er(e,n){return function(i,o){let s=!1;return Xx(i).Z(a=>Kx(i,a,o).next(c=>(c&&(s=!0),y.resolve(!c)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){let r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.Xn(e,(s,a)=>{if(a<=n){let c=this.er(e,s).next(l=>{if(!l)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,ne.min()),ss(e).delete(function(h){return[0,zn(h.path)]}(s))))});i.push(c)}}).next(()=>y.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return k8(e,n)}Xn(e,n){let r=ss(e),i,o=fr._e;return r.Y({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:l})=>{s===0?(o!==fr._e&&n(new k(xi(i)),o),o=l,i=c):o=fr._e}).next(()=>{o!==fr._e&&n(new k(xi(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function k8(t,e){return ss(t).put(function(r,i){return{targetId:0,path:zn(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}var p6=class{constructor(){this.changes=new Ni(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var eg=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return ha(e).put(r)}removeEntry(e,n,r){return ha(e).delete(function(o,s){let a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],c6(s),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.tr(e,r)))}getEntry(e,n){let r=jt.newInvalidDocument(n);return ha(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(t2(n))},(i,o)=>{r=this.nr(n,o)}).next(()=>r)}rr(e,n){let r={size:0,document:jt.newInvalidDocument(n)};return ha(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(t2(n))},(i,o)=>{r={document:this.nr(n,o),size:d6(o)}}).next(()=>r)}getEntries(e,n){let r=Kn();return this.ir(e,n,(i,o)=>{let s=this.nr(i,o);r=r.insert(i,s)}).next(()=>r)}sr(e,n){let r=Kn(),i=new ut(k.comparator);return this.ir(e,n,(o,s)=>{let a=this.nr(o,s);r=r.insert(o,a),i=i.insert(o,d6(s))}).next(()=>({documents:r,_r:i}))}ir(e,n,r){if(n.isEmpty())return y.resolve();let i=new tt(VS);n.forEach(c=>i=i.add(c));let o=IDBKeyRange.bound(t2(i.first()),t2(i.last())),s=i.getIterator(),a=s.getNext();return ha(e).Y({index:"documentKeyIndex",range:o},(c,l,u)=>{let h=k.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&VS(a,h)<0;)r(a,null),a=s.getNext();a&&a.isEqual(h)&&(r(a,l),a=s.hasNext()?s.getNext():null),a?u.U(t2(a)):u.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,o){let s=n.path,a=[s.popLast().toArray(),s.lastSegment(),c6(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ha(e).W(IDBKeyRange.bound(a,c,!0)).next(l=>{o?.incrementDocumentReadCount(l.length);let u=Kn();for(let h of l){let d=this.nr(k.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);d.isFoundDocument()&&(P2(n,d)||i.has(d.key))&&(u=u.insert(d.key,d))}return u})}getAllFromCollectionGroup(e,n,r,i){let o=Kn(),s=OS(n,r),a=OS(n,Ir.max());return ha(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,l,u)=>{let h=this.nr(k.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(h.key,h),o.size===i&&u.done()}).next(()=>o)}newChangeBuffer(e){return new tg(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return RS(e).get("remoteDocumentGlobalKey").next(n=>(ee(!!n),n))}tr(e,n){return RS(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){let r=pQ(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ne.min())))return r}return jt.newInvalidDocument(e)}};function Zx(t){return new eg(t)}var tg=class extends p6{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new Ni(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){let n=[],r=0,i=new tt((o,s)=>ve(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{let a=this.ur.get(o);if(n.push(this.ar.removeEntry(e,o,a.readTime)),s.isValidDocument()){let c=wS(this.ar.serializer,s);i=i.add(o.path.popLast());let l=d6(c);r+=l-a.size,n.push(this.ar.addEntry(e,o,c))}else if(r-=a.size,this.trackRemovals){let c=wS(this.ar.serializer,s.convertToNoDocument(ne.min()));n.push(this.ar.addEntry(e,o,c))}}),i.forEach(o=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.ar.updateMetadata(e,r)),y.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(r=>(this.ur.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:r,_r:i})=>(i.forEach((o,s)=>{this.ur.set(o,{size:s,readTime:r.get(o).readTime})}),r))}};function RS(t){return tn(t,"remoteDocumentGlobal")}function ha(t){return tn(t,"remoteDocumentsV14")}function t2(t){let e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function OS(t,e){let n=e.documentKey.path.toArray();return[t,c6(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function VS(t,e){let n=t.path.toArray(),r=e.path.toArray(),i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=ve(n[o],r[o]),i)return i;return i=ve(n.length,r.length),i||(i=ve(n[n.length-2],r[r.length-2]),i||ve(n[n.length-1],r[r.length-1]))}var ng=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var m6=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&a2(r.mutation,i,pr.empty(),bt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){let i=Ai();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=r2();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Ai();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Kn(),s=s2(),a=function(){return s2()}();return n.forEach((c,l)=>{let u=r.get(l.key);i.has(l.key)&&(u===void 0||u.mutation instanceof Kr)?o=o.insert(l.key,l):u!==void 0?(s.set(l.key,u.mutation.getFieldMask()),a2(u.mutation,l,u.mutation.getFieldMask(),bt.now())):s.set(l.key,pr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,u)=>s.set(l,u)),n.forEach((l,u)=>{var h;return a.set(l,new ng(u,(h=s.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){let r=s2(),i=new ut((s,a)=>s-a),o=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=n.get(c);if(l===null)return;let u=r.get(c)||pr.empty();u=a.applyToLocalView(l,u),r.set(c,u);let h=(i.get(a.batchId)||we()).add(c);i=i.insert(a.batchId,h)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,u=c.value,h=bx();u.forEach(d=>{if(!o.has(d)){let f=xx(n.get(d),r.get(d));f!==null&&h.set(d,f),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,h))}return y.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return k.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):av(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):y.resolve(Ai()),a=-1,c=o;return s.next(l=>y.forEach(l,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(u)?y.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{c=c.insert(u,d)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,we())).next(u=>({batchId:a,changes:_x(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new k(n)).next(r=>{let i=r2();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=r2();return this.indexManager.getCollectionParents(e,o).next(a=>y.forEach(a,c=>{let l=function(h,d){return new Qr(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(u=>{u.forEach((h,d)=>{s=s.insert(h,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,l)=>{let u=l.getKey();s.get(u)===null&&(s=s.insert(u,jt.newInvalidDocument(u)))});let a=r2();return s.forEach((c,l)=>{let u=o.get(c);u!==void 0&&a2(u.mutation,l,pr.empty(),bt.now()),P2(n,l)&&(a=a.insert(c,l))}),a})}};var rg=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return y.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Rt(i.createTime)}}(n)),y.resolve()}getNamedQuery(e,n){return y.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:uv(i.bundledQuery),readTime:Rt(i.readTime)}}(n)),y.resolve()}};var ig=class{constructor(){this.overlays=new ut(k.comparator),this.hr=new Map}getOverlay(e,n){return y.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ai();return y.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),y.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),y.resolve()}getOverlaysForCollection(e,n,r){let i=Ai(),o=n.length+1,s=new k(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ut((l,u)=>l-u),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=o.get(l.largestBatchId);u===null&&(u=Ai(),o=o.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}let a=Ai(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return y.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new y2(n,r));let o=this.hr.get(n);o===void 0&&(o=we(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}};var M2=class{constructor(){this.Pr=new tt(Ft.Ir),this.Tr=new tt(Ft.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new Ft(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Ft(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new k(new ke([])),r=new Ft(n,e),i=new Ft(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new k(new ke([])),r=new Ft(n,e),i=new Ft(n,e+1),o=we();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Ft(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ft=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return k.comparator(e.key,n.key)||ve(e.pr,n.pr)}static Er(e,n){return ve(e.pr,n.pr)||k.comparator(e.key,n.key)}};var og=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new tt(Ft.Ir)}checkEmpty(e){return y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new v2(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.wr=this.wr.add(new Ft(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return y.resolve(s)}lookupMutationBatch(e,n){return y.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),o=i<0?0:i;return y.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return y.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ft(n,0),i=new Ft(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{let a=this.Sr(s.pr);o.push(a)}),y.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tt(ve);return n.forEach(i=>{let o=new Ft(i,0),s=new Ft(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),y.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;k.isDocumentKey(o)||(o=o.child(""));let s=new Ft(new k(o),0),a=new tt(ve);return this.wr.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.pr)),!0)},s),y.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ee(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return y.forEach(n.mutations,i=>{let o=new Ft(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new Ft(n,0),i=this.wr.firstAfterOrEqual(r);return y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,y.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var sg=class{constructor(e){this.vr=e,this.docs=function(){return new ut(k.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return y.resolve(r?r.document.mutableCopy():jt.newInvalidDocument(n))}getEntries(e,n){let r=Kn();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():jt.newInvalidDocument(i))}),y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Kn(),s=n.path,a=new k(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:u}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||rv(ZS(u),r)<=0||(i.has(u.key)||P2(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return y.resolve(o)}getAllFromCollectionGroup(e,n,r,i){q()}Fr(e,n){return y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ag(this)}getSize(e){return y.resolve(this.size)}},ag=class extends p6{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),y.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var cg=class{constructor(e){this.persistence=e,this.Mr=new Ni(n=>Ea(n),O2),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Or=0,this.Nr=new M2,this.targetCount=0,this.Lr=R1.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),y.resolve()}getLastRemoteSnapshotVersion(e){return y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return y.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),y.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new R1(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,y.resolve()}updateTargetData(e,n){return this.qn(n),y.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,y.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),y.waitFor(o).next(()=>i)}getTargetCount(e){return y.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return y.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),y.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),y.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),y.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return y.resolve(r)}containsKey(e,n){return y.resolve(this.Nr.containsKey(n))}};var g6=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new fr(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new cg(this),this.indexManager=new G9,this.remoteDocumentCache=function(i){return new sg(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new a6(n),this.$r=new rg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ig,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new og(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){D("MemoryPersistence","Starting transaction:",e);let i=new lg(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return y.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},lg=class extends Q8{constructor(e){super(),this.currentSequenceNumber=e}},v6=class t{constructor(e){this.persistence=e,this.zr=new M2,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw q()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),y.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),y.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),y.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return y.forEach(this.Jr,r=>{let i=k.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,ne.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return y.or([()=>y.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var ug=class{constructor(e){this.serializer=e}N(e,n,r,i){let o=new K8("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore("owner")}(e),function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",XD,{unique:!0}),c.createObjectStore("documentMutations")}(e),PS(e),function(c){c.createObjectStore("remoteDocuments")}(e));let s=y.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),PS(e)),s=s.next(()=>function(c){let l=c.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ne.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",u)}(o))),r<4&&i>=4&&(r!==0&&(s=s.next(()=>function(c,l){return l.store("mutations").W().next(u=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",XD,{unique:!0});let h=l.store("mutations"),d=u.map(f=>h.put(f));return y.waitFor(d)})}(e,o))),s=s.next(()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(s=s.next(()=>this.Xr(o))),r<6&&i>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.ei(o)))),r<7&&i>=7&&(s=s.next(()=>this.ti(o))),r<8&&i>=8&&(s=s.next(()=>this.ni(e,o))),r<9&&i>=9&&(s=s.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(s=s.next(()=>this.ri(o))),r<11&&i>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{(function(c){let l=c.createObjectStore("documentOverlays",{keyPath:PY});l.createIndex("collectionPathOverlayIndex",NY,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",kY,{unique:!1})})(e)})),r<13&&i>=13&&(s=s.next(()=>function(c){let l=c.createObjectStore("remoteDocumentsV14",{keyPath:MY});l.createIndex("documentKeyIndex",TY),l.createIndex("collectionGroupIndex",IY)}(e)).next(()=>this.ii(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.si(e,o))),r<15&&i>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:zY}).createIndex("sequenceNumberIndex",RY,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:OY}).createIndex("documentKeyIndex",VY,{unique:!1})}(e))),r<16&&i>=16&&(s=s.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),s}ei(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=d6(i)}).next(()=>{let r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){let n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>y.forEach(i,o=>{let s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",s).next(a=>y.forEach(a,c=>{ee(c.userId===o.userId);let l=pa(this.serializer,c);return Qx(e,o.userId,l).next(()=>{})}))}))}ti(e){let n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{let o=[];return r.Y((s,a)=>{let c=new ke(s),l=function(h){return[0,zn(h)]}(c);o.push(n.get(l).next(u=>u?y.resolve():(h=>n.put({targetId:0,path:zn(h),sequenceNumber:i.highestListenSequenceNumber}))(c)))}).next(()=>y.waitFor(o))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:AY});let r=n.store("collectionParents"),i=new C2,o=s=>{if(i.add(s)){let a=s.lastSegment(),c=s.popLast();return r.put({collectionId:a,parent:zn(c)})}};return n.store("remoteDocuments").Y({J:!0},(s,a)=>{let c=new ke(s);return o(c.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([s,a,c],l)=>{let u=xi(a);return o(u.popLast())}))}ri(e){let n=e.store("targets");return n.Y((r,i)=>{let o=i2(i),s=Wx(this.serializer,o);return n.put(s)})}ii(e,n){let r=n.store("remoteDocuments"),i=[];return r.Y((o,s)=>{let a=n.store("remoteDocumentsV14"),c=function(h){return h.document?new k(ke.fromString(h.document.name).popFirst(5)):h.noDocument?k.fromSegments(h.noDocument.path):h.unknownDocument?k.fromSegments(h.unknownDocument.path):q()}(s).path.toArray(),l={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(a.put(l))}).next(()=>y.waitFor(i))}si(e,n){let r=n.store("mutations"),i=Zx(this.serializer),o=new g6(v6.Hr,this.serializer.ct);return r.W().next(s=>{let a=new Map;return s.forEach(c=>{var l;let u=(l=a.get(c.userId))!==null&&l!==void 0?l:we();pa(this.serializer,c).keys().forEach(h=>u=u.add(h)),a.set(c.userId,u)}),y.forEach(a,(c,l)=>{let u=new Ht(l),h=l6.lt(this.serializer,u),d=o.getIndexManager(u),f=f6.lt(u,this.serializer,d,o.referenceDelegate);return new m6(i,f,h,d).recalculateAndSaveOverlaysForDocumentKeys(new d2(n,fr._e),c).next()})})}};function PS(t){t.createObjectStore("targetDocuments",{keyPath:SY}).createIndex("documentTargetsIndex",xY,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",DY,{unique:!0}),t.createObjectStore("targetGlobal")}var t9="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",hg=class t{constructor(e,n,r,i,o,s,a,c,l,u,h=16){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.oi=o,this.window=s,this.document=a,this._i=l,this.ai=u,this.ui=h,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=d=>Promise.resolve(),!t.D())throw new T(w.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new J9(this,i),this.Ti=n+"main",this.serializer=new a6(c),this.Ei=new go(this.Ti,this.ui,new ug(this.serializer)),this.Qr=new Q9(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Zx(this.serializer),this.$r=new H9,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,u===!1&&At("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new T(w.FAILED_PRECONDITION,t9);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new fr(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=n=>_(this,null,function*(){if(this.started)return e(n)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.B(n=>_(this,null,function*(){n.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(()=>_(this,null,function*(){this.started&&(yield this.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>L8(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(_s(e))return D("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return D("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return n2(e).get("owner").next(n=>y.resolve(this.Si(n)))}bi(e){return L8(e).delete(this.clientId)}Di(){return _(this,null,function*(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{let r=tn(n,"clientMetadata");return r.W().next(i=>{let o=this.vi(i,18e5),s=i.filter(a=>o.indexOf(a)===-1);return y.forEach(s,a=>r.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.di)for(let n of e)this.di.removeItem(this.Fi(n.clientId))}})}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?y.resolve(!0):n2(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new T(w.FAILED_PRECONDITION,t9);return!1}}return!(!this.networkEnabled||!this.inForeground)||L8(e).W().next(r=>this.vi(r,5e3).find(i=>{if(this.clientId!==i.clientId){let o=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&D("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){return _(this,null,function*(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),yield this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let n=new d2(e,fr._e);return this.yi(n).next(()=>this.bi(n))}),this.Ei.close(),this.Li()})}vi(e,n){return e.filter(r=>this.Ci(r.updateTimeMs,n)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>L8(e).W().next(n=>this.vi(n,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return f6.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Y9(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return l6.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,r){D("IndexedDbPersistence","Starting transaction:",e);let i=n==="readonly"?"readonly":"readwrite",o=function(c){return c===16?FY:c===15?ox:c===14?ix:c===13?rx:c===12?LY:c===11?nx:void q()}(this.ui),s;return this.Ei.runTransaction(e,i,o,a=>(s=new d2(a,this.kr?this.kr.next():fr._e),n==="readwrite-primary"?this.gi(s).next(c=>!!c||this.pi(s)).next(c=>{if(!c)throw At(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new T(w.FAILED_PRECONDITION,JS);return r(s)}).next(c=>this.wi(s).next(()=>c)):this.ki(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}ki(e){return n2(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new T(w.FAILED_PRECONDITION,t9)})}wi(e){let n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return n2(e).put("owner",n)}static D(){return go.D()}yi(e){let n=n2(e);return n.get("owner").next(r=>this.Si(r)?(D("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):y.resolve())}Ci(e,n){let r=Date.now();return!(e<r-n)&&(!(e>r)||(At(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();let n=/(?:Version|Mobile)\/1[456]/;hd()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{let r=((n=this.di)===null||n===void 0?void 0:n.getItem(this.Fi(e)))!==null;return D("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return At("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){At("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function n2(t){return tn(t,"owner")}function L8(t){return tn(t,"clientMetadata")}function dv(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var dg=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=we(),i=we();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var fg=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var y6=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return hd()?8:go.v(dl())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new fg;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(m1()<=ni.DEBUG&&D("QueryEngine","SDK will not create cache indexes for query:",g1(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),y.resolve()):(m1()<=ni.DEBUG&&D("QueryEngine","Query:",g1(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(m1()<=ni.DEBUG&&D("QueryEngine","The SDK decides to create cache indexes for query:",g1(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rn(n))):y.resolve())}ji(e,n){if(cS(n))return y.resolve(null);let r=Rn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=r6(n,null,"F"),r=Rn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=we(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.Zi(n,a);return this.Xi(n,l,s,c.readTime)?this.ji(e,r6(n,null,"F")):this.es(e,l,n,c)}))})))}Hi(e,n,r,i){return cS(n)||i.isEqual(ne.min())?y.resolve(null):this.zi.getDocuments(e,r).next(o=>{let s=this.Zi(n,o);return this.Xi(n,s,r,i)?y.resolve(null):(m1()<=ni.DEBUG&&D("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),g1(n)),this.es(e,s,n,XS(i,-1)).next(a=>a))})}Zi(e,n){let r=new tt(yx(e));return n.forEach((i,o)=>{P2(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return m1()<=ni.DEBUG&&D("QueryEngine","Using full collection scan to execute query:",g1(n)),this.zi.getDocumentsMatchingQuery(e,n,Ir.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var pg=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new ut(ve),this.rs=new Ni(o=>Ea(o),O2),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new m6(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function Jx(t,e,n,r){return new pg(t,e,n,r)}function eA(t,e){return _(this,null,function*(){let n=F(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=we();for(let l of i){s.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}for(let l of o){a.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({us:l,removedBatchIds:s,addedBatchIds:a}))})})})}function yQ(t,e){let n=F(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){let h=l.batch,d=h.keys(),f=y.resolve();return d.forEach(p=>{f=f.next(()=>u.getEntry(c,p)).next(m=>{let g=l.docVersions.get(p);ee(g!==null),m.version.compareTo(g)<0&&(h.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),u.addEntry(m)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(c,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=we();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function tA(t){let e=F(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function wQ(t,e){let n=F(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((u,h)=>{let d=i.get(h);if(!d)return;a.push(n.Qr.removeMatchingKeys(o,u.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(o,u.addedDocuments,h)));let f=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?f=f.withResumeToken(en.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(h,f),function(m,g,b){return m.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(d,f,u)&&a.push(n.Qr.updateTargetData(o,f))});let c=Kn(),l=we();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(nA(o,s,e.documentUpdates).next(u=>{c=u.cs,l=u.ls})),!r.isEqual(ne.min())){let u=n.Qr.getLastRemoteSnapshotVersion(o).next(h=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return y.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(n.ns=i,o))}function nA(t,e,n){let r=we(),i=we();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Kn();return n.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ne.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):D("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{cs:s,ls:i}})}function _Q(t,e){let n=F(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function O1(t,e){let n=F(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,y.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new z1(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function V1(t,e,n){return _(this,null,function*(){let r=F(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!_s(s))throw s;D("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function w6(t,e,n){let r=F(t),i=ne.min(),o=we();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,u){let h=F(c),d=h.rs.get(u);return d!==void 0?y.resolve(h.ns.get(d)):h.Qr.getTargetData(l,u)}(r,s,Rn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:ne.min(),n?o:we())).next(a=>(oA(r,vx(e),a),{documents:a,hs:o})))}function rA(t,e){let n=F(t),r=F(n.Qr),i=n.ns.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",o=>r._t(o,e).next(s=>s?s.target:null))}function iA(t,e){let n=F(t),r=n.ss.get(e)||ne.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.os.getAllFromCollectionGroup(i,e,XS(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(oA(n,e,i),i))}function oA(t,e,n){let r=t.ss.get(e)||ne.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}function bQ(t,e,n,r){return _(this,null,function*(){let i=F(t),o=we(),s=Kn();for(let l of n){let u=e.Ps(l.metadata.name);l.document&&(o=o.add(u));let h=e.Is(l);h.setReadTime(e.Ts(l.metadata.readTime)),s=s.insert(u,h)}let a=i.os.newChangeBuffer({trackRemovals:!0}),c=yield O1(i,function(u){return Rn(j1(ke.fromString(`__bundle__/docs/${u}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>nA(l,a,s).next(u=>(a.apply(l),u)).next(u=>i.Qr.removeMatchingKeysForTargetId(l,c.targetId).next(()=>i.Qr.addMatchingKeys(l,o,c.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,u.cs,u.ls)).next(()=>u.cs)))})}function EQ(r,i){return _(this,arguments,function*(t,e,n=we()){let o=yield O1(t,Rn(uv(e.bundledQuery))),s=F(t);return s.persistence.runTransaction("Save named query","readwrite",a=>{let c=Rt(e.readTime);if(o.snapshotVersion.compareTo(c)>=0)return s.$r.saveNamedQuery(a,e);let l=o.withResumeToken(en.EMPTY_BYTE_STRING,c);return s.ns=s.ns.insert(l.targetId,l),s.Qr.updateTargetData(a,l).next(()=>s.Qr.removeMatchingKeysForTargetId(a,o.targetId)).next(()=>s.Qr.addMatchingKeys(a,n,o.targetId)).next(()=>s.$r.saveNamedQuery(a,e))})})}function NS(t,e){return`firestore_clients_${t}_${e}`}function kS(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function n9(t,e){return`firestore_targets_${t}_${e}`}var _6=class t{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Es(e,n,r){let i=JSON.parse(r),o,s=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string",s&&(o=new T(i.error.code,i.error.message))),s?new t(e,n,i.state,o):(At("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}ds(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},c2=class t{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Es(e,n){let r=JSON.parse(n),i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new T(r.error.code,r.error.message))),o?new t(e,r.state,i):(At("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},b6=class t{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){let r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=cv();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=ex(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(At("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}},mg=class t{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){let n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(At("SharedClientState",`Failed to parse online state: ${e}`),null)}},T2=class{constructor(){this.activeTargetIds=cv()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},l2=class{constructor(e,n,r,i,o){this.window=e,this.oi=n,this.persistenceKey=r,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new ut(ve),this.started=!1,this.ys=[];let s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ws=NS(this.persistenceKey,this.Vs),this.Ss=function(c){return`firestore_sequence_number_${c}`}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new T2),this.bs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.vs=function(c){return`firestore_online_state_${c}`}(this.persistenceKey),this.Fs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){return _(this,null,function*(){let e=yield this.syncEngine.Bi();for(let r of e){if(r===this.Vs)continue;let i=this.getItem(NS(this.persistenceKey,r));if(i){let o=b6.Es(r,i);o&&(this.ps=this.ps.insert(o.clientId,o))}}this.Ms();let n=this.storage.getItem(this.vs);if(n){let r=this.xs(n);r&&this.Os(r)}for(let r of this.ys)this.gs(r);this.ys=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,r){this.Ls(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){let r=this.storage.getItem(n9(this.persistenceKey,e));if(r){let i=c2.Es(e,r);i&&(n=i.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(n9(this.persistenceKey,e))}updateQueryState(e,n,r){this.qs(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){let n=this.storage.getItem(e);return D("SharedClientState","READ",e,n),n}setItem(e,n){D("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){D("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){let n=e;if(n.storageArea===this.storage){if(D("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ws)return void At("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(()=>_(this,null,function*(){if(this.started){if(n.key!==null){if(this.bs.test(n.key)){if(n.newValue==null){let r=this.$s(n.key);return this.Us(r,null)}{let r=this.Ws(n.key,n.newValue);if(r)return this.Us(r.clientId,r)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){let r=this.Gs(n.key,n.newValue);if(r)return this.zs(r)}}else if(this.Cs.test(n.key)){if(n.newValue!==null){let r=this.js(n.key,n.newValue);if(r)return this.Hs(r)}}else if(n.key===this.vs){if(n.newValue!==null){let r=this.xs(n.newValue);if(r)return this.Os(r)}}else if(n.key===this.Ss){let r=function(o){let s=fr._e;if(o!=null)try{let a=JSON.parse(o);ee(typeof a=="number"),s=a}catch(a){At("SharedClientState","Failed to read sequence number from WebStorage",a)}return s}(n.newValue);r!==fr._e&&this.sequenceNumberHandler(r)}else if(n.key===this.Fs){let r=this.Js(n.newValue);yield Promise.all(r.map(i=>this.syncEngine.Ys(i)))}}}else this.ys.push(n)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,n,r){let i=new _6(this.currentUser,e,n,r),o=kS(this.persistenceKey,this.currentUser,e);this.setItem(o,i.ds())}Bs(e){let n=kS(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){let n={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(n))}qs(e,n,r){let i=n9(this.persistenceKey,e),o=new c2(e,n,r);this.setItem(i,o.ds())}Ks(e){let n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){let n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){let r=this.$s(e);return b6.Es(r,n)}Gs(e,n){let r=this.Ds.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return _6.Es(new Ht(o),i,n)}js(e,n){let r=this.Cs.exec(e),i=Number(r[1]);return c2.Es(i,n)}xs(e){return mg.Es(e)}Js(e){return JSON.parse(e)}zs(e){return _(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);D("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){let r=n?this.ps.insert(e,n):this.ps.remove(e),i=this.Ns(this.ps),o=this.Ns(r),s=[],a=[];return o.forEach(c=>{i.has(c)||s.push(c)}),i.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.eo(s,a).then(()=>{this.ps=r})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=cv();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}},E6=class{constructor(){this.no=new T2,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new T2,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var gg=class{io(e){}shutdown(){}};var C6=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){D("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){D("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var F8=null;function r9(){return F8===null?F8=function(){return 268435456+Math.round(2147483648*Math.random())}():F8++,"0x"+F8.toString(16)}var CQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var vg=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var wn="WebChannelConnection",yg=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(n,r,i,o,s){let a=r9(),c=this.bo(n,r.toUriEncodedString());D("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let l={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(l,o,s),this.Co(n,c,l,i).then(u=>(D("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Tr("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",i),u})}vo(n,r,i,o,s,a){return this.So(n,r,i,o,s)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+B1}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}bo(n,r){let i=CQ[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){let o=r9();return new Promise((s,a)=>{let c=new WD;c.setWithCredentials(!0),c.listenOnce($D.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case P8.NO_ERROR:let u=c.getResponseJson();D(wn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case P8.TIMEOUT:D(wn,`RPC '${e}' ${o} timed out`),a(new T(w.DEADLINE_EXCEEDED,"Request time out"));break;case P8.HTTP_ERROR:let h=c.getStatus();if(D(wn,`RPC '${e}' ${o} failed with status:`,h,"response text:",c.getResponseText()),h>0){let d=c.getResponseJson();Array.isArray(d)&&(d=d[0]);let f=d?.error;if(f&&f.status&&f.message){let p=function(g){let b=g.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(b)>=0?b:w.UNKNOWN}(f.status);a(new T(p,f.message))}else a(new T(w.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new T(w.UNAVAILABLE,"Connection failed."));break;default:q()}}finally{D(wn,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);D(wn,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",l,r,15)})}Fo(e,n,r){let i=r9(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=jD(),a=UD(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let u=o.join("");D(wn,`Creating RPC '${e}' stream ${i}: ${u}`,c);let h=s.createWebChannel(u,c),d=!1,f=!1,p=new vg({lo:g=>{f?D(wn,`Not sending because RPC '${e}' stream ${i} is closed:`,g):(d||(D(wn,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),D(wn,`RPC '${e}' stream ${i} sending:`,g),h.send(g))},ho:()=>h.close()}),m=(g,b,S)=>{g.listen(b,M=>{try{S(M)}catch(N){setTimeout(()=>{throw N},0)}})};return m(h,Z4.EventType.OPEN,()=>{f||D(wn,`RPC '${e}' stream ${i} transport opened.`)}),m(h,Z4.EventType.CLOSE,()=>{f||(f=!0,D(wn,`RPC '${e}' stream ${i} transport closed`),p.Vo())}),m(h,Z4.EventType.ERROR,g=>{f||(f=!0,Tr(wn,`RPC '${e}' stream ${i} transport errored:`,g),p.Vo(new T(w.UNAVAILABLE,"The operation could not be completed")))}),m(h,Z4.EventType.MESSAGE,g=>{var b;if(!f){let S=g.data[0];ee(!!S);let M=S,N=M.error||((b=M[0])===null||b===void 0?void 0:b.error);if(N){D(wn,`RPC '${e}' stream ${i} received error:`,N);let Z=N.status,B=function(Ot){let Vt=Lt[Ot];if(Vt!==void 0)return Rx(Vt)}(Z),re=N.message;B===void 0&&(B=w.INTERNAL,re="Unknown error status: "+Z+" with message "+N.message),f=!0,p.Vo(new T(B,re)),h.close()}else D(wn,`RPC '${e}' stream ${i} received:`,S),p.mo(S)}}),m(a,qD.STAT_EVENT,g=>{g.stat===Jm.PROXY?D(wn,`RPC '${e}' stream ${i} detected buffering proxy`):g.stat===Jm.NOPROXY&&D(wn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ro()},0),p}};function sA(){return typeof window<"u"?window:null}function $8(){return typeof document<"u"?document:null}function N2(t){return new P9(t,!0)}var I2=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&D("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}};var M6=class{constructor(e,n,r,i,o,s,a,c){this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new I2(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return _(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return _(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return _(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===w.RESOURCE_EXHAUSTED?(At(n.toString()),At("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===w.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{let i=new T(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){let r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(()=>_(this,null,function*(){this.state=0,this.start()}))}__(e){return D("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(D("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},wg=class extends M6{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=aQ(this.serializer,e),r=function(o){if(!("targetChange"in o))return ne.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ne.min():s.readTime?Rt(s.readTime):ne.min()}(e);return this.listener.u_(n,r)}c_(e){let n={};n.database=L9(this.serializer),n.addTarget=function(o,s){let a,c=s.target;if(a=t6(c)?{documents:Hx(o,c)}:{query:Bx(o,c).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Vx(o,s.resumeToken);let l=N9(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ne.min())>0){a.readTime=A1(o,s.snapshotVersion.toTimestamp());let l=N9(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=lQ(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){let n={};n.database=L9(this.serializer),n.removeTarget=e,this.t_(n)}},_g=class extends M6{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(ee(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();let n=cQ(e.writeResults,e.commitTime),r=Rt(e.commitTime);return this.listener.T_(r,n)}return ee(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){let e={};e.database=L9(this.serializer),this.t_(e)}I_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>E2(this.serializer,r))};this.t_(n)}};var bg=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new T(w.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,k9(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new T(w.UNKNOWN,o.toString())})}vo(e,n,r,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,k9(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new T(w.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var Eg=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(At(n),this.g_=!1):D("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var Cg=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(s=>{r.enqueueAndForget(()=>_(this,null,function*(){bs(this)&&(D("RemoteStore","Restarting streams for network reachability change."),yield function(c){return _(this,null,function*(){let l=F(c);l.v_.add(4),yield U1(l),l.x_.set("Unknown"),l.v_.delete(4),yield k2(l)})}(this))}))}),this.x_=new Eg(r,i)}};function k2(t){return _(this,null,function*(){if(bs(t))for(let e of t.F_)yield e(!0)})}function U1(t){return _(this,null,function*(){for(let e of t.F_)yield e(!1)})}function U6(t,e){let n=F(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),mv(n)?pv(n):q1(n).Jo()&&fv(n,e))}function P1(t,e){let n=F(t),r=q1(n);n.C_.delete(e),r.Jo()&&aA(n,e),n.C_.size===0&&(r.Jo()?r.Xo():bs(n)&&n.x_.set("Unknown"))}function fv(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}q1(t).c_(e)}function aA(t,e){t.O_.Oe(e),q1(t).l_(e)}function pv(t){t.O_=new V9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),q1(t).start(),t.x_.p_()}function mv(t){return bs(t)&&!q1(t).Ho()&&t.C_.size>0}function bs(t){return F(t).v_.size===0}function cA(t){t.O_=void 0}function MQ(t){return _(this,null,function*(){t.C_.forEach((e,n)=>{fv(t,e)})})}function TQ(t,e){return _(this,null,function*(){cA(t),mv(t)?(t.x_.S_(e),pv(t)):t.x_.set("Unknown")})}function IQ(t,e,n){return _(this,null,function*(){if(t.x_.set("Online"),e instanceof o6&&e.state===2&&e.cause)try{yield function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.C_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.C_.delete(a),i.O_.removeTarget(a))})}(t,e)}catch(r){D("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield T6(t,r)}else if(e instanceof C1?t.O_.$e(e):e instanceof i6?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(ne.min()))try{let r=yield tA(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.O_.it(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let u=o.C_.get(l);u&&o.C_.set(l,u.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let u=o.C_.get(c);if(!u)return;o.C_.set(c,u.withResumeToken(en.EMPTY_BYTE_STRING,u.snapshotVersion)),aA(o,c);let h=new z1(u.target,c,l,u.sequenceNumber);fv(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){D("RemoteStore","Failed to raise snapshot:",r),yield T6(t,r)}})}function T6(t,e,n){return _(this,null,function*(){if(!_s(e))throw e;t.v_.add(1),yield U1(t),t.x_.set("Offline"),n||(n=()=>tA(t.localStore)),t.asyncQueue.enqueueRetryable(()=>_(this,null,function*(){D("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield k2(t)}))})}function lA(t,e){return e().catch(n=>T6(t,n,e))}function $1(t){return _(this,null,function*(){let e=F(t),n=ys(e),r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;DQ(e);)try{let i=yield _Q(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,SQ(e,i)}catch(i){yield T6(e,i)}uA(e)&&hA(e)})}function DQ(t){return bs(t)&&t.D_.length<10}function SQ(t,e){t.D_.push(e);let n=ys(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function uA(t){return bs(t)&&!ys(t).Ho()&&t.D_.length>0}function hA(t){ys(t).start()}function xQ(t){return _(this,null,function*(){ys(t).d_()})}function AQ(t){return _(this,null,function*(){let e=ys(t);for(let n of t.D_)e.I_(n.mutations)})}function zQ(t,e,n){return _(this,null,function*(){let r=t.D_.shift(),i=z9.from(r,e,n);yield lA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield $1(t)})}function RQ(t,e){return _(this,null,function*(){e&&ys(t).P_&&(yield function(r,i){return _(this,null,function*(){if(function(s){return zx(s)&&s!==w.ABORTED}(i.code)){let o=r.D_.shift();ys(r).Zo(),yield lA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield $1(r)}})}(t,e)),uA(t)&&hA(t)})}function LS(t,e){return _(this,null,function*(){let n=F(t);n.asyncQueue.verifyOperationInProgress(),D("RemoteStore","RemoteStore received new credentials");let r=bs(n);n.v_.add(3),yield U1(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield k2(n)})}function Mg(t,e){return _(this,null,function*(){let n=F(t);e?(n.v_.delete(2),yield k2(n)):e||(n.v_.add(2),yield U1(n),n.x_.set("Unknown"))})}function q1(t){return t.N_||(t.N_=function(n,r,i){let o=F(n);return o.R_(),new wg(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:MQ.bind(null,t),To:TQ.bind(null,t),u_:IQ.bind(null,t)}),t.F_.push(e=>_(this,null,function*(){e?(t.N_.Zo(),mv(t)?pv(t):t.x_.set("Unknown")):(yield t.N_.stop(),cA(t))}))),t.N_}function ys(t){return t.L_||(t.L_=function(n,r,i){let o=F(n);return o.R_(),new _g(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:xQ.bind(null,t),To:RQ.bind(null,t),E_:AQ.bind(null,t),T_:zQ.bind(null,t)}),t.F_.push(e=>_(this,null,function*(){e?(t.L_.Zo(),yield $1(t)):(yield t.L_.stop(),t.D_.length>0&&(D("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))}))),t.L_}var Tg=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Bt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new T(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function W1(t,e){if(At("AsyncQueue",`${e}: ${t}`),_s(t))return new T(w.UNAVAILABLE,`${e}: ${t}`);throw t}var I6=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||k.comparator(n.key,r.key):(n,r)=>k.comparator(n.key,r.key),this.keyedMap=r2(),this.sortedSet=new ut(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var D6=class{constructor(){this.B_=new ut(k.comparator)}track(e){let n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):q():this.B_=this.B_.insert(n,e)}k_(){let e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}},N1=class t{constructor(e,n,r,i,o,s,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,I6.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&V2(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Ig=class{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}},Dg=class{constructor(){this.queries=new Ni(e=>gx(e),V2),this.onlineState="Unknown",this.W_=new Set}};function gv(t,e){return _(this,null,function*(){let n=F(t),r=3,i=e.query,o=n.queries.get(i);o?!o.K_()&&e.U_()&&(r=2):(o=new Ig,r=e.U_()?0:1);try{switch(r){case 0:o.q_=yield n.onListen(i,!0);break;case 1:o.q_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=W1(s,`Initialization of query '${g1(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Q_.push(e),e.G_(n.onlineState),o.q_&&e.z_(o.q_)&&yv(n)})}function vv(t,e){return _(this,null,function*(){let n=F(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),o.Q_.length===0?i=e.U_()?0:1:!o.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function OQ(t,e){let n=F(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.Q_)a.z_(i)&&(r=!0);s.q_=i}}r&&yv(n)}function VQ(t,e,n){let r=F(t),i=r.queries.get(e);if(i)for(let o of i.Q_)o.onError(n);r.queries.delete(e)}function yv(t){t.W_.forEach(e=>{e.next()})}var Sg,FS;(FS=Sg||(Sg={})).j_="default",FS.Cache="cache";var D2=class{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new N1(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;let r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;let n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=N1.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==Sg.Cache}};var xg=class{constructor(e,n){this.na=e,this.byteLength=n}ra(){return"metadata"in this.na}};var S6=class{constructor(e){this.serializer=e}Ps(e){return Ri(this.serializer,e)}Is(e){return e.metadata.exists?Fx(this.serializer,e.document,!1):jt.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Rt(e)}},Ag=class{constructor(e,n,r){this.ia=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=dA(e)}sa(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.na.namedQuery)this.queries.push(e.na.namedQuery);else if(e.na.documentMetadata){this.documents.push({metadata:e.na.documentMetadata}),e.na.documentMetadata.exists||++n;let r=ke.fromString(e.na.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.na.document&&(this.documents[this.documents.length-1].document=e.na.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}oa(e){let n=new Map,r=new S6(this.serializer);for(let i of e)if(i.metadata.queries){let o=r.Ps(i.metadata.name);for(let s of i.metadata.queries){let a=(n.get(s)||we()).add(o);n.set(s,a)}}return n}complete(){return _(this,null,function*(){let e=yield bQ(this.localStore,new S6(this.serializer),this.documents,this.ia.id),n=this.oa(this.documents);for(let r of this.queries)yield EQ(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,_a:this.collectionGroups,aa:e}})}};function dA(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var x6=class{constructor(e){this.key=e}},A6=class{constructor(e){this.key=e}},z6=class{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=we(),this.mutatedKeys=we(),this.ha=yx(e),this.Pa=new I6(this.ha)}get Ia(){return this.ua}Ta(e,n){let r=n?n.Ea:new D6,i=n?n.Pa:this.Pa,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,h)=>{let d=i.get(u),f=P2(this.query,h)?h:null,p=!!d&&this.mutatedKeys.has(d.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations),g=!1;d&&f?d.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),g=!0):this.da(d,f)||(r.track({type:2,doc:f}),g=!0,(c&&this.ha(f,c)>0||l&&this.ha(f,l)<0)&&(a=!0)):!d&&f?(r.track({type:0,doc:f}),g=!0):d&&!f&&(r.track({type:1,doc:d}),g=!0,(c||l)&&(a=!0)),g&&(f?(s=s.add(f),o=m?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{Pa:s,Ea:r,Xi:a,mutatedKeys:o}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;let s=e.Ea.k_();s.sort((u,h)=>function(f,p){let m=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return q()}};return m(f)-m(p)}(u.type,h.type)||this.ha(u.doc,h.doc)),this.Aa(r),i=i!=null&&i;let a=n&&!i?this.Ra():[],c=this.la.size===0&&this.current&&!i?1:0,l=c!==this.ca;return this.ca=c,s.length!==0||l?{snapshot:new N1(this.query,e.Pa,o,s,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new D6,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];let e=this.la;this.la=we(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});let n=[];return e.forEach(r=>{this.la.has(r)||n.push(new A6(r))}),this.la.forEach(r=>{e.has(r)||n.push(new x6(r))}),n}fa(e){this.ua=e.hs,this.la=we();let n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return N1.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}},zg=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Rg=class{constructor(e){this.key=e,this.pa=!1}},Og=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.ya={},this.wa=new Ni(a=>gx(a),V2),this.Sa=new Map,this.ba=new Set,this.Da=new ut(k.comparator),this.Ca=new Map,this.va=new M2,this.Fa={},this.Ma=new Map,this.xa=R1.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}};function PQ(t,e,n=!0){return _(this,null,function*(){let r=$6(t),i,o=r.wa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ga()):i=yield fA(r,e,n,!0),i})}function NQ(t,e){return _(this,null,function*(){let n=$6(t);yield fA(n,e,!0,!1)})}function fA(t,e,n,r){return _(this,null,function*(){let i=yield O1(t.localStore,Rn(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current",a;return r&&(a=yield wv(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&U6(t.remoteStore,i),a})}function wv(t,e,n,r,i){return _(this,null,function*(){t.Na=(h,d,f)=>function(m,g,b,S){return _(this,null,function*(){let M=g.view.Ta(b);M.Xi&&(M=yield w6(m.localStore,g.query,!1).then(({documents:re})=>g.view.Ta(re,M)));let N=S&&S.targetChanges.get(g.targetId),Z=S&&S.targetMismatches.get(g.targetId)!=null,B=g.view.applyChanges(M,m.isPrimaryClient,N,Z);return Vg(m,g.targetId,B.Va),B.snapshot})}(t,h,d,f);let o=yield w6(t.localStore,e,!0),s=new z6(e,o.hs),a=s.Ta(o.documents),c=_2.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,c);Vg(t,n,l.Va);let u=new zg(e,n,s);return t.wa.set(e,u),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),l.snapshot})}function kQ(t,e,n){return _(this,null,function*(){let r=F(t),i=r.wa.get(e),o=r.Sa.get(i.targetId);if(o.length>1)return r.Sa.set(i.targetId,o.filter(s=>!V2(s,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield V1(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&P1(r.remoteStore,i.targetId),k1(r,i.targetId)}).catch(ws))):(k1(r,i.targetId),yield V1(r.localStore,i.targetId,!0))})}function LQ(t,e){return _(this,null,function*(){let n=F(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),P1(n.remoteStore,r.targetId))})}function FQ(t,e,n){return _(this,null,function*(){let r=Cv(t);try{let i=yield function(s,a){let c=F(s),l=bt.now(),u=a.reduce((f,p)=>f.add(p.key),we()),h,d;return c.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=Kn(),m=we();return c.os.getEntries(f,u).next(g=>{p=g,p.forEach((b,S)=>{S.isValidDocument()||(m=m.add(b))})}).next(()=>c.localDocuments.getOverlayedDocuments(f,p)).next(g=>{h=g;let b=[];for(let S of a){let M=eQ(S,h.get(S.key).overlayedDocument);M!=null&&b.push(new Kr(S.key,M,lx(M.value.mapValue),It.exists(!0)))}return c.mutationQueue.addMutationBatch(f,l,b,a)}).next(g=>{d=g;let b=g.applyToLocalDocumentSet(h,m);return c.documentOverlayCache.saveOverlays(f,g.batchId,b)})}).then(()=>({batchId:d.batchId,changes:_x(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let l=s.Fa[s.currentUser.toKey()];l||(l=new ut(ve)),l=l.insert(a,c),s.Fa[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Eo(r,i.changes),yield $1(r.remoteStore)}catch(i){let o=W1(i,"Failed to persist write");n.reject(o)}})}function pA(t,e){return _(this,null,function*(){let n=F(t);try{let r=yield wQ(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Ca.get(o);s&&(ee(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.pa=!0:i.modifiedDocuments.size>0?ee(s.pa):i.removedDocuments.size>0&&(ee(s.pa),s.pa=!1))}),yield Eo(n,r,e)}catch(r){yield ws(r)}})}function HS(t,e,n){let r=F(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.wa.forEach((o,s)=>{let a=s.view.G_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=F(s);c.onlineState=a;let l=!1;c.queries.forEach((u,h)=>{for(let d of h.Q_)d.G_(a)&&(l=!0)}),l&&yv(c)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function HQ(t,e,n){return _(this,null,function*(){let r=F(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Ca.get(e),o=i&&i.key;if(o){let s=new ut(k.comparator);s=s.insert(o,jt.newNoDocument(o,ne.min()));let a=we().add(o),c=new w2(ne.min(),new Map,new ut(ve),s,a);yield pA(r,c),r.Da=r.Da.remove(o),r.Ca.delete(e),Ev(r)}else yield V1(r.localStore,e,!1).then(()=>k1(r,e,n)).catch(ws)})}function BQ(t,e){return _(this,null,function*(){let n=F(t),r=e.batch.batchId;try{let i=yield yQ(n.localStore,e);bv(n,r,null),_v(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Eo(n,i)}catch(i){yield ws(i)}})}function jQ(t,e,n){return _(this,null,function*(){let r=F(t);try{let i=yield function(s,a){let c=F(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(h=>(ee(h!==null),u=h.keys(),c.mutationQueue.removeMutationBatch(l,h))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(r.localStore,e);bv(r,e,n),_v(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Eo(r,i)}catch(i){yield ws(i)}})}function UQ(t,e){return _(this,null,function*(){let n=F(t);bs(n.remoteStore)||D("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let r=yield function(s){let a=F(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(n.localStore);if(r===-1)return void e.resolve();let i=n.Ma.get(r)||[];i.push(e),n.Ma.set(r,i)}catch(r){let i=W1(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}})}function _v(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function bv(t,e,n){let r=F(t),i=r.Fa[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Fa[r.currentUser.toKey()]=i}}function k1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||mA(t,r)})}function mA(t,e){t.ba.delete(e.path.canonicalString());let n=t.Da.get(e);n!==null&&(P1(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),Ev(t))}function Vg(t,e,n){for(let r of n)r instanceof x6?(t.va.addReference(r.key,e),$Q(t,r)):r instanceof A6?(D("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||mA(t,r.key)):q()}function $Q(t,e){let n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(D("SyncEngine","New document in limbo: "+n),t.ba.add(r),Ev(t))}function Ev(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){let e=t.ba.values().next().value;t.ba.delete(e);let n=new k(ke.fromString(e)),r=t.xa.next();t.Ca.set(r,new Rg(n)),t.Da=t.Da.insert(n,r),U6(t.remoteStore,new z1(Rn(j1(n.path)),r,"TargetPurposeLimboResolution",fr._e))}}function Eo(t,e,n){return _(this,null,function*(){let r=F(t),i=[],o=[],s=[];r.wa.isEmpty()||(r.wa.forEach((a,c)=>{s.push(r.Na(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);let u=dg.Ki(c.targetId,l);o.push(u)}}))}),yield Promise.all(s),r.ya.u_(i),yield function(c,l){return _(this,null,function*(){let u=F(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>y.forEach(l,d=>y.forEach(d.qi,f=>u.persistence.referenceDelegate.addReference(h,d.targetId,f)).next(()=>y.forEach(d.Qi,f=>u.persistence.referenceDelegate.removeReference(h,d.targetId,f)))))}catch(h){if(!_s(h))throw h;D("LocalStore","Failed to update sequence numbers: "+h)}for(let h of l){let d=h.targetId;if(!h.fromCache){let f=u.ns.get(d),p=f.snapshotVersion,m=f.withLastLimboFreeSnapshotVersion(p);u.ns=u.ns.insert(d,m)}}})}(r.localStore,o))})}function qQ(t,e){return _(this,null,function*(){let n=F(t);if(!n.currentUser.isEqual(e)){D("SyncEngine","User change. New user:",e.toKey());let r=yield eA(n.localStore,e);n.currentUser=e,function(o,s){o.Ma.forEach(a=>{a.forEach(c=>{c.reject(new T(w.CANCELLED,s))})}),o.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Eo(n,r.us)}})}function WQ(t,e){let n=F(t),r=n.Ca.get(e);if(r&&r.pa)return we().add(r.key);{let i=we(),o=n.Sa.get(e);if(!o)return i;for(let s of o){let a=n.wa.get(s);i=i.unionWith(a.view.Ia)}return i}}function GQ(t,e){return _(this,null,function*(){let n=F(t),r=yield w6(n.localStore,e.query,!0),i=e.view.fa(r);return n.isPrimaryClient&&Vg(n,e.targetId,i.Va),i})}function YQ(t,e){return _(this,null,function*(){let n=F(t);return iA(n.localStore,e).then(r=>Eo(n,r))})}function QQ(t,e,n,r){return _(this,null,function*(){let i=F(t),o=yield function(a,c){let l=F(a),u=F(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",h=>u.vn(h,c).next(d=>d?l.localDocuments.getDocuments(h,d):y.resolve(null)))}(i.localStore,e);o!==null?(n==="pending"?yield $1(i.remoteStore):n==="acknowledged"||n==="rejected"?(bv(i,e,r||null),_v(i,e),function(a,c){F(F(a).mutationQueue).Mn(c)}(i.localStore,e)):q(),yield Eo(i,o)):D("SyncEngine","Cannot apply mutation batch with id: "+e)})}function KQ(t,e){return _(this,null,function*(){let n=F(t);if($6(n),Cv(n),e===!0&&n.Oa!==!0){let r=n.sharedClientState.getAllActiveQueryTargets(),i=yield BS(n,r.toArray());n.Oa=!0,yield Mg(n.remoteStore,!0);for(let o of i)U6(n.remoteStore,o)}else if(e===!1&&n.Oa!==!1){let r=[],i=Promise.resolve();n.Sa.forEach((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(k1(n,s),V1(n.localStore,s,!0))),P1(n.remoteStore,s)}),yield i,yield BS(n,r),function(s){let a=F(s);a.Ca.forEach((c,l)=>{P1(a.remoteStore,l)}),a.va.mr(),a.Ca=new Map,a.Da=new ut(k.comparator)}(n),n.Oa=!1,yield Mg(n.remoteStore,!1)}})}function BS(t,e,n){return _(this,null,function*(){let r=F(t),i=[],o=[];for(let s of e){let a,c=r.Sa.get(s);if(c&&c.length!==0){a=yield O1(r.localStore,Rn(c[0]));for(let l of c){let u=r.wa.get(l),h=yield GQ(r,u);h.snapshot&&o.push(h.snapshot)}}else{let l=yield rA(r.localStore,s);a=yield O1(r.localStore,l),yield wv(r,gA(l),s,!1,a.resumeToken)}i.push(a)}return r.ya.u_(o),i})}function gA(t){return mx(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function XQ(t){return function(n){return F(F(n).persistence).Bi()}(F(t).localStore)}function ZQ(t,e,n,r){return _(this,null,function*(){let i=F(t);if(i.Oa)return void D("SyncEngine","Ignoring unexpected query state notification.");let o=i.Sa.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{let s=yield iA(i.localStore,vx(o[0])),a=w2.createSynthesizedRemoteEventForCurrentChange(e,n==="current",en.EMPTY_BYTE_STRING);yield Eo(i,s,a);break}case"rejected":yield V1(i.localStore,e,!0),k1(i,e,r);break;default:q()}})}function JQ(t,e,n){return _(this,null,function*(){let r=$6(t);if(r.Oa){for(let i of e){if(r.Sa.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){D("SyncEngine","Adding an already active target "+i);continue}let o=yield rA(r.localStore,i),s=yield O1(r.localStore,o);yield wv(r,gA(o),s.targetId,!1,s.resumeToken),U6(r.remoteStore,s)}for(let i of n)r.Sa.has(i)&&(yield V1(r.localStore,i,!1).then(()=>{P1(r.remoteStore,i),k1(r,i)}).catch(ws))}})}function $6(t){let e=F(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WQ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HQ.bind(null,e),e.ya.u_=OQ.bind(null,e.eventManager),e.ya.La=VQ.bind(null,e.eventManager),e}function Cv(t){let e=F(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BQ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jQ.bind(null,e),e}function eK(t,e,n){let r=F(t);(function(o,s,a){return _(this,null,function*(){try{let c=yield s.getMetadata();if(yield function(f,p){let m=F(f),g=Rt(p.createTime);return m.persistence.runTransaction("hasNewerBundle","readonly",b=>m.$r.getBundleMetadata(b,p.id)).then(b=>!!b&&b.createTime.compareTo(g)>=0)}(o.localStore,c))return yield s.close(),a._completeWith(function(f){return{taskState:"Success",documentsLoaded:f.totalDocuments,bytesLoaded:f.totalBytes,totalDocuments:f.totalDocuments,totalBytes:f.totalBytes}}(c)),Promise.resolve(new Set);a._updateProgress(dA(c));let l=new Ag(c,o.localStore,s.serializer),u=yield s.Ba();for(;u;){let d=yield l.sa(u);d&&a._updateProgress(d),u=yield s.Ba()}let h=yield l.complete();return yield Eo(o,h.aa,void 0),yield function(f,p){let m=F(f);return m.persistence.runTransaction("Save bundle","readwrite",g=>m.$r.saveBundleMetadata(g,p))}(o.localStore,c),a._completeWith(h.progress),Promise.resolve(h._a)}catch(c){return Tr("SyncEngine",`Loading bundle failed with ${c}`),a._failWith(c),Promise.resolve(new Set)}})})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}var S2=class{constructor(){this.synchronizeTabs=!1}initialize(e){return _(this,null,function*(){this.serializer=N2(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Jx(this.persistence,new y6,e.initialUser,this.serializer)}createPersistence(e){return new g6(v6.Hr,this.serializer)}createSharedClientState(e){return new E6}terminate(){return _(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var R6=class t extends S2{constructor(e,n,r){super(),this.ka=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){return _(this,null,function*(){yield ld(t.prototype,this,"initialize").call(this,e),yield this.ka.initialize(this,e),yield Cv(this.ka.syncEngine),yield $1(this.ka.remoteStore),yield this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}createLocalStore(e){return Jx(this.persistence,new y6,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){let r=this.persistence.referenceDelegate.garbageCollector;return new X9(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){let r=new m9(n,this.persistence);return new p9(e.asyncQueue,r)}createPersistence(e){let n=dv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Mr.withCacheSize(this.cacheSizeBytes):Mr.DEFAULT;return new hg(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,sA(),$8(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new E6}},Pg=class t extends R6{constructor(e,n){super(e,n,!1),this.ka=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){return _(this,null,function*(){yield ld(t.prototype,this,"initialize").call(this,e);let n=this.ka.syncEngine;this.sharedClientState instanceof l2&&(this.sharedClientState.syncEngine={Zs:QQ.bind(null,n),Xs:ZQ.bind(null,n),eo:JQ.bind(null,n),Bi:XQ.bind(null,n),Ys:YQ.bind(null,n)},yield this.sharedClientState.start()),yield this.persistence.fi(r=>_(this,null,function*(){yield KQ(this.ka.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))})}createSharedClientState(e){let n=sA();if(!l2.D(n))throw new T(w.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let r=dv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new l2(n,e.asyncQueue,r,e.clientId,e.initialUser)}},x2=class{initialize(e,n){return _(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>HS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qQ.bind(null,this.syncEngine),yield Mg(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Dg}()}createDatastore(e){let n=N2(e.databaseInfo.databaseId),r=function(o){return new yg(o)}(e.databaseInfo);return function(o,s,a,c){return new bg(o,s,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new Cg(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>HS(this.syncEngine,n,0),function(){return C6.D()?new C6:new gg}())}createSyncEngine(e,n){return function(i,o,s,a,c,l,u){let h=new Og(i,o,s,a,c,l);return u&&(h.Oa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return _(this,null,function*(){var e;yield function(r){return _(this,null,function*(){let i=F(r);D("RemoteStore","RemoteStore shutting down."),i.v_.add(5),yield U1(i),i.M_.shutdown(),i.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};function jS(t,e=10240){let n=0;return{read(){return _(this,null,function*(){if(n<t.byteLength){let i={value:t.slice(n,n+e),done:!1};return n+=e,i}return{done:!0}})},cancel(){return _(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}var L1=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):At("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Ng=class{constructor(e,n){this.Ka=e,this.serializer=n,this.metadata=new Bt,this.buffer=new Uint8Array,this.$a=function(){return new TextDecoder("utf-8")}(),this.Ua().then(r=>{r&&r.ra()?this.metadata.resolve(r.na.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.na)}`))},r=>this.metadata.reject(r))}close(){return this.Ka.cancel()}getMetadata(){return _(this,null,function*(){return this.metadata.promise})}Ba(){return _(this,null,function*(){return yield this.getMetadata(),this.Ua()})}Ua(){return _(this,null,function*(){let e=yield this.Wa();if(e===null)return null;let n=this.$a.decode(e),r=Number(n);isNaN(r)&&this.Ga(`length string (${n}) is not valid number`);let i=yield this.za(r);return new xg(JSON.parse(i),e.length+r)})}ja(){return this.buffer.findIndex(e=>e===123)}Wa(){return _(this,null,function*(){for(;this.ja()<0&&!(yield this.Ha()););if(this.buffer.length===0)return null;let e=this.ja();e<0&&this.Ga("Reached the end of bundle when a length string is expected.");let n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n})}za(e){return _(this,null,function*(){for(;this.buffer.length<e;)(yield this.Ha())&&this.Ga("Reached the end of bundle when more is expected.");let n=this.$a.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n})}Ga(e){throw this.Ka.cancel(),new Error(`Invalid bundle format: ${e}`)}Ha(){return _(this,null,function*(){let e=yield this.Ka.read();if(!e.done){let n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done})}};var kg=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){return _(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new T(w.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let n=yield function(i,o){return _(this,null,function*(){let s=F(i),a={documents:o.map(h=>b2(s.serializer,h))},c=yield s.vo("BatchGetDocuments",s.serializer.databaseId,ke.emptyPath(),a,o.length),l=new Map;c.forEach(h=>{let d=sQ(s.serializer,h);l.set(d.key.toString(),d)});let u=[];return o.forEach(h=>{let d=l.get(h.toString());ee(!!d),u.push(d)}),u})}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n})}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new vs(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return _(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{let i=k.fromPath(r);this.mutations.push(new g2(i,this.precondition(i)))}),yield function(r,i){return _(this,null,function*(){let o=F(r),s={writes:i.map(a=>E2(o.serializer,a))};yield o.So("Commit",o.serializer.databaseId,ke.emptyPath(),s)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw q();n=ne.min()}let r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new T(w.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){let n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ne.min())?It.exists(!1):It.updateTime(n):It.none()}preconditionForUpdate(e){let n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ne.min()))throw new T(w.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return It.updateTime(n)}return It.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var Lg=class{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this.Ja=r.maxAttempts,this.jo=new I2(this.asyncQueue,"transaction_retry")}Ya(){this.Ja-=1,this.Za()}Za(){this.jo.qo(()=>_(this,null,function*(){let e=new kg(this.datastore),n=this.Xa(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.eu(i)}))}).catch(r=>{this.eu(r)})}))}Xa(e){try{let n=this.updateFunction(e);return!R2(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}eu(e){this.Ja>0&&this.tu(e)?(this.Ja-=1,this.asyncQueue.enqueueAndForget(()=>(this.Za(),Promise.resolve()))):this.deferred.reject(e)}tu(e){if(e.name==="FirebaseError"){let n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!zx(n)}return!1}};var Fg=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ht.UNAUTHENTICATED,this.clientId=G8.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>_(this,null,function*(){D("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(D("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Bt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=W1(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function q8(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),D("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>_(this,null,function*(){r.isEqual(i)||(yield eA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function Hg(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield Mv(t);D("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>LS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>LS(e.remoteStore,i)),t._onlineComponents=e})}function vA(t){return t.name==="FirebaseError"?t.code===w.FAILED_PRECONDITION||t.code===w.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function Mv(t){return _(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){D("FirestoreClient","Using user provided OfflineComponentProvider");try{yield q8(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!vA(n))throw n;Tr("Error using user provided cache. Falling back to memory cache: "+n),yield q8(t,new S2)}}else D("FirestoreClient","Using default OfflineComponentProvider"),yield q8(t,new S2);return t._offlineComponents})}function q6(t){return _(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(D("FirestoreClient","Using user provided OnlineComponentProvider"),yield Hg(t,t._uninitializedComponentsProvider._online)):(D("FirestoreClient","Using default OnlineComponentProvider"),yield Hg(t,new x2))),t._onlineComponents})}function yA(t){return Mv(t).then(e=>e.persistence)}function Tv(t){return Mv(t).then(e=>e.localStore)}function wA(t){return q6(t).then(e=>e.remoteStore)}function Iv(t){return q6(t).then(e=>e.syncEngine)}function tK(t){return q6(t).then(e=>e.datastore)}function F1(t){return _(this,null,function*(){let e=yield q6(t),n=e.eventManager;return n.onListen=PQ.bind(null,e.syncEngine),n.onUnlisten=kQ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=NQ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=LQ.bind(null,e.syncEngine),n})}function nK(t){return t.asyncQueue.enqueue(()=>_(this,null,function*(){let e=yield yA(t),n=yield wA(t);return e.setNetworkEnabled(!0),function(i){let o=F(i);return o.v_.delete(0),k2(o)}(n)}))}function rK(t){return t.asyncQueue.enqueue(()=>_(this,null,function*(){let e=yield yA(t),n=yield wA(t);return e.setNetworkEnabled(!1),function(i){return _(this,null,function*(){let o=F(i);o.v_.add(0),yield U1(o),o.x_.set("Offline")})}(n)}))}function iK(t,e){let n=new Bt;return t.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return function(i,o,s){return _(this,null,function*(){try{let a=yield function(l,u){let h=F(l);return h.persistence.runTransaction("read document","readonly",d=>h.localDocuments.getDocument(d,u))}(i,o);a.isFoundDocument()?s.resolve(a):a.isNoDocument()?s.resolve(null):s.reject(new T(w.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){let c=W1(a,`Failed to get document '${o} from cache`);s.reject(c)}})}(yield Tv(t),e,n)})),n.promise}function _A(t,e,n={}){let r=new Bt;return t.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return function(o,s,a,c,l){let u=new L1({next:d=>{s.enqueueAndForget(()=>vv(o,h));let f=d.docs.has(a);!f&&d.fromCache?l.reject(new T(w.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&c&&c.source==="server"?l.reject(new T(w.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),h=new D2(j1(a.path),u,{includeMetadataChanges:!0,ta:!0});return gv(o,h)}(yield F1(t),t.asyncQueue,e,n,r)})),r.promise}function oK(t,e){let n=new Bt;return t.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return function(i,o,s){return _(this,null,function*(){try{let a=yield w6(i,o,!0),c=new z6(o,a.hs),l=c.Ta(a.documents),u=c.applyChanges(l,!1);s.resolve(u.snapshot)}catch(a){let c=W1(a,`Failed to execute query '${o} against cache`);s.reject(c)}})}(yield Tv(t),e,n)})),n.promise}function bA(t,e,n={}){let r=new Bt;return t.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return function(o,s,a,c,l){let u=new L1({next:d=>{s.enqueueAndForget(()=>vv(o,h)),d.fromCache&&c.source==="server"?l.reject(new T(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),h=new D2(a,u,{includeMetadataChanges:!0,ta:!0});return gv(o,h)}(yield F1(t),t.asyncQueue,e,n,r)})),r.promise}function sK(t,e){let n=new L1(e);return t.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return function(i,o){F(i).W_.add(o),o.next()}(yield F1(t),n)})),()=>{n.Qa(),t.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return function(i,o){F(i).W_.delete(o)}(yield F1(t),n)}))}}function aK(t,e,n,r){let i=function(s,a){let c;return c=typeof s=="string"?Ox().encode(s):s,function(u,h){return new Ng(u,h)}(function(u,h){if(u instanceof Uint8Array)return jS(u,h);if(u instanceof ArrayBuffer)return jS(new Uint8Array(u),h);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),a)}(n,N2(e));t.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){eK(yield Iv(t),i,r)}))}function cK(t,e){return t.asyncQueue.enqueue(()=>_(this,null,function*(){return function(r,i){let o=F(r);return o.persistence.runTransaction("Get named query","readonly",s=>o.$r.getNamedQuery(s,i))}(yield Tv(t),e)}))}function EA(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var US=new Map;function Dv(t,e,n){if(!n)throw new T(w.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Sv(t,e,n,r){if(e===!0&&r===!0)throw new T(w.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $S(t){if(!k.isDocumentKey(t))throw new T(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function qS(t){if(k.isDocumentKey(t))throw new T(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function W6(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":q()}function Le(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new T(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=W6(t);throw new T(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function CA(t,e){if(e<=0)throw new T(w.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var O6=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new T(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new T(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Sv("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new T(w.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new T(w.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new T(w.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ia=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new O6({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new T(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new T(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new O6(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new i9;switch(r.type){case"firstParty":return new c9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new T(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=US.get(n);r&&(D("ComponentProvider","Removing Datastore"),US.delete(n),r.terminate())}(this),Promise.resolve()}};function MA(t,e,n,r={}){var i;let o=(t=Le(t,Ia))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Tr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Ht.MOCK_USER;else{a=kw(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new T(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ht(l)}t._authCredentials=new o9(new W8(a,c))}}var dn=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},ot=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Oi=class t extends dn{constructor(e,n,r){super(e,n,j1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ot(this.firestore,null,new k(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function xv(t,e,...n){if(t=mt(t),Dv("collection","path",e),t instanceof Ia){let r=ke.fromString(e,...n);return qS(r),new Oi(t,null,r)}{if(!(t instanceof ot||t instanceof Oi))throw new T(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ke.fromString(e,...n));return qS(r),new Oi(t.firestore,null,r)}}function TA(t,e){if(t=Le(t,Ia),Dv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new T(w.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new dn(t,null,function(r){return new Qr(ke.emptyPath(),r)}(e))}function L2(t,e,...n){if(t=mt(t),arguments.length===1&&(e=G8.newId()),Dv("doc","path",e),t instanceof Ia){let r=ke.fromString(e,...n);return $S(r),new ot(t,null,new k(r))}{if(!(t instanceof ot||t instanceof Oi))throw new T(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ke.fromString(e,...n));return $S(r),new ot(t.firestore,t instanceof Oi?t.converter:null,new k(r))}}function Av(t,e){return t=mt(t),e=mt(e),(t instanceof ot||t instanceof Oi)&&(e instanceof ot||e instanceof Oi)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function zv(t,e){return t=mt(t),e=mt(e),t instanceof dn&&e instanceof dn&&t.firestore===e.firestore&&V2(t._query,e._query)&&t.converter===e.converter}var Bg=class{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new I2(this,"async_queue_retry"),this.cu=()=>{let n=$8();n&&D("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=$8();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;let n=$8();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});let n=new Bt;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}Pu(){return _(this,null,function*(){if(this.ru.length!==0){try{yield this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!_s(e))throw e;D("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}})}hu(e){let n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw At("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);let i=Tg.createAndSchedule(this,e,n,r,o=>this.Iu(o));return this.su.push(i),i}lu(){this.ou&&q()}verifyOperationInProgress(){}Tu(){return _(this,null,function*(){let e;do e=this.nu,yield e;while(e!==this.nu)})}Eu(e){for(let n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){let n=this.su.indexOf(e);this.su.splice(n,1)}};function jg(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var Ug=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new Bt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}};var IA=-1,ft=class extends Ia{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Bg}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||DA(this),this._firestoreClient.terminate()}};function Gt(t){return t._firestoreClient||DA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function DA(t){var e,n,r;let i=t._freezeSettings(),o=function(a,c,l,u){return new g9(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,EA(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Fg(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function SA(t,e){kA(t=Le(t,ft));let n=Gt(t);if(n._uninitializedComponentsProvider)throw new T(w.FAILED_PRECONDITION,"SDK cache is already specified.");Tr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let r=t._freezeSettings(),i=new x2;return AA(n,i,new R6(i,r.cacheSizeBytes,e?.forceOwnership))}function xA(t){kA(t=Le(t,ft));let e=Gt(t);if(e._uninitializedComponentsProvider)throw new T(w.FAILED_PRECONDITION,"SDK cache is already specified.");Tr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let n=t._freezeSettings(),r=new x2;return AA(e,r,new Pg(r,n.cacheSizeBytes))}function AA(t,e,n){let r=new Bt;return t.asyncQueue.enqueue(()=>_(this,null,function*(){try{yield q8(t,n),yield Hg(t,e),r.resolve()}catch(i){let o=i;if(!vA(o))throw o;Tr("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}})).then(()=>r.promise)}function zA(t){if(t._initialized&&!t._terminated)throw new T(w.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let e=new Bt;return t._queue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{yield function(r){return _(this,null,function*(){if(!go.D())return Promise.resolve();let i=r+"main";yield go.delete(i)})}(dv(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function RA(t){return function(n){let r=new Bt;return n.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return UQ(yield Iv(n),r)})),r.promise}(Gt(t=Le(t,ft)))}function OA(t){return nK(Gt(t=Le(t,ft)))}function VA(t){return rK(Gt(t=Le(t,ft)))}function PA(t,e){let n=Gt(t=Le(t,ft)),r=new Ug;return aK(n,t._databaseId,e,r),r}function NA(t,e){return cK(Gt(t=Le(t,ft)),e).then(n=>n?new dn(t,null,n.query):null)}function kA(t){if(t._initialized||t._terminated)throw new T(w.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ki=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(en.fromBase64String(e))}catch(n){throw new T(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Xr=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new T(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var _o=class{constructor(e){this._methodName=e}};var Da=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new T(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new T(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}};var lK=/^__.*__$/,$g=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Kr(e,this.data,this.fieldMask,n,this.fieldTransforms):new gs(e,this.data,n,this.fieldTransforms)}},V6=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Kr(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function LA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q()}}var P6=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ru(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return N6(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(LA(this.Vu)&&lK.test(e))throw this.Su('Document fields cannot begin and end with "__"')}},qg=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||N2(e)}Cu(e,n,r,i=!1){return new P6({Vu:e,methodName:n,Du:r,path:zt.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function za(t){let e=t._freezeSettings(),n=N2(t._databaseId);return new qg(t._databaseId,!!e.ignoreUndefinedProperties,n)}function G6(t,e,n,r,i,o={}){let s=t.Cu(o.merge||o.mergeFields?2:0,e,n,i);Vv("Data must be an object, but it was:",s,r);let a=BA(r,s),c,l;if(o.merge)c=new pr(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let u=[];for(let h of o.mergeFields){let d=Kg(e,h,n);if(!s.contains(d))throw new T(w.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);UA(u,d)||u.push(d)}c=new pr(u),l=s.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,l=s.fieldTransforms;return new $g(new _n(a),c,l)}var A2=class t extends _o{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function FA(t,e,n){return new P6({Vu:3,Du:e.settings.Du,methodName:t._methodName,gu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var Wg=class t extends _o{_toFieldTransform(e){return new Ca(e.path,new ps)}isEqual(e){return e instanceof t}},Gg=class t extends _o{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){let n=FA(this,e,!0),r=this.vu.map(o=>Ra(o,n)),i=new yo(r);return new Ca(e.path,i)}isEqual(e){return e instanceof t&&dd(this.vu,e.vu)}},Yg=class t extends _o{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){let n=FA(this,e,!0),r=this.vu.map(o=>Ra(o,n)),i=new wo(r);return new Ca(e.path,i)}isEqual(e){return e instanceof t&&dd(this.vu,e.vu)}},Qg=class t extends _o{constructor(e,n){super(e),this.Fu=n}_toFieldTransform(e){let n=new ms(e.serializer,Mx(e.serializer,this.Fu));return new Ca(e.path,n)}isEqual(e){return e instanceof t&&this.Fu===e.Fu}};function Rv(t,e,n,r){let i=t.Cu(1,e,n);Vv("Data must be an object, but it was:",i,r);let o=[],s=_n.empty();Aa(r,(c,l)=>{let u=Pv(e,c,n);l=mt(l);let h=i.yu(u);if(l instanceof A2)o.push(u);else{let d=Ra(l,h);d!=null&&(o.push(u),s.set(u,d))}});let a=new pr(o);return new V6(s,a,i.fieldTransforms)}function Ov(t,e,n,r,i,o){let s=t.Cu(1,e,n),a=[Kg(e,r,n)],c=[i];if(o.length%2!=0)throw new T(w.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)a.push(Kg(e,o[d])),c.push(o[d+1]);let l=[],u=_n.empty();for(let d=a.length-1;d>=0;--d)if(!UA(l,a[d])){let f=a[d],p=c[d];p=mt(p);let m=s.yu(f);if(p instanceof A2)l.push(f);else{let g=Ra(p,m);g!=null&&(l.push(f),u.set(f,g))}}let h=new pr(l);return new V6(u,h,s.fieldTransforms)}function HA(t,e,n,r=!1){return Ra(n,t.Cu(r?4:3,e))}function Ra(t,e){if(jA(t=mt(t)))return Vv("Unsupported field value:",e,t),BA(t,e);if(t instanceof _o)return function(r,i){if(!LA(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=Ra(a,i.wu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Mx(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=bt.fromDate(r);return{timestampValue:A1(i.serializer,o)}}if(r instanceof bt){let o=new bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:A1(i.serializer,o)}}if(r instanceof Da)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ki)return{bytesValue:Vx(i.serializer,r._byteString)};if(r instanceof ot){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Su(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:lv(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${W6(r)}`)}(t,e)}function BA(t,e){let n={};return sx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Aa(t,(r,i)=>{let o=Ra(i,e.fu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function jA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof bt||t instanceof Da||t instanceof ki||t instanceof ot||t instanceof _o)}function Vv(t,e,n){if(!jA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=W6(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function Kg(t,e,n){if((e=mt(e))instanceof Xr)return e._internalPath;if(typeof e=="string")return Pv(t,e);throw N6("Field path arguments must be of type string or ",t,!1,void 0,n)}var uK=new RegExp("[~\\*/\\[\\]]");function Pv(t,e,n){if(e.search(uK)>=0)throw N6(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xr(...e.split("."))._internalPath}catch{throw N6(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function N6(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new T(w.INVALID_ARGUMENT,a+t+c)}function UA(t,e){return t.some(n=>n.isEqual(e))}var Sa=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Xg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Y6("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Xg=class extends Sa{data(){return super.data()}};function Y6(t,e){return typeof e=="string"?Pv(t,e):e instanceof Xr?e._internalPath:e._delegate._internalPath}function $A(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new T(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var z2=class{},xa=class extends z2{};function Co(t,e,...n){let r=[];e instanceof z2&&r.push(e),r=r.concat(n),function(o){let s=o.filter(c=>c instanceof Zg).length,a=o.filter(c=>c instanceof k6).length;if(s>1||s>0&&a>0)throw new T(w.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var k6=class t extends xa{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return ez(e._query,n),new dn(e.firestore,e.converter,x9(e._query,n))}_parse(e){let n=za(e.firestore);return function(o,s,a,c,l,u,h){let d;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new T(w.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){GS(h,u);let f=[];for(let p of h)f.push(WS(c,o,p));d={arrayValue:{values:f}}}else d=WS(c,o,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||GS(h,u),d=HA(a,s,h,u==="in"||u==="not-in");return Oe.create(l,u,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function qA(t,e,n){let r=e,i=Y6("where",t);return k6._create(i,r,n)}var Zg=class t extends z2{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Qe.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)ez(s,c),s=x9(s,c)}(e._query,n),new dn(e.firestore,e.converter,x9(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Jg=class t extends xa{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,o,s){if(i.startAt!==null)throw new T(w.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new T(w.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ba(o,s)}(e._query,this._field,this._direction);return new dn(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new Qr(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function WA(t,e="asc"){let n=e,r=Y6("orderBy",t);return Jg._create(r,n)}var L6=class t extends xa{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new dn(e.firestore,e.converter,r6(e._query,this._limit,this._limitType))}};function GA(t){return CA("limit",t),L6._create("limit",t,"F")}function YA(t){return CA("limitToLast",t),L6._create("limitToLast",t,"L")}var F6=class t extends xa{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=JA(e,this.type,this._docOrFields,this._inclusive);return new dn(e.firestore,e.converter,function(i,o){return new Qr(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,n))}};function QA(...t){return F6._create("startAt",t,!0)}function KA(...t){return F6._create("startAfter",t,!1)}var H6=class t extends xa{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=JA(e,this.type,this._docOrFields,this._inclusive);return new dn(e.firestore,e.converter,function(i,o){return new Qr(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(e._query,n))}};function XA(...t){return H6._create("endBefore",t,!1)}function ZA(...t){return H6._create("endAt",t,!0)}function JA(t,e,n,r){if(n[0]=mt(n[0]),n[0]instanceof Sa)return function(o,s,a,c,l){if(!c)throw new T(w.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let u=[];for(let h of E1(o))if(h.field.isKeyField())u.push(_a(s,c.key));else{let d=c.data.field(h.field);if(j6(d))throw new T(w.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(d===null){let f=h.field.canonicalString();throw new T(w.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}u.push(d)}return new Pi(u,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{let i=za(t.firestore);return function(s,a,c,l,u,h){let d=s.explicitOrderBy;if(u.length>d.length)throw new T(w.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let f=[];for(let p=0;p<u.length;p++){let m=u[p];if(d[p].field.isKeyField()){if(typeof m!="string")throw new T(w.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof m}`);if(!av(s)&&m.indexOf("/")!==-1)throw new T(w.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${m}' contains a slash.`);let g=s.path.child(ke.fromString(m));if(!k.isDocumentKey(g))throw new T(w.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${g}' is not because it contains an odd number of segments.`);let b=new k(g);f.push(_a(a,b))}else{let g=HA(c,l,m);f.push(g)}}return new Pi(f,h)}(t._query,t.firestore._databaseId,i,e,n,r)}}function WS(t,e,n){if(typeof(n=mt(n))=="string"){if(n==="")throw new T(w.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!av(e)&&n.indexOf("/")!==-1)throw new T(w.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(ke.fromString(n));if(!k.isDocumentKey(r))throw new T(w.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _a(t,new k(r))}if(n instanceof ot)return _a(t,n._key);throw new T(w.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${W6(n)}.`)}function GS(t,e){if(!Array.isArray(t)||t.length===0)throw new T(w.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ez(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new T(w.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new T(w.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var H1=class{convertValue(e,n="none"){switch(wa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw q()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Aa(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Da(Tt(e.latitude),Tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=ov(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(f2(e));default:return null}}convertTimestamp(e){let n=vo(e);return new bt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=ke.fromString(e);ee(qx(r));let i=new ds(r.get(1),r.get(3)),o=new k(r.popFirst(5));return i.isEqual(n)||At(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function Q6(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var ev=class extends H1{constructor(e){super(),this.firestore=e}convertBytes(e){return new ki(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new ot(this.firestore,null,n)}};var mo=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Dr=class extends Sa{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ls(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Y6("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},ls=class extends Dr{data(e={}){return super.data(e)}},Zr=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new mo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ls(this._firestore,this._userDataWriter,r.key,r,new mo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new T(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new ls(i._firestore,i._userDataWriter,a.doc.key,a.doc,new mo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new ls(i._firestore,i._userDataWriter,a.doc.key,a.doc,new mo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,u=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:hK(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function hK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return q()}}function Nv(t,e){return t instanceof Dr&&e instanceof Dr?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Zr&&e instanceof Zr&&t._firestore===e._firestore&&zv(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function tz(t){t=Le(t,ot);let e=Le(t.firestore,ft);return _A(Gt(e),t._key).then(n=>Hv(e,t,n))}var bo=class extends H1{constructor(e){super(),this.firestore=e}convertBytes(e){return new ki(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new ot(this.firestore,null,n)}};function nz(t){t=Le(t,ot);let e=Le(t.firestore,ft),n=Gt(e),r=new bo(e);return iK(n,t._key).then(i=>new Dr(e,r,t._key,i,new mo(i!==null&&i.hasLocalMutations,!0),t.converter))}function rz(t){t=Le(t,ot);let e=Le(t.firestore,ft);return _A(Gt(e),t._key,{source:"server"}).then(n=>Hv(e,t,n))}function iz(t){t=Le(t,dn);let e=Le(t.firestore,ft),n=Gt(e),r=new bo(e);return $A(t._query),bA(n,t._query).then(i=>new Zr(e,r,t,i))}function oz(t){t=Le(t,dn);let e=Le(t.firestore,ft),n=Gt(e),r=new bo(e);return oK(n,t._query).then(i=>new Zr(e,r,t,i))}function sz(t){t=Le(t,dn);let e=Le(t.firestore,ft),n=Gt(e),r=new bo(e);return bA(n,t._query,{source:"server"}).then(i=>new Zr(e,r,t,i))}function kv(t,e,n){t=Le(t,ot);let r=Le(t.firestore,ft),i=Q6(t.converter,e,n);return G1(r,[G6(za(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,It.none())])}function Lv(t,e,n,...r){t=Le(t,ot);let i=Le(t.firestore,ft),o=za(i),s;return s=typeof(e=mt(e))=="string"||e instanceof Xr?Ov(o,"updateDoc",t._key,e,n,r):Rv(o,"updateDoc",t._key,e),G1(i,[s.toMutation(t._key,It.exists(!0))])}function az(t){return G1(Le(t.firestore,ft),[new vs(t._key,It.none())])}function cz(t,e){let n=Le(t.firestore,ft),r=L2(t),i=Q6(t.converter,e);return G1(n,[G6(za(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,It.exists(!1))]).then(()=>r)}function Fv(t,...e){var n,r,i;t=mt(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||jg(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(jg(e[s])){let h=e[s];e[s]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[s+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[s+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let c,l,u;if(t instanceof ot)l=Le(t.firestore,ft),u=j1(t._key.path),c={next:h=>{e[s]&&e[s](Hv(l,t,h))},error:e[s+1],complete:e[s+2]};else{let h=Le(t,dn);l=Le(h.firestore,ft),u=h._query;let d=new bo(l);c={next:f=>{e[s]&&e[s](new Zr(l,d,h,f))},error:e[s+1],complete:e[s+2]},$A(t._query)}return function(d,f,p,m){let g=new L1(m),b=new D2(f,g,p);return d.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return gv(yield F1(d),b)})),()=>{g.Qa(),d.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return vv(yield F1(d),b)}))}}(Gt(l),u,a,c)}function lz(t,e){return sK(Gt(t=Le(t,ft)),jg(e)?e:{next:e})}function G1(t,e){return function(r,i){let o=new Bt;return r.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return FQ(yield Iv(r),i,o)})),o.promise}(Gt(t),e)}function Hv(t,e,n){let r=n.docs.get(e._key),i=new bo(t);return new Dr(t,i,e._key,r,new mo(n.hasPendingWrites,n.fromCache),e.converter)}var dK={maxAttempts:5};var B6=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=za(e)}set(e,n,r){this._verifyNotCommitted();let i=as(e,this._firestore),o=Q6(i.converter,n,r),s=G6(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,It.none())),this}update(e,n,r,...i){this._verifyNotCommitted();let o=as(e,this._firestore),s;return s=typeof(n=mt(n))=="string"||n instanceof Xr?Ov(this._dataReader,"WriteBatch.update",o._key,n,r,i):Rv(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,It.exists(!0))),this}delete(e){this._verifyNotCommitted();let n=as(e,this._firestore);return this._mutations=this._mutations.concat(new vs(n._key,It.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new T(w.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function as(t,e){if((t=mt(t)).firestore!==e)throw new T(w.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var tv=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=za(n)}get(n){let r=as(n,this._firestore),i=new ev(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||o.length!==1)return q();let s=o[0];if(s.isFoundDocument())return new Sa(this._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new Sa(this._firestore,i,r._key,null,r.converter);throw q()})}set(n,r,i){let o=as(n,this._firestore),s=Q6(o.converter,r,i),a=G6(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,i);return this._transaction.set(o._key,a),this}update(n,r,i,...o){let s=as(n,this._firestore),a;return a=typeof(r=mt(r))=="string"||r instanceof Xr?Ov(this._dataReader,"Transaction.update",s._key,r,i,o):Rv(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(n){let r=as(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){let n=as(e,this._firestore),r=new bo(this._firestore);return super.get(e).then(i=>new Dr(this._firestore,r,n._key,i._document,new mo(!1,!1),n.converter))}};function uz(t,e,n){t=Le(t,ft);let r=Object.assign(Object.assign({},dK),n);return function(o){if(o.maxAttempts<1)throw new T(w.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){let c=new Bt;return o.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){let l=yield tK(o);new Lg(o.asyncQueue,l,a,s,c).Ya()})),c.promise}(Gt(t),i=>e(new tv(t,i)),r)}function hz(){return new A2("deleteField")}function dz(){return new Wg("serverTimestamp")}function fz(...t){return new Gg("arrayUnion",t)}function pz(...t){return new Yg("arrayRemove",t)}function mz(t){return new Qg("increment",t)}(function(e,n=!0){(function(i){B1=i})(Hw),fl(new Ss("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new ft(new s9(r.getProvider("auth-internal")),new u9(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new T(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ds(l.options.projectId,u)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ao(YD,"4.6.0",e),Ao(YD,"4.6.0","esm2017")})();var fK="@firebase/firestore-compat",pK="0.3.29";function Wv(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new T("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function gz(){if(typeof Uint8Array>"u")throw new T("unimplemented","Uint8Arrays are not available in this environment.")}function vz(){if(!ax())throw new T("unimplemented","Blobs are unavailable in Firestore in this environment.")}var K6=class t{constructor(e){this._delegate=e}static fromBase64String(e){return vz(),new t(ki.fromBase64String(e))}static fromUint8Array(e){return gz(),new t(ki.fromUint8Array(e))}toBase64(){return vz(),this._delegate.toBase64()}toUint8Array(){return gz(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function Bv(t){return mK(t,["next","error","complete"])}function mK(t,e){if(typeof t!="object"||t===null)return!1;let n=t;for(let r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}var jv=class{enableIndexedDbPersistence(e,n){return SA(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return xA(e._delegate)}clearIndexedDbPersistence(e){return zA(e._delegate)}},X6=class{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ds||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Tr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){MA(this._delegate,e,n,r)}enableNetwork(){return OA(this._delegate)}disableNetwork(){return VA(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Sv("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return RA(this._delegate)}onSnapshotsInSync(e){return lz(this._delegate,e)}get app(){if(!this._appCompat)throw new T("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new K1(this,xv(this._delegate,e))}catch(n){throw On(n,"collection()","Firestore.collection()")}}doc(e){try{return new Li(this,L2(this._delegate,e))}catch(n){throw On(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Na(this,TA(this._delegate,e))}catch(n){throw On(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return uz(this._delegate,n=>e(new Z6(this,n)))}batch(){return Gt(this._delegate),new J6(new B6(this._delegate,e=>G1(this._delegate,e)))}loadBundle(e){return PA(this._delegate,e)}namedQuery(e){return NA(this._delegate,e).then(n=>n?new Na(this,n):null)}},Y1=class extends H1{constructor(e){super(),this.firestore=e}convertBytes(e){return new K6(new ki(e))}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return Li.forKey(n,this.firestore,null)}};function gK(t){YS(t)}var Z6=class{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Y1(e)}get(e){let n=Oa(e);return this._delegate.get(n).then(r=>new Va(this._firestore,new Dr(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){let i=Oa(e);return r?(Wv("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){let o=Oa(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){let n=Oa(e);return this._delegate.delete(n),this}},J6=class{constructor(e){this._delegate=e}set(e,n,r){let i=Oa(e);return r?(Wv("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){let o=Oa(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){let n=Oa(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}},Q1=class t{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){let r=new ls(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Pa(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){let r=t.INSTANCES,i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(n);return o||(o=new t(e,new Y1(e),n),i.set(n,o)),o}};Q1.INSTANCES=new WeakMap;var Li=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Y1(e)}static forPath(e,n,r){if(e.length%2!==0)throw new T("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new t(n,new ot(n._delegate,r,new k(e)))}static forKey(e,n,r){return new t(n,new ot(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new K1(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new K1(this.firestore,xv(this._delegate,e))}catch(n){throw On(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=mt(e),e instanceof ot?Av(this._delegate,e):!1}set(e,n){n=Wv("DocumentReference.set",n);try{return n?kv(this._delegate,e,n):kv(this._delegate,e)}catch(r){throw On(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?Lv(this._delegate,e):Lv(this._delegate,e,n,...r)}catch(i){throw On(i,"updateDoc()","DocumentReference.update()")}}delete(){return az(this._delegate)}onSnapshot(...e){let n=yz(e),r=wz(e,i=>new Va(this.firestore,new Dr(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return Fv(this._delegate,n,r)}get(e){let n;return e?.source==="cache"?n=nz(this._delegate):e?.source==="server"?n=rz(this._delegate):n=tz(this._delegate),n.then(r=>new Va(this.firestore,new Dr(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Q1.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function On(t,e,n){return t.message=t.message.replace(e,n),t}function yz(t){for(let e of t)if(typeof e=="object"&&!Bv(e))return e;return{}}function wz(t,e){var n,r;let i;return Bv(t[0])?i=t[0]:Bv(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:o=>{i.next&&i.next(e(o))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var Va=class{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Li(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return Nv(this._delegate,e._delegate)}},Pa=class extends Va{data(e){let n=this._delegate.data(e);return this._delegate._converter||QS(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}},Na=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Y1(e)}where(e,n,r){try{return new t(this.firestore,Co(this._delegate,qA(e,n,r)))}catch(i){throw On(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new t(this.firestore,Co(this._delegate,WA(e,n)))}catch(r){throw On(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new t(this.firestore,Co(this._delegate,GA(e)))}catch(n){throw On(n,"limit()","Query.limit()")}}limitToLast(e){try{return new t(this.firestore,Co(this._delegate,YA(e)))}catch(n){throw On(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new t(this.firestore,Co(this._delegate,QA(...e)))}catch(n){throw On(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new t(this.firestore,Co(this._delegate,KA(...e)))}catch(n){throw On(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new t(this.firestore,Co(this._delegate,XA(...e)))}catch(n){throw On(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new t(this.firestore,Co(this._delegate,ZA(...e)))}catch(n){throw On(n,"endAt()","Query.endAt()")}}isEqual(e){return zv(this._delegate,e._delegate)}get(e){let n;return e?.source==="cache"?n=oz(this._delegate):e?.source==="server"?n=sz(this._delegate):n=iz(this._delegate),n.then(r=>new F2(this.firestore,new Zr(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){let n=yz(e),r=wz(e,i=>new F2(this.firestore,new Zr(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return Fv(this._delegate,n,r)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Q1.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},Uv=class{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Pa(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},F2=class{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Na(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Pa(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new Uv(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Pa(this._firestore,r))})}isEqual(e){return Nv(this._delegate,e._delegate)}},K1=class t extends Na{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new Li(this.firestore,e):null}doc(e){try{return e===void 0?new Li(this.firestore,L2(this._delegate)):new Li(this.firestore,L2(this._delegate,e))}catch(n){throw On(n,"doc()","CollectionReference.doc()")}}add(e){return cz(this._delegate,e).then(n=>new Li(this.firestore,n))}isEqual(e){return Av(this._delegate,e._delegate)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Q1.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function Oa(t){return Le(t,ot)}var $v=class t{constructor(...e){this._delegate=new Xr(...e)}static documentId(){return new t(zt.keyField().canonicalString())}isEqual(e){return e=mt(e),e instanceof Xr?this._delegate._internalPath.isEqual(e._internalPath):!1}};var qv=class t{constructor(e){this._delegate=e}static serverTimestamp(){let e=dz();return e._methodName="FieldValue.serverTimestamp",new t(e)}static delete(){let e=hz();return e._methodName="FieldValue.delete",new t(e)}static arrayUnion(...e){let n=fz(...e);return n._methodName="FieldValue.arrayUnion",new t(n)}static arrayRemove(...e){let n=pz(...e);return n._methodName="FieldValue.arrayRemove",new t(n)}static increment(e){let n=mz(e);return n._methodName="FieldValue.increment",new t(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var vK={Firestore:X6,GeoPoint:Da,Timestamp:bt,Blob:K6,Transaction:Z6,WriteBatch:J6,DocumentReference:Li,DocumentSnapshot:Va,Query:Na,QueryDocumentSnapshot:Pa,QuerySnapshot:F2,CollectionReference:K1,FieldPath:$v,FieldValue:qv,setLogLevel:gK,CACHE_SIZE_UNLIMITED:IA};function yK(t,e){t.INTERNAL.registerComponent(new Ss("firestore-compat",n=>{let r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},vK)))}function wK(t){yK(t,(e,n)=>new X6(e,n,new jv)),t.registerVersion(fK,pK)}wK(Mn);function _K(t,e=kn){return new le(n=>{let r;return e!=null?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{r?.()}})}function _z(t,e){return _K(t,e)}function bK(t,e){return _z(t,e).pipe(sn(void 0),Ns(),W(n=>{let[r,i]=n;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}function Qv(t,e){return _z(t,e).pipe(W(n=>({payload:n,type:"query"})))}var eh=class{ref;afs;constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){let r=this.ref.collection(e),{ref:i,query:o}=Tz(r,n);return new nh(i,o,this.afs)}snapshotChanges(){return bK(this.ref,this.afs.schedulers.outsideAngular).pipe(Qn)}valueChanges(e={}){return this.snapshotChanges().pipe(W(({payload:n})=>e.idField?je(P({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return ze(this.ref.get(e)).pipe(Qn)}};function th(t,e){return Qv(t,e).pipe(sn(void 0),Ns(),W(n=>{let[r,i]=n,o=i.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,c)=>{let l=o.find(h=>h.doc.ref.isEqual(a.ref)),u=r?.payload.docs.find(h=>h.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&u&&JSON.stringify(u.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function bz(t,e,n){return th(t,n).pipe(ks((r,i)=>EK(r,i.map(o=>o.payload),e),[]),Po(),W(r=>r.map(i=>({type:i.type,payload:i}))))}function EK(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=CK(t,r))}),t}function Gv(t,e,n,...r){let i=t.slice();return i.splice(e,n,...r),i}function CK(t,e){switch(e.type){case"added":if(!(t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)))return Gv(t,e.newIndex,0,e);break;case"modified":if(t[e.oldIndex]==null||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))if(e.oldIndex!==e.newIndex){let n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}else return Gv(t,e.newIndex,1,e);break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Gv(t,e.oldIndex,1);break}return t}function Ez(t){return(!t||t.length===0)&&(t=["added","removed","modified"]),t}var nh=class{ref;query;afs;constructor(e,n,r){this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=th(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(W(r=>r.filter(i=>e.indexOf(i.type)>-1)))),n.pipe(sn(void 0),Ns(),Pe(([r,i])=>i.length>0||!r),W(([,r])=>r),Qn)}auditTrail(e){return this.stateChanges(e).pipe(ks((n,r)=>[...n,...r],[]))}snapshotChanges(e){let n=Ez(e);return bz(this.query,n,this.afs.schedulers.outsideAngular).pipe(Qn)}valueChanges(e={}){return Qv(this.query,this.afs.schedulers.outsideAngular).pipe(W(n=>n.payload.docs.map(r=>e.idField?je(P({},r.data()),{[e.idField]:r.id}):r.data())),Qn)}get(e){return ze(this.query.get(e)).pipe(Qn)}add(e){return this.ref.add(e)}doc(e){return new eh(this.ref.doc(e),this.afs)}},Yv=class{query;afs;constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return!e||e.length===0?th(this.query,this.afs.schedulers.outsideAngular).pipe(Qn):th(this.query,this.afs.schedulers.outsideAngular).pipe(W(n=>n.filter(r=>e.indexOf(r.type)>-1)),Pe(n=>n.length>0),Qn)}auditTrail(e){return this.stateChanges(e).pipe(ks((n,r)=>[...n,...r],[]))}snapshotChanges(e){let n=Ez(e);return bz(this.query,n,this.afs.schedulers.outsideAngular).pipe(Qn)}valueChanges(e={}){return Qv(this.query,this.afs.schedulers.outsideAngular).pipe(W(r=>r.payload.docs.map(i=>e.idField?P({[e.idField]:i.id},i.data()):i.data())),Qn)}get(e){return ze(this.query.get(e)).pipe(Qn)}},Cz=new O("angularfire2.enableFirestorePersistence"),Mz=new O("angularfire2.firestore.persistenceSettings"),MK=new O("angularfire2.firestore.settings"),TK=new O("angularfire2.firestore.use-emulator");function Tz(t,e=n=>n){return{query:e(t),ref:t}}var IK=(()=>{class t{schedulers;firestore;persistenceEnabled$;constructor(n,r,i,o,s,a,c,l,u,h,d,f,p,m,g,b,S){this.schedulers=c;let M=S4(n,a,r),N=u;h&&cm(M,a,d,p,m,g,f,b),[this.firestore,this.persistenceEnabled$]=o8(`${M.name}.firestore`,"AngularFirestore",M.name,()=>{let Z=a.runOutsideAngular(()=>M.firestore());if(o&&Z.settings(o),N&&Z.useEmulator(...N),i&&!lo(s)){let B=()=>{try{return ze(Z.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(re){return typeof console<"u"&&console.warn(re),j(!1)}};return[Z,a.runOutsideAngular(B)]}else return[Z,j(!1)]},[o,N,i])}collection(n,r){let i;typeof n=="string"?i=this.firestore.collection(n):i=n;let{ref:o,query:s}=Tz(i,r),a=this.schedulers.ngZone.run(()=>o);return new nh(a,s,this)}collectionGroup(n,r){let i=r||(s=>s),o=this.firestore.collectionGroup(n);return new Yv(i(o),this)}doc(n){let r;typeof n=="string"?r=this.firestore.doc(n):r=n;let i=this.schedulers.ngZone.run(()=>r);return new eh(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||t)(v(r1),v(i1,8),v(Cz,8),v(MK,8),v(xt),v(K),v(r8),v(Mz,8),v(TK,8),v(lm,8),v(nm,8),v(rm,8),v(im,8),v(om,8),v(sm,8),v(am,8),v(ia,8))};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),xue=(()=>{class t{constructor(){Mn.registerVersion("angularfire",oa.full,"fst-compat")}static enablePersistence(n){return{ngModule:t,providers:[{provide:Cz,useValue:!0},{provide:Mz,useValue:n}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ge({type:t});static \u0275inj=me({providers:[IK]})}return t})();var Iz={name:"bars",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'};var Dz={name:"calendar",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z" /></svg>'},Sz={name:"caret-down",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'};var xz={name:"caret-up",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'};var Az={name:"check-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z" /></svg>'},zz={name:"check-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z" /><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'};var Rz={name:"check",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z" /></svg>'};var Oz={name:"caret-down",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'};var Vz={name:"close-circle",theme:"fill",icon:'<svg fill-rule="evenodd" viewBox="64 64 896 896" focusable="false"><path d="M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z" /></svg>'};var Pz={name:"close-circle",theme:"outline",icon:'<svg fill-rule="evenodd" viewBox="64 64 896 896" focusable="false"><path d="M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z" /></svg>'},Nz={name:"clock-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z" /></svg>'};var kz={name:"close",theme:"outline",icon:'<svg fill-rule="evenodd" viewBox="64 64 896 896" focusable="false"><path d="M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z" /></svg>'};var Lz={name:"caret-up",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'};var Fz={name:"copy",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z" /></svg>'};var Hz={name:"delete",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z" /></svg>'};var Bz={name:"double-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z" /></svg>'};var jz={name:"double-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z" /></svg>'};var Uz={name:"down",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z" /></svg>'};var $z={name:"edit",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z" /></svg>'},qz={name:"ellipsis",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'};var Wz={name:"exclamation-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z" /></svg>'};var Gz={name:"exclamation-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'};var Yz={name:"file",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2z" /></svg>'};var Qz={name:"filter",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z" /></svg>'};var Kz={name:"info-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z" /></svg>'};var Xz={name:"info-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'};var Zz={name:"file",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z" /></svg>'};var Jz={name:"left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z" /></svg>'};var Rue={name:"lock",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z" /></svg>'};var eR={name:"loading",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z" /></svg>'};var tR={name:"eye",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z" /></svg>'};var nR={name:"paper-clip",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z" /></svg>'};var rR={name:"question-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z" /></svg>'};var iR={name:"right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z" /></svg>'};var oR={name:"rotate-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z" /><path d="M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z" /></svg>'};var sR={name:"rotate-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z" /><path d="M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z" /></svg>'};var aR={name:"search",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z" /></svg>'};var Kv={name:"star",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z" /></svg>'};var cR={name:"swap-right",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z" /></svg>'};var lR={name:"upload",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z" /></svg>'},uR={name:"up",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z" /></svg>'};var Oue={name:"user",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z" /></svg>'};var hR={name:"vertical-align-top",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z" /></svg>'};var dR={name:"zoom-in",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'};var fR={name:"zoom-out",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'};function Yt(t,e){DK(t)&&(t="100%");var n=SK(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function H2(t){return Math.min(1,Math.max(0,t))}function DK(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function SK(t){return typeof t=="string"&&t.indexOf("%")!==-1}function rh(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function B2(t){return t<=1?"".concat(Number(t)*100,"%"):t}function Es(t){return t.length===1?"0"+t:String(t)}function pR(t,e,n){return{r:Yt(t,255)*255,g:Yt(e,255)*255,b:Yt(n,255)*255}}function Zv(t,e,n){t=Yt(t,255),e=Yt(e,255),n=Yt(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o=0,s=0,a=(r+i)/2;if(r===i)s=0,o=0;else{var c=r-i;switch(s=a>.5?c/(2-r-i):c/(r+i),r){case t:o=(e-n)/c+(e<n?6:0);break;case e:o=(n-t)/c+2;break;case n:o=(t-e)/c+4;break;default:break}o/=6}return{h:o,s,l:a}}function Xv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*(6*n):n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function mR(t,e,n){var r,i,o;if(t=Yt(t,360),e=Yt(e,100),n=Yt(n,100),e===0)i=n,o=n,r=n;else{var s=n<.5?n*(1+e):n+e-n*e,a=2*n-s;r=Xv(a,s,t+1/3),i=Xv(a,s,t),o=Xv(a,s,t-1/3)}return{r:r*255,g:i*255,b:o*255}}function ka(t,e,n){t=Yt(t,255),e=Yt(e,255),n=Yt(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o=0,s=r,a=r-i,c=r===0?0:a/r;if(r===i)o=0;else{switch(r){case t:o=(e-n)/a+(e<n?6:0);break;case e:o=(n-t)/a+2;break;case n:o=(t-e)/a+4;break;default:break}o/=6}return{h:o,s:c,v:s}}function gR(t,e,n){t=Yt(t,360)*6,e=Yt(e,100),n=Yt(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),s=n*(1-i*e),a=n*(1-(1-i)*e),c=r%6,l=[n,s,o,o,a,n][c],u=[a,n,n,s,o,o][c],h=[o,o,a,n,n,s][c];return{r:l*255,g:u*255,b:h*255}}function La(t,e,n,r){var i=[Es(Math.round(t).toString(16)),Es(Math.round(e).toString(16)),Es(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function vR(t,e,n,r,i){var o=[Es(Math.round(t).toString(16)),Es(Math.round(e).toString(16)),Es(Math.round(n).toString(16)),Es(xK(r))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function xK(t){return Math.round(parseFloat(t)*255).toString(16)}function Jv(t){return Xn(t)/255}function Xn(t){return parseInt(t,16)}function yR(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var j2={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Zn(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,a=!1;return typeof t=="string"&&(t=RK(t)),typeof t=="object"&&(Mo(t.r)&&Mo(t.g)&&Mo(t.b)?(e=pR(t.r,t.g,t.b),s=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Mo(t.h)&&Mo(t.s)&&Mo(t.v)?(r=B2(t.s),i=B2(t.v),e=gR(t.h,r,i),s=!0,a="hsv"):Mo(t.h)&&Mo(t.s)&&Mo(t.l)&&(r=B2(t.s),o=B2(t.l),e=mR(t.h,r,o),s=!0,a="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=rh(n),{ok:s,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}var AK="[-\\+]?\\d+%?",zK="[-\\+]?\\d*\\.\\d+%?",Cs="(?:".concat(zK,")|(?:").concat(AK,")"),ey="[\\s|\\(]+(".concat(Cs,")[,|\\s]+(").concat(Cs,")[,|\\s]+(").concat(Cs,")\\s*\\)?"),ty="[\\s|\\(]+(".concat(Cs,")[,|\\s]+(").concat(Cs,")[,|\\s]+(").concat(Cs,")[,|\\s]+(").concat(Cs,")\\s*\\)?"),Jr={CSS_UNIT:new RegExp(Cs),rgb:new RegExp("rgb"+ey),rgba:new RegExp("rgba"+ty),hsl:new RegExp("hsl"+ey),hsla:new RegExp("hsla"+ty),hsv:new RegExp("hsv"+ey),hsva:new RegExp("hsva"+ty),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function RK(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(j2[t])t=j2[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=Jr.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=Jr.rgba.exec(t),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Jr.hsl.exec(t),n?{h:n[1],s:n[2],l:n[3]}:(n=Jr.hsla.exec(t),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Jr.hsv.exec(t),n?{h:n[1],s:n[2],v:n[3]}:(n=Jr.hsva.exec(t),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Jr.hex8.exec(t),n?{r:Xn(n[1]),g:Xn(n[2]),b:Xn(n[3]),a:Jv(n[4]),format:e?"name":"hex8"}:(n=Jr.hex6.exec(t),n?{r:Xn(n[1]),g:Xn(n[2]),b:Xn(n[3]),format:e?"name":"hex"}:(n=Jr.hex4.exec(t),n?{r:Xn(n[1]+n[1]),g:Xn(n[2]+n[2]),b:Xn(n[3]+n[3]),a:Jv(n[4]+n[4]),format:e?"name":"hex8"}:(n=Jr.hex3.exec(t),n?{r:Xn(n[1]+n[1]),g:Xn(n[2]+n[2]),b:Xn(n[3]+n[3]),format:e?"name":"hex"}:!1)))))))))}function Mo(t){return!!Jr.CSS_UNIT.exec(String(t))}var ih=function(){function t(e,n){e===void 0&&(e=""),n===void 0&&(n={});var r;if(e instanceof t)return e;typeof e=="number"&&(e=yR(e)),this.originalInput=e;var i=Zn(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),n,r,i,o=e.r/255,s=e.g/255,a=e.b/255;return o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),s<=.03928?r=s/12.92:r=Math.pow((s+.055)/1.055,2.4),a<=.03928?i=a/12.92:i=Math.pow((a+.055)/1.055,2.4),.2126*n+.7152*r+.0722*i},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=rh(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},t.prototype.toHsv=function(){var e=ka(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=ka(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=Zv(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=Zv(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),La(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),vR(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(n,", ").concat(r,")"):"rgba(".concat(e,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(n){return"".concat(Math.round(Yt(n,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(n){return Math.round(Yt(n,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+La(this.r,this.g,this.b,!1),n=0,r=Object.entries(j2);n<r.length;n++){var i=r[n],o=i[0],s=i[1];if(e===s)return o}return!1},t.prototype.toString=function(e){var n=!!e;e=e??this.format;var r=!1,i=this.a<1&&this.a>=0,o=!n&&i&&(e.startsWith("hex")||e==="name");return o?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=H2(n.l),new t(n)},t.prototype.brighten=function(e){e===void 0&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),new t(n)},t.prototype.darken=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=H2(n.l),new t(n)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=H2(n.s),new t(n)},t.prototype.saturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=H2(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,new t(n)},t.prototype.mix=function(e,n){n===void 0&&(n=50);var r=this.toRgb(),i=new t(e).toRgb(),o=n/100,s={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return new t(s)},t.prototype.analogous=function(e,n){e===void 0&&(e=6),n===void 0&&(n=30);var r=this.toHsl(),i=360/n,o=[this];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(new t(r));return o},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var n=this.toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/e;e--;)s.push(new t({h:r,s:i,v:o})),o=(o+a)%1;return s},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),r=new t(e).toRgb(),i=n.a+r.a*(1-n.a);return new t({r:(n.r*n.a+r.r*r.a*(1-n.a))/i,g:(n.g*n.a+r.g*r.a*(1-n.a))/i,b:(n.b*n.a+r.b*r.a*(1-n.a))/i,a:i})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),r=n.h,i=[this],o=360/e,s=1;s<e;s++)i.push(new t({h:(r+s*o)%360,s:n.s,l:n.l}));return i},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}();var oh=2,wR=.16,OK=.05,VK=.05,PK=.15,MR=5,TR=4,NK=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function _R(t){var e=t.r,n=t.g,r=t.b,i=ka(e,n,r);return{h:i.h*360,s:i.s,v:i.v}}function sh(t){var e=t.r,n=t.g,r=t.b;return"#".concat(La(e,n,r,!1))}function kK(t,e,n){var r=n/100,i={r:(e.r-t.r)*r+t.r,g:(e.g-t.g)*r+t.g,b:(e.b-t.b)*r+t.b};return i}function bR(t,e,n){var r;return Math.round(t.h)>=60&&Math.round(t.h)<=240?r=n?Math.round(t.h)-oh*e:Math.round(t.h)+oh*e:r=n?Math.round(t.h)+oh*e:Math.round(t.h)-oh*e,r<0?r+=360:r>=360&&(r-=360),r}function ER(t,e,n){if(t.h===0&&t.s===0)return t.s;var r;return n?r=t.s-wR*e:e===TR?r=t.s+wR:r=t.s+OK*e,r>1&&(r=1),n&&e===MR&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2))}function CR(t,e,n){var r;return n?r=t.v+VK*e:r=t.v-PK*e,r>1&&(r=1),Number(r.toFixed(2))}function X1(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],r=Zn(t),i=MR;i>0;i-=1){var o=_R(r),s=sh(Zn({h:bR(o,i,!0),s:ER(o,i,!0),v:CR(o,i,!0)}));n.push(s)}n.push(sh(r));for(var a=1;a<=TR;a+=1){var c=_R(r),l=sh(Zn({h:bR(c,a),s:ER(c,a),v:CR(c,a)}));n.push(l)}return e.theme==="dark"?NK.map(function(u){var h=u.index,d=u.opacity,f=sh(kK(Zn(e.backgroundColor||"#141414"),Zn(n[h]),d*100));return f}):n}var ny={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},fn={},ry={};Object.keys(ny).forEach(function(t){fn[t]=X1(ny[t]),fn[t].primary=fn[t][5],ry[t]=X1(ny[t],{theme:"dark",backgroundColor:"#141414"}),ry[t].primary=ry[t][5]});var Xue=fn.red,Zue=fn.volcano,Jue=fn.gold,e3e=fn.orange,t3e=fn.yellow,n3e=fn.lime,r3e=fn.green,i3e=fn.cyan,o3e=fn.blue,s3e=fn.geekblue,a3e=fn.purple,c3e=fn.magenta,l3e=fn.grey,u3e=fn.grey;var To="[@ant-design/icons-angular]:";function LK(t){console.error(`${To} ${t}.`)}function SR(t){Zs()&&console.warn(`${To} ${t}.`)}function IR(t){return X1(t)[0]}function ah(t,e){switch(e){case"fill":return`${t}-fill`;case"outline":return`${t}-o`;case"twotone":return`${t}-twotone`;case void 0:return t;default:throw new Error(`${To}Theme "${e}" is not a recognized theme!`)}}function FK(t,e,n,r){return`${ah(t,e)}-${n}-${r}`}function HK(t){return t==="o"?"outline":t}function BK(t){return t.endsWith("-fill")||t.endsWith("-o")||t.endsWith("-twotone")}function xR(t){return typeof t=="object"&&typeof t.name=="string"&&(typeof t.theme=="string"||t.theme===void 0)&&typeof t.icon=="string"}function jK(t){let e=t.split("-"),n=HK(e.splice(e.length-1,1)[0]);return{name:e.join("-"),theme:n,icon:""}}function UK(t){return t.cloneNode(!0)}function $K(t){return t.replace(/['"]#333['"]/g,'"primaryColor"').replace(/['"]#E6E6E6['"]/g,'"secondaryColor"').replace(/['"]#D9D9D9['"]/g,'"secondaryColor"').replace(/['"]#D8D8D8['"]/g,'"secondaryColor"')}function ch(t){let e=t.split(":");switch(e.length){case 1:return[t,""];case 2:return[e[1],e[0]];default:throw new Error(`${To}The icon type ${t} is not valid!`)}}function qK(t){return ch(t)[1]!==""}function WK(){return new Error(`${To}Type should have a namespace. Try "namespace:${name}".`)}function DR(t){return new Error(`${To}the icon ${t} does not exist or is not registered.`)}function GK(){return LK('you need to import "HttpClientModule" to use dynamic importing.'),null}function YK(t){return new Error(`${To}The url "${t}" is unsafe.`)}function QK(){return new Error(`${To}<svg> tag not found.`)}function KK(){return new Error(`${To}Importing timeout error.`)}var XK="__ant_icon_load",ZK=new O("ant_icons"),iy=(()=>{let e=class e{set twoToneColor({primaryColor:r,secondaryColor:i}){this._twoToneColorPalette.primaryColor=r,this._twoToneColorPalette.secondaryColor=i||IR(r)}get twoToneColor(){return P({},this._twoToneColorPalette)}get _disableDynamicLoading(){return!1}constructor(r,i,o,s,a){this._rendererFactory=r,this._handler=i,this._document=o,this.sanitizer=s,this._antIcons=a,this.defaultTheme="outline",this._svgDefinitions=new Map,this._svgRenderedDefinitions=new Map,this._inProgressFetches=new Map,this._assetsUrlRoot="",this._twoToneColorPalette={primaryColor:"#333333",secondaryColor:"#E6E6E6"},this._enableJsonpLoading=!1,this._jsonpIconLoad$=new Q,this._renderer=this._rendererFactory.createRenderer(null,null),this._handler&&(this._http=new dT(this._handler)),this._antIcons&&this.addIcon(...this._antIcons)}useJsonpLoading(){this._enableJsonpLoading?SR("You are already using jsonp loading."):(this._enableJsonpLoading=!0,window[XK]=r=>{this._jsonpIconLoad$.next(r)})}changeAssetsSource(r){this._assetsUrlRoot=r.endsWith("/")?r:r+"/"}addIcon(...r){r.forEach(i=>{this._svgDefinitions.set(ah(i.name,i.theme),i)})}addIconLiteral(r,i){let[o,s]=ch(r);if(!s)throw WK();this.addIcon({name:r,icon:i})}clear(){this._svgDefinitions.clear(),this._svgRenderedDefinitions.clear()}getRenderedContent(r,i){let o=xR(r)?r:this._svgDefinitions.get(r)||null;if(!o&&this._disableDynamicLoading)throw DR(r);return(o?j(o):this._loadIconDynamically(r)).pipe(W(a=>{if(!a)throw DR(r);return this._loadSVGFromCacheOrCreateNew(a,i)}))}getCachedIcons(){return this._svgDefinitions}_loadIconDynamically(r){if(!this._http&&!this._enableJsonpLoading)return j(GK());let i=this._inProgressFetches.get(r);if(!i){let[o,s]=ch(r),a=s?{name:r,icon:""}:jK(o),c=this._enableJsonpLoading?".js":".svg",l=(s?`${this._assetsUrlRoot}assets/${s}/${o}`:`${this._assetsUrlRoot}assets/${a.theme}/${a.name}`)+c,u=this.sanitizer.sanitize(ar.URL,l);if(!u)throw YK(l);i=(this._enableJsonpLoading?this._loadIconDynamicallyWithJsonp(a,u):this._http.get(u,{responseType:"text"}).pipe(W(d=>je(P({},a),{icon:d})))).pipe(gt(d=>this.addIcon(d)),li(()=>this._inProgressFetches.delete(r)),ci(()=>j(null)),wl()),this._inProgressFetches.set(r,i)}return i}_loadIconDynamicallyWithJsonp(r,i){return new le(o=>{let s=this._document.createElement("script"),a=setTimeout(()=>{c(),o.error(KK())},6e3);s.src=i;function c(){s.parentNode.removeChild(s),clearTimeout(a)}this._document.body.appendChild(s),this._jsonpIconLoad$.pipe(Pe(l=>l.name===r.name&&l.theme===r.theme),Ct(1)).subscribe(l=>{o.next(l),c()})})}_loadSVGFromCacheOrCreateNew(r,i){let o,s=i||this._twoToneColorPalette.primaryColor,a=IR(s)||this._twoToneColorPalette.secondaryColor,c=r.theme==="twotone"?FK(r.name,r.theme,s,a):r.theme===void 0?r.name:ah(r.name,r.theme),l=this._svgRenderedDefinitions.get(c);return l?o=l.icon:(o=this._setSVGAttribute(this._colorizeSVGIcon(this._createSVGElementFromString(qK(r.name)?r.icon:$K(r.icon)),r.theme==="twotone",s,a)),this._svgRenderedDefinitions.set(c,je(P({},r),{icon:o}))),UK(o)}_createSVGElementFromString(r){let i=this._document.createElement("div");i.innerHTML=r;let o=i.querySelector("svg");if(!o)throw QK;return o}_setSVGAttribute(r){return this._renderer.setAttribute(r,"width","1em"),this._renderer.setAttribute(r,"height","1em"),r}_colorizeSVGIcon(r,i,o,s){if(i){let a=r.childNodes,c=a.length;for(let l=0;l<c;l++){let u=a[l];u.getAttribute("fill")==="secondaryColor"?this._renderer.setAttribute(u,"fill",s):this._renderer.setAttribute(u,"fill",o)}}return this._renderer.setAttribute(r,"fill","currentColor"),r}};e.\u0275fac=function(i){return new(i||e)(v(rr),v(Gc,8),v(De,8),v(s4),v(ZK,8))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})();function JK(t,e){return t.type===e.type&&t.theme===e.theme&&t.twoToneColor===e.twoToneColor}var AR=(()=>{let e=class e{constructor(r,i,o){this._iconService=r,this._elementRef=i,this._renderer=o}ngOnChanges(r){(r.type||r.theme||r.twoToneColor)&&this._changeIcon()}_changeIcon(){return new Promise(r=>{if(!this.type){this._clearSVGElement(),r(null);return}let i=this._getSelfRenderMeta();this._iconService.getRenderedContent(this._parseIconType(this.type,this.theme),this.twoToneColor).subscribe(o=>{let s=this._getSelfRenderMeta();JK(i,s)?(this._setSVGElement(o),r(o)):r(null)})})}_getSelfRenderMeta(){return{type:this.type,theme:this.theme,twoToneColor:this.twoToneColor}}_parseIconType(r,i){if(xR(r))return r;{let[o,s]=ch(r);return s?r:BK(o)?(i&&SR(`'type' ${o} already gets a theme inside so 'theme' ${i} would be ignored`),o):ah(o,i||this._iconService.defaultTheme)}}_setSVGElement(r){this._clearSVGElement(),this._renderer.appendChild(this._elementRef.nativeElement,r)}_clearSVGElement(){let r=this._elementRef.nativeElement,i=r.childNodes,o=i.length;for(let s=o-1;s>=0;s--){let a=i[s];a.tagName?.toLowerCase()==="svg"&&this._renderer.removeChild(r,a)}}};e.\u0275fac=function(i){return new(i||e)(E(iy),E(Ce),E(ln))},e.\u0275dir=be({type:e,selectors:[["","antIcon",""]],inputs:{type:"type",theme:"theme",twoToneColor:"twoToneColor"},features:[wt]});let t=e;return t})();var lh={isTestMode:!1};var zR={},eX="[NG-ZORRO]:";function tX(...t){let e=t.reduce((n,r)=>n+r.toString(),"");return zR[e]?!1:(zR[e]=!0,!0)}function nX(t,...e){(lh.isTestMode||Zs()&&tX(...e))&&t(...e)}var Fa=(...t)=>nX((...e)=>console.warn(eX,...e),...t);function RR(t){return t!=null&&`${t}`!="false"}function U2(t,e=0){return oy(t)?Number(t):e}function oy(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function Z1(t){return Array.isArray(t)?t:[t]}function Et(t){return t==null?"":typeof t=="string"?t:`${t}px`}function uh(t){return t instanceof Ce?t.nativeElement:t}function k3e(t){let e;return t==null?e=[]:Array.isArray(t)?e=t:e=[t],e}function L3e(t,e){if(!t||!e||t.length!==e.length)return!1;let n=t.length;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function F3e(t){return typeof t<"u"&&t!==null}function H3e(t){return typeof t>"u"||t===null}function B3e(t){return typeof t=="string"&&t!==""}function j3e(t){return t instanceof yt}function rX(t){return RR(t)}function iX(t,e=0){return oy(t)?Number(t):e}function PR(t){return Et(t)}function U3e(t,...e){return typeof t=="function"?t(...e):t}function NR(t,e){function n(r,i,o){let s=`$$__zorroPropDecorator__${i}`;return Object.prototype.hasOwnProperty.call(r,s)&&Fa(`The prop "${s}" is already exist, it will be overrided by ${t} decorator.`),Object.defineProperty(r,s,{configurable:!0,writable:!0}),{get(){return o&&o.get?o.get.bind(this)():this[s]},set(a){o&&o.set&&o.set.bind(this)(e(a)),this[s]=e(a)}}}return n}function mr(){return NR("InputBoolean",rX)}function $3e(t){return NR("InputNumber",e=>iX(e,t))}function q3e(t){if(!t.getClientRects().length)return{top:0,left:0};let e=t.getBoundingClientRect(),n=t.ownerDocument.defaultView;return{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}}function oX(t){return!!t&&typeof t.then=="function"&&typeof t.catch=="function"}function W3e(t){return typeof t=="number"&&isFinite(t)}function G3e(t,e){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)}var sX=typeof window<"u",Y3e=sX&&window.mozInnerScreenX!=null;var sy,ay,OR={position:"absolute",top:"-9999px",width:"50px",height:"50px"};function Q3e(t="vertical",e="ant"){if(typeof document>"u"||typeof window>"u")return 0;let n=t==="vertical";if(n&&sy)return sy;if(!n&&ay)return ay;let r=document.createElement("div");Object.keys(OR).forEach(o=>{r.style[o]=OR[o]}),r.className=`${e}-hide-scrollbar scroll-div-append-to-body`,n?r.style.overflowY="scroll":r.style.overflowX="scroll",document.body.appendChild(r);let i=0;return n?(i=r.offsetWidth-r.clientWidth,sy=i):(i=r.offsetHeight-r.clientHeight,ay=i),document.body.removeChild(r),i}function K3e(){let t=new Q;return Promise.resolve().then(()=>t.next()),t.pipe(Ct(1))}function X3e(t){return qi(t)?t:oX(t)?ze(Promise.resolve(t)):j(t)}function ly(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var aX="rc-util-key";function kR({mark:t}={}){return t?t.startsWith("data-")?t:`data-${t}`:aX}function uy(t){return t.attachTo?t.attachTo:document.querySelector("head")||document.body}function VR(t,e={}){if(!ly())return null;let n=document.createElement("style");e.cspNonce&&(n.nonce=e.cspNonce),n.innerHTML=t;let r=uy(e),{firstChild:i}=r;return e.prepend&&r.prepend?r.prepend(n):e.prepend&&i?r.insertBefore(n,i):r.appendChild(n),n}var cy=new Map;function cX(t,e={}){let n=uy(e);return Array.from(cy.get(n)?.children||[]).find(r=>r.tagName==="STYLE"&&r.getAttribute(kR(e))===t)}function LR(t,e,n={}){let r=uy(n);if(!cy.has(r)){let s=VR("",n),{parentNode:a}=s;cy.set(r,a),a.removeChild(s)}let i=cX(e,n);if(i)return n.cspNonce&&i.nonce!==n.cspNonce&&(i.nonce=n.cspNonce),i.innerHTML!==t&&(i.innerHTML=t),i;let o=VR(t,n);return o?.setAttribute(kR(n),e),o}function Z3e(t,e,n){return{[`${t}-status-success`]:e==="success",[`${t}-status-warning`]:e==="warning",[`${t}-status-error`]:e==="error",[`${t}-status-validating`]:e==="validating",[`${t}-has-feedback`]:n}}var lX=["success","processing","error","default","warning"],uX=["pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"];function t0e(t){return uX.indexOf(t)!==-1}function n0e(t){return lX.indexOf(t)!==-1}var hh=2,FR=.16,hX=.05,dX=.05,fX=.15,$R=5,qR=4,pX=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function HR({r:t,g:e,b:n}){let r=ka(t,e,n);return{h:r.h*360,s:r.s,v:r.v}}function dh({r:t,g:e,b:n}){return`#${La(t,e,n,!1)}`}function mX(t,e,n){let r=n/100;return{r:(e.r-t.r)*r+t.r,g:(e.g-t.g)*r+t.g,b:(e.b-t.b)*r+t.b}}function BR(t,e,n){let r;return Math.round(t.h)>=60&&Math.round(t.h)<=240?r=n?Math.round(t.h)-hh*e:Math.round(t.h)+hh*e:r=n?Math.round(t.h)+hh*e:Math.round(t.h)-hh*e,r<0?r+=360:r>=360&&(r-=360),r}function jR(t,e,n){if(t.h===0&&t.s===0)return t.s;let r;return n?r=t.s-FR*e:e===qR?r=t.s+FR:r=t.s+hX*e,r>1&&(r=1),n&&e===$R&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2))}function UR(t,e,n){let r;return n?r=t.v+dX*e:r=t.v-fX*e,r>1&&(r=1),Number(r.toFixed(2))}function hy(t,e={}){let n=[],r=Zn(t);for(let i=$R;i>0;i-=1){let o=HR(r),s=dh(Zn({h:BR(o,i,!0),s:jR(o,i,!0),v:UR(o,i,!0)}));n.push(s)}n.push(dh(r));for(let i=1;i<=qR;i+=1){let o=HR(r),s=dh(Zn({h:BR(o,i),s:jR(o,i),v:UR(o,i)}));n.push(s)}return e.theme==="dark"?pX.map(({index:i,opacity:o})=>dh(mX(Zn(e.backgroundColor||"#141414"),Zn(n[i]),o*100))):n}var gX=new O("nz-config");var vX=`-ant-${Date.now()}-${Math.random()}`;function yX(t,e){let n={},r=(s,a)=>{let c=s.clone();return c=a?.(c)||c,c.toRgbString()},i=(s,a)=>{let c=new ih(s),l=hy(c.toRgbString());n[`${a}-color`]=r(c),n[`${a}-color-disabled`]=l[1],n[`${a}-color-hover`]=l[4],n[`${a}-color-active`]=l[7],n[`${a}-color-outline`]=c.clone().setAlpha(.2).toRgbString(),n[`${a}-color-deprecated-bg`]=l[1],n[`${a}-color-deprecated-border`]=l[3]};if(e.primaryColor){i(e.primaryColor,"primary");let s=new ih(e.primaryColor),a=hy(s.toRgbString());a.forEach((l,u)=>{n[`primary-${u+1}`]=l}),n["primary-color-deprecated-l-35"]=r(s,l=>l.lighten(35)),n["primary-color-deprecated-l-20"]=r(s,l=>l.lighten(20)),n["primary-color-deprecated-t-20"]=r(s,l=>l.tint(20)),n["primary-color-deprecated-t-50"]=r(s,l=>l.tint(50)),n["primary-color-deprecated-f-12"]=r(s,l=>l.setAlpha(l.getAlpha()*.12));let c=new ih(a[0]);n["primary-color-active-deprecated-f-30"]=r(c,l=>l.setAlpha(l.getAlpha()*.3)),n["primary-color-active-deprecated-d-02"]=r(c,l=>l.darken(2))}return e.successColor&&i(e.successColor,"success"),e.warningColor&&i(e.warningColor,"warning"),e.errorColor&&i(e.errorColor,"error"),e.infoColor&&i(e.infoColor,"info"),`
  :root {
    ${Object.keys(n).map(s=>`--${t}-${s}: ${n[s]};`).join(`
`)}
  }
  `.trim()}function WR(t,e,n){let r=yX(t,e);ly()?LR(r,`${vX}-dynamic-theme`,{cspNonce:n}):Fa("NzConfigService: SSR do not support dynamic theme with css variables.")}var GR=function(t){return t!==void 0},YR="ant",Ha=(()=>{let e=class e{constructor(r,i){this.configUpdated$=new Q,this.config=r||{},this.cspNonce=i,this.config.theme&&WR(this.getConfig().prefixCls?.prefixCls||YR,this.config.theme,i)}getConfig(){return this.config}getConfigForComponent(r){return this.config[r]}getConfigChangeEventForComponent(r){return this.configUpdated$.pipe(Pe(i=>i===r),Ps(void 0))}set(r,i){this.config[r]=P(P({},this.config[r]),i),r==="theme"&&this.config.theme&&WR(this.getConfig().prefixCls?.prefixCls||YR,this.config.theme,this.cspNonce),this.configUpdated$.next(r)}};e.\u0275fac=function(i){return new(i||e)(v(gX,8),v(to,8))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function QR(){return function(e,n,r){let i=`$$__zorroConfigDecorator__${n}`;return Object.defineProperty(e,i,{configurable:!0,writable:!0,enumerable:!1}),{get(){let o=r?.get?r.get.bind(this)():this[i],s=(this.propertyAssignCounter?.[n]||0)>1,a=this.nzConfigService.getConfigForComponent(this._nzModuleName)?.[n];return s&&GR(o)?o:GR(a)?a:o},set(o){this.propertyAssignCounter=this.propertyAssignCounter||{},this.propertyAssignCounter[n]=(this.propertyAssignCounter[n]||0)+1,r?.set?r.set.bind(this)(o):this[i]=o},configurable:!0,enumerable:!0}}}var py;try{py=typeof Intl<"u"&&Intl.v8BreakIterator}catch{py=!1}var Vn=(()=>{let e=class e{constructor(r){this._platformId=r,this.isBrowser=this._platformId?Y7(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||py)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(i){return new(i||e)(v(xt))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_0e=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=me({});let t=e;return t})();var $2;function wX(){if($2==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>$2=!0}))}finally{$2=$2||!1}return $2}function b0e(t){return wX()?t:!!t.capture}var ei=function(t){return t[t.NORMAL=0]="NORMAL",t[t.NEGATED=1]="NEGATED",t[t.INVERTED=2]="INVERTED",t}(ei||{}),fh,Ba;function ph(){if(Ba==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Ba=!1,Ba;if("scrollBehavior"in document.documentElement.style)Ba=!0;else{let t=Element.prototype.scrollTo;t?Ba=!/\{\s*\[native code\]\s*\}/.test(t.toString()):Ba=!1}}return Ba}function J1(){if(typeof document!="object"||!document)return ei.NORMAL;if(fh==null){let t=document.createElement("div"),e=t.style;t.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";let n=document.createElement("div"),r=n.style;r.width="2px",r.height="1px",t.appendChild(n),document.body.appendChild(t),fh=ei.NORMAL,t.scrollLeft===0&&(t.scrollLeft=1,fh=t.scrollLeft===0?ei.NEGATED:ei.INVERTED),t.remove()}return fh}var fy;function _X(){if(fy==null){let t=typeof document<"u"?document.head:null;fy=!!(t&&(t.createShadowRoot||t.attachShadow))}return fy}function E0e(t){if(_X()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function my(t){return t.composedPath?t.composedPath()[0]:t.target}function gy(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var bX=[Iz,Dz,xz,Lz,Sz,Oz,Az,zz,Rz,Nz,Pz,Vz,kz,Fz,Hz,Bz,jz,Uz,$z,qz,Gz,Wz,tR,Yz,Zz,Qz,Xz,Kz,Jz,eR,nR,rR,iR,sR,oR,Kv,aR,Kv,lR,hR,uR,cR,dR,fR],XR=new O("nz_icons"),F0e=new O("nz_icon_default_twotone_color"),KR="#1890ff",ZR=(()=>{let e=class e extends iy{get _disableDynamicLoading(){return!this.platform.isBrowser}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}normalizeSvgElement(r){r.getAttribute("viewBox")||this._renderer.setAttribute(r,"viewBox","0 0 1024 1024"),(!r.getAttribute("width")||!r.getAttribute("height"))&&(this._renderer.setAttribute(r,"width","1em"),this._renderer.setAttribute(r,"height","1em")),r.getAttribute("fill")||this._renderer.setAttribute(r,"fill","currentColor")}fetchFromIconfont(r){let{scriptUrl:i}=r;if(this._document&&!this.iconfontCache.has(i)){let o=this._renderer.createElement("script");this._renderer.setAttribute(o,"src",i),this._renderer.setAttribute(o,"data-namespace",i.replace(/^(https?|http):/g,"")),this._renderer.appendChild(this._document.body,o),this.iconfontCache.add(i)}}createIconfontIcon(r){return this._createSVGElementFromString(`<svg><use xlink:href="${r}"></svg>`)}constructor(r,i,o,s,a,c,l){super(r,a,c,i,[...bX,...l||[]]),this.nzConfigService=o,this.platform=s,this.configUpdated$=new Q,this.iconfontCache=new Set,this.subscription=null,this.onConfigChange(),this.configDefaultTwotoneColor(),this.configDefaultTheme()}onConfigChange(){this.subscription=this.nzConfigService.getConfigChangeEventForComponent("icon").subscribe(()=>{this.configDefaultTwotoneColor(),this.configDefaultTheme(),this.configUpdated$.next()})}configDefaultTheme(){let r=this.getConfig();this.defaultTheme=r.nzTheme||"outline"}configDefaultTwotoneColor(){let i=this.getConfig().nzTwotoneColor||KR,o=KR;i&&(i.startsWith("#")?o=i:Fa("Twotone color must be a hex color!")),this.twoToneColor={primaryColor:o}}getConfig(){return this.nzConfigService.getConfigForComponent("icon")||{}}};e.\u0275fac=function(i){return new(i||e)(v(rr),v(s4),v(Ha),v(Vn),v(Gc,8),v(De,8),v(XR,8))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),JR=new O("nz_icons_patch"),eO=(()=>{let e=class e{constructor(r,i){this.extraIcons=r,this.rootIconService=i,this.patched=!1}doPatch(){this.patched||(this.extraIcons.forEach(r=>this.rootIconService.addIcon(r)),this.patched=!0)}};e.\u0275fac=function(i){return new(i||e)(v(JR,2),v(ZR))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),el=(()=>{let e=class e extends AR{set nzSpin(r){this.spin=r}set nzType(r){this.type=r}set nzTheme(r){this.theme=r}set nzTwotoneColor(r){this.twoToneColor=r}set nzIconfont(r){this.iconfont=r}constructor(r,i,o,s,a,c){super(s,o,a),this.ngZone=r,this.changeDetectorRef=i,this.iconService=s,this.renderer=a,this.cacheClassName=null,this.nzRotate=0,this.spin=!1,this.destroy$=new Q,c&&c.doPatch(),this.el=o.nativeElement}ngOnChanges(r){let{nzType:i,nzTwotoneColor:o,nzSpin:s,nzTheme:a,nzRotate:c}=r;i||o||s||a?this.changeIcon2():c?this.handleRotate(this.el.firstChild):this._setSVGElement(this.iconService.createIconfontIcon(`#${this.iconfont}`))}ngOnInit(){this.renderer.setAttribute(this.el,"class",`anticon ${this.el.className}`.trim())}ngAfterContentChecked(){if(!this.type){let r=this.el.children,i=r.length;if(!this.type&&r.length)for(;i--;){let o=r[i];o.tagName.toLowerCase()==="svg"&&this.iconService.normalizeSvgElement(o)}}}ngOnDestroy(){this.destroy$.next()}changeIcon2(){this.setClassName(),this.ngZone.runOutsideAngular(()=>{ze(this._changeIcon()).pipe(rt(this.destroy$)).subscribe({next:r=>{this.ngZone.run(()=>{this.changeDetectorRef.detectChanges(),r&&(this.setSVGData(r),this.handleSpin(r),this.handleRotate(r))})},error:Fa})})}handleSpin(r){this.spin||this.type==="loading"?this.renderer.addClass(r,"anticon-spin"):this.renderer.removeClass(r,"anticon-spin")}handleRotate(r){this.nzRotate?this.renderer.setAttribute(r,"style",`transform: rotate(${this.nzRotate}deg)`):this.renderer.removeAttribute(r,"style")}setClassName(){this.cacheClassName&&this.renderer.removeClass(this.el,this.cacheClassName),this.cacheClassName=`anticon-${this.type}`,this.renderer.addClass(this.el,this.cacheClassName)}setSVGData(r){this.renderer.setAttribute(r,"data-icon",this.type),this.renderer.setAttribute(r,"aria-hidden","true")}};e.\u0275fac=function(i){return new(i||e)(E(K),E(Wt),E(Ce),E(ZR),E(ln),E(eO,8))},e.\u0275dir=be({type:e,selectors:[["","nz-icon",""]],hostVars:2,hostBindings:function(i,o){i&2&&bi("anticon",!0)},inputs:{nzSpin:"nzSpin",nzRotate:"nzRotate",nzType:"nzType",nzTheme:"nzTheme",nzTwotoneColor:"nzTwotoneColor",nzIconfont:"nzIconfont"},exportAs:["nzIcon"],standalone:!0,features:[jr,wt]});let t=e;return Nn([mr()],t.prototype,"nzSpin",null),t})(),gh=(()=>{let e=class e{static forRoot(r){return{ngModule:e,providers:[{provide:XR,useValue:r}]}}static forChild(r){return{ngModule:e,providers:[eO,{provide:JR,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=me({});let t=e;return t})();var q2=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},W2=class extends q2{constructor(e,n,r,i,o){super(),this.component=e,this.viewContainerRef=n,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=o}},G2=class extends q2{constructor(e,n,r,i){super(),this.templateRef=e,this.viewContainerRef=n,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,n=this.context){return this.context=n,super.attach(e)}detach(){return this.context=void 0,super.detach()}},vy=class extends q2{constructor(e){super(),this.element=e instanceof Ce?e.nativeElement:e}},vh=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof W2)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof G2)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof vy)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var yh=class extends vh{constructor(e,n,r,i,o){super(),this.outletElement=e,this._componentFactoryResolver=n,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(e){let r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||Kt.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let n=e.viewContainerRef,r=n.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=n.indexOf(r);i!==-1&&n.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var G0e=(()=>{let e=class e extends vh{constructor(r,i,o){super(),this._componentFactoryResolver=r,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Ue,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let c=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(c,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}get portal(){return this._attachedPortal}set portal(r){this.hasAttached()&&!r&&!this._isInitialized||(this.hasAttached()&&super.detach(),r&&super.attach(r),this._attachedPortal=r||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(r){r.setAttachedHost(this);let i=r.viewContainerRef!=null?r.viewContainerRef:this._viewContainerRef,s=(r.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(r.component),a=i.createComponent(s,i.length,r.injector||i.injector,r.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=r,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(r){r.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(r.templateRef,r.context,{injector:r.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=r,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){let r=this._viewContainerRef.element.nativeElement;return r.nodeType===r.ELEMENT_NODE?r:r.parentNode}};e.\u0275fac=function(i){return new(i||e)(E(Wo),E(qt),E(De))},e.\u0275dir=be({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[Ie.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[jr]});let t=e;return t})();var nO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=me({});let t=e;return t})();var pe=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(pe||{}),Fi="*";function Sr(t,e){return{type:pe.Trigger,name:t,definitions:e,options:{}}}function st(t,e=null){return{type:pe.Animate,styles:e,timings:t}}function rO(t,e=null){return{type:pe.Sequence,steps:t,options:e}}function he(t){return{type:pe.Style,styles:t,offset:null}}function gr(t,e,n){return{type:pe.State,name:t,styles:e,options:n}}function ht(t,e,n=null){return{type:pe.Transition,expr:t,animation:e,options:n}}function yy(t,e,n=null){return{type:pe.Query,selector:t,animation:e,options:n}}function wy(t,e){return{type:pe.Stagger,timings:t,animation:e}}var Ms=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},Y2=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++n==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},wh="!";var vr=(()=>{let e=class e{};e.SLOW="0.3s",e.BASE="0.2s",e.FAST="0.1s";let t=e;return t})(),bn=(()=>{let e=class e{};e.EASE_BASE_OUT="cubic-bezier(0.7, 0.3, 0.1, 1)",e.EASE_BASE_IN="cubic-bezier(0.9, 0, 0.3, 0.7)",e.EASE_OUT="cubic-bezier(0.215, 0.61, 0.355, 1)",e.EASE_IN="cubic-bezier(0.55, 0.055, 0.675, 0.19)",e.EASE_IN_OUT="cubic-bezier(0.645, 0.045, 0.355, 1)",e.EASE_OUT_BACK="cubic-bezier(0.12, 0.4, 0.29, 1.46)",e.EASE_IN_BACK="cubic-bezier(0.71, -0.46, 0.88, 0.6)",e.EASE_IN_OUT_BACK="cubic-bezier(0.71, -0.46, 0.29, 1.46)",e.EASE_OUT_CIRC="cubic-bezier(0.08, 0.82, 0.17, 1)",e.EASE_IN_CIRC="cubic-bezier(0.6, 0.04, 0.98, 0.34)",e.EASE_IN_OUT_CIRC="cubic-bezier(0.78, 0.14, 0.15, 0.86)",e.EASE_OUT_QUINT="cubic-bezier(0.23, 1, 0.32, 1)",e.EASE_IN_QUINT="cubic-bezier(0.755, 0.05, 0.855, 0.06)",e.EASE_IN_OUT_QUINT="cubic-bezier(0.86, 0, 0.07, 1)";let t=e;return t})(),X0e=Sr("collapseMotion",[gr("expanded",he({height:"*"})),gr("collapsed",he({height:0,overflow:"hidden"})),gr("hidden",he({height:0,overflow:"hidden",borderTopWidth:"0"})),ht("expanded => collapsed",st(`150ms ${bn.EASE_IN_OUT}`)),ht("expanded => hidden",st(`150ms ${bn.EASE_IN_OUT}`)),ht("collapsed => expanded",st(`150ms ${bn.EASE_IN_OUT}`)),ht("hidden => expanded",st(`150ms ${bn.EASE_IN_OUT}`))]),Z0e=Sr("treeCollapseMotion",[ht("* => *",[yy("nz-tree-node:leave,nz-tree-builtin-node:leave",[he({overflow:"hidden"}),wy(0,[st(`150ms ${bn.EASE_IN_OUT}`,he({height:0,opacity:0,"padding-bottom":0}))])],{optional:!0}),yy("nz-tree-node:enter,nz-tree-builtin-node:enter",[he({overflow:"hidden",height:0,opacity:0,"padding-bottom":0}),wy(0,[st(`150ms ${bn.EASE_IN_OUT}`,he({overflow:"hidden",height:"*",opacity:"*","padding-bottom":"*"}))])],{optional:!0})])]),J0e=Sr("fadeMotion",[ht(":enter",[he({opacity:0}),st(`${vr.BASE}`,he({opacity:1}))]),ht(":leave",[he({opacity:1}),st(`${vr.BASE}`,he({opacity:0}))])]),e8e=Sr("helpMotion",[ht(":enter",[he({opacity:0,transform:"translateY(-5px)"}),st(`${vr.SLOW} ${bn.EASE_IN_OUT}`,he({opacity:1,transform:"translateY(0)"}))]),ht(":leave",[he({opacity:1,transform:"translateY(0)"}),st(`${vr.SLOW} ${bn.EASE_IN_OUT}`,he({opacity:0,transform:"translateY(-5px)"}))])]),iO=Sr("moveUpMotion",[ht("* => enter",[he({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}),st(`${vr.BASE}`,he({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}))]),ht("* => leave",[he({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}),st(`${vr.BASE}`,he({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}))])]),t8e=Sr("notificationMotion",[gr("enterRight",he({opacity:1,transform:"translateX(0)"})),ht("* => enterRight",[he({opacity:0,transform:"translateX(5%)"}),st("100ms linear")]),gr("enterLeft",he({opacity:1,transform:"translateX(0)"})),ht("* => enterLeft",[he({opacity:0,transform:"translateX(-5%)"}),st("100ms linear")]),gr("enterTop",he({opacity:1,transform:"translateY(0)"})),ht("* => enterTop",[he({opacity:0,transform:"translateY(-5%)"}),st("100ms linear")]),gr("enterBottom",he({opacity:1,transform:"translateY(0)"})),ht("* => enterBottom",[he({opacity:0,transform:"translateY(5%)"}),st("100ms linear")]),gr("leave",he({opacity:0,transform:"scaleY(0.8)",transformOrigin:"0% 0%"})),ht("* => leave",[he({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),st("100ms linear")])]),EX=`${vr.BASE} ${bn.EASE_OUT_QUINT}`,CX=`${vr.BASE} ${bn.EASE_IN_QUINT}`,n8e=Sr("slideMotion",[gr("void",he({opacity:0,transform:"scaleY(0.8)"})),gr("enter",he({opacity:1,transform:"scaleY(1)"})),ht("void => *",[st(EX)]),ht("* => void",[st(CX)])]),r8e=Sr("slideAlertMotion",[ht(":leave",[he({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),st(`${vr.SLOW} ${bn.EASE_IN_OUT_CIRC}`,he({opacity:0,transform:"scaleY(0)",transformOrigin:"0% 0%"}))])]),i8e=Sr("zoomBigMotion",[ht("void => active",[he({opacity:0,transform:"scale(0.8)"}),st(`${vr.BASE} ${bn.EASE_OUT_CIRC}`,he({opacity:1,transform:"scale(1)"}))]),ht("active => void",[he({opacity:1,transform:"scale(1)"}),st(`${vr.BASE} ${bn.EASE_IN_OUT_CIRC}`,he({opacity:0,transform:"scale(0.8)"}))])]),o8e=Sr("zoomBadgeMotion",[ht(":enter",[he({opacity:0,transform:"scale(0) translate(50%, -50%)"}),st(`${vr.SLOW} ${bn.EASE_OUT_BACK}`,he({opacity:1,transform:"scale(1) translate(50%, -50%)"}))]),ht(":leave",[he({opacity:1,transform:"scale(1) translate(50%, -50%)"}),st(`${vr.SLOW} ${bn.EASE_IN_BACK}`,he({opacity:0,transform:"scale(0) translate(50%, -50%)"}))])]),s8e=Sr("thumbMotion",[gr("from",he({transform:"translateX({{ transform }}px)",width:"{{ width }}px"}),{params:{transform:0,width:0}}),gr("to",he({transform:"translateX({{ transform }}px)",width:"{{ width }}px"}),{params:{transform:100,width:0}}),ht("from => to",st(`300ms ${bn.EASE_IN_OUT}`))]);var oO=(()=>{let e=class e{static ngTemplateContextGuard(r,i){return!0}recreateView(){this.viewContainer.clear();let r=this.nzStringTemplateOutlet instanceof yt,i=r?this.nzStringTemplateOutlet:this.templateRef;this.embeddedViewRef=this.viewContainer.createEmbeddedView(i,r?this.nzStringTemplateOutletContext:this.context)}updateContext(){let i=this.nzStringTemplateOutlet instanceof yt?this.nzStringTemplateOutletContext:this.context,o=this.embeddedViewRef.context;if(i)for(let s of Object.keys(i))o[s]=i[s]}constructor(r,i){this.viewContainer=r,this.templateRef=i,this.embeddedViewRef=null,this.context=new _y,this.nzStringTemplateOutletContext=null,this.nzStringTemplateOutlet=null}ngOnChanges(r){let{nzStringTemplateOutletContext:i,nzStringTemplateOutlet:o}=r,s=()=>{let c=!1;if(o)if(o.firstChange)c=!0;else{let h=o.previousValue instanceof yt,d=o.currentValue instanceof yt;c=h||d}return i&&(h=>{let d=Object.keys(h.previousValue||{}),f=Object.keys(h.currentValue||{});if(d.length===f.length){for(let p of f)if(d.indexOf(p)===-1)return!0;return!1}else return!0})(i)||c};o&&(this.context.$implicit=o.currentValue),s()?this.recreateView():this.updateContext()}};e.\u0275fac=function(i){return new(i||e)(E(qt),E(yt))},e.\u0275dir=be({type:e,selectors:[["","nzStringTemplateOutlet",""]],inputs:{nzStringTemplateOutletContext:"nzStringTemplateOutletContext",nzStringTemplateOutlet:"nzStringTemplateOutlet"},exportAs:["nzStringTemplateOutlet"],standalone:!0,features:[wt]});let t=e;return t})(),_y=class{},sO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=me({});let t=e;return t})();var aO=["moz","ms","webkit"];function TX(){let t=0;return function(e){let n=new Date().getTime(),r=Math.max(0,16-(n-t)),i=setTimeout(()=>{e(n+r)},r);return t=n+r,i}}function IX(){if(typeof window>"u")return()=>0;if(window.requestAnimationFrame)return window.requestAnimationFrame.bind(window);let t=aO.filter(e=>`${e}RequestAnimationFrame`in window)[0];return t?window[`${t}RequestAnimationFrame`]:TX()}function d8e(t){if(typeof window>"u")return null;if(window.cancelAnimationFrame)return window.cancelAnimationFrame(t);let e=aO.filter(n=>`${n}CancelAnimationFrame`in window||`${n}CancelRequestAnimationFrame`in window)[0];return e?(window[`${e}CancelAnimationFrame`]||window[`${e}CancelRequestAnimationFrame`]).call(this,t):clearTimeout(t)}var by=IX();var cO=new Set,ja,Ey=(()=>{let e=class e{constructor(r,i){this._platform=r,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):SX}matchMedia(r){return(this._platform.WEBKIT||this._platform.BLINK)&&DX(r,this._nonce),this._matchMedia(r)}};e.\u0275fac=function(i){return new(i||e)(v(Vn),v(to,8))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function DX(t,e){if(!cO.has(t))try{ja||(ja=document.createElement("style"),e&&ja.setAttribute("nonce",e),ja.setAttribute("type","text/css"),document.head.appendChild(ja)),ja.sheet&&(ja.sheet.insertRule(`@media ${t} {body{ }}`,0),cO.add(t))}catch(n){console.error(n)}}function SX(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var E8e=(()=>{let e=class e{constructor(r,i){this._mediaMatcher=r,this._zone=i,this._queries=new Map,this._destroySubject=new Q}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(r){return lO(Z1(r)).some(o=>this._registerQuery(o).mql.matches)}observe(r){let o=lO(Z1(r)).map(a=>this._registerQuery(a).observable),s=Rs(o);return s=ai(s.pipe(Ct(1)),s.pipe(jd(1),Ld(0))),s.pipe(W(a=>{let c={matches:!1,breakpoints:{}};return a.forEach(({matches:l,query:u})=>{c.matches=c.matches||l,c.breakpoints[u]=l}),c}))}_registerQuery(r){if(this._queries.has(r))return this._queries.get(r);let i=this._mediaMatcher.matchMedia(r),s={observable:new le(a=>{let c=l=>this._zone.run(()=>a.next(l));return i.addListener(c),()=>{i.removeListener(c)}}).pipe(sn(i),W(({matches:a})=>({query:r,matches:a})),rt(this._destroySubject)),mql:i};return this._queries.set(r,s),s}};e.\u0275fac=function(i){return new(i||e)(v(Ey),v(K))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function lO(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}var Cy=()=>{},AX=(()=>{let e=class e{constructor(r,i){this.ngZone=r,this.rendererFactory2=i,this.resizeSource$=new Q,this.listeners=0,this.disposeHandle=Cy,this.handler=()=>{this.ngZone.run(()=>{this.resizeSource$.next()})},this.renderer=this.rendererFactory2.createRenderer(null,null)}ngOnDestroy(){this.handler=Cy}subscribe(){return this.registerListener(),this.resizeSource$.pipe(Vs(16),li(()=>this.unregisterListener()))}unsubscribe(){this.unregisterListener()}registerListener(){this.listeners===0&&this.ngZone.runOutsideAngular(()=>{this.disposeHandle=this.renderer.listen("window","resize",this.handler)}),this.listeners+=1}unregisterListener(){this.listeners-=1,this.listeners===0&&(this.disposeHandle(),this.disposeHandle=Cy)}};e.\u0275fac=function(i){return new(i||e)(v(K),v(rr))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),zX=new Map,uO=(()=>{let e=class e{constructor(){this._singletonRegistry=new Map}get singletonRegistry(){return lh.isTestMode?zX:this._singletonRegistry}registerSingletonWithKey(r,i){let o=this.singletonRegistry.has(r),s=o?this.singletonRegistry.get(r):this.withNewTarget(i);o||this.singletonRegistry.set(r,s)}unregisterSingletonWithKey(r){this.singletonRegistry.has(r)&&this.singletonRegistry.delete(r)}getSingletonWithKey(r){return this.singletonRegistry.has(r)?this.singletonRegistry.get(r).target:null}withNewTarget(r){return{target:r}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function RX(t,e,n,r){let i=n-e,o=t/(r/2);return o<1?i/2*o*o*o+e:i/2*((o-=2)*o*o+2)+e}var S8e=(()=>{let e=class e{constructor(r,i){this.ngZone=r,this.doc=i}setScrollTop(r,i=0){r===window?(this.doc.body.scrollTop=i,this.doc.documentElement.scrollTop=i):r.scrollTop=i}getOffset(r){let i={top:0,left:0};if(!r||!r.getClientRects().length)return i;let o=r.getBoundingClientRect();if(o.width||o.height){let s=r.ownerDocument.documentElement;i.top=o.top-s.clientTop,i.left=o.left-s.clientLeft}else i.top=o.top,i.left=o.left;return i}getScroll(r,i=!0){if(typeof window>"u")return 0;let o=i?"scrollTop":"scrollLeft",s=0;return this.isWindow(r)?s=r[i?"pageYOffset":"pageXOffset"]:r instanceof Document?s=r.documentElement[o]:r&&(s=r[o]),r&&!this.isWindow(r)&&typeof s!="number"&&(s=(r.ownerDocument||r).documentElement[o]),s}isWindow(r){return r!=null&&r===r.window}scrollTo(r,i=0,o={}){let s=r||window,a=this.getScroll(s),c=Date.now(),{easing:l,callback:u,duration:h=450}=o,d=()=>{let p=Date.now()-c,m=(l||RX)(p>h?h:p,a,i,h);this.isWindow(s)?s.scrollTo(window.pageXOffset,m):s instanceof HTMLDocument||s.constructor.name==="HTMLDocument"?s.documentElement.scrollTop=m:s.scrollTop=m,p<h?by(d):typeof u=="function"&&this.ngZone.run(u)};this.ngZone.runOutsideAngular(()=>by(d))}};e.\u0275fac=function(i){return new(i||e)(v(K),v(De))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),hO=function(t){return t.xxl="xxl",t.xl="xl",t.lg="lg",t.md="md",t.sm="sm",t.xs="xs",t}(hO||{}),OX={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},x8e={xs:"(max-width: 479.98px)",sm:"(max-width: 575.98px)",md:"(max-width: 767.98px)",lg:"(max-width: 991.98px)",xl:"(max-width: 1199.98px)",xxl:"(max-width: 1599.98px)"},A8e=(()=>{let e=class e{constructor(r,i){this.resizeService=r,this.mediaMatcher=i,this.destroy$=new Q,this.resizeService.subscribe().pipe(rt(this.destroy$)).subscribe(()=>{})}ngOnDestroy(){this.destroy$.next()}subscribe(r,i){if(i){let o=()=>this.matchMedia(r,!0);return this.resizeService.subscribe().pipe(W(o),sn(o()),Po((s,a)=>s[0]===a[0]),W(s=>s[1]))}else{let o=()=>this.matchMedia(r);return this.resizeService.subscribe().pipe(W(o),sn(o()),Po())}}matchMedia(r,i){let o=hO.md,s={};return Object.keys(r).map(a=>{let c=a,l=this.mediaMatcher.matchMedia(OX[c]).matches;s[a]=l,l&&(o=c)}),i?[o,s]:o}};e.\u0275fac=function(i){return new(i||e)(v(AX),v(Ey))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_h=(()=>{let e=class e extends Q{ngOnDestroy(){this.next(),this.complete()}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Vc(e)))(o||e)}})(),e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})();var VX=new O("cdk-dir-doc",{providedIn:"root",factory:PX});function PX(){return x(De)}var NX=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function kX(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?NX.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Hi=(()=>{let e=class e{constructor(r){if(this.value="ltr",this.change=new Ue,r){let i=r.body?r.body.dir:null,o=r.documentElement?r.documentElement.dir:null;this.value=kX(i||o||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(i){return new(i||e)(v(VX,8))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Q2=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=me({});let t=e;return t})();var Ty=class{};function fO(t){return t&&typeof t.connect=="function"&&!(t instanceof Ro)}var bh=class extends Ty{constructor(e){super(),this._data=e}connect(){return qi(this._data)?this._data:j(this._data)}disconnect(){}},K2=function(t){return t[t.REPLACED=0]="REPLACED",t[t.INSERTED=1]="INSERTED",t[t.MOVED=2]="MOVED",t[t.REMOVED=3]="REMOVED",t}(K2||{}),Iy=new O("_ViewRepeater");var Eh=class{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(e,n,r,i,o){e.forEachOperation((s,a,c)=>{let l,u;if(s.previousIndex==null){let h=()=>r(s,a,c);l=this._insertView(h,c,n,i(s)),u=l?K2.INSERTED:K2.REPLACED}else c==null?(this._detachAndCacheView(a,n),u=K2.REMOVED):(l=this._moveView(a,c,n,i(s)),u=K2.MOVED);o&&o({context:l?.context,operation:u,record:s})})}detach(){for(let e of this._viewCache)e.destroy();this._viewCache=[]}_insertView(e,n,r,i){let o=this._insertViewFromCache(n,r);if(o){o.context.$implicit=i;return}let s=e();return r.createEmbeddedView(s.templateRef,s.context,s.index)}_detachAndCacheView(e,n){let r=n.detach(e);this._maybeCacheView(r,n)}_moveView(e,n,r,i){let o=r.get(e);return r.move(o,n),o.context.$implicit=i,o}_maybeCacheView(e,n){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(e);else{let r=n.indexOf(e);r===-1?e.destroy():n.remove(r)}}_insertViewFromCache(e,n){let r=this._viewCache.pop();return r&&n.insert(r,e),r||null}};var LX=["contentWrapper"],FX=["*"],vO=new O("VIRTUAL_SCROLL_STRATEGY"),Dy=class{constructor(e,n,r){this._scrolledIndexChange=new Q,this.scrolledIndexChange=this._scrolledIndexChange.pipe(Po()),this._viewport=null,this._itemSize=e,this._minBufferPx=n,this._maxBufferPx=r}attach(e){this._viewport=e,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(e,n,r){r<n,this._itemSize=e,this._minBufferPx=n,this._maxBufferPx=r,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(e,n){this._viewport&&this._viewport.scrollToOffset(e*this._itemSize,n)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;let e=this._viewport.getRenderedRange(),n={start:e.start,end:e.end},r=this._viewport.getViewportSize(),i=this._viewport.getDataLength(),o=this._viewport.measureScrollOffset(),s=this._itemSize>0?o/this._itemSize:0;if(n.end>i){let c=Math.ceil(r/this._itemSize),l=Math.max(0,Math.min(s,i-c));s!=l&&(s=l,o=l*this._itemSize,n.start=Math.floor(s)),n.end=Math.max(0,Math.min(i,n.start+c))}let a=o-n.start*this._itemSize;if(a<this._minBufferPx&&n.start!=0){let c=Math.ceil((this._maxBufferPx-a)/this._itemSize);n.start=Math.max(0,n.start-c),n.end=Math.min(i,Math.ceil(s+(r+this._minBufferPx)/this._itemSize))}else{let c=n.end*this._itemSize-(o+r);if(c<this._minBufferPx&&n.end!=i){let l=Math.ceil((this._maxBufferPx-c)/this._itemSize);l>0&&(n.end=Math.min(i,n.end+l),n.start=Math.max(0,Math.floor(s-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(n),this._viewport.setRenderedContentOffset(this._itemSize*n.start),this._scrolledIndexChange.next(Math.floor(s))}};function HX(t){return t._scrollStrategy}var c6e=(()=>{let e=class e{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new Dy(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(r){this._itemSize=U2(r)}get minBufferPx(){return this._minBufferPx}set minBufferPx(r){this._minBufferPx=U2(r)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(r){this._maxBufferPx=U2(r)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=be({type:e,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},standalone:!0,features:[Yo([{provide:vO,useFactory:HX,deps:[N3(()=>e)]}]),wt]});let t=e;return t})(),BX=20,tl=(()=>{let e=class e{constructor(r,i,o){this._ngZone=r,this._platform=i,this._scrolled=new Q,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(r){this.scrollContainers.has(r)||this.scrollContainers.set(r,r.elementScrolled().subscribe(()=>this._scrolled.next(r)))}deregister(r){let i=this.scrollContainers.get(r);i&&(i.unsubscribe(),this.scrollContainers.delete(r))}scrolled(r=BX){return this._platform.isBrowser?new le(i=>{this._globalSubscription||this._addGlobalListener();let o=r>0?this._scrolled.pipe(Vs(r)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):j()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((r,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(r,i){let o=this.getAncestorScrollContainers(r);return this.scrolled(i).pipe(Pe(s=>!s||o.indexOf(s)>-1))}getAncestorScrollContainers(r){let i=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,r)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(r,i){let o=uh(i),s=r.getElementRef().nativeElement;do if(o==s)return!0;while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let r=this._getWindow();return Oo(r.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};e.\u0275fac=function(i){return new(i||e)(v(K),v(Vn),v(De,8))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Sy=(()=>{let e=class e{constructor(r,i,o,s){this.elementRef=r,this.scrollDispatcher=i,this.ngZone=o,this.dir=s,this._destroyed=new Q,this._elementScrolled=new le(a=>this.ngZone.runOutsideAngular(()=>Oo(this.elementRef.nativeElement,"scroll").pipe(rt(this._destroyed)).subscribe(a)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(r){let i=this.elementRef.nativeElement,o=this.dir&&this.dir.value=="rtl";r.left==null&&(r.left=o?r.end:r.start),r.right==null&&(r.right=o?r.start:r.end),r.bottom!=null&&(r.top=i.scrollHeight-i.clientHeight-r.bottom),o&&J1()!=ei.NORMAL?(r.left!=null&&(r.right=i.scrollWidth-i.clientWidth-r.left),J1()==ei.INVERTED?r.left=r.right:J1()==ei.NEGATED&&(r.left=r.right?-r.right:r.right)):r.right!=null&&(r.left=i.scrollWidth-i.clientWidth-r.right),this._applyScrollToOptions(r)}_applyScrollToOptions(r){let i=this.elementRef.nativeElement;ph()?i.scrollTo(r):(r.top!=null&&(i.scrollTop=r.top),r.left!=null&&(i.scrollLeft=r.left))}measureScrollOffset(r){let i="left",o="right",s=this.elementRef.nativeElement;if(r=="top")return s.scrollTop;if(r=="bottom")return s.scrollHeight-s.clientHeight-s.scrollTop;let a=this.dir&&this.dir.value=="rtl";return r=="start"?r=a?o:i:r=="end"&&(r=a?i:o),a&&J1()==ei.INVERTED?r==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:a&&J1()==ei.NEGATED?r==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:r==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}};e.\u0275fac=function(i){return new(i||e)(E(Ce),E(tl),E(K),E(Hi,8))},e.\u0275dir=be({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0});let t=e;return t})(),jX=20,X2=(()=>{let e=class e{constructor(r,i,o){this._platform=r,this._change=new Q,this._changeListener=s=>{this._change.next(s)},this._document=o,i.runOutsideAngular(()=>{if(r.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let r=this._getWindow();r.removeEventListener("resize",this._changeListener),r.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let r={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),r}getViewportRect(){let r=this.getViewportScrollPosition(),{width:i,height:o}=this.getViewportSize();return{top:r.top,left:r.left,bottom:r.top+o,right:r.left+i,height:o,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let r=this._document,i=this._getWindow(),o=r.documentElement,s=o.getBoundingClientRect(),a=-s.top||r.body.scrollTop||i.scrollY||o.scrollTop||0,c=-s.left||r.body.scrollLeft||i.scrollX||o.scrollLeft||0;return{top:a,left:c}}change(r=jX){return r>0?this._change.pipe(Vs(r)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let r=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:r.innerWidth,height:r.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(i){return new(i||e)(v(Vn),v(K),v(De,8))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),pO=new O("VIRTUAL_SCROLLABLE"),UX=(()=>{let e=class e extends Sy{constructor(r,i,o,s){super(r,i,o,s)}measureViewportSize(r){let i=this.elementRef.nativeElement;return r==="horizontal"?i.clientWidth:i.clientHeight}};e.\u0275fac=function(i){return new(i||e)(E(Ce),E(tl),E(K),E(Hi,8))},e.\u0275dir=be({type:e,features:[jr]});let t=e;return t})();function $X(t,e){return t.start==e.start&&t.end==e.end}var qX=typeof requestAnimationFrame<"u"?Nd:Od,WX=(()=>{let e=class e extends UX{get orientation(){return this._orientation}set orientation(r){this._orientation!==r&&(this._orientation=r,this._calculateSpacerSize())}constructor(r,i,o,s,a,c,l,u){super(r,c,o,a),this.elementRef=r,this._changeDetectorRef=i,this._scrollStrategy=s,this.scrollable=u,this._platform=x(Vn),this._detachedSubject=new Q,this._renderedRangeSubject=new Q,this._orientation="vertical",this.appendOnly=!1,this.scrolledIndexChange=new le(h=>this._scrollStrategy.scrolledIndexChange.subscribe(d=>Promise.resolve().then(()=>this.ngZone.run(()=>h.next(d))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=He.EMPTY,this._viewportChanges=l.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(sn(null),Vs(0,qX),rt(this._destroyed)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(r){this._forOf,this.ngZone.runOutsideAngular(()=>{this._forOf=r,this._forOf.dataStream.pipe(rt(this._detachedSubject)).subscribe(i=>{let o=i.length;o!==this._dataLength&&(this._dataLength=o,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(r){return this.getElementRef().nativeElement.getBoundingClientRect()[r]}setTotalContentSize(r){this._totalContentSize!==r&&(this._totalContentSize=r,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(r){$X(this._renderedRange,r)||(this.appendOnly&&(r={start:0,end:Math.max(this._renderedRange.end,r.end)}),this._renderedRangeSubject.next(this._renderedRange=r),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(r,i="to-start"){r=this.appendOnly&&i==="to-start"?0:r;let o=this.dir&&this.dir.value=="rtl",s=this.orientation=="horizontal",a=s?"X":"Y",l=`translate${a}(${Number((s&&o?-1:1)*r)}px)`;this._renderedContentOffset=r,i==="to-end"&&(l+=` translate${a}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=l&&(this._renderedContentTransform=l,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(r,i="auto"){let o={behavior:i};this.orientation==="horizontal"?o.start=r:o.top=r,this.scrollable.scrollTo(o)}scrollToIndex(r,i="auto"){this._scrollStrategy.scrollToIndex(r,i)}measureScrollOffset(r){let i;return this.scrollable==this?i=o=>super.measureScrollOffset(o):i=o=>this.scrollable.measureScrollOffset(o),Math.max(0,i(r??(this.orientation==="horizontal"?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(r){let i,o="left",s="right",a=this.dir?.value=="rtl";r=="start"?i=a?s:o:r=="end"?i=a?o:s:r?i=r:i=this.orientation==="horizontal"?"left":"top";let c=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-c}measureRenderedContentSize(){let r=this._contentWrapper.nativeElement;return this.orientation==="horizontal"?r.offsetWidth:r.offsetHeight}measureRangeSize(r){return this._forOf?this._forOf.measureRangeSize(r,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(r){r&&this._runAfterChangeDetection.push(r),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());let r=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(let i of r)i()}_calculateSpacerSize(){this._totalContentHeight=this.orientation==="horizontal"?"":`${this._totalContentSize}px`,this._totalContentWidth=this.orientation==="horizontal"?`${this._totalContentSize}px`:""}};e.\u0275fac=function(i){return new(i||e)(E(Ce),E(Wt),E(K),E(vO,8),E(Hi,8),E(tl),E(X2),E(pO,8))},e.\u0275cmp=pi({type:e,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(i,o){if(i&1&&aM(LX,7),i&2){let s;jc(s=Uc())&&(o._contentWrapper=s.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(i,o){i&2&&bi("cdk-virtual-scroll-orientation-horizontal",o.orientation==="horizontal")("cdk-virtual-scroll-orientation-vertical",o.orientation!=="horizontal")},inputs:{orientation:"orientation",appendOnly:[Ie.HasDecoratorInputTransform,"appendOnly","appendOnly",Yn]},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[Yo([{provide:Sy,useFactory:(r,i)=>r||i,deps:[[new eo,new _b(pO)],e]}]),Xs,jr,Ei],ngContentSelectors:FX,decls:4,vars:4,consts:[["contentWrapper",""],[1,"cdk-virtual-scroll-content-wrapper"],[1,"cdk-virtual-scroll-spacer"]],template:function(i,o){i&1&&(Kl(),io(0,"div",1,0),Xl(2),Go(),Wn(3,"div",2)),i&2&&(cr(3),Hc("width",o._totalContentWidth)("height",o._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0});let t=e;return t})();function mO(t,e,n){let r=n;if(!r.getBoundingClientRect)return 0;let i=r.getBoundingClientRect();return t==="horizontal"?e==="start"?i.left:i.right:e==="start"?i.top:i.bottom}var l6e=(()=>{let e=class e{get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(r){this._cdkVirtualForOf=r,fO(r)?this._dataSourceChanges.next(r):this._dataSourceChanges.next(new bh(qi(r)?r:Array.from(r||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(r){this._needsUpdate=!0,this._cdkVirtualForTrackBy=r?(i,o)=>r(i+(this._renderedRange?this._renderedRange.start:0),o):void 0}set cdkVirtualForTemplate(r){r&&(this._needsUpdate=!0,this._template=r)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(r){this._viewRepeater.viewCacheSize=U2(r)}constructor(r,i,o,s,a,c){this._viewContainerRef=r,this._template=i,this._differs=o,this._viewRepeater=s,this._viewport=a,this.viewChange=new Q,this._dataSourceChanges=new Q,this.dataStream=this._dataSourceChanges.pipe(sn(null),Ns(),at(([l,u])=>this._changeDataSource(l,u)),pc(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new Q,this.dataStream.subscribe(l=>{this._data=l,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(rt(this._destroyed)).subscribe(l=>{this._renderedRange=l,this.viewChange.observers.length&&c.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}measureRangeSize(r,i){if(r.start>=r.end)return 0;r.start<this._renderedRange.start||r.end>this._renderedRange.end;let o=r.start-this._renderedRange.start,s=r.end-r.start,a,c;for(let l=0;l<s;l++){let u=this._viewContainerRef.get(l+o);if(u&&u.rootNodes.length){a=c=u.rootNodes[0];break}}for(let l=s-1;l>-1;l--){let u=this._viewContainerRef.get(l+o);if(u&&u.rootNodes.length){c=u.rootNodes[u.rootNodes.length-1];break}}return a&&c?mO(i,"end",c)-mO(i,"start",a):0}ngDoCheck(){if(this._differ&&this._needsUpdate){let r=this._differ.diff(this._renderedItems);r?this._applyChanges(r):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((r,i)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(r,i):i)),this._needsUpdate=!0)}_changeDataSource(r,i){return r&&r.disconnect(this),this._needsUpdate=!0,i?i.connect(this):j()}_updateContext(){let r=this._data.length,i=this._viewContainerRef.length;for(;i--;){let o=this._viewContainerRef.get(i);o.context.index=this._renderedRange.start+i,o.context.count=r,this._updateComputedContextProperties(o.context),o.detectChanges()}}_applyChanges(r){this._viewRepeater.applyChanges(r,this._viewContainerRef,(s,a,c)=>this._getEmbeddedViewArgs(s,c),s=>s.item),r.forEachIdentityChange(s=>{let a=this._viewContainerRef.get(s.currentIndex);a.context.$implicit=s.item});let i=this._data.length,o=this._viewContainerRef.length;for(;o--;){let s=this._viewContainerRef.get(o);s.context.index=this._renderedRange.start+o,s.context.count=i,this._updateComputedContextProperties(s.context)}}_updateComputedContextProperties(r){r.first=r.index===0,r.last=r.index===r.count-1,r.even=r.index%2===0,r.odd=!r.even}_getEmbeddedViewArgs(r,i){return{templateRef:this._template,context:{$implicit:r.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:i}}};e.\u0275fac=function(i){return new(i||e)(E(qt),E(yt),E(Jl),E(Iy),E(WX,4),E(K))},e.\u0275dir=be({type:e,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},standalone:!0,features:[Yo([{provide:Iy,useClass:Eh}])]});let t=e;return t})();var gO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=me({});let t=e;return t})(),xy=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=me({imports:[Q2,gO,Q2,gO]});let t=e;return t})();function yO(t,...e){return e.length?e.some(n=>t[n]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var wO=ph(),Ay=class{constructor(e,n){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Et(-this._previousScrollPosition.left),e.style.top=Et(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,n=this._document.body,r=e.style,i=n.style,o=r.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),wO&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),wO&&(r.scrollBehavior=o,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let n=this._document.body,r=this._viewportRuler.getViewportSize();return n.scrollHeight>r.height||n.scrollWidth>r.width}};var zy=class{constructor(e,n,r,i){this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(Pe(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Ch=class{enable(){}disable(){}attach(){}};function Ry(t,e){return e.some(n=>{let r=t.bottom<n.top,i=t.top>n.bottom,o=t.right<n.left,s=t.left>n.right;return r||i||o||s})}function _O(t,e){return e.some(n=>{let r=t.top<n.top,i=t.bottom>n.bottom,o=t.left<n.left,s=t.right>n.right;return r||i||o||s})}var Oy=class{constructor(e,n,r,i){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();Ry(n,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},QX=(()=>{let e=class e{constructor(r,i,o,s){this._scrollDispatcher=r,this._viewportRuler=i,this._ngZone=o,this.noop=()=>new Ch,this.close=a=>new zy(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new Ay(this._viewportRuler,this._document),this.reposition=a=>new Oy(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}};e.\u0275fac=function(i){return new(i||e)(v(tl),v(X2),v(K),v(De))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Mh=class{constructor(e){if(this.scrollStrategy=new Ch,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let n=Object.keys(e);for(let r of n)e[r]!==void 0&&(this[r]=e[r])}}},pt=class{constructor(e,n,r,i,o){this.offsetX=r,this.offsetY=i,this.panelClass=o,this.originX=e.originX,this.originY=e.originY,this.overlayX=n.overlayX,this.overlayY=n.overlayY}};var Vy=class{constructor(e,n){this.connectionPair=e,this.scrollableViewProperties=n}};var TO=(()=>{let e=class e{constructor(r){this._attachedOverlays=[],this._document=r}ngOnDestroy(){this.detach()}add(r){this.remove(r),this._attachedOverlays.push(r)}remove(r){let i=this._attachedOverlays.indexOf(r);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}};e.\u0275fac=function(i){return new(i||e)(v(De))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),KX=(()=>{let e=class e extends TO{constructor(r,i){super(r),this._ngZone=i,this._keydownListener=o=>{let s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){let c=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(o)):c.next(o);break}}}add(r){super.add(r),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};e.\u0275fac=function(i){return new(i||e)(v(De),v(K,8))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),XX=(()=>{let e=class e extends TO{constructor(r,i,o){super(r),this._platform=i,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=my(s)},this._clickListener=s=>{let a=my(s),c=s.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let l=this._attachedOverlays.slice();for(let u=l.length-1;u>-1;u--){let h=l[u];if(h._outsidePointerEvents.observers.length<1||!h.hasAttached())continue;if(h.overlayElement.contains(a)||h.overlayElement.contains(c))break;let d=h._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(s)):d.next(s)}}}add(r){if(super.add(r),!this._isAttached){let i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let r=this._document.body;r.removeEventListener("pointerdown",this._pointerDownListener,!0),r.removeEventListener("click",this._clickListener,!0),r.removeEventListener("auxclick",this._clickListener,!0),r.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(r.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(r){r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0)}};e.\u0275fac=function(i){return new(i||e)(v(De),v(Vn),v(K,8))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),IO=(()=>{let e=class e{constructor(r,i){this._platform=i,this._document=r}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let r="cdk-overlay-container";if(this._platform.isBrowser||gy()){let o=this._document.querySelectorAll(`.${r}[platform="server"], .${r}[platform="test"]`);for(let s=0;s<o.length;s++)o[s].remove()}let i=this._document.createElement("div");i.classList.add(r),gy()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}};e.\u0275fac=function(i){return new(i||e)(v(De),v(Vn))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Py=class{constructor(e,n,r,i,o,s,a,c,l,u=!1){this._portalOutlet=e,this._host=n,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new Q,this._attachments=new Q,this._detachments=new Q,this._locationChanges=He.EMPTY,this._backdropClickHandler=h=>this._backdropClick.next(h),this._backdropTransitionendHandler=h=>{this._disposeBackdrop(h.target)},this._keydownEvents=new Q,this._outsidePointerEvents=new Q,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let n=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ct(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof n?.onDestroy=="function"&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=P(P({},this._config),e),this._updateElementSize()}setDirection(e){this._config=je(P({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=Et(this._config.width),e.height=Et(this._config.height),e.minWidth=Et(this._config.minWidth),e.minHeight=Et(this._config.minHeight),e.maxWidth=Et(this._config.maxWidth),e.maxHeight=Et(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,n,r){let i=Z1(n||[]).filter(o=>!!o);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{let e=this._ngZone.onStable.pipe(rt(yl(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},bO="cdk-overlay-connected-position-bounding-box",ZX=/([A-Za-z%]+)$/,Ny=class{get positions(){return this._preferredPositions}constructor(e,n,r,i,o){this._viewportRuler=n,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Q,this._resizeSubscription=He.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(bO),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,n=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[],s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,i,a),l=this._getOverlayPoint(c,n,a),u=this._getOverlayFit(l,n,r,a);if(u.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,c);return}if(this._canFitWithFlexibleDimensions(u,l,r)){o.push({position:a,origin:c,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(c,a)});continue}(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:l,originPoint:c,position:a,overlayRect:n})}if(o.length){let a=null,c=-1;for(let l of o){let u=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);u>c&&(c=u,a=l)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ua(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(bO),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let n=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,n)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,n,r){let i;if(r.originX=="center")i=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i=r.originX=="start"?s:a}n.left<0&&(i-=n.left);let o;return r.originY=="center"?o=e.top+e.height/2:o=r.originY=="top"?e.top:e.bottom,n.top<0&&(o-=n.top),{x:i,y:o}}_getOverlayPoint(e,n,r){let i;r.overlayX=="center"?i=-n.width/2:r.overlayX==="start"?i=this._isRtl()?-n.width:0:i=this._isRtl()?0:-n.width;let o;return r.overlayY=="center"?o=-n.height/2:o=r.overlayY=="top"?0:-n.height,{x:e.x+i,y:e.y+o}}_getOverlayFit(e,n,r,i){let o=CO(n),{x:s,y:a}=e,c=this._getOffset(i,"x"),l=this._getOffset(i,"y");c&&(s+=c),l&&(a+=l);let u=0-s,h=s+o.width-r.width,d=0-a,f=a+o.height-r.height,p=this._subtractOverflows(o.width,u,h),m=this._subtractOverflows(o.height,d,f),g=p*m;return{visibleArea:g,isCompletelyWithinViewport:o.width*o.height===g,fitsInViewportVertically:m===o.height,fitsInViewportHorizontally:p==o.width}}_canFitWithFlexibleDimensions(e,n,r){if(this._hasFlexibleDimensions){let i=r.bottom-n.y,o=r.right-n.x,s=EO(this._overlayRef.getConfig().minHeight),a=EO(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportVertically||s!=null&&s<=i,l=e.fitsInViewportHorizontally||a!=null&&a<=o;return c&&l}return!1}_pushOverlayOnScreen(e,n,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let i=CO(n),o=this._viewportRect,s=Math.max(e.x+i.width-o.width,0),a=Math.max(e.y+i.height-o.height,0),c=Math.max(o.top-r.top-e.y,0),l=Math.max(o.left-r.left-e.x,0),u=0,h=0;return i.width<=o.width?u=l||-s:u=e.x<this._viewportMargin?o.left-r.left-e.x:0,i.height<=o.height?h=c||-a:h=e.y<this._viewportMargin?o.top-r.top-e.y:0,this._previousPushAmount={x:u,y:h},{x:e.x+u,y:e.y+h}}_applyPosition(e,n){if(this._setTransformOrigin(e),this._setOverlayElementStyles(n,e),this._setBoundingBoxStyles(n,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let r=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!JX(this._lastScrollVisibility,r)){let i=new Vy(e,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let n=this._boundingBox.querySelectorAll(this._transformOriginSelector),r,i=e.overlayY;e.overlayX==="center"?r="center":this._isRtl()?r=e.overlayX==="start"?"right":"left":r=e.overlayX==="start"?"left":"right";for(let o=0;o<n.length;o++)n[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,n){let r=this._viewportRect,i=this._isRtl(),o,s,a;if(n.overlayY==="top")s=e.y,o=r.height-s+this._viewportMargin;else if(n.overlayY==="bottom")a=r.height-e.y+this._viewportMargin*2,o=r.height-a+this._viewportMargin;else{let f=Math.min(r.bottom-e.y+r.top,e.y),p=this._lastBoundingBoxSize.height;o=f*2,s=e.y-f,o>p&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-p/2)}let c=n.overlayX==="start"&&!i||n.overlayX==="end"&&i,l=n.overlayX==="end"&&!i||n.overlayX==="start"&&i,u,h,d;if(l)d=r.width-e.x+this._viewportMargin*2,u=e.x-this._viewportMargin;else if(c)h=e.x,u=r.right-e.x;else{let f=Math.min(r.right-e.x+r.left,e.x),p=this._lastBoundingBoxSize.width;u=f*2,h=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(h=e.x-p/2)}return{top:s,left:h,bottom:a,right:d,width:u,height:o}}_setBoundingBoxStyles(e,n){let r=this._calculateBoundingBoxRect(e,n);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));let i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.height=Et(r.height),i.top=Et(r.top),i.bottom=Et(r.bottom),i.width=Et(r.width),i.left=Et(r.left),i.right=Et(r.right),n.overlayX==="center"?i.alignItems="center":i.alignItems=n.overlayX==="end"?"flex-end":"flex-start",n.overlayY==="center"?i.justifyContent="center":i.justifyContent=n.overlayY==="bottom"?"flex-end":"flex-start",o&&(i.maxHeight=Et(o)),s&&(i.maxWidth=Et(s))}this._lastBoundingBoxSize=r,Ua(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Ua(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ua(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,n){let r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){let u=this._viewportRuler.getViewportScrollPosition();Ua(r,this._getExactOverlayY(n,e,u)),Ua(r,this._getExactOverlayX(n,e,u))}else r.position="static";let a="",c=this._getOffset(n,"x"),l=this._getOffset(n,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),r.transform=a.trim(),s.maxHeight&&(i?r.maxHeight=Et(s.maxHeight):o&&(r.maxHeight="")),s.maxWidth&&(i?r.maxWidth=Et(s.maxWidth):o&&(r.maxWidth="")),Ua(this._pane.style,r)}_getExactOverlayY(e,n,r){let i={top:"",bottom:""},o=this._getOverlayPoint(n,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;i.bottom=`${s-(o.y+this._overlayRect.height)}px`}else i.top=Et(o.y);return i}_getExactOverlayX(e,n,r){let i={left:"",right:""},o=this._getOverlayPoint(n,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;i.right=`${a-(o.x+this._overlayRect.width)}px`}else i.left=Et(o.x);return i}_getScrollVisibility(){let e=this._getOriginRect(),n=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:_O(e,r),isOriginOutsideView:Ry(e,r),isOverlayClipped:_O(n,r),isOverlayOutsideView:Ry(n,r)}}_subtractOverflows(e,...n){return n.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+n-this._viewportMargin,width:e-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,n){return n==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Z1(e).forEach(n=>{n!==""&&this._appliedPanelClasses.indexOf(n)===-1&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof Ce)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let n=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+n,height:r,width:n}}};function Ua(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function EO(t){if(typeof t!="number"&&t!=null){let[e,n]=t.split(ZX);return!n||n==="px"?parseFloat(e):null}return t||null}function CO(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function JX(t,e){return t===e?!0:t.isOriginClipped===e.isOriginClipped&&t.isOriginOutsideView===e.isOriginOutsideView&&t.isOverlayClipped===e.isOverlayClipped&&t.isOverlayOutsideView===e.isOverlayOutsideView}var MO="cdk-global-overlay-wrapper",ky=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let n=e.getConfig();this._overlayRef=e,this._width&&!n.width&&e.updateSize({width:this._width}),this._height&&!n.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(MO),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:s,maxHeight:a}=r,c=(i==="100%"||i==="100vw")&&(!s||s==="100%"||s==="100vw"),l=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),u=this._xPosition,h=this._xOffset,d=this._overlayRef.getConfig().direction==="rtl",f="",p="",m="";c?m="flex-start":u==="center"?(m="center",d?p=h:f=h):d?u==="left"||u==="end"?(m="flex-end",f=h):(u==="right"||u==="start")&&(m="flex-start",p=h):u==="left"||u==="start"?(m="flex-start",f=h):(u==="right"||u==="end")&&(m="flex-end",p=h),e.position=this._cssPosition,e.marginLeft=c?"0":f,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":p,n.justifyContent=m,n.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,r=n.style;n.classList.remove(MO),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},eZ=(()=>{let e=class e{constructor(r,i,o,s){this._viewportRuler=r,this._document=i,this._platform=o,this._overlayContainer=s}global(){return new ky}flexibleConnectedTo(r){return new Ny(r,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};e.\u0275fac=function(i){return new(i||e)(v(X2),v(De),v(Vn),v(IO))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),tZ=0,nl=(()=>{let e=class e{constructor(r,i,o,s,a,c,l,u,h,d,f,p){this.scrollStrategies=r,this._overlayContainer=i,this._componentFactoryResolver=o,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=c,this._ngZone=l,this._document=u,this._directionality=h,this._location=d,this._outsideClickDispatcher=f,this._animationsModuleType=p}create(r){let i=this._createHostElement(),o=this._createPaneElement(i),s=this._createPortalOutlet(o),a=new Mh(r);return a.direction=a.direction||this._directionality.value,new Py(s,i,o,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations")}position(){return this._positionBuilder}_createPaneElement(r){let i=this._document.createElement("div");return i.id=`cdk-overlay-${tZ++}`,i.classList.add("cdk-overlay-pane"),r.appendChild(i),i}_createHostElement(){let r=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalOutlet(r){return this._appRef||(this._appRef=this._injector.get(Ur)),new yh(r,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};e.\u0275fac=function(i){return new(i||e)(v(QX),v(IO),v(Wo),v(eZ),v(KX),v(Kt),v(K),v(De),v(Hi),v(Qo),v(XX),v(wi,8))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nZ=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],DO=new O("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let t=x(nl);return()=>t.scrollStrategies.reposition()}}),Ly=(()=>{let e=class e{constructor(r){this.elementRef=r}};e.\u0275fac=function(i){return new(i||e)(E(Ce))},e.\u0275dir=be({type:e,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0});let t=e;return t})(),SO=(()=>{let e=class e{get offsetX(){return this._offsetX}set offsetX(r){this._offsetX=r,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(r){this._offsetY=r,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(r){this._disposeOnNavigation=r}constructor(r,i,o,s,a){this._overlay=r,this._dir=a,this._backdropSubscription=He.EMPTY,this._attachSubscription=He.EMPTY,this._detachSubscription=He.EMPTY,this._positionSubscription=He.EMPTY,this._disposeOnNavigation=!1,this._ngZone=x(K),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new Ue,this.positionChange=new Ue,this.attach=new Ue,this.detach=new Ue,this.overlayKeydown=new Ue,this.overlayOutsideClick=new Ue,this._templatePortal=new G2(i,o),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(r){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),r.origin&&this.open&&this._position.apply()),r.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=nZ);let r=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=r.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=r.detachments().subscribe(()=>this.detach.emit()),r.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),i.keyCode===27&&!this.disableClose&&!yO(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){let r=this._position=this.positionStrategy||this._createPositionStrategy(),i=new Mh({direction:this._dir,positionStrategy:r,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(i.width=this.width),(this.height||this.height===0)&&(i.height=this.height),(this.minWidth||this.minWidth===0)&&(i.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(r){let i=this.positions.map(o=>({originX:o.originX,originY:o.originY,overlayX:o.overlayX,overlayY:o.overlayY,offsetX:o.offsetX||this.offsetX,offsetY:o.offsetY||this.offsetY,panelClass:o.panelClass||void 0}));return r.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let r=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(r),r}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Ly?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(r=>{this.backdropClick.emit(r)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(Ud(()=>this.positionChange.observers.length>0)).subscribe(r=>{this._ngZone.run(()=>this.positionChange.emit(r)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)(E(nl),E(yt),E(qt),E(DO),E(Hi,8))},e.\u0275dir=be({type:e,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[Ie.None,"cdkConnectedOverlayOrigin","origin"],positions:[Ie.None,"cdkConnectedOverlayPositions","positions"],positionStrategy:[Ie.None,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[Ie.None,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[Ie.None,"cdkConnectedOverlayOffsetY","offsetY"],width:[Ie.None,"cdkConnectedOverlayWidth","width"],height:[Ie.None,"cdkConnectedOverlayHeight","height"],minWidth:[Ie.None,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[Ie.None,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[Ie.None,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[Ie.None,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[Ie.None,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[Ie.None,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[Ie.None,"cdkConnectedOverlayOpen","open"],disableClose:[Ie.None,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[Ie.None,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[Ie.HasDecoratorInputTransform,"cdkConnectedOverlayHasBackdrop","hasBackdrop",Yn],lockPosition:[Ie.HasDecoratorInputTransform,"cdkConnectedOverlayLockPosition","lockPosition",Yn],flexibleDimensions:[Ie.HasDecoratorInputTransform,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",Yn],growAfterOpen:[Ie.HasDecoratorInputTransform,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",Yn],push:[Ie.HasDecoratorInputTransform,"cdkConnectedOverlayPush","push",Yn],disposeOnNavigation:[Ie.HasDecoratorInputTransform,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",Yn]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[Xs,wt]});let t=e;return t})();function rZ(t){return()=>t.scrollStrategies.reposition()}var iZ={provide:DO,deps:[nl],useFactory:rZ},S6e=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=me({providers:[nl,iZ],imports:[Q2,nO,xy,xy]});let t=e;return t})();function oZ(t,e){t&1&&Wn(0,"span",10)}function sZ(t,e){t&1&&Wn(0,"span",11)}function aZ(t,e){t&1&&Wn(0,"span",12)}function cZ(t,e){t&1&&Wn(0,"span",13)}function lZ(t,e){t&1&&Wn(0,"span",14)}function uZ(t,e){if(t&1&&(Yl(0),Wn(1,"span",15),Ql()),t&2){let n=b7();cr(),qn("innerHTML",n.instance.content,WE)}}function hZ(t,e){if(t&1){let n=iM();io(0,"nz-message",2),Bc("destroyed",function(i){Xb(n);let o=b7();return Zb(o.remove(i.id,i.userAction))}),Go()}if(t&2){let n=e.$implicit;qn("instance",n)}}var dZ=0,Fy=class{constructor(e,n,r){this.nzSingletonService=e,this.overlay=n,this.injector=r}remove(e){this.container&&(e?this.container.remove(e):this.container.removeAll())}getInstanceId(){return`${this.componentPrefix}-${dZ++}`}withContainer(e){let n=this.nzSingletonService.getSingletonWithKey(this.componentPrefix);if(n)return n;let r=this.overlay.create({hasBackdrop:!1,scrollStrategy:this.overlay.scrollStrategies.noop(),positionStrategy:this.overlay.position().global()}),i=new W2(e,null,this.injector),o=r.attach(i),s=r.hostElement;return s.style.zIndex="1010",n||(this.container=n=o.instance,this.nzSingletonService.registerSingletonWithKey(this.componentPrefix,n),this.container.afterAllInstancesRemoved.subscribe(()=>{this.container=void 0,this.nzSingletonService.unregisterSingletonWithKey(this.componentPrefix),r.dispose()})),n}},fZ=(()=>{let e=class e{constructor(r,i){this.cdr=r,this.nzConfigService=i,this.instances=[],this._afterAllInstancesRemoved=new Q,this.afterAllInstancesRemoved=this._afterAllInstancesRemoved.asObservable(),this.destroy$=new Q,this.updateConfig()}ngOnInit(){this.subscribeConfigChange()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}create(r){let i=this.onCreate(r);return this.instances.length>=this.config.nzMaxStack&&(this.instances=this.instances.slice(1)),this.instances=[...this.instances,i],this.readyInstances(),i}remove(r,i=!1){this.instances.map((o,s)=>({index:s,instance:o})).filter(({instance:o})=>o.messageId===r).forEach(({index:o,instance:s})=>{this.instances.splice(o,1),this.instances=[...this.instances],this.onRemove(s,i),this.readyInstances()}),this.instances.length||this.onAllInstancesRemoved()}removeAll(){this.instances.forEach(r=>this.onRemove(r,!1)),this.instances=[],this.readyInstances(),this.onAllInstancesRemoved()}onCreate(r){return r.options=this.mergeOptions(r.options),r.onClose=new Q,r}onRemove(r,i){r.onClose.next(i),r.onClose.complete()}onAllInstancesRemoved(){this._afterAllInstancesRemoved.next(),this._afterAllInstancesRemoved.complete()}readyInstances(){this.cdr.detectChanges()}mergeOptions(r){let{nzDuration:i,nzAnimate:o,nzPauseOnHover:s}=this.config;return P({nzDuration:i,nzAnimate:o,nzPauseOnHover:s},r)}};e.\u0275fac=function(i){return new(i||e)(E(Wt),E(Ha))},e.\u0275dir=be({type:e});let t=e;return t})(),pZ=(()=>{let e=class e{constructor(r){this.cdr=r,this.destroyed=new Ue,this.animationStateChanged=new Q,this.userAction=!1,this.eraseTimer=null}ngOnInit(){this.options=this.instance.options,this.options.nzAnimate&&(this.instance.state="enter",this.animationStateChanged.pipe(Pe(r=>r.phaseName==="done"&&r.toState==="leave"),Ct(1)).subscribe(()=>{clearTimeout(this.closeTimer),this.destroyed.next({id:this.instance.messageId,userAction:this.userAction})})),this.autoClose=this.options.nzDuration>0,this.autoClose&&(this.initErase(),this.startEraseTimeout())}ngOnDestroy(){this.autoClose&&this.clearEraseTimeout(),this.animationStateChanged.complete()}onEnter(){this.autoClose&&this.options.nzPauseOnHover&&(this.clearEraseTimeout(),this.updateTTL())}onLeave(){this.autoClose&&this.options.nzPauseOnHover&&this.startEraseTimeout()}destroy(r=!1){this.userAction=r,this.options.nzAnimate?(this.instance.state="leave",this.cdr.detectChanges(),this.closeTimer=setTimeout(()=>{this.closeTimer=void 0,this.destroyed.next({id:this.instance.messageId,userAction:r})},200)):this.destroyed.next({id:this.instance.messageId,userAction:r})}initErase(){this.eraseTTL=this.options.nzDuration,this.eraseTimingStart=Date.now()}updateTTL(){this.autoClose&&(this.eraseTTL-=Date.now()-this.eraseTimingStart)}startEraseTimeout(){this.eraseTTL>0?(this.clearEraseTimeout(),this.eraseTimer=setTimeout(()=>this.destroy(),this.eraseTTL),this.eraseTimingStart=Date.now()):this.destroy()}clearEraseTimeout(){this.eraseTimer!==null&&(clearTimeout(this.eraseTimer),this.eraseTimer=null)}};e.\u0275fac=function(i){return new(i||e)(E(Wt))},e.\u0275dir=be({type:e});let t=e;return t})(),AO=(()=>{let e=class e extends pZ{constructor(r){super(r),this.destroyed=new Ue}};e.\u0275fac=function(i){return new(i||e)(E(Wt))},e.\u0275cmp=pi({type:e,selectors:[["nz-message"]],inputs:{instance:"instance"},outputs:{destroyed:"destroyed"},exportAs:["nzMessage"],standalone:!0,features:[jr,Ei],decls:10,vars:9,consts:[[1,"ant-message-notice",3,"mouseenter","mouseleave"],[1,"ant-message-notice-content"],[1,"ant-message-custom-content",3,"ngClass"],[3,"ngSwitch"],["nz-icon","","nzType","check-circle",4,"ngSwitchCase"],["nz-icon","","nzType","info-circle",4,"ngSwitchCase"],["nz-icon","","nzType","exclamation-circle",4,"ngSwitchCase"],["nz-icon","","nzType","close-circle",4,"ngSwitchCase"],["nz-icon","","nzType","loading",4,"ngSwitchCase"],[4,"nzStringTemplateOutlet"],["nz-icon","","nzType","check-circle"],["nz-icon","","nzType","info-circle"],["nz-icon","","nzType","exclamation-circle"],["nz-icon","","nzType","close-circle"],["nz-icon","","nzType","loading"],[3,"innerHTML"]],template:function(i,o){i&1&&(io(0,"div",0),Bc("@moveUpMotion.done",function(a){return o.animationStateChanged.next(a)})("mouseenter",function(){return o.onEnter()})("mouseleave",function(){return o.onLeave()}),io(1,"div",1)(2,"div",2),Yl(3,3),Ji(4,oZ,1,0,"span",4)(5,sZ,1,0,"span",5)(6,aZ,1,0,"span",6)(7,cZ,1,0,"span",7)(8,lZ,1,0,"span",8),Ql(),Ji(9,uZ,2,1,"ng-container",9),Go()()()),i&2&&(qn("@moveUpMotion",o.instance.state),cr(2),qn("ngClass","ant-message-"+o.instance.type),cr(),qn("ngSwitch",o.instance.type),cr(),qn("ngSwitchCase","success"),cr(),qn("ngSwitchCase","info"),cr(),qn("ngSwitchCase","warning"),cr(),qn("ngSwitchCase","error"),cr(),qn("ngSwitchCase","loading"),cr(),qn("nzStringTemplateOutlet",o.instance.content))},dependencies:[qM,A0,GM,gh,el,sO,oO],encapsulation:2,data:{animation:[iO]},changeDetection:0});let t=e;return t})(),Th="message",mZ={nzAnimate:!0,nzDuration:3e3,nzMaxStack:7,nzPauseOnHover:!0,nzTop:24,nzDirection:"ltr"},zO=(()=>{let e=class e extends fZ{constructor(r,i){super(r,i),this.dir="ltr";let o=this.nzConfigService.getConfigForComponent(Th);this.dir=o?.nzDirection||"ltr"}subscribeConfigChange(){this.nzConfigService.getConfigChangeEventForComponent(Th).pipe(rt(this.destroy$)).subscribe(()=>{this.updateConfig();let r=this.nzConfigService.getConfigForComponent(Th);if(r){let{nzDirection:i}=r;this.dir=i||this.dir}})}updateConfig(){this.config=P(P(P({},mZ),this.config),this.nzConfigService.getConfigForComponent(Th)),this.top=PR(this.config.nzTop),this.cdr.markForCheck()}};e.\u0275fac=function(i){return new(i||e)(E(Wt),E(Ha))},e.\u0275cmp=pi({type:e,selectors:[["nz-message-container"]],exportAs:["nzMessageContainer"],standalone:!0,features:[jr,Ei],decls:2,vars:5,consts:[[1,"ant-message"],[3,"instance","destroyed",4,"ngFor","ngForOf"],[3,"destroyed","instance"]],template:function(i,o){i&1&&(io(0,"div",0),Ji(1,hZ,1,1,"nz-message",1),Go()),i&2&&(Hc("top",o.top),bi("ant-message-rtl",o.dir==="rtl"),cr(),qn("ngForOf",o.instances))},dependencies:[AO,WM],encapsulation:2,changeDetection:0});let t=e;return t})(),Y6e=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=me({imports:[zO,AO]});let t=e;return t})(),Q6e=(()=>{let e=class e extends Fy{constructor(r,i,o){super(r,i,o),this.componentPrefix="message-"}success(r,i){return this.createInstance({type:"success",content:r},i)}error(r,i){return this.createInstance({type:"error",content:r},i)}info(r,i){return this.createInstance({type:"info",content:r},i)}warning(r,i){return this.createInstance({type:"warning",content:r},i)}loading(r,i){return this.createInstance({type:"loading",content:r},i)}create(r,i,o){return this.createInstance({type:r,content:i},o)}createInstance(r,i){return this.container=this.withContainer(zO),this.container.create(je(P({},r),{createdAt:new Date,messageId:this.getInstanceId(),options:i}))}};e.\u0275fac=function(i){return new(i||e)(v(uO),v(nl),v(Kt))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function C(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function V(t){C(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||zo(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Bi(t){C(1,arguments);var e=V(t);return e.setHours(0,0,0,0),e}function Z2(t){C(1,arguments);var e=V(t);return e.setHours(23,59,59,999),e}function RO(){return Z2(Date.now())}function Hy(t){return C(1,arguments),t instanceof Date||zo(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Ih(t){if(C(1,arguments),!Hy(t)&&typeof t!="number")return!1;var e=V(t);return!isNaN(Number(e))}function ce(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function J2(t,e){C(2,arguments);var n=V(t).getTime(),r=ce(e);return new Date(n+r)}function eu(t,e){C(2,arguments);var n=ce(e);return J2(t,-n)}var gZ=864e5;function By(t){C(1,arguments);var e=V(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/gZ)+1}function xr(t){C(1,arguments);var e=1,n=V(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function tu(t){C(1,arguments);var e=V(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=xr(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var s=xr(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function jy(t){C(1,arguments);var e=tu(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=xr(n);return r}var vZ=6048e5;function nu(t){C(1,arguments);var e=V(t),n=xr(e).getTime()-jy(e).getTime();return Math.round(n/vZ)+1}var yZ={};function En(){return yZ}function yr(t,e){var n,r,i,o,s,a,c,l;C(1,arguments);var u=En(),h=ce((n=(r=(i=(o=e?.weekStartsOn)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(l=c.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=V(t),f=d.getUTCDay(),p=(f<h?7:0)+f-h;return d.setUTCDate(d.getUTCDate()-p),d.setUTCHours(0,0,0,0),d}function $a(t,e){var n,r,i,o,s,a,c,l;C(1,arguments);var u=V(t),h=u.getUTCFullYear(),d=En(),f=ce((n=(r=(i=(o=e?.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(l=c.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(h+1,0,f),p.setUTCHours(0,0,0,0);var m=yr(p,e),g=new Date(0);g.setUTCFullYear(h,0,f),g.setUTCHours(0,0,0,0);var b=yr(g,e);return u.getTime()>=m.getTime()?h+1:u.getTime()>=b.getTime()?h:h-1}function Uy(t,e){var n,r,i,o,s,a,c,l;C(1,arguments);var u=En(),h=ce((n=(r=(i=(o=e?.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:u.firstWeekContainsDate)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(l=c.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:1),d=$a(t,e),f=new Date(0);f.setUTCFullYear(d,0,h),f.setUTCHours(0,0,0,0);var p=yr(f,e);return p}var wZ=6048e5;function ru(t,e){C(1,arguments);var n=V(t),r=yr(n,e).getTime()-Uy(n,e).getTime();return Math.round(r/wZ)+1}function Be(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var _Z={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return Be(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):Be(r+1,2)},d:function(e,n){return Be(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return Be(e.getUTCHours()%12||12,n.length)},H:function(e,n){return Be(e.getUTCHours(),n.length)},m:function(e,n){return Be(e.getUTCMinutes(),n.length)},s:function(e,n){return Be(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),o=Math.floor(i*Math.pow(10,r-3));return Be(o,n.length)}},Io=_Z;var rl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},bZ={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),o=i>0?i:1-i;return r.ordinalNumber(o,{unit:"year"})}return Io.y(e,n)},Y:function(e,n,r,i){var o=$a(e,i),s=o>0?o:1-o;if(n==="YY"){var a=s%100;return Be(a,2)}return n==="Yo"?r.ordinalNumber(s,{unit:"year"}):Be(s,n.length)},R:function(e,n){var r=tu(e);return Be(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return Be(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return Be(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return Be(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return Io.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return Be(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var o=ru(e,i);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):Be(o,n.length)},I:function(e,n,r){var i=nu(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):Be(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Io.d(e,n)},D:function(e,n,r){var i=By(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):Be(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var o=e.getUTCDay(),s=(o-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(s);case"ee":return Be(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var o=e.getUTCDay(),s=(o-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(s);case"cc":return Be(s,n.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),o=i===0?7:i;switch(n){case"i":return String(o);case"ii":return Be(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),o=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),o;switch(i===12?o=rl.noon:i===0?o=rl.midnight:o=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),o;switch(i>=17?o=rl.evening:i>=12?o=rl.afternoon:i>=4?o=rl.morning:o=rl.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Io.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Io.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):Be(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):Be(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Io.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Io.s(e,n)},S:function(e,n){return Io.S(e,n)},X:function(e,n,r,i){var o=i._originalDate||e,s=o.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return VO(s);case"XXXX":case"XX":return qa(s);case"XXXXX":case"XXX":default:return qa(s,":")}},x:function(e,n,r,i){var o=i._originalDate||e,s=o.getTimezoneOffset();switch(n){case"x":return VO(s);case"xxxx":case"xx":return qa(s);case"xxxxx":case"xxx":default:return qa(s,":")}},O:function(e,n,r,i){var o=i._originalDate||e,s=o.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+OO(s,":");case"OOOO":default:return"GMT"+qa(s,":")}},z:function(e,n,r,i){var o=i._originalDate||e,s=o.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+OO(s,":");case"zzzz":default:return"GMT"+qa(s,":")}},t:function(e,n,r,i){var o=i._originalDate||e,s=Math.floor(o.getTime()/1e3);return Be(s,n.length)},T:function(e,n,r,i){var o=i._originalDate||e,s=o.getTime();return Be(s,n.length)}};function OO(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),o=r%60;if(o===0)return n+String(i);var s=e||"";return n+String(i)+s+Be(o,2)}function VO(t,e){if(t%60===0){var n=t>0?"-":"+";return n+Be(Math.abs(t)/60,2)}return qa(t,e)}function qa(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),o=Be(Math.floor(i/60),2),s=Be(i%60,2);return r+o+n+s}var PO=bZ;var NO=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},kO=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},EZ=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return NO(e,n);var s;switch(i){case"P":s=n.dateTime({width:"short"});break;case"PP":s=n.dateTime({width:"medium"});break;case"PPP":s=n.dateTime({width:"long"});break;case"PPPP":default:s=n.dateTime({width:"full"});break}return s.replace("{{date}}",NO(i,n)).replace("{{time}}",kO(o,n))},CZ={p:kO,P:EZ},iu=CZ;function Ts(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}var MZ=["D","DD"],TZ=["YY","YYYY"];function Dh(t){return MZ.indexOf(t)!==-1}function Sh(t){return TZ.indexOf(t)!==-1}function il(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var IZ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},DZ=function(e,n,r){var i,o=IZ[e];return typeof o=="string"?i=o:n===1?i=o.one:i=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i},LO=DZ;function ou(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var SZ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},xZ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},AZ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zZ={date:ou({formats:SZ,defaultWidth:"full"}),time:ou({formats:xZ,defaultWidth:"full"}),dateTime:ou({formats:AZ,defaultWidth:"full"})},FO=zZ;var RZ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},OZ=function(e,n,r,i){return RZ[e]},HO=OZ;function Wa(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,s=n!=null&&n.width?String(n.width):o;i=t.formattingValues[s]||t.formattingValues[o]}else{var a=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[c]||t.values[a]}var l=t.argumentCallback?t.argumentCallback(e):e;return i[l]}}var VZ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},PZ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},NZ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},kZ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},LZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},FZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},HZ=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},BZ={ordinalNumber:HZ,era:Wa({values:VZ,defaultWidth:"wide"}),quarter:Wa({values:PZ,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Wa({values:NZ,defaultWidth:"wide"}),day:Wa({values:kZ,defaultWidth:"wide"}),dayPeriod:Wa({values:LZ,defaultWidth:"wide",formattingValues:FZ,defaultFormattingWidth:"wide"})},BO=BZ;function Ga(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;var s=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(a)?UZ(a,function(h){return h.test(s)}):jZ(a,function(h){return h.test(s)}),l;l=t.valueCallback?t.valueCallback(c):c,l=n.valueCallback?n.valueCallback(l):l;var u=e.slice(s.length);return{value:l,rest:u}}}function jZ(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function UZ(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function $y(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],o=e.match(t.parsePattern);if(!o)return null;var s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;var a=e.slice(i.length);return{value:s,rest:a}}}var $Z=/^(\d+)(th|st|nd|rd)?/i,qZ=/\d+/i,WZ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},GZ={any:[/^b/i,/^(a|c)/i]},YZ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},QZ={any:[/1/i,/2/i,/3/i,/4/i]},KZ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},XZ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ZZ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},JZ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},eJ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},tJ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},nJ={ordinalNumber:$y({matchPattern:$Z,parsePattern:qZ,valueCallback:function(e){return parseInt(e,10)}}),era:Ga({matchPatterns:WZ,defaultMatchWidth:"wide",parsePatterns:GZ,defaultParseWidth:"any"}),quarter:Ga({matchPatterns:YZ,defaultMatchWidth:"wide",parsePatterns:QZ,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Ga({matchPatterns:KZ,defaultMatchWidth:"wide",parsePatterns:XZ,defaultParseWidth:"any"}),day:Ga({matchPatterns:ZZ,defaultMatchWidth:"wide",parsePatterns:JZ,defaultParseWidth:"any"}),dayPeriod:Ga({matchPatterns:eJ,defaultMatchWidth:"any",parsePatterns:tJ,defaultParseWidth:"any"})},jO=nJ;var rJ={code:"en-US",formatDistance:LO,formatLong:FO,formatRelative:HO,localize:BO,match:jO,options:{weekStartsOn:0,firstWeekContainsDate:1}},UO=rJ;var xh=UO;var iJ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,oJ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,sJ=/^'([^]*?)'?$/,aJ=/''/g,cJ=/[a-zA-Z]/;function $O(t,e,n){var r,i,o,s,a,c,l,u,h,d,f,p,m,g,b,S,M,N;C(2,arguments);var Z=String(e),B=En(),re=(r=(i=n?.locale)!==null&&i!==void 0?i:B.locale)!==null&&r!==void 0?r:xh,Me=ce((o=(s=(a=(c=n?.firstWeekContainsDate)!==null&&c!==void 0?c:n==null||(l=n.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&a!==void 0?a:B.firstWeekContainsDate)!==null&&s!==void 0?s:(h=B.locale)===null||h===void 0||(d=h.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(Me>=1&&Me<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var Ot=ce((f=(p=(m=(g=n?.weekStartsOn)!==null&&g!==void 0?g:n==null||(b=n.locale)===null||b===void 0||(S=b.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&m!==void 0?m:B.weekStartsOn)!==null&&p!==void 0?p:(M=B.locale)===null||M===void 0||(N=M.options)===null||N===void 0?void 0:N.weekStartsOn)!==null&&f!==void 0?f:0);if(!(Ot>=0&&Ot<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!re.localize)throw new RangeError("locale must contain localize property");if(!re.formatLong)throw new RangeError("locale must contain formatLong property");var Vt=V(t);if(!Ih(Vt))throw new RangeError("Invalid time value");var So=Ts(Vt),Jn=eu(Vt,So),Ui={firstWeekContainsDate:Me,weekStartsOn:Ot,locale:re,_originalDate:Vt},tc=Z.match(oJ).map(function(Pt){var L=Pt[0];if(L==="p"||L==="P"){var J=iu[L];return J(Pt,re.formatLong)}return Pt}).join("").match(iJ).map(function(Pt){if(Pt==="''")return"'";var L=Pt[0];if(L==="'")return lJ(Pt);var J=PO[L];if(J)return!(n!=null&&n.useAdditionalWeekYearTokens)&&Sh(Pt)&&il(Pt,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&Dh(Pt)&&il(Pt,e,String(t)),J(Jn,Pt,re.localize,Ui);if(L.match(cJ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");return Pt}).join("");return tc}function lJ(t){var e=t.match(sJ);return e?e[1].replace(aJ,"'"):t}function qO(t){C(1,arguments);var e=ce(t);return V(e*1e3)}function WO(){return Bi(Date.now())}function Ah(t,e){C(2,arguments);var n=V(t),r=ce(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function zh(t,e){C(2,arguments);var n=V(t),r=ce(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),o=new Date(n.getTime());o.setMonth(n.getMonth()+r+1,0);var s=o.getDate();return i>=s?o:(n.setFullYear(o.getFullYear(),o.getMonth(),i),n)}function Rh(t,e){var n,r,i,o,s,a,c,l;C(1,arguments);var u=En(),h=ce((n=(r=(i=(o=e?.weekStartsOn)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(l=c.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=V(t),f=d.getDay(),p=(f<h?7:0)+f-h;return d.setDate(d.getDate()-p),d.setHours(0,0,0,0),d}function Is(t){return C(1,arguments),Rh(t,{weekStartsOn:1})}function qy(t){C(1,arguments);var e=V(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var i=Is(r),o=new Date(0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);var s=Is(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function Wy(t){C(1,arguments);var e=qy(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=Is(n);return r}var uJ=864e5;function GO(t,e){C(2,arguments);var n=Bi(t),r=Bi(e),i=n.getTime()-Ts(n),o=r.getTime()-Ts(r);return Math.round((i-o)/uJ)}var hJ=6e4;function YO(t,e){C(2,arguments);var n=ce(e);return J2(t,n*hJ)}function QO(t,e){C(2,arguments);var n=ce(e);return zh(t,n*12)}var dJ=365.2425,fJ=Math.pow(10,8)*24*60*60*1e3,Oh=6e4,Vh=36e5,KO=1e3,Qfe=-fJ;var pJ=3600;var XO=pJ*24,Kfe=XO*7,mJ=XO*dJ,gJ=mJ/12,Xfe=gJ*3;function Ph(t,e){C(2,arguments);var n=Bi(t),r=Bi(e);return n.getTime()===r.getTime()}function ZO(t,e){C(2,arguments);var n=V(t),r=V(e),i=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return i*12+o}function JO(t,e){C(2,arguments);var n=V(t),r=V(e);return n.getFullYear()-r.getFullYear()}function Ya(t,e){return C(2,arguments),V(t).getTime()-V(e).getTime()}var eV={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},vJ="trunc";function ol(t){return t?eV[t]:eV[vJ]}function tV(t,e,n){C(2,arguments);var r=Ya(t,e)/Vh;return ol(n?.roundingMethod)(r)}function nV(t,e,n){C(2,arguments);var r=Ya(t,e)/Oh;return ol(n?.roundingMethod)(r)}function Gy(t){C(1,arguments);var e=V(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function rV(t){C(1,arguments);var e=V(t);return Z2(e).getTime()===Gy(e).getTime()}function iV(t,e,n){C(2,arguments);var r=Ya(t,e)/1e3;return ol(n?.roundingMethod)(r)}function Nh(t){C(1,arguments);var e=V(t);return e.setSeconds(0,0),e}function oV(t){C(1,arguments);var e=V(t);return e.setDate(1),e.setHours(0,0,0,0),e}function Yy(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function Qy(t){C(1,arguments);var e=V(t),n=e.getFullYear(),r=e.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}var yJ=6048e5;function sV(t){C(1,arguments);var e=V(t),n=Is(e).getTime()-Wy(e).getTime();return Math.round(n/yJ)+1}function aV(t){return C(1,arguments),V(t).getDate()===1}function kh(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=jw(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,a;return{s:function(){n=n.call(t)},n:function(){var l=n.next();return o=l.done,l},e:function(l){s=!0,a=l},f:function(){try{!o&&n.return!=null&&n.return()}finally{if(s)throw a}}}}function Lh(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lh=function(){return!!t})()}function G(t){var e=Lh();return function(){var r=fd(t),i;if(e){var o=fd(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Uw(this,i)}}var wJ=10,cV=function(){function t(){U(this,t),I(this,"priority",void 0),I(this,"subPriority",0)}return $(t,[{key:"validate",value:function(n,r){return!0}}]),t}(),lV=function(t){Y(n,t);var e=G(n);function n(r,i,o,s,a){var c;return U(this,n),c=e.call(this),c.value=r,c.validateValue=i,c.setValue=o,c.priority=s,a&&(c.subPriority=a),c}return $(n,[{key:"validate",value:function(i,o){return this.validateValue(i,this.value,o)}},{key:"set",value:function(i,o,s){return this.setValue(i,o,this.value,s)}}]),n}(cV),uV=function(t){Y(n,t);var e=G(n);function n(){var r;U(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),I(z(r),"priority",wJ),I(z(r),"subPriority",-1),r}return $(n,[{key:"set",value:function(i,o){if(o.timestampIsSet)return i;var s=new Date(0);return s.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),s.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),s}}]),n}(cV);var X=function(){function t(){U(this,t),I(this,"incompatibleTokens",void 0),I(this,"priority",void 0),I(this,"subPriority",void 0)}return $(t,[{key:"run",value:function(n,r,i,o){var s=this.parse(n,r,i,o);return s?{setter:new lV(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),t}();var hV=function(t){Y(n,t);var e=G(n);function n(){var r;U(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),I(z(r),"priority",140),I(z(r),"incompatibleTokens",["R","u","t","T"]),r}return $(n,[{key:"parse",value:function(i,o,s){switch(o){case"G":case"GG":case"GGG":return s.era(i,{width:"abbreviated"})||s.era(i,{width:"narrow"});case"GGGGG":return s.era(i,{width:"narrow"});case"GGGG":default:return s.era(i,{width:"wide"})||s.era(i,{width:"abbreviated"})||s.era(i,{width:"narrow"})}}},{key:"set",value:function(i,o,s){return o.era=s,i.setUTCFullYear(s,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(X);var Fe={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ar={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ke(t,e){return t&&{value:e(t.value),rest:t.rest}}function Ve(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function zr(t,e){var n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(i*Vh+o*Oh+s*KO),rest:e.slice(n[0].length)}}function Fh(t){return Ve(Fe.anyDigitsSigned,t)}function _e(t,e){switch(t){case 1:return Ve(Fe.singleDigit,e);case 2:return Ve(Fe.twoDigits,e);case 3:return Ve(Fe.threeDigits,e);case 4:return Ve(Fe.fourDigits,e);default:return Ve(new RegExp("^\\d{1,"+t+"}"),e)}}function sl(t,e){switch(t){case 1:return Ve(Fe.singleDigitSigned,e);case 2:return Ve(Fe.twoDigitsSigned,e);case 3:return Ve(Fe.threeDigitsSigned,e);case 4:return Ve(Fe.fourDigitsSigned,e);default:return Ve(new RegExp("^-?\\d{1,"+t+"}"),e)}}function al(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Hh(t,e){var n=e>0,r=n?e:1-e,i;if(r<=50)i=t||100;else{var o=r+50,s=Math.floor(o/100)*100,a=t>=o%100;i=t+s-(a?100:0)}return n?i:1-i}function Bh(t){return t%400===0||t%4===0&&t%100!==0}var dV=function(t){Y(n,t);var e=G(n);function n(){var r;U(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),I(z(r),"priority",130),I(z(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return $(n,[{key:"parse",value:function(i,o,s){var a=function(l){return{year:l,isTwoDigitYear:o==="yy"}};switch(o){case"y":return Ke(_e(4,i),a);case"yo":return Ke(s.ordinalNumber(i,{unit:"year"}),a);default:return Ke(_e(o.length,i),a)}}},{key:"validate",value:function(i,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(i,o,s){var a=i.getUTCFullYear();if(s.isTwoDigitYear){var c=Hh(s.year,a);return i.setUTCFullYear(c,0,1),i.setUTCHours(0,0,0,0),i}var l=!("era"in o)||o.era===1?s.year:1-s.year;return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(X);var fV=function(t){Y(n,t);var e=G(n);function n(){var r;U(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),I(z(r),"priority",130),I(z(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return $(n,[{key:"parse",value:function(i,o,s){var a=function(l){return{year:l,isTwoDigitYear:o==="YY"}};switch(o){case"Y":return Ke(_e(4,i),a);case"Yo":return Ke(s.ordinalNumber(i,{unit:"year"}),a);default:return Ke(_e(o.length,i),a)}}},{key:"validate",value:function(i,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(i,o,s,a){var c=$a(i,a);if(s.isTwoDigitYear){var l=Hh(s.year,c);return i.setUTCFullYear(l,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),yr(i,a)}var u=!("era"in o)||o.era===1?s.year:1-s.year;return i.setUTCFullYear(u,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),yr(i,a)}}]),n}(X);var pV=function(t){Y(n,t);var e=G(n);function n(){var r;U(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),I(z(r),"priority",130),I(z(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return $(n,[{key:"parse",value:function(i,o){return o==="R"?sl(4,i):sl(o.length,i)}},{key:"set",value:function(i,o,s){var a=new Date(0);return a.setUTCFullYear(s,0,4),a.setUTCHours(0,0,0,0),xr(a)}}]),n}(X);var mV=function(t){Y(n,t);var e=G(n);function n(){var r;U(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),I(z(r),"priority",130),I(z(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return $(n,[{key:"parse",value:function(i,o){return o==="u"?sl(4,i):sl(o.length,i)}},{key:"set",value:function(i,o,s){return i.setUTCFullYear(s,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(X);var gV=function(t){Y(n,t);var e=G(n);function n(){var r;U(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),I(z(r),"priority",120),I(z(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return $(n,[{key:"parse",value:function(i,o,s){switch(o){case"Q":case"QQ":return _e(o.length,i);case"Qo":return s.ordinalNumber(i,{unit:"quarter"});case"QQQ":return s.quarter(i,{width:"abbreviated",context:"formatting"})||s.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(i,{width:"wide",context:"formatting"})||s.quarter(i,{width:"abbreviated",context:"formatting"})||s.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=1&&o<=4}},{key:"set",value:function(i,o,s){return i.setUTCMonth((s-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(X);var vV=function(t){Y(n,t);var e=G(n);function n(){var r;U(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),I(z(r),"priority",120),I(z(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return $(n,[{key:"parse",value:function(i,o,s){switch(o){case"q":case"qq":return _e(o.length,i);case"qo":return s.ordinalNumber(i,{unit:"quarter"});case"qqq":return s.quarter(i,{width:"abbreviated",context:"standalone"})||s.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(i,{width:"wide",context:"standalone"})||s.quarter(i,{width:"abbreviated",context:"standalone"})||s.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=1&&o<=4}},{key:"set",value:function(i,o,s){return i.setUTCMonth((s-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(X);var yV=function(t){Y(n,t);var e=G(n);function n(){var r;U(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),I(z(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),I(z(r),"priority",110),r}return $(n,[{key:"parse",value:function(i,o,s){var a=function(l){return l-1};switch(o){case"M":return Ke(Ve(Fe.month,i),a);case"MM":return Ke(_e(2,i),a);case"Mo":return Ke(s.ordinalNumber(i,{unit:"month"}),a);case"MMM":return s.month(i,{width:"abbreviated",context:"formatting"})||s.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(i,{width:"wide",context:"formatting"})||s.month(i,{width:"abbreviated",context:"formatting"})||s.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,s){return i.setUTCMonth(s,1),i.setUTCHours(0,0,0,0),i}}]),n}(X);var wV=function(t){Y(n,t);var e=G(n);function n(){var r;U(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),I(z(r),"priority",110),I(z(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return $(n,[{key:"parse",value:function(i,o,s){var a=function(l){return l-1};switch(o){case"L":return Ke(Ve(Fe.month,i),a);case"LL":return Ke(_e(2,i),a);case"Lo":return Ke(s.ordinalNumber(i,{unit:"month"}),a);case"LLL":return s.month(i,{width:"abbreviated",context:"standalone"})||s.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(i,{width:"wide",context:"standalone"})||s.month(i,{width:"abbreviated",context:"standalone"})||s.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,s){return i.setUTCMonth(s,1),i.setUTCHours(0,0,0,0),i}}]),n}(X);function Ky(t,e,n){C(2,arguments);var r=V(t),i=ce(e),o=ru(r,n)-i;return r.setUTCDate(r.getUTCDate()-o*7),r}var _V=function(t){Y(n,t);var e=G(n);function n(){var r;U(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),I(z(r),"priority",100),I(z(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return $(n,[{key:"parse",value:function(i,o,s){switch(o){case"w":return Ve(Fe.week,i);case"wo":return s.ordinalNumber(i,{unit:"week"});default:return _e(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=53}},{key:"set",value:function(i,o,s,a){return yr(Ky(i,s,a),a)}}]),n}(X);function Xy(t,e){C(2,arguments);var n=V(t),r=ce(e),i=nu(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var bV=function(t){Y(n,t);var e=G(n);function n(){var r;U(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),I(z(r),"priority",100),I(z(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return $(n,[{key:"parse",value:function(i,o,s){switch(o){case"I":return Ve(Fe.week,i);case"Io":return s.ordinalNumber(i,{unit:"week"});default:return _e(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=53}},{key:"set",value:function(i,o,s){return xr(Xy(i,s))}}]),n}(X);var _J=[31,28,31,30,31,30,31,31,30,31,30,31],bJ=[31,29,31,30,31,30,31,31,30,31,30,31],EV=function(t){Y(n,t);var e=G(n);function n(){var r;U(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),I(z(r),"priority",90),I(z(r),"subPriority",1),I(z(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return $(n,[{key:"parse",value:function(i,o,s){switch(o){case"d":return Ve(Fe.date,i);case"do":return s.ordinalNumber(i,{unit:"date"});default:return _e(o.length,i)}}},{key:"validate",value:function(i,o){var s=i.getUTCFullYear(),a=Bh(s),c=i.getUTCMonth();return a?o>=1&&o<=bJ[c]:o>=1&&o<=_J[c]}},{key:"set",value:function(i,o,s){return i.setUTCDate(s),i.setUTCHours(0,0,0,0),i}}]),n}(X);var CV=function(t){Y(n,t);var e=G(n);function n(){var r;U(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),I(z(r),"priority",90),I(z(r),"subpriority",1),I(z(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return $(n,[{key:"parse",value:function(i,o,s){switch(o){case"D":case"DD":return Ve(Fe.dayOfYear,i);case"Do":return s.ordinalNumber(i,{unit:"date"});default:return _e(o.length,i)}}},{key:"validate",value:function(i,o){var s=i.getUTCFullYear(),a=Bh(s);return a?o>=1&&o<=366:o>=1&&o<=365}},{key:"set",value:function(i,o,s){return i.setUTCMonth(0,s),i.setUTCHours(0,0,0,0),i}}]),n}(X);function Qa(t,e,n){var r,i,o,s,a,c,l,u;C(2,arguments);var h=En(),d=ce((r=(i=(o=(s=n?.weekStartsOn)!==null&&s!==void 0?s:n==null||(a=n.locale)===null||a===void 0||(c=a.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&o!==void 0?o:h.weekStartsOn)!==null&&i!==void 0?i:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=V(t),p=ce(e),m=f.getUTCDay(),g=p%7,b=(g+7)%7,S=(b<d?7:0)+p-m;return f.setUTCDate(f.getUTCDate()+S),f}var MV=function(t){Y(n,t);var e=G(n);function n(){var r;U(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),I(z(r),"priority",90),I(z(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return $(n,[{key:"parse",value:function(i,o,s){switch(o){case"E":case"EE":case"EEE":return s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,s,a){return i=Qa(i,s,a),i.setUTCHours(0,0,0,0),i}}]),n}(X);var TV=function(t){Y(n,t);var e=G(n);function n(){var r;U(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),I(z(r),"priority",90),I(z(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return $(n,[{key:"parse",value:function(i,o,s,a){var c=function(u){var h=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+h};switch(o){case"e":case"ee":return Ke(_e(o.length,i),c);case"eo":return Ke(s.ordinalNumber(i,{unit:"day"}),c);case"eee":return s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,s,a){return i=Qa(i,s,a),i.setUTCHours(0,0,0,0),i}}]),n}(X);var IV=function(t){Y(n,t);var e=G(n);function n(){var r;U(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),I(z(r),"priority",90),I(z(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return $(n,[{key:"parse",value:function(i,o,s,a){var c=function(u){var h=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+h};switch(o){case"c":case"cc":return Ke(_e(o.length,i),c);case"co":return Ke(s.ordinalNumber(i,{unit:"day"}),c);case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"})||s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})||s.day(i,{width:"abbreviated",context:"standalone"})||s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,s,a){return i=Qa(i,s,a),i.setUTCHours(0,0,0,0),i}}]),n}(X);function Zy(t,e){C(2,arguments);var n=ce(e);n%7===0&&(n=n-7);var r=1,i=V(t),o=i.getUTCDay(),s=n%7,a=(s+7)%7,c=(a<r?7:0)+n-o;return i.setUTCDate(i.getUTCDate()+c),i}var DV=function(t){Y(n,t);var e=G(n);function n(){var r;U(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),I(z(r),"priority",90),I(z(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return $(n,[{key:"parse",value:function(i,o,s){var a=function(l){return l===0?7:l};switch(o){case"i":case"ii":return _e(o.length,i);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return Ke(s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),a);case"iiiii":return Ke(s.day(i,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Ke(s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Ke(s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(i,o){return o>=1&&o<=7}},{key:"set",value:function(i,o,s){return i=Zy(i,s),i.setUTCHours(0,0,0,0),i}}]),n}(X);var SV=function(t){Y(n,t);var e=G(n);function n(){var r;U(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),I(z(r),"priority",80),I(z(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return $(n,[{key:"parse",value:function(i,o,s){switch(o){case"a":case"aa":case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,s){return i.setUTCHours(al(s),0,0,0),i}}]),n}(X);var xV=function(t){Y(n,t);var e=G(n);function n(){var r;U(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),I(z(r),"priority",80),I(z(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return $(n,[{key:"parse",value:function(i,o,s){switch(o){case"b":case"bb":case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,s){return i.setUTCHours(al(s),0,0,0),i}}]),n}(X);var AV=function(t){Y(n,t);var e=G(n);function n(){var r;U(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),I(z(r),"priority",80),I(z(r),"incompatibleTokens",["a","b","t","T"]),r}return $(n,[{key:"parse",value:function(i,o,s){switch(o){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,s){return i.setUTCHours(al(s),0,0,0),i}}]),n}(X);var zV=function(t){Y(n,t);var e=G(n);function n(){var r;U(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),I(z(r),"priority",70),I(z(r),"incompatibleTokens",["H","K","k","t","T"]),r}return $(n,[{key:"parse",value:function(i,o,s){switch(o){case"h":return Ve(Fe.hour12h,i);case"ho":return s.ordinalNumber(i,{unit:"hour"});default:return _e(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=12}},{key:"set",value:function(i,o,s){var a=i.getUTCHours()>=12;return a&&s<12?i.setUTCHours(s+12,0,0,0):!a&&s===12?i.setUTCHours(0,0,0,0):i.setUTCHours(s,0,0,0),i}}]),n}(X);var RV=function(t){Y(n,t);var e=G(n);function n(){var r;U(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),I(z(r),"priority",70),I(z(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return $(n,[{key:"parse",value:function(i,o,s){switch(o){case"H":return Ve(Fe.hour23h,i);case"Ho":return s.ordinalNumber(i,{unit:"hour"});default:return _e(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=23}},{key:"set",value:function(i,o,s){return i.setUTCHours(s,0,0,0),i}}]),n}(X);var OV=function(t){Y(n,t);var e=G(n);function n(){var r;U(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),I(z(r),"priority",70),I(z(r),"incompatibleTokens",["h","H","k","t","T"]),r}return $(n,[{key:"parse",value:function(i,o,s){switch(o){case"K":return Ve(Fe.hour11h,i);case"Ko":return s.ordinalNumber(i,{unit:"hour"});default:return _e(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,s){var a=i.getUTCHours()>=12;return a&&s<12?i.setUTCHours(s+12,0,0,0):i.setUTCHours(s,0,0,0),i}}]),n}(X);var VV=function(t){Y(n,t);var e=G(n);function n(){var r;U(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),I(z(r),"priority",70),I(z(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return $(n,[{key:"parse",value:function(i,o,s){switch(o){case"k":return Ve(Fe.hour24h,i);case"ko":return s.ordinalNumber(i,{unit:"hour"});default:return _e(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=24}},{key:"set",value:function(i,o,s){var a=s<=24?s%24:s;return i.setUTCHours(a,0,0,0),i}}]),n}(X);var PV=function(t){Y(n,t);var e=G(n);function n(){var r;U(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),I(z(r),"priority",60),I(z(r),"incompatibleTokens",["t","T"]),r}return $(n,[{key:"parse",value:function(i,o,s){switch(o){case"m":return Ve(Fe.minute,i);case"mo":return s.ordinalNumber(i,{unit:"minute"});default:return _e(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=59}},{key:"set",value:function(i,o,s){return i.setUTCMinutes(s,0,0),i}}]),n}(X);var NV=function(t){Y(n,t);var e=G(n);function n(){var r;U(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),I(z(r),"priority",50),I(z(r),"incompatibleTokens",["t","T"]),r}return $(n,[{key:"parse",value:function(i,o,s){switch(o){case"s":return Ve(Fe.second,i);case"so":return s.ordinalNumber(i,{unit:"second"});default:return _e(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=59}},{key:"set",value:function(i,o,s){return i.setUTCSeconds(s,0),i}}]),n}(X);var kV=function(t){Y(n,t);var e=G(n);function n(){var r;U(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),I(z(r),"priority",30),I(z(r),"incompatibleTokens",["t","T"]),r}return $(n,[{key:"parse",value:function(i,o){var s=function(c){return Math.floor(c*Math.pow(10,-o.length+3))};return Ke(_e(o.length,i),s)}},{key:"set",value:function(i,o,s){return i.setUTCMilliseconds(s),i}}]),n}(X);var LV=function(t){Y(n,t);var e=G(n);function n(){var r;U(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),I(z(r),"priority",10),I(z(r),"incompatibleTokens",["t","T","x"]),r}return $(n,[{key:"parse",value:function(i,o){switch(o){case"X":return zr(Ar.basicOptionalMinutes,i);case"XX":return zr(Ar.basic,i);case"XXXX":return zr(Ar.basicOptionalSeconds,i);case"XXXXX":return zr(Ar.extendedOptionalSeconds,i);case"XXX":default:return zr(Ar.extended,i)}}},{key:"set",value:function(i,o,s){return o.timestampIsSet?i:new Date(i.getTime()-s)}}]),n}(X);var FV=function(t){Y(n,t);var e=G(n);function n(){var r;U(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),I(z(r),"priority",10),I(z(r),"incompatibleTokens",["t","T","X"]),r}return $(n,[{key:"parse",value:function(i,o){switch(o){case"x":return zr(Ar.basicOptionalMinutes,i);case"xx":return zr(Ar.basic,i);case"xxxx":return zr(Ar.basicOptionalSeconds,i);case"xxxxx":return zr(Ar.extendedOptionalSeconds,i);case"xxx":default:return zr(Ar.extended,i)}}},{key:"set",value:function(i,o,s){return o.timestampIsSet?i:new Date(i.getTime()-s)}}]),n}(X);var HV=function(t){Y(n,t);var e=G(n);function n(){var r;U(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),I(z(r),"priority",40),I(z(r),"incompatibleTokens","*"),r}return $(n,[{key:"parse",value:function(i){return Fh(i)}},{key:"set",value:function(i,o,s){return[new Date(s*1e3),{timestampIsSet:!0}]}}]),n}(X);var BV=function(t){Y(n,t);var e=G(n);function n(){var r;U(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),I(z(r),"priority",20),I(z(r),"incompatibleTokens","*"),r}return $(n,[{key:"parse",value:function(i){return Fh(i)}},{key:"set",value:function(i,o,s){return[new Date(s),{timestampIsSet:!0}]}}]),n}(X);var jV={G:new hV,y:new dV,Y:new fV,R:new pV,u:new mV,Q:new gV,q:new vV,M:new yV,L:new wV,w:new _V,I:new bV,d:new EV,D:new CV,E:new MV,e:new TV,c:new IV,i:new DV,a:new SV,b:new xV,B:new AV,h:new zV,H:new RV,K:new OV,k:new VV,m:new PV,s:new NV,S:new kV,X:new LV,x:new FV,t:new HV,T:new BV};var EJ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,CJ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,MJ=/^'([^]*?)'?$/,TJ=/''/g,IJ=/\S/,DJ=/[a-zA-Z]/;function UV(t,e,n,r){var i,o,s,a,c,l,u,h,d,f,p,m,g,b,S,M,N,Z;C(3,arguments);var B=String(t),re=String(e),Me=En(),Ot=(i=(o=r?.locale)!==null&&o!==void 0?o:Me.locale)!==null&&i!==void 0?i:xh;if(!Ot.match)throw new RangeError("locale must contain match property");var Vt=ce((s=(a=(c=(l=r?.firstWeekContainsDate)!==null&&l!==void 0?l:r==null||(u=r.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&c!==void 0?c:Me.firstWeekContainsDate)!==null&&a!==void 0?a:(d=Me.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(Vt>=1&&Vt<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var So=ce((p=(m=(g=(b=r?.weekStartsOn)!==null&&b!==void 0?b:r==null||(S=r.locale)===null||S===void 0||(M=S.options)===null||M===void 0?void 0:M.weekStartsOn)!==null&&g!==void 0?g:Me.weekStartsOn)!==null&&m!==void 0?m:(N=Me.locale)===null||N===void 0||(Z=N.options)===null||Z===void 0?void 0:Z.weekStartsOn)!==null&&p!==void 0?p:0);if(!(So>=0&&So<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(re==="")return B===""?V(n):new Date(NaN);var Jn={firstWeekContainsDate:Vt,weekStartsOn:So,locale:Ot},Ui=[new uV],tc=re.match(CJ).map(function(nt){var Te=nt[0];if(Te in iu){var nn=iu[Te];return nn(nt,Ot.formatLong)}return nt}).join("").match(EJ),Pt=[],L=kh(tc),J;try{var ae=function(){var Te=J.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&Sh(Te)&&il(Te,re,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&Dh(Te)&&il(Te,re,t);var nn=Te[0],xo=jV[nn];if(xo){var Aw=xo.incompatibleTokens;if(Array.isArray(Aw)){var zw=Pt.find(function(Rw){return Aw.includes(Rw.token)||Rw.token===nn});if(zw)throw new RangeError("The format string mustn't contain `".concat(zw.fullToken,"` and `").concat(Te,"` at the same time"))}else if(xo.incompatibleTokens==="*"&&Pt.length>0)throw new RangeError("The format string mustn't contain `".concat(Te,"` and any other token at the same time"));Pt.push({token:nn,fullToken:Te});var cd=xo.run(B,Te,Ot.match,Jn);if(!cd)return{v:new Date(NaN)};Ui.push(cd.setter),B=cd.rest}else{if(nn.match(DJ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+nn+"`");if(Te==="''"?Te="'":nn==="'"&&(Te=SJ(Te)),B.indexOf(Te)===0)B=B.slice(Te.length);else return{v:new Date(NaN)}}};for(L.s();!(J=L.n()).done;){var Re=ae();if(zo(Re)==="object")return Re.v}}catch(nt){L.e(nt)}finally{L.f()}if(B.length>0&&IJ.test(B))return new Date(NaN);var Nt=Ui.map(function(nt){return nt.priority}).sort(function(nt,Te){return Te-nt}).filter(function(nt,Te,nn){return nn.indexOf(nt)===Te}).map(function(nt){return Ui.filter(function(Te){return Te.priority===nt}).sort(function(Te,nn){return nn.subPriority-Te.subPriority})}).map(function(nt){return nt[0]}),Pn=V(n);if(isNaN(Pn.getTime()))return new Date(NaN);var Ut=eu(Pn,Ts(Pn)),Or={},Xe=kh(Nt),hl;try{for(Xe.s();!(hl=Xe.n()).done;){var du=hl.value;if(!du.validate(Ut,Jn))return new Date(NaN);var Dt=du.set(Ut,Or,Jn);Array.isArray(Dt)?(Ut=Dt[0],Yy(Or,Dt[1])):Ut=Dt}}catch(nt){Xe.e(nt)}finally{Xe.f()}return Ut}function SJ(t){return t.match(MJ)[1].replace(TJ,"'")}function jh(t){C(1,arguments);var e=V(t);return e.setMinutes(0,0,0),e}function $V(t,e){C(2,arguments);var n=jh(t),r=jh(e);return n.getTime()===r.getTime()}function qV(t,e){C(2,arguments);var n=Nh(t),r=Nh(e);return n.getTime()===r.getTime()}function WV(t,e){C(2,arguments);var n=V(t),r=V(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Uh(t){C(1,arguments);var e=V(t);return e.setMilliseconds(0),e}function GV(t,e){C(2,arguments);var n=Uh(t),r=Uh(e);return n.getTime()===r.getTime()}function YV(t,e){C(2,arguments);var n=V(t),r=V(e);return n.getFullYear()===r.getFullYear()}function QV(t){return C(1,arguments),Ph(t,Date.now())}function $h(t,e){C(2,arguments);var n=V(t),r=ce(e),i=n.getFullYear(),o=n.getDate(),s=new Date(0);s.setFullYear(i,r,15),s.setHours(0,0,0,0);var a=Qy(s);return n.setMonth(r,Math.min(o,a)),n}function KV(t,e){if(C(2,arguments),zo(e)!=="object"||e===null)throw new RangeError("values parameter must be an object");var n=V(t);return isNaN(n.getTime())?new Date(NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=$h(n,e.month)),e.date!=null&&n.setDate(ce(e.date)),e.hours!=null&&n.setHours(ce(e.hours)),e.minutes!=null&&n.setMinutes(ce(e.minutes)),e.seconds!=null&&n.setSeconds(ce(e.seconds)),e.milliseconds!=null&&n.setMilliseconds(ce(e.milliseconds)),n)}function XV(t,e,n){var r,i,o,s,a,c,l,u;C(2,arguments);var h=En(),d=ce((r=(i=(o=(s=n?.weekStartsOn)!==null&&s!==void 0?s:n==null||(a=n.locale)===null||a===void 0||(c=a.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&o!==void 0?o:h.weekStartsOn)!==null&&i!==void 0?i:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=V(t),p=ce(e),m=f.getDay(),g=p%7,b=(g+7)%7,S=7-d,M=p<0||p>6?p-(m+S)%7:(b+S)%7-(m+S)%7;return Ah(f,M)}function ZV(t,e){C(2,arguments);var n=V(t),r=ce(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}var k_e=(()=>{let e=class e{setHiddenAttribute(){this.hidden?typeof this.hidden=="string"?this.renderer.setAttribute(this.elementRef.nativeElement,"hidden",this.hidden):this.renderer.setAttribute(this.elementRef.nativeElement,"hidden",""):this.renderer.removeAttribute(this.elementRef.nativeElement,"hidden")}constructor(r,i){this.elementRef=r,this.renderer=i,this.hidden=null,this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","")}ngOnChanges(){this.setHiddenAttribute()}ngAfterViewInit(){this.setHiddenAttribute()}};e.\u0275fac=function(i){return new(i||e)(E(Ce),E(ln))},e.\u0275dir=be({type:e,selectors:[["","nz-button",""],["nz-button-group"],["","nz-icon",""],["","nz-menu-item",""],["","nz-submenu",""],["nz-select-top-control"],["nz-select-placeholder"],["nz-input-group"]],inputs:{hidden:"hidden"},standalone:!0,features:[wt]});let t=e;return t})(),JV=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=me({});let t=e;return t})();function eP(t){return new R(3e3,!1)}function xJ(){return new R(3100,!1)}function AJ(){return new R(3101,!1)}function zJ(t){return new R(3001,!1)}function RJ(t){return new R(3003,!1)}function OJ(t){return new R(3004,!1)}function VJ(t,e){return new R(3005,!1)}function PJ(){return new R(3006,!1)}function NJ(){return new R(3007,!1)}function kJ(t,e){return new R(3008,!1)}function LJ(t){return new R(3002,!1)}function FJ(t,e,n,r,i){return new R(3010,!1)}function HJ(){return new R(3011,!1)}function BJ(){return new R(3012,!1)}function jJ(){return new R(3200,!1)}function UJ(){return new R(3202,!1)}function $J(){return new R(3013,!1)}function qJ(t){return new R(3014,!1)}function WJ(t){return new R(3015,!1)}function GJ(t){return new R(3016,!1)}function YJ(t,e){return new R(3404,!1)}function QJ(t){return new R(3502,!1)}function KJ(t){return new R(3503,!1)}function XJ(){return new R(3300,!1)}function ZJ(t){return new R(3504,!1)}function JJ(t){return new R(3301,!1)}function eee(t,e){return new R(3302,!1)}function tee(t){return new R(3303,!1)}function nee(t,e){return new R(3400,!1)}function ree(t){return new R(3401,!1)}function iee(t){return new R(3402,!1)}function oee(t,e){return new R(3505,!1)}function Ds(t){switch(t.length){case 0:return new Ms;case 1:return t[0];default:return new Y2(t)}}function pP(t,e,n=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),u=l==s,h=u&&a||new Map;c.forEach((d,f)=>{let p=f,m=d;if(f!=="offset")switch(p=t.normalizePropertyName(p,i),m){case wh:m=n.get(f);break;case Fi:m=r.get(f);break;default:m=t.normalizeStyleValue(f,p,m,i);break}h.set(p,m)}),u||o.push(h),a=h,s=l}),i.length)throw QJ(i);return o}function bw(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Jy(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Jy(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Jy(n,"destroy",t)));break}}function Jy(t,e,n){let r=n.totalTime,i=!!n.disabled,o=Ew(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,r??t.totalTime,i),s=t._data;return s!=null&&(o._data=s),o}function Ew(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function _r(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function tP(t){let e=t.indexOf(":"),n=t.substring(1,e),r=t.slice(e+1);return[n,r]}var see=typeof document>"u"?null:document.documentElement;function Cw(t){let e=t.parentNode||t.host||null;return e===see?null:e}function aee(t){return t.substring(1,6)=="ebkit"}var Ka=null,nP=!1;function cee(t){Ka||(Ka=lee()||{},nP=Ka.style?"WebkitAppearance"in Ka.style:!1);let e=!0;return Ka.style&&!aee(t)&&(e=t in Ka.style,!e&&nP&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Ka.style)),e}function lee(){return typeof document<"u"?document.body:null}function mP(t,e){for(;e;){if(e===t)return!0;e=Cw(e)}return!1}function gP(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let r=t.querySelector(e);return r?[r]:[]}var Mw=(()=>{let e=class e{validateStyleProperty(r){return cee(r)}matchesElement(r,i){return!1}containsElement(r,i){return mP(r,i)}getParentElement(r){return Cw(r)}query(r,i,o){return gP(r,i,o)}computeStyle(r,i,o){return o||""}animate(r,i,o,s,a,c=[],l){return new Ms(o,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),Sw=class Sw{};Sw.NOOP=new Mw;var Ja=Sw,ec=class{};var uee=1e3,vP="{{",hee="}}",yP="ng-enter",ow="ng-leave",qh="ng-trigger",Kh=".ng-trigger",rP="ng-animating",sw=".ng-animating";function Do(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:aw(parseFloat(e[1]),e[2])}function aw(t,e){switch(e){case"s":return t*uee;default:return t}}function Xh(t,e,n){return t.hasOwnProperty("duration")?t:dee(t,e,n)}function dee(t,e,n){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof t=="string"){let a=t.match(r);if(a===null)return e.push(eP(t)),{duration:0,delay:0,easing:""};i=aw(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=aw(parseFloat(c),a[4]));let l=a[5];l&&(s=l)}else i=t;if(!n){let a=!1,c=e.length;i<0&&(e.push(xJ()),a=!0),o<0&&(e.push(AJ()),a=!0),a&&e.splice(c,0,eP(t))}return{duration:i,delay:o,easing:s}}function fee(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function ji(t,e,n){e.forEach((r,i)=>{let o=Tw(i);n&&!n.has(i)&&n.set(i,t.style[o]),t.style[o]=r})}function Za(t,e){e.forEach((n,r)=>{let i=Tw(r);t.style[i]=""})}function su(t){return Array.isArray(t)?t.length==1?t[0]:rO(t):t}function pee(t,e,n){let r=e.params||{},i=wP(t);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||n.push(zJ(o))})}var cw=new RegExp(`${vP}\\s*(.+?)\\s*${hee}`,"g");function wP(t){let e=[];if(typeof t=="string"){let n;for(;n=cw.exec(t);)e.push(n[1]);cw.lastIndex=0}return e}function cu(t,e,n){let r=`${t}`,i=r.replace(cw,(o,s)=>{let a=e[s];return a==null&&(n.push(RJ(s)),a=""),a.toString()});return i==r?t:i}var mee=/-+([a-z0-9])/g;function Tw(t){return t.replace(mee,(...e)=>e[1].toUpperCase())}function gee(t,e){return t===0||e===0}function vee(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,Iw(t,a)))}}return e}function wr(t,e,n){switch(e.type){case pe.Trigger:return t.visitTrigger(e,n);case pe.State:return t.visitState(e,n);case pe.Transition:return t.visitTransition(e,n);case pe.Sequence:return t.visitSequence(e,n);case pe.Group:return t.visitGroup(e,n);case pe.Animate:return t.visitAnimate(e,n);case pe.Keyframes:return t.visitKeyframes(e,n);case pe.Style:return t.visitStyle(e,n);case pe.Reference:return t.visitReference(e,n);case pe.AnimateChild:return t.visitAnimateChild(e,n);case pe.AnimateRef:return t.visitAnimateRef(e,n);case pe.Query:return t.visitQuery(e,n);case pe.Stagger:return t.visitStagger(e,n);default:throw OJ(e.type)}}function Iw(t,e){return window.getComputedStyle(t)[e]}var yee=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Zh=class extends ec{normalizePropertyName(e,n){return Tw(e)}normalizeStyleValue(e,n,r,i){let o="",s=r.toString().trim();if(yee.has(n)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(VJ(e,r))}return s+o}};var Jh="*";function wee(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(r=>_ee(r,n,e)):n.push(t),n}function _ee(t,e,n){if(t[0]==":"){let c=bee(t,n);if(typeof c=="function"){e.push(c);return}t=c}let r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return n.push(WJ(t)),e;let i=r[1],o=r[2],s=r[3];e.push(iP(i,s));let a=i==Jh&&s==Jh;o[0]=="<"&&!a&&e.push(iP(s,i))}function bee(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(GJ(t)),"* => *"}}var Wh=new Set(["true","1"]),Gh=new Set(["false","0"]);function iP(t,e){let n=Wh.has(t)||Gh.has(t),r=Wh.has(e)||Gh.has(e);return(i,o)=>{let s=t==Jh||t==i,a=e==Jh||e==o;return!s&&n&&typeof i=="boolean"&&(s=i?Wh.has(t):Gh.has(t)),!a&&r&&typeof o=="boolean"&&(a=o?Wh.has(e):Gh.has(e)),s&&a}}var _P=":self",Eee=new RegExp(`s*${_P}s*,?`,"g");function bP(t,e,n,r){return new lw(t).build(e,n,r)}var oP="",lw=class{constructor(e){this._driver=e}build(e,n,r){let i=new uw(n);return this._resetContextStyleTimingState(i),wr(this,su(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=oP,e.collectedStyles=new Map,e.collectedStyles.set(oP,new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&n.errors.push(PJ()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==pe.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,n))}),c.name=l}else if(a.type==pe.Transition){let c=this.visitTransition(a,n);r+=c.queryCount,i+=c.depCount,s.push(c)}else n.errors.push(NJ())}),{type:pe.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,n){let r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{wP(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&n.errors.push(kJ(e.name,[...o.values()]))}return{type:pe.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let r=wr(this,su(e.animation),n),i=wee(e.expr,n.errors);return{type:pe.Transition,matchers:i,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:Xa(e.options)}}visitSequence(e,n){return{type:pe.Sequence,steps:e.steps.map(r=>wr(this,r,n)),options:Xa(e.options)}}visitGroup(e,n){let r=n.currentTime,i=0,o=e.steps.map(s=>{n.currentTime=r;let a=wr(this,s,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:pe.Group,steps:o,options:Xa(e.options)}}visitAnimate(e,n){let r=Iee(e.timings,n.errors);n.currentAnimateTimings=r;let i,o=e.styles?e.styles:he({});if(o.type==pe.Keyframes)i=this.visitKeyframes(o,n);else{let s=e.styles,a=!1;if(!s){a=!0;let l={};r.easing&&(l.easing=r.easing),s=he(l)}n.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,n);c.isEmptyStep=a,i=c}return n.currentAnimateTimings=null,{type:pe.Animate,timings:r,style:i,options:null}}visitStyle(e,n){let r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===Fi?r.push(a):n.errors.push(LJ(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(vP)>=0){o=!0;break}}}),{type:pe.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,n){let r=n.currentAnimateTimings,i=n.currentTime,o=n.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=n.collectedStyles.get(n.currentQuerySelector),u=l.get(c),h=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(n.errors.push(FJ(c,u.startTime,u.endTime,o,i)),h=!1),o=u.startTime),h&&l.set(c,{startTime:o,endTime:i}),n.options&&pee(a,n.options,n.errors)})})}visitKeyframes(e,n){let r={type:pe.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(HJ()),r;let i=1,o=0,s=[],a=!1,c=!1,l=0,u=e.steps.map(b=>{let S=this._makeStyleAst(b,n),M=S.offset!=null?S.offset:Tee(S.styles),N=0;return M!=null&&(o++,N=S.offset=M),c=c||N<0||N>1,a=a||N<l,l=N,s.push(N),S});c&&n.errors.push(BJ()),a&&n.errors.push(jJ());let h=e.steps.length,d=0;o>0&&o<h?n.errors.push(UJ()):o==0&&(d=i/(h-1));let f=h-1,p=n.currentTime,m=n.currentAnimateTimings,g=m.duration;return u.forEach((b,S)=>{let M=d>0?S==f?1:d*S:s[S],N=M*g;n.currentTime=p+m.delay+N,m.duration=N,this._validateStyleAst(b,n),b.offset=M,r.styles.push(b)}),r}visitReference(e,n){return{type:pe.Reference,animation:wr(this,su(e.animation),n),options:Xa(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:pe.AnimateChild,options:Xa(e.options)}}visitAnimateRef(e,n){return{type:pe.AnimateRef,animation:this.visitReference(e.animation,n),options:Xa(e.options)}}visitQuery(e,n){let r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;let[o,s]=Cee(e.selector);n.currentQuerySelector=r.length?r+" "+o:o,_r(n.collectedStyles,n.currentQuerySelector,new Map);let a=wr(this,su(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:pe.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Xa(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push($J());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Xh(e.timings,n.errors,!0);return{type:pe.Stagger,animation:wr(this,su(e.animation),n),timings:r,options:null}}};function Cee(t){let e=!!t.split(/\s*,\s*/).find(n=>n==_P);return e&&(t=t.replace(Eee,"")),t=t.replace(/@\*/g,Kh).replace(/@\w+/g,n=>Kh+"-"+n.slice(1)).replace(/:animating/g,sw),[t,e]}function Mee(t){return t?P({},t):null}var uw=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function Tee(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function Iee(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=Xh(t,e).duration;return ew(o,0,"")}let n=t;if(n.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=ew(0,0,"");return o.dynamic=!0,o.strValue=n,o}let i=Xh(n,e);return ew(i.duration,i.delay,i.easing)}function Xa(t){return t?(t=P({},t),t.params&&(t.params=Mee(t.params))):t={},t}function ew(t,e,n){return{duration:t,delay:e,easing:n}}function Dw(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var lu=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},Dee=1,See=":enter",xee=new RegExp(See,"g"),Aee=":leave",zee=new RegExp(Aee,"g");function EP(t,e,n,r,i,o=new Map,s=new Map,a,c,l=[]){return new hw().buildKeyframes(t,e,n,r,i,o,s,a,c,l)}var hw=class{buildKeyframes(e,n,r,i,o,s,a,c,l,u=[]){l=l||new lu;let h=new dw(e,n,l,i,o,u,[]);h.options=c;let d=c.delay?Do(c.delay):0;h.currentTimeline.delayNextStep(d),h.currentTimeline.setStyles([s],null,h.errors,c),wr(this,r,h);let f=h.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let m=f.length-1;m>=0;m--){let g=f[m];if(g.element===n){p=g;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,h.errors,c)}return f.length?f.map(p=>p.buildKeyframes()):[Dw(n,[],[],[],0,d,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let r=n.subInstructions.get(n.element);if(r){let i=n.createSubContext(e.options),o=n.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&n.transformIntoNewTimeline(s)}n.previousNode=e}visitAnimateRef(e,n){let r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:Do(cu(o,i?.params??{},n.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,n,r){let o=n.currentTimeline.currentTime,s=r.duration!=null?Do(r.duration):null,a=r.delay!=null?Do(r.delay):null;return s!==0&&e.forEach(c=>{let l=n.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,n){n.updateOptions(e.options,!0),wr(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let r=n.subContextCount,i=n,o=e.options;if(o&&(o.params||o.delay)&&(i=n.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==pe.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=ed);let s=Do(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>wr(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let r=[],i=n.currentTimeline.currentTime,o=e.options&&e.options.delay?Do(e.options.delay):0;e.steps.forEach(s=>{let a=n.createSubContext(e.options);o&&a.delayNextStep(o),wr(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>n.currentTimeline.mergeTimelineCollectedStyles(s)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let r=e.strValue,i=n.params?cu(r,n.params,n.errors):r;return Xh(i,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==pe.Keyframes?this.visitKeyframes(o,n):(n.incrementTime(r.duration),this.visitStyle(o,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let r=n.currentAnimateTimings,i=n.currentTimeline.duration,o=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*o),a.setStyles(c.styles,c.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+o),n.previousNode=e}visitQuery(e,n){let r=n.currentTimeline.currentTime,i=e.options||{},o=i.delay?Do(i.delay):0;o&&(n.previousNode.type===pe.Style||r==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=ed);let s=r,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{n.currentQueryIndex=u;let h=n.createSubContext(e.options,l);o&&h.delayNextStep(o),l===n.element&&(c=h.currentTimeline),wr(this,e.animation,h),h.currentTimeline.applyStylesToKeyframe();let d=h.currentTimeline.currentTime;s=Math.max(s,d)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(s),c&&(n.currentTimeline.mergeTimelineCollectedStyles(c),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let r=n.parentContext,i=n.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(n.currentQueryTotal-1),c=s*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let u=n.currentTimeline;c&&u.delayNextStep(c);let h=u.currentTime;wr(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-h+(i.startTime-r.currentTimeline.startTime)}},ed={},dw=class t{constructor(e,n,r,i,o,s,a,c){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ed,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new td(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=Do(r.duration)),r.delay!=null&&(i.delay=Do(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!n||!s.hasOwnProperty(a))&&(s[a]=cu(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){let i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=ed,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){let i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new fw(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(xee,"."+this._enterClassName),e=e.replace(zee,"."+this._leaveClassName);let c=r!=1,l=this._driver.query(this.element,e,c);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&a.length==0&&s.push(qJ(n)),a}},td=class t{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Dee,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||Fi),this._currentKeyframe.set(n,Fi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);let o=i&&i.params||{},s=Ree(e,this._globalTimelineStyles);for(let[a,c]of s){let l=cu(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Fi),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{let i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((u,h)=>{u===wh?e.add(h):u===Fi&&n.add(h)}),r||l.set("offset",c/this.duration),i.push(l)});let o=[...e.values()],s=[...n.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return Dw(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},fw=class extends td{constructor(e,n,r,i,o,s,a=!1){super(e,n,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){let o=[],s=r+n,a=n/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let l=new Map(e[0]);l.set("offset",sP(a)),o.push(l);let u=e.length-1;for(let h=1;h<=u;h++){let d=new Map(e[h]),f=d.get("offset"),p=n+f*r;d.set("offset",sP(p/s)),o.push(d)}r=s,n=0,i="",e=o}return Dw(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}};function sP(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function Ree(t,e){let n=new Map,r;return t.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)n.set(o,Fi)}else for(let[o,s]of i)n.set(o,s)}),n}function aP(t,e,n,r,i,o,s,a,c,l,u,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:h,errors:d}}var tw={},nd=class{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return Oee(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,o,s,a,c,l,u){let h=[],d=this.ast.options&&this.ast.options.params||tw,f=a&&a.params||tw,p=this.buildStyles(r,f,h),m=c&&c.params||tw,g=this.buildStyles(i,m,h),b=new Set,S=new Map,M=new Map,N=i==="void",Z={params:CP(m,d),delay:this.ast.options?.delay},B=u?[]:EP(e,n,this.ast.animation,o,s,p,g,Z,l,h),re=0;return B.forEach(Me=>{re=Math.max(Me.duration+Me.delay,re)}),h.length?aP(n,this._triggerName,r,i,N,p,g,[],[],S,M,re,h):(B.forEach(Me=>{let Ot=Me.element,Vt=_r(S,Ot,new Set);Me.preStyleProps.forEach(Jn=>Vt.add(Jn));let So=_r(M,Ot,new Set);Me.postStyleProps.forEach(Jn=>So.add(Jn)),Ot!==n&&b.add(Ot)}),aP(n,this._triggerName,r,i,N,p,g,B,[...b.values()],S,M,re))}};function Oee(t,e,n,r,i){return t.some(o=>o(e,n,r,i))}function CP(t,e){let n=P({},e);return Object.entries(t).forEach(([r,i])=>{i!=null&&(n[r]=i)}),n}var pw=class{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){let r=new Map,i=CP(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=cu(s,i,n));let c=this.normalizer.normalizePropertyName(a,n);s=this.normalizer.normalizeStyleValue(a,c,s,n),r.set(a,s)})}),r}};function Vee(t,e,n){return new mw(t,e,n)}var mw=class{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new pw(i.style,o,r))}),cP(this.states,"true","1"),cP(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new nd(e,i,this.states))}),this.fallbackTransition=Pee(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(s=>s.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}};function Pee(t,e,n){let r=[(s,a)=>!0],i={type:pe.Sequence,steps:[],options:null},o={type:pe.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new nd(t,o,e)}function cP(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var Nee=new lu,gw=class{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let r=[],i=[],o=bP(this._driver,n,r,i);if(r.length)throw KJ(r);i.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,n,r){let i=e.element,o=pP(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=EP(this._driver,n,o,yP,ow,new Map,new Map,r,Nee,i),s.forEach(u=>{let h=_r(a,u.element,new Map);u.postStyleProps.forEach(d=>h.set(d,null))})):(i.push(XJ()),s=[]),i.length)throw ZJ(i);a.forEach((u,h)=>{u.forEach((d,f)=>{u.set(f,this._driver.computeStyle(h,f,Fi))})});let c=s.map(u=>{let h=a.get(u.element);return this._buildPlayer(u,new Map,h)}),l=Ds(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw JJ(e);return n}listen(e,n,r,i){let o=Ew(n,"","","");return bw(this._getPlayer(e),r,o,i),()=>{}}command(e,n,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,n,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},lP="ng-animate-queued",kee=".ng-animate-queued",nw="ng-animate-disabled",Lee=".ng-animate-disabled",Fee="ng-star-inserted",Hee=".ng-star-inserted",Bee=[],MP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},jee={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ti="__ng_removed",uu=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=$ee(i),r){let o=e,{value:s}=o,a=fu(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let r=this.options.params;Object.keys(n).forEach(i=>{r[i]==null&&(r[i]=n[i])})}}},au="void",rw=new uu(au),vw=class{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Rr(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw eee(r,n);if(r==null||r.length==0)throw tee(n);if(!qee(r))throw nee(r,n);let o=_r(this._elementListeners,e,[]),s={name:n,phase:r,callback:i};o.push(s);let a=_r(this._engine.statesByElement,e,new Map);return a.has(n)||(Rr(e,qh),Rr(e,qh+"-"+n),a.set(n,rw)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw ree(e);return n}trigger(e,n,r,i=!0){let o=this._getTrigger(n),s=new hu(this.id,n,e),a=this._engine.statesByElement.get(e);a||(Rr(e,qh),Rr(e,qh+"-"+n),this._engine.statesByElement.set(e,a=new Map));let c=a.get(n),l=new uu(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(n,l),c||(c=rw),!(l.value===au)&&c.value===l.value){if(!Yee(c.params,l.params)){let m=[],g=o.matchStyles(c.value,c.params,m),b=o.matchStyles(l.value,l.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{Za(e,g),ji(e,b)})}return}let d=_r(this._engine.playersByElement,e,[]);d.forEach(m=>{m.namespaceId==this.id&&m.triggerName==n&&m.queued&&m.destroy()});let f=o.matchTransition(c.value,l.value,e,l.params),p=!1;if(!f){if(!i)return;f=o.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:f,fromState:c,toState:l,player:s,isFallbackTransition:p}),p||(Rr(e,lP),s.onStart(()=>{cl(e,lP)})),s.onDone(()=>{let m=this.players.indexOf(s);m>=0&&this.players.splice(m,1);let g=this._engine.playersByElement.get(e);if(g){let b=g.indexOf(s);b>=0&&g.splice(b,1)}}),this.players.push(s),d.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let r=this._engine.driver.query(e,Kh,!0);r.forEach(i=>{if(i[ti])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let u=this.trigger(e,l,au,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,s),r&&Ds(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){let i=new Set;n.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,l=r.get(s)||rw,u=new uu(au),h=new hu(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:u,player:h,isFallbackTransition:!0})})}}removeNode(e,n){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{let o=e[ti];(!o||o===MP)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){Rr(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=Ew(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,bw(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},yw=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r,i){this.bodyNode=e,this.driver=n,this._normalizer=r,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){let r=new vw(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(n);for(;a;){let c=i.get(a);if(c){let l=r.indexOf(c);r.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&n.add(o)}}return n}trigger(e,n,r,i){if(Yh(n)){let o=this._fetchNamespace(e);if(o)return o.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!Yh(n))return;let o=n[ti];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(n);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Rr(e,nw)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),cl(e,nw))}removeNode(e,n,r){if(Yh(n)){this.scheduler?.notify();let i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);let o=this.namespacesByHostElement.get(n);o&&o.id!==e&&o.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,o){this.collectedLeaveElements.push(n),n[ti]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,n,r,i,o){return Yh(n)?this._fetchNamespace(e).listen(n,r,i,o):()=>{}}_buildInstruction(e,n,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,o)}destroyInnerAnimations(e){let n=this.driver.query(e,Kh,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,sw,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ds(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[ti];if(n&&n.setForRemoval){if(e[ti]=MP,n.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(nw)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Lee,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Rr(i,Fee)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],n.length?Ds(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw iee(e)}_flushAnimations(e,n){let r=new lu,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(L=>{u.add(L);let J=this.driver.query(L,kee,!0);for(let ae=0;ae<J.length;ae++)u.add(J[ae])});let h=this.bodyNode,d=Array.from(this.statesByElement.keys()),f=dP(d,this.collectedEnterElements),p=new Map,m=0;f.forEach((L,J)=>{let ae=yP+m++;p.set(J,ae),L.forEach(Re=>Rr(Re,ae))});let g=[],b=new Set,S=new Set;for(let L=0;L<this.collectedLeaveElements.length;L++){let J=this.collectedLeaveElements[L],ae=J[ti];ae&&ae.setForRemoval&&(g.push(J),b.add(J),ae.hasAnimation?this.driver.query(J,Hee,!0).forEach(Re=>b.add(Re)):S.add(J))}let M=new Map,N=dP(d,Array.from(b));N.forEach((L,J)=>{let ae=ow+m++;M.set(J,ae),L.forEach(Re=>Rr(Re,ae))}),e.push(()=>{f.forEach((L,J)=>{let ae=p.get(J);L.forEach(Re=>cl(Re,ae))}),N.forEach((L,J)=>{let ae=M.get(J);L.forEach(Re=>cl(Re,ae))}),g.forEach(L=>{this.processLeaveNode(L)})});let Z=[],B=[];for(let L=this._namespaceList.length-1;L>=0;L--)this._namespaceList[L].drainQueuedTransitions(n).forEach(ae=>{let Re=ae.player,Nt=ae.element;if(Z.push(Re),this.collectedEnterElements.length){let Dt=Nt[ti];if(Dt&&Dt.setForMove){if(Dt.previousTriggersValues&&Dt.previousTriggersValues.has(ae.triggerName)){let nt=Dt.previousTriggersValues.get(ae.triggerName),Te=this.statesByElement.get(ae.element);if(Te&&Te.has(ae.triggerName)){let nn=Te.get(ae.triggerName);nn.value=nt,Te.set(ae.triggerName,nn)}}Re.destroy();return}}let Pn=!h||!this.driver.containsElement(h,Nt),Ut=M.get(Nt),Or=p.get(Nt),Xe=this._buildInstruction(ae,r,Or,Ut,Pn);if(Xe.errors&&Xe.errors.length){B.push(Xe);return}if(Pn){Re.onStart(()=>Za(Nt,Xe.fromStyles)),Re.onDestroy(()=>ji(Nt,Xe.toStyles)),i.push(Re);return}if(ae.isFallbackTransition){Re.onStart(()=>Za(Nt,Xe.fromStyles)),Re.onDestroy(()=>ji(Nt,Xe.toStyles)),i.push(Re);return}let hl=[];Xe.timelines.forEach(Dt=>{Dt.stretchStartingKeyframe=!0,this.disabledNodes.has(Dt.element)||hl.push(Dt)}),Xe.timelines=hl,r.append(Nt,Xe.timelines);let du={instruction:Xe,player:Re,element:Nt};s.push(du),Xe.queriedElements.forEach(Dt=>_r(a,Dt,[]).push(Re)),Xe.preStyleProps.forEach((Dt,nt)=>{if(Dt.size){let Te=c.get(nt);Te||c.set(nt,Te=new Set),Dt.forEach((nn,xo)=>Te.add(xo))}}),Xe.postStyleProps.forEach((Dt,nt)=>{let Te=l.get(nt);Te||l.set(nt,Te=new Set),Dt.forEach((nn,xo)=>Te.add(xo))})});if(B.length){let L=[];B.forEach(J=>{L.push(oee(J.triggerName,J.errors))}),Z.forEach(J=>J.destroy()),this.reportError(L)}let re=new Map,Me=new Map;s.forEach(L=>{let J=L.element;r.has(J)&&(Me.set(J,J),this._beforeAnimationBuild(L.player.namespaceId,L.instruction,re))}),i.forEach(L=>{let J=L.element;this._getPreviousPlayers(J,!1,L.namespaceId,L.triggerName,null).forEach(Re=>{_r(re,J,[]).push(Re),Re.destroy()})});let Ot=g.filter(L=>fP(L,c,l)),Vt=new Map;hP(Vt,this.driver,S,l,Fi).forEach(L=>{fP(L,c,l)&&Ot.push(L)});let Jn=new Map;f.forEach((L,J)=>{hP(Jn,this.driver,new Set(L),c,wh)}),Ot.forEach(L=>{let J=Vt.get(L),ae=Jn.get(L);Vt.set(L,new Map([...J?.entries()??[],...ae?.entries()??[]]))});let Ui=[],tc=[],Pt={};s.forEach(L=>{let{element:J,player:ae,instruction:Re}=L;if(r.has(J)){if(u.has(J)){ae.onDestroy(()=>ji(J,Re.toStyles)),ae.disabled=!0,ae.overrideTotalTime(Re.totalTime),i.push(ae);return}let Nt=Pt;if(Me.size>1){let Ut=J,Or=[];for(;Ut=Ut.parentNode;){let Xe=Me.get(Ut);if(Xe){Nt=Xe;break}Or.push(Ut)}Or.forEach(Xe=>Me.set(Xe,Nt))}let Pn=this._buildAnimation(ae.namespaceId,Re,re,o,Jn,Vt);if(ae.setRealPlayer(Pn),Nt===Pt)Ui.push(ae);else{let Ut=this.playersByElement.get(Nt);Ut&&Ut.length&&(ae.parentPlayer=Ds(Ut)),i.push(ae)}}else Za(J,Re.fromStyles),ae.onDestroy(()=>ji(J,Re.toStyles)),tc.push(ae),u.has(J)&&i.push(ae)}),tc.forEach(L=>{let J=o.get(L.element);if(J&&J.length){let ae=Ds(J);L.setRealPlayer(ae)}}),i.forEach(L=>{L.parentPlayer?L.syncPlayerEvents(L.parentPlayer):L.destroy()});for(let L=0;L<g.length;L++){let J=g[L],ae=J[ti];if(cl(J,ow),ae&&ae.hasAnimation)continue;let Re=[];if(a.size){let Pn=a.get(J);Pn&&Pn.length&&Re.push(...Pn);let Ut=this.driver.query(J,sw,!0);for(let Or=0;Or<Ut.length;Or++){let Xe=a.get(Ut[Or]);Xe&&Xe.length&&Re.push(...Xe)}}let Nt=Re.filter(Pn=>!Pn.destroyed);Nt.length?Wee(this,J,Nt):this.processLeaveNode(J)}return g.length=0,Ui.forEach(L=>{this.players.push(L),L.onDone(()=>{L.destroy();let J=this.players.indexOf(L);this.players.splice(J,1)}),L.play()}),Ui}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,o){let s=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==au;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,n,r){let i=n.triggerName,o=n.element,s=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:i;for(let c of n.timelines){let l=c.element,u=l!==o,h=_r(r,l,[]);this._getPreviousPlayers(l,u,s,a,n.toState).forEach(f=>{let p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),h.push(f)})}Za(o,n.fromStyles)}_buildAnimation(e,n,r,i,o,s){let a=n.triggerName,c=n.element,l=[],u=new Set,h=new Set,d=n.timelines.map(p=>{let m=p.element;u.add(m);let g=m[ti];if(g&&g.removedBeforeQueried)return new Ms(p.duration,p.delay);let b=m!==c,S=Gee((r.get(m)||Bee).map(re=>re.getRealPlayer())).filter(re=>{let Me=re;return Me.element?Me.element===m:!1}),M=o.get(m),N=s.get(m),Z=pP(this._normalizer,p.keyframes,M,N),B=this._buildPlayer(p,Z,S);if(p.subTimeline&&i&&h.add(m),b){let re=new hu(e,a,m);re.setRealPlayer(B),l.push(re)}return B});l.forEach(p=>{_r(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>Uee(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Rr(p,rP));let f=Ds(d);return f.onDestroy(()=>{u.forEach(p=>cl(p,rP)),ji(c,n.toStyles)}),h.forEach(p=>{_r(i,p,[]).push(f)}),f}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new Ms(e.duration,e.delay)}},hu=class{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new Ms,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>bw(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){_r(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function Uee(t,e,n){let r=t.get(e);if(r){if(r.length){let i=r.indexOf(n);r.splice(i,1)}r.length==0&&t.delete(e)}return r}function $ee(t){return t??null}function Yh(t){return t&&t.nodeType===1}function qee(t){return t=="start"||t=="done"}function uP(t,e){let n=t.style.display;return t.style.display=e??"none",n}function hP(t,e,n,r,i){let o=[];n.forEach(c=>o.push(uP(c)));let s=[];r.forEach((c,l)=>{let u=new Map;c.forEach(h=>{let d=e.computeStyle(l,h,i);u.set(h,d),(!d||d.length==0)&&(l[ti]=jee,s.push(l))}),t.set(l,u)});let a=0;return n.forEach(c=>uP(c,o[a++])),s}function dP(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let l=a.parentNode;return n.has(l)?c=l:i.has(l)?c=r:c=s(l),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&n.get(c).push(a)}),n}function Rr(t,e){t.classList?.add(e)}function cl(t,e){t.classList?.remove(e)}function Wee(t,e,n){Ds(n).onDone(()=>t.processLeaveNode(e))}function Gee(t){let e=[];return TP(t,e),e}function TP(t,e){for(let n=0;n<t.length;n++){let r=t[n];r instanceof Y2?TP(r.players,e):e.push(r)}}function Yee(t,e){let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){let o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}function fP(t,e,n){let r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(o=>i.add(o)):e.set(t,r),n.delete(t),!0}var ul=class{constructor(e,n,r,i){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new yw(e.body,n,r,i),this._timelineEngine=new gw(e.body,n,r),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(e,n,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],l=[],u=bP(this._driver,o,c,l);if(c.length)throw YJ(i,c);l.length&&void 0,a=Vee(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if(r.charAt(0)=="@"){let[o,s]=tP(r),a=i;this._timelineEngine.command(o,n,s,a)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,o){if(r.charAt(0)=="@"){let[s,a]=tP(r);return this._timelineEngine.listen(s,n,a,o)}return this._transitionEngine.listen(e,n,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function Qee(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=iw(e[0]),e.length>1&&(r=iw(e[e.length-1]))):e instanceof Map&&(n=iw(e)),n||r?new ww(t,n,r):null}var ll=class ll{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=ll.initialStylesByElement.get(e);i||ll.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&ji(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ji(this._element,this._initialStyles),this._endStyles&&(ji(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(ll.initialStylesByElement.delete(this._element),this._startStyles&&(Za(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Za(this._element,this._endStyles),this._endStyles=null),ji(this._element,this._initialStyles),this._state=3)}};ll.initialStylesByElement=new WeakMap;var ww=ll;function iw(t){let e=null;return t.forEach((n,r)=>{Kee(r)&&(e=e||new Map,e.set(r,n))}),e}function Kee(t){return t==="display"||t==="position"}var rd=class{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:Iw(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},id=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return mP(e,n)}getParentElement(e){return Cw(e)}query(e,n,r){return gP(e,n,r)}computeStyle(e,n,r){return Iw(e,n)}animate(e,n,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let l=new Map,u=s.filter(f=>f instanceof rd);gee(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((p,m)=>l.set(m,p))});let h=fee(n).map(f=>new Map(f));h=vee(e,h,l);let d=Qee(e,h);return new rd(e,h,c,d)}};var Qh="@",IP="@.disabled",od=class{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){n.charAt(0)==Qh&&n==IP?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},_w=class extends od{constructor(e,n,r,i,o){super(n,r,i,o),this.factory=e,this.namespaceId=n}setProperty(e,n,r){n.charAt(0)==Qh?n.charAt(1)=="."&&n==IP?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if(n.charAt(0)==Qh){let i=Xee(e),o=n.slice(1),s="";return o.charAt(0)!=Qh&&([o,s]=Zee(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,r,a)})}return this.delegate.listen(e,n,r)}};function Xee(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function Zee(t){let e=t.indexOf("."),n=t.substring(0,e),r=t.slice(e+1);return[n,r]}var sd=class{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,o)=>{let s=o?.parentNode(i);s&&o.removeChild(s,i)}}createRenderer(e,n){let r="",i=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let l=this._rendererCache,u=l.get(i);if(!u){let h=()=>l.delete(i);u=new od(r,i,this.engine,h),l.set(i,u)}return u}let o=n.id,s=n.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return n.data.animation.forEach(a),new _w(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var ete=(()=>{let e=class e extends ul{constructor(r,i,o){super(r,i,o,x(Ic,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(i){return new(i||e)(v(De),v(Ja),v(ec))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})();function tte(){return new Zh}function nte(t,e,n){return new sd(t,e,n)}var DP=[{provide:ec,useFactory:tte},{provide:ul,useClass:ete},{provide:rr,useFactory:nte,deps:[P0,ul,K]}],K_e=[{provide:Ja,useFactory:()=>new id},{provide:wi,useValue:"BrowserAnimations"},...DP],X_e=[{provide:Ja,useClass:Mw},{provide:wi,useValue:"NoopAnimations"},...DP];var xw=class{get waveAttributeName(){return this.insertExtraNode?"ant-click-animating":"ant-click-animating-without-extra-node"}constructor(e,n,r,i,o){this.triggerElement=e,this.ngZone=n,this.insertExtraNode=r,this.platformId=i,this.cspNonce=o,this.waveTransitionDuration=400,this.styleForPseudo=null,this.extraNode=null,this.lastTime=0,this.onClick=s=>{!this.triggerElement||!this.triggerElement.getAttribute||this.triggerElement.getAttribute("disabled")||s.target.tagName==="INPUT"||this.triggerElement.className.indexOf("disabled")>=0||this.fadeOutWave()},this.platform=new Vn(this.platformId),this.clickHandler=this.onClick.bind(this),this.bindTriggerEvent()}bindTriggerEvent(){this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>{this.removeTriggerEvent(),this.triggerElement&&this.triggerElement.addEventListener("click",this.clickHandler,!0)})}removeTriggerEvent(){this.triggerElement&&this.triggerElement.removeEventListener("click",this.clickHandler,!0)}removeStyleAndExtraNode(){this.styleForPseudo&&document.body.contains(this.styleForPseudo)&&(document.body.removeChild(this.styleForPseudo),this.styleForPseudo=null),this.insertExtraNode&&this.triggerElement.contains(this.extraNode)&&this.triggerElement.removeChild(this.extraNode)}destroy(){this.removeTriggerEvent(),this.removeStyleAndExtraNode()}fadeOutWave(){let e=this.triggerElement,n=this.getWaveColor(e);e.setAttribute(this.waveAttributeName,"true"),!(Date.now()<this.lastTime+this.waveTransitionDuration)&&(this.isValidColor(n)&&(this.styleForPseudo||(this.styleForPseudo=document.createElement("style"),this.cspNonce&&(this.styleForPseudo.nonce=this.cspNonce)),this.styleForPseudo.innerHTML=`
      [ant-click-animating-without-extra-node='true']::after, .ant-click-animating-node {
        --antd-wave-shadow-color: ${n};
      }`,document.body.appendChild(this.styleForPseudo)),this.insertExtraNode&&(this.extraNode||(this.extraNode=document.createElement("div")),this.extraNode.className="ant-click-animating-node",e.appendChild(this.extraNode)),this.lastTime=Date.now(),this.runTimeoutOutsideZone(()=>{e.removeAttribute(this.waveAttributeName),this.removeStyleAndExtraNode()},this.waveTransitionDuration))}isValidColor(e){return!!e&&e!=="#ffffff"&&e!=="rgb(255, 255, 255)"&&this.isNotGrey(e)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(e)&&e!=="transparent"}isNotGrey(e){let n=e.match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return n&&n[1]&&n[2]&&n[3]?!(n[1]===n[2]&&n[2]===n[3]):!0}getWaveColor(e){let n=getComputedStyle(e);return n.getPropertyValue("border-top-color")||n.getPropertyValue("border-color")||n.getPropertyValue("background-color")}runTimeoutOutsideZone(e,n){this.ngZone.runOutsideAngular(()=>setTimeout(e,n))}},rte={disabled:!1},SP=new O("nz-wave-global-options");function ite(t){return jo([{provide:SP,useValue:t}])}var cbe=(()=>{let e=class e{get disabled(){return this.waveDisabled}get rendererRef(){return this.waveRenderer}constructor(r,i,o,s,a,c){this.ngZone=r,this.elementRef=i,this.config=o,this.animationType=s,this.platformId=a,this.cspNonce=c,this.nzWaveExtraNode=!1,this.waveDisabled=!1,this.waveDisabled=this.isConfigDisabled()}isConfigDisabled(){let r=!1;return this.config&&typeof this.config.disabled=="boolean"&&(r=this.config.disabled),this.animationType==="NoopAnimations"&&(r=!0),r}ngOnDestroy(){this.waveRenderer&&this.waveRenderer.destroy()}ngOnInit(){this.renderWaveIfEnabled()}renderWaveIfEnabled(){!this.waveDisabled&&this.elementRef.nativeElement&&(this.waveRenderer=new xw(this.elementRef.nativeElement,this.ngZone,this.nzWaveExtraNode,this.platformId,this.cspNonce))}disable(){this.waveDisabled=!0,this.waveRenderer&&(this.waveRenderer.removeTriggerEvent(),this.waveRenderer.removeStyleAndExtraNode())}enable(){this.waveDisabled=this.isConfigDisabled()||!1,this.waveRenderer&&this.waveRenderer.bindTriggerEvent()}};e.\u0275fac=function(i){return new(i||e)(E(K),E(Ce),E(SP,8),E(wi,8),E(xt),E(to,8))},e.\u0275dir=be({type:e,selectors:[["","nz-wave",""],["button","nz-button","",3,"nzType","link",3,"nzType","text"]],inputs:{nzWaveExtraNode:"nzWaveExtraNode"},exportAs:["nzWave"],standalone:!0});let t=e;return t})(),xP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=me({providers:[ite(rte)]});let t=e;return t})();var ote=["nz-button",""],zP=["*"];function ste(t,e){t&1&&Wn(0,"span",0)}var AP="button",ate=(()=>{let e=class e{insertSpan(r,i){r.forEach(o=>{if(o.nodeName==="#text"){let s=i.createElement("span"),a=i.parentNode(o);i.insertBefore(a,s,o),i.appendChild(s,o)}})}get iconOnly(){let r=Array.from(this.elementRef?.nativeElement?.childNodes||[]),i=r.every(s=>s.nodeName!=="#text"),o=r.filter(s=>!(s.nodeName==="#comment"||s?.attributes?.getNamedItem("nz-icon"))).length==0;return!!this.nzIconDirectiveElement&&o&&i}constructor(r,i,o,s,a,c){this.ngZone=r,this.elementRef=i,this.cdr=o,this.renderer=s,this.nzConfigService=a,this.directionality=c,this._nzModuleName=AP,this.nzBlock=!1,this.nzGhost=!1,this.nzSearch=!1,this.nzLoading=!1,this.nzDanger=!1,this.disabled=!1,this.tabIndex=null,this.nzType=null,this.nzShape=null,this.nzSize="default",this.dir="ltr",this.destroy$=new Q,this.loading$=new Q,this.nzConfigService.getConfigChangeEventForComponent(AP).pipe(rt(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.directionality.change?.pipe(rt(this.destroy$)).subscribe(r=>{this.dir=r,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>{Oo(this.elementRef.nativeElement,"click",{capture:!0}).pipe(rt(this.destroy$)).subscribe(r=>{(this.disabled&&r.target?.tagName==="A"||this.nzLoading)&&(r.preventDefault(),r.stopImmediatePropagation())})})}ngOnChanges(r){let{nzLoading:i}=r;i&&this.loading$.next(this.nzLoading)}ngAfterViewInit(){this.insertSpan(this.elementRef.nativeElement.childNodes,this.renderer)}ngAfterContentInit(){this.loading$.pipe(sn(this.nzLoading),Pe(()=>!!this.nzIconDirectiveElement),rt(this.destroy$)).subscribe(r=>{let i=this.nzIconDirectiveElement.nativeElement;r?this.renderer.setStyle(i,"display","none"):this.renderer.removeStyle(i,"display")})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};e.\u0275fac=function(i){return new(i||e)(E(K),E(Ce),E(Wt),E(ln),E(Ha),E(Hi,8))},e.\u0275cmp=pi({type:e,selectors:[["button","nz-button",""],["a","nz-button",""]],contentQueries:function(i,o,s){if(i&1&&u0(s,el,5,Ce),i&2){let a;jc(a=Uc())&&(o.nzIconDirectiveElement=a.first)}},hostAttrs:[1,"ant-btn"],hostVars:32,hostBindings:function(i,o){i&2&&(Fc("tabindex",o.disabled?-1:o.tabIndex===null?null:o.tabIndex)("disabled",o.disabled||null),bi("ant-btn-primary",o.nzType==="primary")("ant-btn-dashed",o.nzType==="dashed")("ant-btn-link",o.nzType==="link")("ant-btn-text",o.nzType==="text")("ant-btn-circle",o.nzShape==="circle")("ant-btn-round",o.nzShape==="round")("ant-btn-lg",o.nzSize==="large")("ant-btn-sm",o.nzSize==="small")("ant-btn-dangerous",o.nzDanger)("ant-btn-loading",o.nzLoading)("ant-btn-background-ghost",o.nzGhost)("ant-btn-block",o.nzBlock)("ant-input-search-button",o.nzSearch)("ant-btn-rtl",o.dir==="rtl")("ant-btn-icon-only",o.iconOnly))},inputs:{nzBlock:"nzBlock",nzGhost:"nzGhost",nzSearch:"nzSearch",nzLoading:"nzLoading",nzDanger:"nzDanger",disabled:"disabled",tabIndex:"tabIndex",nzType:"nzType",nzShape:"nzShape",nzSize:"nzSize"},exportAs:["nzButton"],standalone:!0,features:[wt,Ei],attrs:ote,ngContentSelectors:zP,decls:2,vars:1,consts:[["nz-icon","","nzType","loading"]],template:function(i,o){i&1&&(Kl(),Ji(0,ste,1,0,"span",0),Xl(1)),i&2&&tM(0,o.nzLoading?0:-1)},dependencies:[gh,el],encapsulation:2,changeDetection:0});let t=e;return Nn([mr()],t.prototype,"nzBlock",void 0),Nn([mr()],t.prototype,"nzGhost",void 0),Nn([mr()],t.prototype,"nzSearch",void 0),Nn([mr()],t.prototype,"nzLoading",void 0),Nn([mr()],t.prototype,"nzDanger",void 0),Nn([mr()],t.prototype,"disabled",void 0),Nn([QR()],t.prototype,"nzSize",void 0),t})(),Ibe=(()=>{let e=class e{constructor(r){this.directionality=r,this.nzSize="default",this.dir="ltr",this.destroy$=new Q}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe(rt(this.destroy$)).subscribe(r=>{this.dir=r})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};e.\u0275fac=function(i){return new(i||e)(E(Hi,8))},e.\u0275cmp=pi({type:e,selectors:[["nz-button-group"]],hostAttrs:[1,"ant-btn-group"],hostVars:6,hostBindings:function(i,o){i&2&&bi("ant-btn-group-lg",o.nzSize==="large")("ant-btn-group-sm",o.nzSize==="small")("ant-btn-group-rtl",o.dir==="rtl")},inputs:{nzSize:"nzSize"},exportAs:["nzButtonGroup"],standalone:!0,features:[Ei],ngContentSelectors:zP,decls:1,vars:0,template:function(i,o){i&1&&(Kl(),Xl(0))},encapsulation:2,changeDetection:0});let t=e;return t})(),Dbe=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=me({imports:[ate,JV,xP]});let t=e;return t})();var RP="nz-animate-disabled",Obe=(()=>{let e=class e{constructor(r,i,o){this.element=r,this.renderer=i,this.animationType=o,this.nzNoAnimation=!1}ngOnChanges(){this.updateClass()}ngAfterViewInit(){this.updateClass()}updateClass(){let r=uh(this.element);r&&(this.nzNoAnimation||this.animationType==="NoopAnimations"?this.renderer.addClass(r,RP):this.renderer.removeClass(r,RP))}};e.\u0275fac=function(i){return new(i||e)(E(Ce),E(ln),E(wi,8))},e.\u0275dir=be({type:e,selectors:[["","nzNoAnimation",""]],inputs:{nzNoAnimation:"nzNoAnimation"},exportAs:["nzNoAnimation"],standalone:!0,features:[wt]});let t=e;return Nn([mr()],t.prototype,"nzNoAnimation",void 0),t})();var Cn={top:new pt({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topCenter:new pt({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topLeft:new pt({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),topRight:new pt({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"}),right:new pt({originX:"end",originY:"center"},{overlayX:"start",overlayY:"center"}),rightTop:new pt({originX:"end",originY:"top"},{overlayX:"start",overlayY:"top"}),rightBottom:new pt({originX:"end",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),bottom:new pt({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomCenter:new pt({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomLeft:new pt({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),bottomRight:new pt({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"}),left:new pt({originX:"start",originY:"center"},{overlayX:"end",overlayY:"center"}),leftTop:new pt({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"}),leftBottom:new pt({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"})},$be=[Cn.top,Cn.right,Cn.bottom,Cn.left],qbe=[Cn.bottomLeft,Cn.bottomRight,Cn.topLeft,Cn.topRight,Cn.topCenter,Cn.bottomCenter],Wbe=[new pt({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),new pt({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"})],Gbe=[Cn.bottomLeft,new pt({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"top"})];function cte(t){for(let e in Cn)if(t.connectionPair.originX===Cn[e].originX&&t.connectionPair.originY===Cn[e].originY&&t.connectionPair.overlayX===Cn[e].overlayX&&t.connectionPair.overlayY===Cn[e].overlayY)return e}var ad={bottomLeft:new pt({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"},void 0,2),topLeft:new pt({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"},void 0,-2),bottomRight:new pt({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"},void 0,2),topRight:new pt({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"},void 0,-2)},Ybe=[ad.bottomLeft,ad.topLeft,ad.bottomRight,ad.topRight],Qbe=(()=>{let e=class e{constructor(r,i){this.cdkConnectedOverlay=r,this.nzDestroyService=i,this.nzArrowPointAtCenter=!1,this.cdkConnectedOverlay.backdropClass="nz-overlay-transparent-backdrop",this.cdkConnectedOverlay.positionChange.pipe(rt(this.nzDestroyService)).subscribe(o=>{this.nzArrowPointAtCenter&&this.updateArrowPosition(o)})}updateArrowPosition(r){let i=this.getOriginRect(),o=cte(r),s=0,a=0;o==="topLeft"||o==="bottomLeft"?s=i.width/2-14:o==="topRight"||o==="bottomRight"?s=-(i.width/2-14):o==="leftTop"||o==="rightTop"?a=i.height/2-10:(o==="leftBottom"||o==="rightBottom")&&(a=-(i.height/2-10)),(this.cdkConnectedOverlay.offsetX!==s||this.cdkConnectedOverlay.offsetY!==a)&&(this.cdkConnectedOverlay.offsetY=a,this.cdkConnectedOverlay.offsetX=s,this.cdkConnectedOverlay.overlayRef.updatePosition())}getFlexibleConnectedPositionStrategyOrigin(){return this.cdkConnectedOverlay.origin instanceof Ly?this.cdkConnectedOverlay.origin.elementRef:this.cdkConnectedOverlay.origin}getOriginRect(){let r=this.getFlexibleConnectedPositionStrategyOrigin();if(r instanceof Ce)return r.nativeElement.getBoundingClientRect();if(r instanceof Element)return r.getBoundingClientRect();let i=r.width||0,o=r.height||0;return{top:r.y,bottom:r.y+o,left:r.x,right:r.x+i,height:o,width:i}}};e.\u0275fac=function(i){return new(i||e)(E(SO),E(_h))},e.\u0275dir=be({type:e,selectors:[["","cdkConnectedOverlay","","nzConnectedOverlay",""]],inputs:{nzArrowPointAtCenter:"nzArrowPointAtCenter"},exportAs:["nzConnectedOverlay"],features:[Yo([_h])]});let t=e;return Nn([mr()],t.prototype,"nzArrowPointAtCenter",void 0),t})(),Kbe=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=me({});let t=e;return t})();function Xbe(t,e){e&&(t._host.style.zIndex=`${e}`)}export{He as a,le as b,Q as c,on as d,ml as e,Od as f,Nd as g,Tn as h,er as i,Nr as j,ze as k,j as l,W as m,Rs as n,dt as o,ai as p,qu as q,lN as r,Oo as s,Os as t,gN as u,yl as v,Pe as w,Vs as x,ci as y,vN as z,Ld as A,Vo as B,Ct as C,Ps as D,yN as E,Po as F,w_ as G,li as H,tr as I,pc as J,jd as K,sn as L,at as M,Gu as N,rt as O,Ud as P,gt as Q,bN as R,R as S,N3 as T,A as U,me as V,O as W,v as X,x as Y,Ie as Z,pi as _,ge as $,be as aa,Ll as ba,nle as ca,wt as da,Xb as ea,Zb as fa,rle as ga,Vc as ha,Kt as ia,Ce as ja,Ue as ka,Mf as la,xt as ma,wi as na,WE as oa,tF as pa,cr as qa,E as ra,sC as sa,yt as ta,ln as ua,K as va,qt as wa,lB as xa,jr as ya,Xs as za,Ji as Aa,Fc as Ba,qn as Ca,Hc as Da,bi as Ea,sle as Fa,ale as Ga,cle as Ha,lle as Ia,ule as Ja,tM as Ka,hle as La,dle as Ma,fle as Na,ple as Oa,io as Pa,Go as Qa,Wn as Ra,Yl as Sa,Ql as Ta,rj as Ua,iM as Va,sj as Wa,aj as Xa,Bc as Ya,vj as Za,b7 as _a,Kl as $a,Xl as ab,_j as bb,sM as cb,u0 as db,aM as eb,jc as fb,Uc as gb,mle as hb,gle as ib,Mj as jb,lM as kb,Tj as lb,Ij as mb,Dj as nb,vle as ob,Sj as pb,Yo as qb,Ei as rb,yle as sb,wle as tb,_le as ub,ble as vb,Ele as wb,Cle as xb,Mle as yb,Tle as zb,Ile as Ab,Dle as Bb,$c as Cb,Wt as Db,Yn as Eb,hU as Fb,Js as Gb,De as Hb,Qo as Ib,xn as Jb,et as Kb,vU as Lb,xU as Mb,qM as Nb,WM as Ob,Wle as Pb,A0 as Qb,GM as Rb,Gle as Sb,Yle as Tb,Qle as Ub,Kle as Vb,Xle as Wb,Zle as Xb,Jle as Yb,KM as Zb,Y7 as _b,ea as $b,t4 as ac,uT as bc,n4 as cc,dT as dc,b4e as ec,V$ as fc,E4e as gc,Ee as hc,qr as ic,ra as jc,lq as kc,uo as lc,ST as mc,H4e as nc,B4e as oc,oa as pc,ia as qc,r8 as rc,Z4e as sc,Qn as tc,pI as uc,r1 as vc,i1 as wc,S4 as xc,a2e as yc,o8 as zc,lm as Ac,q2e as Bc,bt as Cc,Da as Dc,Co as Ec,qA as Fc,iz as Gc,dz as Hc,mz as Ic,IK as Jc,xue as Kc,Sr as Lc,st as Mc,he as Nc,gr as Oc,ht as Pc,X0e as Qc,Z0e as Rc,J0e as Sc,e8e as Tc,t8e as Uc,n8e as Vc,i8e as Wc,o8e as Xc,oO as Yc,sO as Zc,eX as _c,Fa as $c,U2 as ad,uh as bd,k3e as cd,L3e as dd,F3e as ed,H3e as fd,B3e as gd,j3e as hd,rX as id,iX as jd,PR as kd,U3e as ld,mr as md,$3e as nd,q3e as od,oX as pd,W3e as qd,G3e as rd,Q3e as sd,K3e as td,X3e as ud,Z3e as vd,Rue as wd,Oue as xd,lX as yd,uX as zd,t0e as Ad,n0e as Bd,Ha as Cd,QR as Dd,Vn as Ed,_0e as Fd,b0e as Gd,E0e as Hd,my as Id,el as Jd,gh as Kd,W2 as Ld,G2 as Md,vh as Nd,G0e as Od,nO as Pd,d8e as Qd,by as Rd,Ey as Sd,E8e as Td,AX as Ud,uO as Vd,S8e as Wd,hO as Xd,OX as Yd,x8e as Zd,A8e as _d,_h as $d,Hi as ae,Q2 as be,c6e as ce,X2 as de,WX as ee,l6e as fe,xy as ge,yO as he,Mh as ie,pt as je,KX as ke,Py as le,nl as me,Ly as ne,SO as oe,S6e as pe,Fy as qe,fZ as re,pZ as se,Y6e as te,Q6e as ue,Ah as ve,zh as we,Rh as xe,Bi as ye,GO as ze,YO as Ae,QO as Be,Ph as Ce,Ih as De,ZO as Ee,JO as Fe,tV as Ge,nV as He,rV as Ie,iV as Je,oV as Ke,RO as Le,ou as Me,Wa as Ne,Ga as Oe,$y as Pe,$O as Qe,qO as Re,sV as Se,aV as Te,UV as Ue,$V as Ve,qV as We,WV as Xe,GV as Ye,YV as Ze,QV as _e,$h as $e,KV as af,XV as bf,ZV as cf,WO as df,Obe as ef,Cn as ff,$be as gf,cte as hf,ad as if,Ybe as jf,Qbe as kf,Kbe as lf,Xbe as mf,k_e as nf,cbe as of,xP as pf,ate as qf,Ibe as rf,Dbe as sf};
