import{b as Yt,c as ei}from"./chunk-6OAD73ID.js";import{a as qt}from"./chunk-I6IMZYDP.js";import{a as Rt,b as It,d as Vt,e as Re}from"./chunk-SLZ3ATTL.js";import{a as Kt,c as Jt,d as Zt}from"./chunk-ITGZQBGS.js";import{a as Ht}from"./chunk-KRVB7LHW.js";import{c as Wt}from"./chunk-P37A5HST.js";import{a as yt}from"./chunk-EPJK6OLW.js";import{B as Gt,C as jt,D as $t,G as Qt,a as ue,c as he,d as fe,k as ze,n as Ot,o as Pt,w as Bt}from"./chunk-7DZJ3JJV.js";import{H as Ct,P as ce,Q as de,R as me,S as pe,_ as Ee,aa as bt,b as ee,c as T,d as D,da as wt,e as te,ea as Ge,fa as Ft,g as ge,h as ft,i as ie,ja as Ie,k as ne,m as re,ma as At,na as Ut,pa as ke,q as oe,qa as Le,r as zt,sa as Mt,t as ae,ta as De,u as le,ua as Xt,w as gt,x as St}from"./chunk-SDAY43RL.js";import{a as Tt,c as Et,f as Ve,g as kt,i as Lt,j as Dt}from"./chunk-ADJCAUPD.js";import{$ as I,$b as ut,Ab as mt,Ca as g,Ea as c,F as et,Fb as F,Ga as ve,H as tt,Ia as ct,Ib as xe,M as it,Mc as we,N as H,P as W,Pd as $,Qd as Be,R as nt,Ra as s,S as rt,Sa as l,Ta as f,Ua as Q,Ub as Me,Va as K,Vb as Z,W as ot,Wa as dt,Wb as Y,Xa as C,Z as R,_a as z,_b as pt,aa as st,ab as h,b as Je,c as q,ed as Xe,fa as Pe,fe as vt,ga as _,ha as v,ib as P,jb as M,kb as X,l as Oe,la as Ce,lb as N,m as y,ma as k,mb as p,nb as b,ob as w,od as Fe,pb as be,rb as B,s as Ze,sa as o,sb as G,sf as A,ta as S,tb as j,tf as U,uc as ht,v as Ye,vb as ye,vf as O,wa as at,wb as Ne,we as se,wf as Nt,xa as lt,xb as J,xf as xt,yd as _t,ze as Te}from"./chunk-OOO7QBDH.js";import{b as Se}from"./chunk-IOYOIITG.js";import{a as E,f as Ae,h as Ue}from"./chunk-SIAVTO45.js";var _e=Ae(Ge()),L=Ae(Ge());var hi=["searchBar"],fi=["searchBarDrive"],zi=()=>[];function _i(r,d){r&1&&f(0,"i",36)}function vi(r,d){if(r&1){let n=C();s(0,"tr",28),z("click",function(){let t=_(n).$implicit,i=h();return v(i.userSelected(t))}),s(1,"td")(2,"div",29)(3,"div"),f(4,"nz-avatar",30),l(),s(5,"div",31)(6,"h6",32),g(7,_i,1,0,"i",33),p(8),l(),Q(9),s(10,"p",34),p(11),f(12,"nz-badge",35),p(13),f(14,"br"),p(15),l(),K(),l()()()()}if(r&2){let n=d.$implicit;o(4),c("nzSrc",n.photoURL),o(3),c("ngIf",n.disabled),o(),w(" ",n.displayName,""),o(3),w(" ",n.studentId," "),o(),c("nzStatus",n.emailVerified?"success":"error"),o(),w(" ",n.email," "),o(2),w(" ",n.customerName," ")}}function gi(r,d){r&1&&f(0,"i",36)}function Si(r,d){if(r&1&&(s(0,"div",37),Q(1),s(2,"div",29)(3,"a",38),f(4,"i",39),l(),s(5,"div"),f(6,"nz-avatar",30),l(),s(7,"div",31)(8,"h6",32),g(9,gi,1,0,"i",33),p(10),l(),s(11,"p",40),f(12,"nz-badge",35),s(13,"span"),p(14),l()()()(),K(),l()),r&2){let n=h();o(3),c("routerLink",Ne(6,zi)),o(3),c("nzSrc",n.currentUserSelected.photoURL),o(3),c("ngIf",n.currentUserSelected.disabled),o(),w(" ",n.currentUserSelected.displayName," "),o(2),c("nzStatus",n.currentUserSelected.emailVerified?"success":"error"),o(2),w(" ",n.currentUserSelected.email," ")}}function Ci(r,d){if(r&1){let n=C();s(0,"li",62),z("click",function(){let t=_(n).$implicit,i=h(2);return v(i.onSegmentSelected(t))}),p(1),l()}if(r&2){let n=d.$implicit,e=h(2);ve("selected",e.selectedSegmentId===n.id),o(),be(" ",n.nivelNum," - ",n.nivel," ")}}function bi(r,d){if(r&1){let n=C();s(0,"nz-tabset",41)(1,"nz-tab",42),z("nzClick",function(){_(n);let t=h();return v(t.nzClicOptionInformacion())}),s(2,"div")(3,"button",43),z("click",function(){_(n);let t=h();return v(t.showModalEditUser(t.currentUserSelected))}),f(4,"i",44),p(5," Asignar Rol "),l(),s(6,"div")(7,"nz-descriptions",45)(8,"nz-descriptions-item",46),p(9),l(),s(10,"nz-descriptions-item",47),p(11),l(),s(12,"nz-descriptions-item",48),p(13),l(),s(14,"nz-descriptions-item",49),p(15),l(),s(16,"nz-descriptions-item",50),p(17),l(),s(18,"nz-descriptions-item",51),p(19),l(),s(20,"nz-descriptions-item",52),p(21),l(),s(22,"nz-descriptions-item",53),p(23),l(),s(24,"nz-descriptions-item",54),p(25),l(),s(26,"nz-descriptions-item",55),p(27),l()()()()(),s(28,"nz-tab",56),z("nzClick",function(){_(n);let t=h();return v(t.nzClicOptionSegment(t.currentUserSelected))}),s(29,"div"),p(30),l(),s(31,"div")(32,"nz-button-group")(33,"button",57),z("click",function(){_(n);let t=h();return v(t.log())}),p(34,"Segmentos"),l(),s(35,"button",58),f(36,"span",59),l(),s(37,"nz-dropdown-menu",null,5)(39,"ul",60),g(40,Ci,2,4,"li",61),l()()()(),s(41,"div")(42,"button",43),z("click",function(){_(n);let t=h();return v(t.saveSegment(t.currentUserSelected))}),f(43,"i",44),p(44," Guardar"),l()()()()}if(r&2){let n=N(38),e=h();o(9),b(e.currentUserSelected.firstName),o(2),b(e.currentUserSelected.lastName),o(2),b(e.currentUserSelected.email),o(2),b(e.currentUserSelected.emailVerified),o(2),b(e.currentUserSelected.displayName),o(2),b(e.currentUserSelected.username),o(2),w(" ",e.currentUserSelected.disabled?"Suspendido":"Activo"," "),o(2),b(e.rolesperUser),o(2),b(e.rolesperUserAplicacion),o(2),b(e.currentUserSelected.status),o(3),w(" Actual Segmento Seleccionado : ",e.selectedSegmentName," "),o(5),c("nzDropdownMenu",n),o(5),c("ngForOf",e.segmentList)}}function yi(r,d){r&1&&p(0," Asignar Rol ")}function Ni(r,d){if(r&1&&(s(0,"nz-option",67),f(1,"i",44),p(2),l()),r&2){let n=d.$implicit;c("nzLabel",n.name)("nzValue",n.uid),o(2),w(" ",n.description,"")}}function xi(r,d){if(r&1){let n=C();s(0,"form",63),z("ngSubmit",function(){_(n);let t=h();return v(t.submitForm())}),s(1,"nz-form-item")(2,"nz-form-label",64),p(3,"Rol"),l(),s(4,"nz-form-control",64)(5,"nz-select",65),g(6,Ni,3,3,"nz-option",66),l()()()()}if(r&2){let n=h();c("formGroup",n.validateEditForm),o(2),c("nzSm",6)("nzXs",24),o(2),c("nzSm",14)("nzXs",24),o(2),c("ngForOf",n.roles)}}function wi(r,d){if(r&1){let n=C();s(0,"button",68),z("click",function(){_(n);let t=h();return v(t.handleCancel())}),p(1,"Cancelar"),l(),s(2,"button",68),z("click",function(){_(n);let t=h();return v(t.submitEditForm())}),p(3,"Guardar"),l()}}var An=(()=>{let d=class d{constructor(e,t,i){this.afs=e,this.msg=t,this.fb=i,this.customersService=R(wt),this.rolService=R(ue),this.authService=R(Te),this.loadedDevicesList=[],this.loadedDevicesListDrive=[],this.accountId$=new q,this.routeId$=new q,this.isUserSelected=!1,this.isDriverSelected=!1,this.isBoardingPassSelected=!1,this.stopPointsList=[],this.isEditUserVisible=!1,this.isCustomersVisible=!1,this.userRoutes=[],this.fileListInfo=[],this.newCustomerIdEditMode="",this.isConfirmLoading=!1,this.resetClientEditInfo=!1,this.isVisible=!1,this.isLoadingUsers=!1,this.isLoadingDrivers=!1,this.usersByAccount=[],this.hasBeenFiltered=!1,this.infoLoad=[],this.vendorinfo=[],this.vendorName="",this.userinfoLoad=[],this.routesService=R(Mt),this.vendorService=R(qt),this.accountsService=R(Ve),this.stopSubscription$=new q,this.infoSegment=[],this.authService.user.subscribe(a=>{this.user=a,this.authService.user.subscribe(m=>{this.user=m,this.user!==null&&this.user!==void 0&&this.user.rolId!==void 0&&(this.rolService.getRol(this.user.rolId).valueChanges().subscribe(u=>{this.infoLoad=u,this.userlevelAccess=this.infoLoad.optionAccessLavel}),this.accountsService.getSegmentLevel(this.user.idSegment).pipe(W(this.stopSubscription$),y(u=>{let V=u.payload.id,x=u.payload.data();return E({id:V},x)}),nt(u=>(this.infoSegment=u,u))).subscribe())})})}ngOnInit(){let e=this.accountId$.pipe(H(a=>this.afs.collection("customers").doc(a).collection("routes",m=>m.where("active","==",!0)).valueChanges({idField:"routeId"}))),t=this.accountId$.pipe(H(a=>this.afs.collection("users",m=>m.where("customerId","==",a).orderBy("studentId")).valueChanges({idField:"uid"}))),i=this.accountId$.pipe(H(a=>this.afs.collection("roles",m=>m.where("active","==",!0)).valueChanges({idField:"uid"})));t.subscribe(a=>{this.usersByAccount=a}),i.subscribe(a=>{this.roles=a}),this.getUsersList(),this.getDriversList(),this.validateEditForm=this.fb.group({rolId:[""],roles:[""]})}ngOnDestroy(){this.stopSubscription$.next(void 0),this.stopSubscription$.complete()}initializeItems(){this.devicesList=this.loadedDevicesList,this.devicesListDrive=this.loadedDevicesListDrive}getUsersList(){this.isLoadingUsers=!0,this.infoSegment.nivelNum!==void 0&&this.infoSegment.nivelNum==1?(this.usersCollection=this.afs.collection("users",e=>e.where("customerId","==",this.user.customerId).orderBy("displayName")),this.users=this.usersCollection.snapshotChanges().pipe(y(e=>e.map(t=>{let i=t.payload.doc.id,a=t.payload.doc.data();return E({id:i},a)}))).subscribe(e=>{this.loadUsers(e)})):(this.usersCollection=this.afs.collection("users",e=>e.orderBy("displayName")),this.users=this.usersCollection.snapshotChanges().pipe(y(e=>e.map(t=>{let i=t.payload.doc.id,a=t.payload.doc.data();return E({id:i},a)}))).subscribe(e=>{this.loadUsers(e)}))}getDriversList(){this.isLoadingDrivers=!0,this.infoSegment.nivelNum!==void 0&&this.infoSegment.nivelNum==1?(this.driversCollection=this.afs.collection("drivers",e=>e.where("customerId","==",this.user.customerId).orderBy("displayName")),this.users=this.driversCollection.snapshotChanges().pipe(y(e=>e.map(t=>{let i=t.payload.doc.id,a=t.payload.doc.data();return E({id:i},a)}))).subscribe(e=>{this.loadDrivers(e)})):(this.driversCollection=this.afs.collection("drivers",e=>e.orderBy("displayName")),this.users=this.driversCollection.snapshotChanges().pipe(y(e=>e.map(t=>{let i=t.payload.doc.id,a=t.payload.doc.data();return E({id:i},a)}))).subscribe(e=>{this.loadDrivers(e)}))}loadUsers(e){this.loadedDevicesList.length<=1&&(this.displayData=e,this.devicesList=_e.orderBy(JSON.parse(JSON.stringify(e)),["displayName"],["asc"]),this.loadedDevicesList=this.devicesList)}loadDrivers(e){this.loadedDevicesListDrive.length<=1&&(this.displayDataDriver=e,this.devicesListDrive=_e.orderBy(JSON.parse(JSON.stringify(e)),["displayName"],["asc"]),this.loadedDevicesListDrive=this.devicesListDrive)}getItems(e){this.initializeItems();let t=e;if(!t)return;let i=_e.toLower(t);this.devicesList=(0,L.filter)(this.devicesList,a=>(0,L.some)(a,m=>(0,L.toLower)(m).includes(i)))}getItemsDrive(e){this.initializeItems();let t=e;if(!t)return;let i=_e.toLower(t);this.devicesListDrive=(0,L.filter)(this.devicesList,a=>(0,L.some)(a,m=>(0,L.toLower)(m).includes(i)))}userSelected(e){this.rolesperUser="",this.rolesperUserAplicacion="",this.currentUserSelected=e,this.RolesArray=e.roles,this.rolesperUserAplicacion=this.RolesArray.join(", "),e.rolId!=null&&e.rolId.length>0&&this.rolService.getRol(e.rolId).valueChanges().subscribe(t=>{this.infoLoad=t,this.rolesperUser=this.infoLoad.description}),this.currentSelectedCustomerId=this.currentUserSelected.customerId,this.isBoardingPassSelected=!1,this.accountId$.next(this.currentUserSelected.customerId),this.isUserSelected=!0}driverSelected(e){this.vendorName="",this.rolesperUser="",this.rolesperUserAplicacion="",this.currentDriverSelected=e,this.RolesArray=e.roles,this.rolesperUserAplicacion=this.RolesArray.join(", "),e.rolId!=null&&e.rolId.length>0&&this.rolService.getRol(e.rolId).valueChanges().subscribe(t=>{this.infoLoad=t,this.rolesperUser=this.infoLoad.name}),e.vendorId!=null&&this.vendorService.getVendor(e.vendorId).pipe(y(t=>{let i=t.payload.id,a=t.payload.data();return E({id:i},a)})).subscribe(t=>{this.vendorinfo=t,this.vendorName=this.vendorinfo.name}),this.isBoardingPassSelected=!1,this.isDriverSelected=!0}setUserDisabled(e){this.customersService.setUserDisabled(this.currentUserSelected.uid,e),this.currentUserSelected.disabled=e}nzClicOptionInformacion(){this.isBoardingPassSelected=!1}nzClicOptionSegment(e){this.customersService.getAllSegments().pipe(y(t=>t.map(i=>{let a=i.payload.doc.id,m=i.payload.doc.data();return E({id:a},m)}))).subscribe(t=>{this.segmentList=t;let i=this.segmentList.find(a=>a.id===e.idSegment);i&&(this.selectedSegmentName=i.nivel)}),e!==null&&e.idSegment!==void 0&&(this.selectedSegmentId=e.idSegment)}onSegmentSelected(e){this.selectedSegmentName=e.nivel,this.selectedSegmentId=e.id}log(){}showModalEditUser(e){this.isEditUserVisible=!0}saveSegment(e){this.customersService.saveSegmentId(e.id,this.selectedSegmentId)}showModalEditDriver(e){this.isEditUserVisible=!1}showModalCustomer(){}showModal(){this.isVisible=!0}handleCancel(){this.isEditUserVisible=!1}submitForm(){}submitEditForm(){let e=this.validateEditForm.controls.rolId.value==null?"":this.validateEditForm.controls.rolId.value,t=this.currentUserSelected.uid,i=!0,a={uid:t,rolId:e};i?this.userlevelAccess!="3"?this.rolService.updateUserRol(this.currentUserSelected.uid,a).then(m=>{this.isEditUserVisible=!1}).catch(m=>{this.msg.error(m)}):this.msg.error("El usuario no tiene permisos para actualizar datos, favor de contactar al administrador."):this.msg.success("El Formulario no es valido favor de validar")}submitCustomerForm(){}};d.\u0275fac=function(t){return new(t||d)(S(we),S(se),S(oe))},d.\u0275cmp=I({type:d,selectors:[["app-list"]],viewQuery:function(t,i){if(t&1&&(P(hi,5),P(fi,5)),t&2){let a;M(a=X())&&(i.searchbar=a.first),M(a=X())&&(i.searchbarDrive=a.first)}},decls:34,vars:12,consts:[["searchBar",""],["basicTable",""],["modalUserTitle",""],["modalUserContent",""],["modalUserFooter",""],["menu1","nzDropdownMenu"],[2,"margin","buttom 15px","margin-right","15px","margin-left","15px"],[1,"site-page-header-ghost-wrapper"],[2,"background-color","#f9fbfd",3,"nzGhost"],[2,"margin-left","350px"],[1,"container-fluid","p-h-0"],[1,"page-header-tab"],["nzTitle","Usuarios"],[1,"chat","chat-app","row"],[1,"chat-list"],[1,"chat-user-tool"],["nz-icon","","nzTheme","outline",1,"search-icon","p-r-10","font-size-20"],["placeholder","Buscar",3,"keyup"],[1,"chat-user-list"],[3,"nzData","nzShowPagination","nzPageSize"],[3,"click",4,"ngFor","ngForOf"],[1,"chat-content"],[1,"conversation"],[1,"conversation-wrapper"],["class","conversation-header justify-content-between",4,"ngIf"],[1,"body"],["style","width: 100% !important; overflow-y: scroll !important; height: 100% !important;",4,"ngIf"],[3,"nzVisibleChange","nzOnCancel","nzVisible","nzTitle","nzContent","nzFooter","nzWidth"],[3,"click"],[1,"media","align-items-center"],["nzShape","square","nzIcon","user",1,"shadow",2,"background-color","white","color","#4F6F57",3,"nzSrc"],[1,"p-l-15"],[1,"m-b-0"],["nz-icon","","nzTheme","twotone","nzTwotoneColor","#de4436",4,"ngIf"],[1,"msg-overflow","m-b-0","text-muted","font-size-13"],[3,"nzStatus"],["nz-icon","","nzTheme","twotone","nzTwotoneColor","#de4436"],[1,"conversation-header","justify-content-between"],[1,"m-r-20","d-md-none","d-block","text-dark","font-size-18","m-t-5",3,"routerLink"],["nz-icon","","type","left-circle","theme","outline"],[1,"m-b-0","text-muted","font-size-13"],[2,"width","100% !important","overflow-y","scroll !important","height","100% !important"],["nzTitle","Informacion General",3,"nzClick"],["nz-button","",1,"m-r-10",2,"background-color","#4F6F57","color","#f6f3ea",3,"click"],["nz-icon",""],["nzBordered","","nzSize","small"],["nzTitle","Nombre"],["nzTitle","Apellidos"],["nzTitle","Email"],["nzTitle","Correo Valido"],["nzTitle","Display Name"],["nzTitle","Usuario"],["nzTitle","Activo"],["nzTitle","Rol Administrativo"],["nzTitle","Rol Aplicaciones"],["nzTitle","Estatus"],["nzTitle","Segmentaci\xF3n",3,"nzClick"],["nz-button","",3,"click"],["nz-button","","nz-dropdown","","nzPlacement","bottomRight",3,"nzDropdownMenu"],["nz-icon","","nzType","ellipsis"],["nz-menu",""],["nz-menu-item","",3,"selected","click",4,"ngFor","ngForOf"],["nz-menu-item","",3,"click"],["nz-form","","nzLayout","horizontal",3,"ngSubmit","formGroup"],[3,"nzSm","nzXs"],["formControlName","rolId","nzAllowClear","","nzPlaceHolder","Selecciona el Rol"],["nzCustomContent","",3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzCustomContent","",3,"nzLabel","nzValue"],["nz-button","",2,"background-color","#4F6F57","color","#f6f3ea",3,"click"]],template:function(t,i){if(t&1){let a=C();s(0,"div",6)(1,"div",7)(2,"nz-page-header",8)(3,"nz-page-header-title",9),p(4,"Perfiles"),l(),s(5,"nz-page-header-subtitle"),p(6,"Perfiles de usuarios del Sistema "),l()()(),s(7,"div",10)(8,"nz-tabset",11)(9,"nz-tab",12)(10,"div",13)(11,"div",14)(12,"div",15),f(13,"i",16),s(14,"input",17,0),z("keyup",function(){_(a);let u=N(15);return v(i.getItems(u.value))}),l()(),s(16,"div",18)(17,"nz-table",19,1)(19,"tbody"),g(20,vi,16,7,"tr",20),l()()()(),s(21,"div",21)(22,"div",22)(23,"div",23),g(24,Si,15,7,"div",24),s(25,"div",25),g(26,bi,45,13,"nz-tabset",26),s(27,"nz-modal",27),j("nzVisibleChange",function(u){return _(a),G(i.isEditUserVisible,u)||(i.isEditUserVisible=u),v(u)}),z("nzOnCancel",function(){return _(a),v(i.handleCancel())}),g(28,yi,1,0,"ng-template",null,2,F)(30,xi,7,6,"ng-template",null,3,F)(32,wi,4,0,"ng-template",null,4,F),l()()()()()()()()()()}if(t&2){let a=N(18),m=N(29),u=N(31),V=N(33);o(2),c("nzGhost",!1),o(15),c("nzData",i.devicesList)("nzShowPagination",!1)("nzPageSize",10),o(3),c("ngForOf",a.data),o(4),c("ngIf",i.isUserSelected),o(2),c("ngIf",i.isUserSelected),o(),B("nzVisible",i.isEditUserVisible),c("nzTitle",m)("nzContent",u)("nzFooter",V)("nzWidth",600)}},dependencies:[Z,Y,$,le,ae,de,ce,pe,me,jt,Bt,Gt,$t,Ie,yt,Kt,Zt,Jt,Et,Tt,kt,Dt,Lt,O,Nt,A,U,ze,he,fe,ke,Le,ht,ie,D,te,ne,re,Pt,Ot]});let r=d;return r})();var Qn=(()=>{let d=class d{constructor(e,t,i){this.fb=e,this.bucketStorage=t,this.messageService=i,this.userService=R(Ft),this.authService=R(Te),this.rolService=R(ue),this.accountService=R(Ve),this.userRol="",this.infoLoad=[],this.avatarUrl="http://themenate.com/applicator/dist/assets/images/avatars/thumb-13.jpg",this.uploading=!1,this.bucketPath="profile/",this.userForm=[],this.uploadvalue=0,this.confirmationValidator=a=>{if(a.value){if(a.value!==this.validateForm.controls.password.value)return{confirm:!0,error:!0}}else return{required:!0};return{}},this.beforeUpload=a=>!1,this.validateForm=this.fb.group({email:new ge({value:"",disabled:!0},T.required),firstName:[null,[T.required]],lastName:[null,[T.required]],phoneNumber:[""],username:[""],displayName:[""],emailVerified:new ge({value:"",disabled:!0}),userRol:new ge({value:"",disabled:!0}),customerName:new ge({value:"",disabled:!0}),photoURL:[""],idPRepa2:[]}),this.authService.user.subscribe(a=>{this.user=a,this.user!==null&&this.user!==void 0&&this.user.rolId!==void 0&&this.rolService.getRol(this.user.rolId).valueChanges().subscribe(m=>{this.infoLoad=m,this.userRol=this.infoLoad.description,this.userlevelAccess=this.infoLoad.optionAccessLavel,this.fillInfo()})})}ngOnInit(){}borrar(){var e=this.validateForm.controls.idPRepa2.value;this.accountService.getUserAccountDeleteByData(e)}done(){if(this.validateForm.valid){let e={displayName:this.validateForm.controls.displayName.value,firstName:this.validateForm.controls.firstName.value,lastName:this.validateForm.controls.lastName.value,phoneNumber:this.validateForm.controls.phoneNumber.value};this.userlevelAccess!="3"?this.userService.updateUserCollection(this.user.uid,e).then(t=>{this.sendMessage("success","Se actualiz\xF3 con exito!")}).catch(t=>{this.sendMessage("error",t)}):this.sendMessage("error","El usuario no tiene permisos para actualizar datos, favor de contactar al administrador.")}}fillInfo(){this.user&&(this.validateForm.controls.photoURL.setValue(this.user.photoURL),this.validateForm.controls.displayName.setValue(this.user.displayName),this.validateForm.controls.firstName.setValue(this.user.firstName),this.validateForm.controls.lastName.setValue(this.user.lastName),this.validateForm.controls.username.setValue(this.user.username),this.validateForm.controls.phoneNumber.setValue(this.user.phoneNumber),this.validateForm.controls.email.setValue(this.user.email),this.validateForm.controls.emailVerified.setValue(this.user.emailVerified),this.validateForm.controls.userRol.setValue(this.userRol),this.validateForm.controls.customerName.setValue(this.user.customerName))}updateConfirmValidator(){Promise.resolve().then(()=>this.validateForm.controls.checkPassword.updateValueAndValidity())}getBase64(e,t){let i=new FileReader;i.addEventListener("load",()=>{i.result!==null&&typeof i.result=="string"?t(i.result):this.sendMessage("error","FileReader invalido")}),i.readAsDataURL(e)}handleChange(e){e.file.originFileObj&&this.getBase64(e.file.originFileObj,t=>{this.avatarUrl=t;let i=e.file.name,a=`${this.bucketPath}/${i}`,m=this.bucketStorage.ref(a);this.task=this.bucketStorage.ref(a).putString(t,"data_url"),this.uploadPercent=this.task.percentageChanges(),this.uploadPercent.pipe(y(u=>Number((u/100).toFixed(2)))).subscribe(u=>{this.uploading=u!=0,this.uploadvalue=u}),this.task.snapshotChanges().pipe(tt(()=>{this.uploading=!1,this.downloadURL=m.getDownloadURL(),this.downloadURL.subscribe(u=>Ue(this,null,function*(){this.updatePhotoURL(u),this.sendMessage("sucess","Se actualiz\xF3 con \xE9xito la imagen de perfil")}))})).subscribe()})}sendMessage(e,t){this.messageService.create(e,t)}updatePhotoURL(e){return Ue(this,null,function*(){this.validateForm.controls.photoURL.patchValue(e),this.userlevelAccess!="3"?this.userService.updateUserAvatar(this.user.uid,e):this.sendMessage("error","El usuario no tiene permisos para actualizar datos, favor de contactar al administrador.")})}};d.\u0275fac=function(t){return new(t||d)(S(oe),S(Ht),S(se))},d.\u0275cmp=I({type:d,selectors:[["ng-component"]],decls:77,vars:48,consts:[[2,"margin","buttom 15px","margin-right","15px","margin-left","15px"],[1,"site-page-header-ghost-wrapper"],[2,"background-color","#f9fbfd",3,"nzGhost"],[2,"margin-left","350px"],[1,"body",2,"margin","buttom 15px","margin-top","15px"],[1,"container-fluid","p-h-0"],["nz-form","",3,"ngSubmit","formGroup"],[2,"margin-top","15px"],[3,"nzSm","nzXs"],["nzName","avatar","nzAction","action",3,"nzChange","nzShowUploadList"],["nz-button","","nzGhost","",2,"background-color","#4F6F57","color","#f6f3ea"],["nzFor","displayName","nzRequired","",3,"nzSm","nzXs"],["nzErrorTip","Por favor ingresar el display name",3,"nzSm","nzXs"],["nz-input","","id","displayName","formControlName","displayName"],["nzFor","firstName","nzRequired","",3,"nzSm","nzXs"],["nzErrorTip","Por favor ingrese su nombre completo",3,"nzSm","nzXs"],["nz-input","","id","firstName","formControlName","firstName"],["nzFor","lastName","nzRequired","",3,"nzSm","nzXs"],["nz-input","","id","lastName","formControlName","lastName"],["nzFor","username","nzRequired","",3,"nzSm","nzXs"],["nz-input","","id","username","formControlName","username"],["nzFor","phoneNumber","nzRequired","",3,"nzSm","nzXs"],["nzErrorTip","Ingrese su numero de tel\xE9fono",3,"nzSm","nzXs","nzValidateStatus"],["formControlName","phoneNumber","id","'phoneNumber'","nz-input",""],["nzRequired","","nzFor","email",3,"nzSm","nzXs"],["nzErrorTip","Por favor escriba un correo electr\xF3nico",3,"nzSm","nzXs"],["nz-input","","formControlName","email","id","email"],["nzFor","emailVerified","nzRequired","",3,"nzSm","nzXs"],["nz-input","","id","emailVerified","formControlName","emailVerified"],["nzFor","customerName","nzRequired","",3,"nzSm","nzXs"],["nz-input","","id","customerName","formControlName","customerName"],["nzHasFeedback","",3,"nzSm","nzXs"],["nz-input","","id","userRol","formControlName","userRol"],["nz-button","","type","submit",2,"background-color","#4F6F57","color","#f6f3ea",3,"click"]],template:function(t,i){t&1&&(s(0,"div",0)(1,"div",1)(2,"nz-page-header",2)(3,"nz-page-header-title",3),p(4,"Mi Perfil"),l(),s(5,"nz-page-header-subtitle"),p(6,"Mi Informaci\xF3n de Perfil "),l()()(),s(7,"div",4)(8,"nz-layout",5)(9,"form",6),z("ngSubmit",function(){return i.done()}),s(10,"nz-form-item",7)(11,"nz-form-label",8)(12,"span"),p(13,"Foto"),l()(),s(14,"nz-form-control",8)(15,"nz-upload",9),z("nzChange",function(m){return i.handleChange(m)}),s(16,"button",10)(17,"span"),p(18,"Cambiar im\xE1gen"),l()()()()(),s(19,"nz-form-item")(20,"nz-form-label",11)(21,"span"),p(22,"Display Name"),l()(),s(23,"nz-form-control",12),f(24,"input",13),l()(),s(25,"nz-form-item")(26,"nz-form-label",14)(27,"span"),p(28," Nombre(s)"),l()(),s(29,"nz-form-control",15),f(30,"input",16),l()(),s(31,"nz-form-item")(32,"nz-form-label",17)(33,"span"),p(34," Apellido(s)"),l()(),s(35,"nz-form-control",15),f(36,"input",18),l()(),s(37,"nz-form-item")(38,"nz-form-label",19)(39,"span"),p(40," Usuario "),l()(),s(41,"nz-form-control",15),f(42,"input",20),l()(),s(43,"nz-form-item")(44,"nz-form-label",21),p(45,"Tel\xE9fono"),l(),s(46,"nz-form-control",22)(47,"nz-input-group"),f(48,"input",23),l()()(),s(49,"nz-form-item")(50,"nz-form-label",24),p(51,"Correo"),l(),s(52,"nz-form-control",25),f(53,"input",26),l()(),s(54,"nz-form-item")(55,"nz-form-label",27)(56,"span"),p(57," Correo verificado"),l()(),s(58,"nz-form-control",8),f(59,"input",28),l()(),s(60,"nz-form-item")(61,"nz-form-label",29)(62,"span"),p(63," Empresa "),l()(),s(64,"nz-form-control",8),f(65,"input",30),l()(),s(66,"nz-form-item")(67,"nz-form-label",8),p(68,"Rol del usuario"),l(),s(69,"nz-form-control",31),f(70,"input",32),l()(),s(71,"nz-form-item"),f(72,"nz-form-label",8),s(73,"nz-form-control",8)(74,"button",33),z("click",function(){return i.done()}),s(75,"span"),p(76,"Actualizar"),l()()()()()()()()),t&2&&(o(2),c("nzGhost",!1),o(7),c("formGroup",i.validateForm),o(2),c("nzSm",6)("nzXs",24),o(3),c("nzSm",14)("nzXs",24),o(),c("nzShowUploadList",!1),o(5),c("nzSm",6)("nzXs",24),o(3),c("nzSm",14)("nzXs",24),o(3),c("nzSm",6)("nzXs",24),o(3),c("nzSm",14)("nzXs",24),o(3),c("nzSm",6)("nzXs",24),o(3),c("nzSm",14)("nzXs",24),o(3),c("nzSm",6)("nzXs",24),o(3),c("nzSm",14)("nzXs",24),o(3),c("nzSm",6)("nzXs",24),o(2),c("nzSm",14)("nzXs",24)("nzValidateStatus",i.validateForm.controls.phoneNumber),o(4),c("nzSm",6)("nzXs",24),o(2),c("nzSm",14)("nzXs",24),o(3),c("nzSm",6)("nzXs",24),o(3),c("nzSm",14)("nzXs",24),o(3),c("nzSm",6)("nzXs",24),o(3),c("nzSm",14)("nzXs",24),o(3),c("nzSm",6)("nzXs",24),o(2),c("nzSm",14)("nzXs",24),o(3),c("nzSm",6)("nzXs",24),o(),c("nzSm",14)("nzXs",24))},dependencies:[le,ae,de,ce,pe,me,Ee,bt,Wt,Re,O,A,U,ze,he,fe,ie,ee,D,te,ne,re]});let r=d;return r})();var li=Ae(Ge());var Ei=["nz-transfer-search",""],Ri=r=>({"ant-input-disabled":r});function Ii(r,d){if(r&1){let n=C();s(0,"span",4),z("click",function(){_(n);let t=h();return v(t._clear())}),f(1,"span",5),l()}}var Vi=["headerCheckbox"],ki=["checkboxes"],Li=r=>({"ant-transfer__nodata":r}),Di=r=>({"ant-transfer-list-content-item-disabled":r}),si=r=>({$implicit:r}),Ai=(r,d,n,e,t,i)=>({$implicit:r,direction:d,disabled:n,onItemSelectAll:e,onItemSelect:t,stat:i});function Ui(r,d){if(r&1&&(Q(0),p(1),K()),r&2){let n=h().$implicit;o(),b(n.title)}}function Oi(r,d){}function Pi(r,d){if(r&1){let n=C();s(0,"li",16),z("click",function(){let t=_(n).$implicit,i=h(3);return v(i.onItemSelect(t))}),s(1,"label",17,1),z("nzCheckedChange",function(){let t=_(n).$implicit,i=h(3);return v(i.onItemSelect(t))}),g(3,Ui,2,1,"ng-container",10)(4,Oi,0,0,"ng-template",18,2,F),l()()}if(r&2){let n=d.$implicit,e=N(5),t=h(3);c("ngClass",J(7,Di,t.disabled||n.disabled)),o(),c("nzChecked",n.checked)("nzDisabled",t.disabled||n.disabled),o(2),c("ngIf",!t.render)("ngIfElse",e),o(),c("ngTemplateOutlet",t.render)("ngTemplateOutletContext",J(9,si,n))}}function Mi(r,d){if(r&1&&(s(0,"ul",14),g(1,Pi,6,11,"li",15),l()),r&2){let n=h(2);o(),c("ngForOf",n.validData)("ngForTrackBy",n.trackByHide)}}function Xi(r,d){if(r&1&&(s(0,"div",19),f(1,"nz-embed-empty",20),l()),r&2){let n=h(2);o(),c("nzComponentName","transfer")("specificContent",n.notFoundContent)}}function Bi(r,d){if(r&1&&g(0,Mi,2,2,"ul",12)(1,Xi,2,2,"div",13),r&2){let n=h();c("ngIf",n.stat.shownCount>0),o(),c("ngIf",n.stat.shownCount===0)}}function Gi(r,d){if(r&1){let n=C();s(0,"label",21,3),z("nzCheckedChange",function(t){_(n);let i=h();return v(i.onItemSelectAll(t))}),l()}if(r&2){let n=h();c("nzChecked",n.stat.checkAll)("nzIndeterminate",n.stat.checkHalf)("nzDisabled",n.stat.shownCount===0||n.disabled)}}function ji(r,d){if(r&1&&(s(0,"span",22),p(1),l()),r&2){let n=h();o(),b(n.titleText)}}function $i(r,d){if(r&1){let n=C();s(0,"div",23)(1,"span",24),z("valueChanged",function(t){_(n);let i=h();return v(i.handleFilter(t))})("valueClear",function(){_(n);let t=h();return v(t.handleClear())}),l()()}if(r&2){let n=h();o(),c("placeholder",n.searchPlaceholder)("disabled",n.disabled)("value",n.filter)}}function qi(r,d){r&1&&dt(0)}function Hi(r,d){if(r&1&&(Q(0),s(1,"div",25),g(2,qi,1,0,"ng-container",26),l(),K()),r&2){let n=h();o(2),c("ngTemplateOutlet",n.renderList)("ngTemplateOutletContext",mt(2,Ai,n.validData,n.direction,n.disabled,n.onItemSelectAll,n.onItemSelect,n.stat))}}function Wi(r,d){}function Qi(r,d){if(r&1&&(s(0,"div",27),g(1,Wi,0,0,"ng-template",18),l()),r&2){let n=h();o(),c("ngTemplateOutlet",n.footer)("ngTemplateOutletContext",J(2,si,n.direction))}}function Ki(r,d){if(r&1&&(s(0,"span"),p(1),l()),r&2){let n=h(2);o(),b(n.nzOperations[1])}}function Ji(r,d){if(r&1&&(s(0,"span"),p(1),l()),r&2){let n=h(2);o(),b(n.nzOperations[0])}}function Zi(r,d){if(r&1){let n=C();s(0,"div",3)(1,"button",4),z("click",function(){_(n);let t=h();return v(t.moveToLeft())}),f(2,"span",5),g(3,Ki,2,1,"span",6),l(),s(4,"button",4),z("click",function(){_(n);let t=h();return v(t.moveToRight())}),f(5,"span",7),g(6,Ji,2,1,"span",6),l()()}if(r&2){let n=h();o(),c("disabled",n.nzDisabled||!n.leftActive)("nzType","primary")("nzSize","small"),o(2),c("ngIf",n.nzOperations[1]),o(),c("disabled",n.nzDisabled||!n.rightActive)("nzType","primary")("nzSize","small"),o(2),c("ngIf",n.nzOperations[0])}}function Yi(r,d){if(r&1&&(s(0,"span"),p(1),l()),r&2){let n=h(2);o(),b(n.nzOperations[0])}}function en(r,d){if(r&1&&(s(0,"span"),p(1),l()),r&2){let n=h(2);o(),b(n.nzOperations[1])}}function tn(r,d){if(r&1){let n=C();s(0,"div",3)(1,"button",4),z("click",function(){_(n);let t=h();return v(t.moveToRight())}),f(2,"span",5),g(3,Yi,2,1,"span",6),l(),s(4,"button",4),z("click",function(){_(n);let t=h();return v(t.moveToLeft())}),f(5,"span",7),g(6,en,2,1,"span",6),l()()}if(r&2){let n=h();o(),c("disabled",n.nzDisabled||!n.rightActive)("nzType","primary")("nzSize","small"),o(2),c("ngIf",n.nzOperations[0]),o(),c("disabled",n.nzDisabled||!n.leftActive)("nzType","primary")("nzSize","small"),o(2),c("ngIf",n.nzOperations[1])}}var ai=(()=>{let d=class d{constructor(e){this.cdr=e,this.disabled=!1,this.valueChanged=new k,this.valueClear=new k}_handle(){this.valueChanged.emit(this.value)}_clear(){this.disabled||(this.value="",this.valueClear.emit())}ngOnChanges(){this.cdr.detectChanges()}};d.\u0275fac=function(t){return new(t||d)(S(xe))},d.\u0275cmp=I({type:d,selectors:[["","nz-transfer-search",""]],inputs:{placeholder:"placeholder",value:"value",disabled:"disabled"},outputs:{valueChanged:"valueChanged",valueClear:"valueClear"},exportAs:["nzTransferSearch"],standalone:!0,features:[Pe,ye],attrs:Ei,decls:4,vars:7,consts:[[1,"ant-input-prefix"],["nz-icon","","nzType","search"],[1,"ant-input",3,"ngModelChange","ngModel","disabled","placeholder","ngClass"],["class","ant-input-suffix",3,"click",4,"ngIf"],[1,"ant-input-suffix",3,"click"],["nz-icon","","nzType","close-circle","nzTheme","fill",1,"ant-input-clear-icon"]],template:function(t,i){t&1&&(s(0,"span",0),f(1,"span",1),l(),s(2,"input",2),j("ngModelChange",function(m){return G(i.value,m)||(i.value=m),m}),z("ngModelChange",function(){return i._handle()}),l(),g(3,Ii,2,0,"span",3)),t&2&&(o(2),B("ngModel",i.value),c("disabled",i.disabled)("placeholder",i.placeholder)("ngClass",J(5,Ri,i.disabled)),o(),c("ngIf",i.value&&i.value.length>0))},dependencies:[zt,ee,D,ft,Be,$,Me,Y],encapsulation:2,changeDetection:0});let r=d;return r})(),Qe=(()=>{let d=class d{get validData(){return this.dataSource.filter(e=>!e.hide)}trackByHide(e,t){return t.hide}updateCheckStatus(){let e=this.dataSource.filter(t=>!t.disabled).length;this.stat.checkCount=this.dataSource.filter(t=>t.checked&&!t.disabled).length,this.stat.shownCount=this.validData.length,this.stat.checkAll=e>0&&e===this.stat.checkCount,this.stat.checkHalf=this.stat.checkCount>0&&!this.stat.checkAll,this.headerCheckbox&&(this.headerCheckbox.nzChecked=this.stat.checkAll)}handleFilter(e){this.filter=e,this.dataSource.forEach(t=>{t.hide=e.length>0&&!this.matchFilter(e,t)}),this.stat.shownCount=this.validData.length,this.filterChange.emit({direction:this.direction,value:e})}handleClear(){this.handleFilter("")}matchFilter(e,t){return this.filterOption?this.filterOption(e,t):t.title.includes(e)}constructor(e,t){this.ngZone=e,this.cdr=t,this.direction="left",this.titleText="",this.showSelectAll=!0,this.dataSource=[],this.itemUnit="",this.itemsUnit="",this.filter="",this.disabled=!1,this.renderList=null,this.render=null,this.footer=null,this.handleSelectAll=new k,this.handleSelect=new k,this.filterChange=new k,this.stat={checkAll:!1,checkHalf:!1,checkCount:0,shownCount:0},this.onItemSelect=i=>{this.disabled||i.disabled||(i.checked=!i.checked,this.updateCheckStatus(),this.handleSelect.emit(i))},this.onItemSelectAll=i=>{this.dataSource.forEach(a=>{!a.disabled&&!a.hide&&(a.checked=i)}),this.updateCheckStatus(),this.handleSelectAll.emit(i)}}markForCheck(){this.updateCheckStatus(),this.cdr.markForCheck()}ngAfterViewInit(){this.checkboxes.changes.pipe(it(this.checkboxes),H(()=>{let e=this.checkboxes.toArray();return new Je(t=>this.ngZone.runOutsideAngular(()=>Ye(...e.map(i=>Ze(i.nativeElement,"click"))).subscribe(t)))})).subscribe(e=>{e.stopPropagation()})}};d.\u0275fac=function(t){return new(t||d)(S(lt),S(xe))},d.\u0275cmp=I({type:d,selectors:[["nz-transfer-list"]],viewQuery:function(t,i){if(t&1&&(P(Vi,5,De),P(ki,5,Ce)),t&2){let a;M(a=X())&&(i.headerCheckbox=a.first),M(a=X())&&(i.checkboxes=a)}},hostAttrs:[1,"ant-transfer-list"],hostVars:2,hostBindings:function(t,i){t&2&&ve("ant-transfer-list-with-footer",!!i.footer)},inputs:{direction:"direction",titleText:"titleText",showSelectAll:"showSelectAll",dataSource:"dataSource",itemUnit:"itemUnit",itemsUnit:"itemsUnit",filter:"filter",disabled:"disabled",showSearch:"showSearch",searchPlaceholder:"searchPlaceholder",notFoundContent:"notFoundContent",filterOption:"filterOption",renderList:"renderList",render:"render",footer:"footer"},outputs:{handleSelectAll:"handleSelectAll",handleSelect:"handleSelect",filterChange:"filterChange"},exportAs:["nzTransferList"],standalone:!0,features:[ye],decls:12,vars:14,consts:[["defaultRenderList",""],["checkboxes",""],["renderContainer",""],["headerCheckbox",""],[1,"ant-transfer-list-header"],["class","ant-transfer-list-checkbox","nz-checkbox","",3,"nzChecked","nzIndeterminate","nzDisabled","nzCheckedChange",4,"ngIf"],[1,"ant-transfer-list-header-selected"],["class","ant-transfer-list-header-title",4,"ngIf"],[3,"ngClass"],["class","ant-transfer-list-body-search-wrapper",4,"ngIf"],[4,"ngIf","ngIfElse"],["class","ant-transfer-list-footer",4,"ngIf"],["class","ant-transfer-list-content",4,"ngIf"],["class","ant-transfer-list-body-not-found",4,"ngIf"],[1,"ant-transfer-list-content"],["class","ant-transfer-list-content-item",3,"ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ant-transfer-list-content-item",3,"click","ngClass"],["nz-checkbox","",3,"nzCheckedChange","nzChecked","nzDisabled"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-transfer-list-body-not-found"],[3,"nzComponentName","specificContent"],["nz-checkbox","",1,"ant-transfer-list-checkbox",3,"nzCheckedChange","nzChecked","nzIndeterminate","nzDisabled"],[1,"ant-transfer-list-header-title"],[1,"ant-transfer-list-body-search-wrapper"],["nz-transfer-search","",1,"ant-input-affix-wrapper","ant-transfer-list-search",3,"valueChanged","valueClear","placeholder","disabled","value"],[1,"ant-transfer-list-body-customize-wrapper"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-transfer-list-footer"]],template:function(t,i){if(t&1&&(g(0,Bi,2,2,"ng-template",null,0,F),s(2,"div",4),g(3,Gi,2,3,"label",5),s(4,"span",6)(5,"span"),p(6),l()(),g(7,ji,2,1,"span",7),l(),s(8,"div",8),g(9,$i,2,3,"div",9)(10,Hi,3,9,"ng-container",10),l(),g(11,Qi,2,4,"div",11)),t&2){let a=N(1);o(3),c("ngIf",i.showSelectAll),o(3),be(" ",(i.stat.checkCount>0?i.stat.checkCount+"/":"")+i.stat.shownCount," ",i.validData.length>1?i.itemsUnit:i.itemUnit," "),o(),c("ngIf",i.titleText),o(),ct(i.showSearch?"ant-transfer-list-body ant-transfer-list-body-with-search":"ant-transfer-list-body"),c("ngClass",J(12,Li,i.stat.shownCount===0)),o(),c("ngIf",i.showSearch),o(),c("ngIf",i.renderList)("ngIfElse",a),o(),c("ngIf",i.footer)}},dependencies:[Y,Z,Me,Xt,De,ut,Ut,At,ai],encapsulation:2,changeDetection:0});let r=d;return r})(),Ke=(()=>{let d=class d{splitDataSource(){this.leftDataSource=[],this.rightDataSource=[],this.nzDataSource.forEach(e=>{e.direction==="right"?(e.direction="right",this.rightDataSource.push(e)):(e.direction="left",this.leftDataSource.push(e))})}getCheckedData(e){return this[e==="left"?"leftDataSource":"rightDataSource"].filter(t=>t.checked)}handleSelect(e,t,i){let a=this.getCheckedData(e);this.updateOperationStatus(e,a.length),this.nzSelectChange.emit({direction:e,checked:t,list:a,item:i})}handleFilterChange(e){this.nzSearchChange.emit(e)}updateOperationStatus(e,t){this[e==="right"?"leftActive":"rightActive"]=(typeof t>"u"?this.getCheckedData(e).filter(i=>!i.disabled).length:t)>0}moveTo(e){let t=e==="left"?"right":"left";this.updateOperationStatus(t,0);let a=(e==="left"?this.rightDataSource:this.leftDataSource).filter(m=>m.checked===!0&&!m.disabled);this.nzCanMove({direction:e,list:a}).subscribe(m=>this.truthMoveTo(e,m.filter(u=>!!u)),()=>a.forEach(m=>m.checked=!1))}truthMoveTo(e,t){let i=e==="left"?"right":"left",a=e==="left"?this.rightDataSource:this.leftDataSource,m=e==="left"?this.leftDataSource:this.rightDataSource;for(let u of t)u.checked=!1,u.hide=!1,u.direction=e,a.splice(a.indexOf(u),1);m.splice(0,0,...t),this.updateOperationStatus(i),this.nzChange.emit({from:i,to:e,list:t}),this.markForCheckAllList()}constructor(e,t,i,a,m,u,V){this.cdr=e,this.i18n=t,this.elementRef=i,this.renderer=a,this.directionality=m,this.nzFormStatusService=u,this.nzFormNoStatusService=V,this.unsubscribe$=new q,this.leftFilter="",this.rightFilter="",this.dir="ltr",this.prefixCls="ant-transfer",this.statusCls={},this.hasFeedback=!1,this.nzDisabled=!1,this.nzDataSource=[],this.nzTitles=["",""],this.nzOperations=[],this.nzListStyle={},this.nzShowSelectAll=!0,this.nzCanMove=x=>Oe(x.list),this.nzRenderList=null,this.nzRender=null,this.nzFooter=null,this.nzShowSearch=!1,this.nzTargetKeys=[],this.nzSelectedKeys=[],this.nzStatus="",this.nzChange=new k,this.nzSearchChange=new k,this.nzSelectChange=new k,this.leftDataSource=[],this.rightDataSource=[],this.handleLeftSelectAll=x=>this.handleSelect("left",x),this.handleRightSelectAll=x=>this.handleSelect("right",x),this.handleLeftSelect=x=>this.handleSelect("left",!!x.checked,x),this.handleRightSelect=x=>this.handleSelect("right",!!x.checked,x),this.leftActive=!1,this.rightActive=!1,this.moveToLeft=()=>this.moveTo("left"),this.moveToRight=()=>this.moveTo("right")}markForCheckAllList(){this.lists&&this.lists.forEach(e=>e.markForCheck())}handleNzTargetKeys(){let e=Xe(this.nzTargetKeys),t=i=>i.hasOwnProperty("key");this.leftDataSource.forEach(i=>{t(i)&&e.indexOf(i.key)!==-1&&!i.disabled&&(i.checked=!0)}),this.moveToRight()}handleNzSelectedKeys(){let e=Xe(this.nzSelectedKeys);this.nzDataSource.forEach(i=>{e.indexOf(i.key)!==-1&&(i.checked=!0)});let t=i=>i.disabled===!1&&i.checked===!0;this.rightActive=this.leftDataSource.some(t),this.leftActive=this.rightDataSource.some(t)}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe(et((e,t)=>e.status===t.status&&e.hasFeedback===t.hasFeedback),rt(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:Oe(!1)),y(([{status:e,hasFeedback:t},i])=>({status:i?"":e,hasFeedback:t})),W(this.unsubscribe$)).subscribe(({status:e,hasFeedback:t})=>{this.setStatusStyles(e,t)}),this.i18n.localeChange.pipe(W(this.unsubscribe$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Transfer"),this.markForCheckAllList()}),this.dir=this.directionality.value,this.directionality.change?.pipe(W(this.unsubscribe$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()})}ngOnChanges(e){let{nzStatus:t,nzDataSource:i,nzTargetKeys:a,nzSelectedKeys:m}=e;i&&(this.splitDataSource(),this.updateOperationStatus("left"),this.updateOperationStatus("right"),this.cdr.detectChanges(),this.markForCheckAllList()),a&&this.handleNzTargetKeys(),m&&this.handleNzSelectedKeys(),t&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}setStatusStyles(e,t){this.hasFeedback=t,this.cdr.markForCheck(),this.statusCls=_t(this.prefixCls,e,t),Object.keys(this.statusCls).forEach(i=>{this.statusCls[i]?this.renderer.addClass(this.elementRef.nativeElement,i):this.renderer.removeClass(this.elementRef.nativeElement,i)})}};d.\u0275fac=function(t){return new(t||d)(S(xe),S(Ct),S(Ce),S(at),S(vt,8),S(gt,8),S(St,8))},d.\u0275cmp=I({type:d,selectors:[["nz-transfer"]],viewQuery:function(t,i){if(t&1&&P(Qe,5),t&2){let a;M(a=X())&&(i.lists=a)}},hostAttrs:[1,"ant-transfer"],hostVars:6,hostBindings:function(t,i){t&2&&ve("ant-transfer-rtl",i.dir==="rtl")("ant-transfer-disabled",i.nzDisabled)("ant-transfer-customize-list",i.nzRenderList)},inputs:{nzDisabled:"nzDisabled",nzDataSource:"nzDataSource",nzTitles:"nzTitles",nzOperations:"nzOperations",nzListStyle:"nzListStyle",nzShowSelectAll:"nzShowSelectAll",nzItemUnit:"nzItemUnit",nzItemsUnit:"nzItemsUnit",nzCanMove:"nzCanMove",nzRenderList:"nzRenderList",nzRender:"nzRender",nzFooter:"nzFooter",nzShowSearch:"nzShowSearch",nzFilterOption:"nzFilterOption",nzSearchPlaceholder:"nzSearchPlaceholder",nzNotFoundContent:"nzNotFoundContent",nzTargetKeys:"nzTargetKeys",nzSelectedKeys:"nzSelectedKeys",nzStatus:"nzStatus"},outputs:{nzChange:"nzChange",nzSearchChange:"nzSearchChange",nzSelectChange:"nzSelectChange"},exportAs:["nzTransfer"],standalone:!0,features:[Pe,ye],decls:4,vars:32,consts:[["data-direction","left","direction","left",1,"ant-transfer-list",3,"filterChange","handleSelect","handleSelectAll","ngStyle","titleText","showSelectAll","dataSource","filter","filterOption","renderList","render","disabled","showSearch","searchPlaceholder","notFoundContent","itemUnit","itemsUnit","footer"],["class","ant-transfer-operation",4,"ngIf"],["data-direction","right","direction","right",1,"ant-transfer-list",3,"filterChange","handleSelect","handleSelectAll","ngStyle","titleText","showSelectAll","dataSource","filter","filterOption","renderList","render","disabled","showSearch","searchPlaceholder","notFoundContent","itemUnit","itemsUnit","footer"],[1,"ant-transfer-operation"],["nz-button","","type","button",3,"click","disabled","nzType","nzSize"],["nz-icon","","nzType","left"],[4,"ngIf"],["nz-icon","","nzType","right"]],template:function(t,i){t&1&&(s(0,"nz-transfer-list",0),z("filterChange",function(m){return i.handleFilterChange(m)})("handleSelect",function(m){return i.handleLeftSelect(m)})("handleSelectAll",function(m){return i.handleLeftSelectAll(m)}),l(),g(1,Zi,7,8,"div",1)(2,tn,7,8,"div",1),s(3,"nz-transfer-list",2),z("filterChange",function(m){return i.handleFilterChange(m)})("handleSelect",function(m){return i.handleRightSelect(m)})("handleSelectAll",function(m){return i.handleRightSelectAll(m)}),l()),t&2&&(c("ngStyle",i.nzListStyle)("titleText",i.nzTitles[0])("showSelectAll",i.nzShowSelectAll)("dataSource",i.leftDataSource)("filter",i.leftFilter)("filterOption",i.nzFilterOption)("renderList",i.nzRenderList&&i.nzRenderList[0])("render",i.nzRender)("disabled",i.nzDisabled)("showSearch",i.nzShowSearch)("searchPlaceholder",i.nzSearchPlaceholder||(i.locale==null?null:i.locale.searchPlaceholder))("notFoundContent",i.nzNotFoundContent)("itemUnit",i.nzItemUnit||(i.locale==null?null:i.locale.itemUnit))("itemsUnit",i.nzItemsUnit||(i.locale==null?null:i.locale.itemsUnit))("footer",i.nzFooter),o(),c("ngIf",i.dir!=="rtl"),o(),c("ngIf",i.dir==="rtl"),o(),c("ngStyle",i.nzListStyle)("titleText",i.nzTitles[1])("showSelectAll",i.nzShowSelectAll)("dataSource",i.rightDataSource)("filter",i.rightFilter)("filterOption",i.nzFilterOption)("renderList",i.nzRenderList&&i.nzRenderList[1])("render",i.nzRender)("disabled",i.nzDisabled)("showSearch",i.nzShowSearch)("searchPlaceholder",i.nzSearchPlaceholder||(i.locale==null?null:i.locale.searchPlaceholder))("notFoundContent",i.nzNotFoundContent)("itemUnit",i.nzItemUnit||(i.locale==null?null:i.locale.itemUnit))("itemsUnit",i.nzItemsUnit||(i.locale==null?null:i.locale.itemsUnit))("footer",i.nzFooter))},dependencies:[Qe,pt,Be,$,xt,O,A,U,Y],encapsulation:2,changeDetection:0});let r=d;return Se([Fe()],r.prototype,"nzDisabled",void 0),Se([Fe()],r.prototype,"nzShowSelectAll",void 0),Se([Fe()],r.prototype,"nzShowSearch",void 0),r})(),yr=(()=>{let d=class d{};d.\u0275fac=function(t){return new(t||d)},d.\u0275mod=st({type:d}),d.\u0275inj=ot({imports:[Ke,Qe,ai]});let r=d;return r})();var rn=()=>({"width.px":300,"height.px":1200});function on(r,d){if(r&1){let n=C();s(0,"nz-list-item",22),z("click",function(){let t=_(n).$implicit,i=h();return v(i.rolSelected(t))}),p(1),l()}if(r&2){let n=d.$implicit;o(),b(n.description)}}function sn(r,d){if(r&1&&(f(0,"span",23),p(1)),r&2){let n=d.$implicit;o(),w(" ",n.title," ")}}function an(r,d){r&1&&p(0," Agregar Rol ")}function ln(r,d){if(r&1&&(s(0,"nz-option",33),f(1,"i",23),p(2),l()),r&2){let n=d.$implicit;c("nzLabel",n.name)("nzValue",n.uid),o(2),w(" ",n.description,"")}}function cn(r,d){if(r&1&&f(0,"nz-option",34),r&2){let n=d.$implicit;c("nzValue",n.value)("nzLabel",n.label)}}function dn(r,d){if(r&1){let n=C();s(0,"form",24),z("ngSubmit",function(){_(n);let t=h();return v(t.submitAddForm())}),s(1,"nz-form-item")(2,"nz-form-label",25),p(3,"Nombre"),l(),s(4,"nz-form-control",25),f(5,"input",26),l()(),s(6,"nz-form-item")(7,"nz-form-label",25),p(8,"Descripci\xF3n"),l(),s(9,"nz-form-control",25),f(10,"input",27),l()(),s(11,"nz-form-item")(12,"nz-form-label",25),p(13,"Rol Superior"),l(),s(14,"nz-form-control",25)(15,"nz-select",28),g(16,ln,3,3,"nz-option",29),l()()(),s(17,"nz-form-item")(18,"nz-form-label",25),p(19,"Nivel de Acceso"),l(),s(20,"nz-form-control",25)(21,"nz-select",30),g(22,cn,1,2,"nz-option",31),l()()(),s(23,"nz-form-item")(24,"nz-form-label",25),p(25,"Activo"),l(),f(26,"nz-switch",32),l()()}if(r&2){let n=h();c("formGroup",n.validateAddRolForm),o(2),c("nzSm",6)("nzXs",24),o(2),c("nzSm",14)("nzXs",24),o(3),c("nzSm",6)("nzXs",24),o(2),c("nzSm",14)("nzXs",24),o(3),c("nzSm",6)("nzXs",24),o(2),c("nzSm",14)("nzXs",24),o(),c("nzPlaceHolder","Selecciona el Rol Superior"),o(),c("ngForOf",n.displayData),o(2),c("nzSm",6)("nzXs",24),o(2),c("nzSm",14)("nzXs",24),o(),c("nzPlaceHolder","Selecciona un nivel de acceso"),o(),c("ngForOf",n.options),o(2),c("nzSm",6)("nzXs",24)}}function mn(r,d){if(r&1){let n=C();s(0,"button",35),z("click",function(){_(n);let t=h();return v(t.handleCancel())}),p(1,"Cancelar"),l(),s(2,"button",35),z("click",function(){_(n);let t=h();return v(t.submitAddForm())}),p(3,"Guardar"),l()}}function pn(r,d){r&1&&p(0," Editar Rol ")}function un(r,d){if(r&1&&(s(0,"nz-option",33),f(1,"i",23),p(2),l()),r&2){let n=d.$implicit;c("nzLabel",n.name)("nzValue",n.uid),o(2),w(" ",n.description,"")}}function hn(r,d){if(r&1&&f(0,"nz-option",34),r&2){let n=d.$implicit;c("nzValue",n.value)("nzLabel",n.label)}}function fn(r,d){if(r&1){let n=C();s(0,"form",24),z("ngSubmit",function(){_(n);let t=h();return v(t.submitEditForm())}),s(1,"nz-form-item")(2,"nz-form-label",25),p(3,"Nombre"),l(),s(4,"nz-form-control",25),f(5,"input",36),l()(),s(6,"nz-form-item")(7,"nz-form-label",25),p(8,"Descripci\xF3n"),l(),s(9,"nz-form-control",25),f(10,"input",37),l()(),s(11,"nz-form-item")(12,"nz-form-label",25),p(13,"Rol Superior"),l(),s(14,"nz-form-control",25)(15,"nz-select",28),g(16,un,3,3,"nz-option",29),l()()(),s(17,"nz-form-item")(18,"nz-form-label",25),p(19,"Nivel de Acceso"),l(),s(20,"nz-form-control",25)(21,"nz-select",30),g(22,hn,1,2,"nz-option",31),l()()(),s(23,"nz-form-item")(24,"nz-form-label",25),p(25,"Activo"),l(),f(26,"nz-switch",32),l()()}if(r&2){let n=h();c("formGroup",n.validateEditRolForm),o(2),c("nzSm",6)("nzXs",24),o(2),c("nzSm",14)("nzXs",24),o(3),c("nzSm",6)("nzXs",24),o(2),c("nzSm",14)("nzXs",24),o(3),c("nzSm",6)("nzXs",24),o(2),c("nzSm",14)("nzXs",24),o(),c("nzPlaceHolder","Selecciona el Rol Superior"),o(),c("ngForOf",n.displayData),o(2),c("nzSm",6)("nzXs",24),o(2),c("nzSm",14)("nzXs",24),o(),c("nzPlaceHolder","Selecciona un nivel de acceso"),o(),c("ngForOf",n.options),o(2),c("nzSm",6)("nzXs",24)}}function zn(r,d){if(r&1){let n=C();s(0,"button",35),z("click",function(){_(n);let t=h();return v(t.handleCancel())}),p(1,"Cancelar"),l(),s(2,"button",35),z("click",function(){_(n);let t=h();return v(t.submitEditForm())}),p(3,"Guardar"),l()}}var Ir=(()=>{let d=class d{constructor(e,t,i){this.msg=e,this.fb=t,this.afs=i,this.rolService=R(ue),this.list=[],this.data=[],this.isAddVisible=!1,this.isEditVisible=!1,this.loadedRolesList=[],this.NameRol="",this.disabled=!1,this.options=[{value:"1",label:"Ver, Editar, Borrar"},{value:"2",label:"Ver, Editar"},{value:"3",label:"Ver"}]}ngOnInit(){this.validateAddRolForm=this.fb.group({name:["",[T.required]],description:["",[T.required]],rolId:["",[T.required]],optionAccessLavel:["",[T.required]],active:["",[T.required]]}),this.validateEditRolForm=this.fb.group({name:["",[T.required]],description:["",[T.required]],rolId:["",[T.required]],optionAccessLavel:["",[T.required]],active:["",[T.required]]}),this.geRolesList()}geRolesList(){this.rolesCollection=this.afs.collection("roles",e=>e.orderBy("name")),this.roles=this.rolesCollection.snapshotChanges().pipe(y(e=>e.map(t=>{let i=t.payload.doc.id,a=t.payload.doc.data();return E({id:i},a)}))).subscribe(e=>{this.loadroles(e)})}loadroles(e){this.loadedRolesList.length<=1&&(this.displayData=e,this.roldata=li.orderBy(JSON.parse(JSON.stringify(e)),["name"],["asc"]),this.loadedRolesList=this.roldata)}ngOnDestroy(){this.roles&&this.roles.unsubscribe(),this.NameRol=""}rolSelected(e){this.disabled=!1,this.list=[],this.currendUidSelected="",this.currentRolSelected=e,this.NameRol=e.description,this.getFormRol(e.uid),this.rolSelectedID=e.uid}getFormRol(e){this.formRolCollection=this.afs.collection("roles").doc(e).collection("forms",t=>t.orderBy("name")),this.roles=this.formRolCollection.snapshotChanges().pipe(y(t=>t.map(i=>{let a=i.payload.doc.id,m=i.payload.doc.data();return E({id:a},m)}))).subscribe(t=>{this.getData(e,t)})}getData(e,t){let i=[];this.formCollection=this.afs.collection("form",a=>a.where("active","==","true").orderBy("name")),this.forms=this.formCollection.snapshotChanges().pipe(y(a=>a.map(m=>{let u=m.payload.doc.id,V=m.payload.doc.data();return E({id:u},V)}))).subscribe(a=>{for(let m in a)this.searchInArrayOfObjects(t,a[m].id)!=null?i.push({key:a[m].id,title:a[m].name,description:a[m].description,icon:"",direction:"right",idForm:a[m].id}):i.push({key:a[m].id,title:a[m].name,description:a[m].description,icon:"",direction:"left",idForm:""});this.list=i})}searchInArrayOfObjects(e,t){return e.find(i=>i.idForm===t)}select(e){this.formRolCollection=this.afs.collection("roles").doc(this.rolSelectedID).collection("forms",t=>t.where("idForm","==",e.list[0].idForm)),this.roles=this.formRolCollection.snapshotChanges().pipe(y(t=>t.map(i=>{let a=i.payload.doc.id,m=i.payload.doc.data();return E({id:a},m)}))).subscribe(t=>{this.currendUidSelected=t[0].uid}),this.NameRol=="Master"?this.msg.info("El Usuario Master no puede ser modificado"):e.list.length>=2?this.msg.error("Solo se puede seleccionar una forma a la vez."):e.list[0].title=="Perfiles"||e.list[0].title=="Roles"?this.msg.error("La forma Perfiles solo puede ser seleccionada por usuario Master"):e.list[0].direction=="right"&&(this.formRolCollection=this.afs.collection("roles").doc(this.rolSelectedID).collection("forms",t=>t.where("idForm","==",e.list[0].idForm)),this.roles=this.formRolCollection.snapshotChanges().pipe(y(t=>t.map(i=>{let a=i.payload.doc.id,m=i.payload.doc.data();return E({id:a},m)}))).subscribe(t=>{this.currendUidSelected=t[0].uid}))}change(e){let t=e.list[0].key,i=e.list[0].title;if(e.from=="left"&&e.to=="right"&&this.rolService.createFormRol(this.rolSelectedID,t,i).then(a=>{}).catch(a=>{this.msg.error(a)}),this.NameRol!="Master")if(e.list.length>=2)this.msg.error("Solo se puede seleccionar una forma a la vez.");else{let a=e.list[0].key,m=e.list[0].title;e.from=="left"&&e.to=="right"?this.rolService.createFormRol(this.rolSelectedID,a,m).then(u=>{}).catch(u=>{this.msg.error(u)}):this.rolService.deleteformRol(this.rolSelectedID,this.currendUidSelected).then(u=>{}).catch(u=>{this.msg.error(u)})}}showModalAddRol(){this.validateAddRolForm.controls.name.setValue(""),this.validateAddRolForm.controls.description.setValue(""),this.validateAddRolForm.controls.rolId.setValue(""),this.validateAddRolForm.controls.optionAccessLavel.setValue(""),this.validateAddRolForm.controls.active.setValue(!1),this.isAddVisible=!0,this.isEditVisible=!1}showModalEditRol(e){if(e==null)this.msg.error("No has seleccionado ningun rol a editar");else{this.validateEditRolForm.controls.name.setValue(e.name),this.validateEditRolForm.controls.description.setValue(e.description),this.validateEditRolForm.controls.rolId.setValue(e.rolId),this.validateEditRolForm.controls.optionAccessLavel.setValue(e.optionAccessLavel),this.validateEditRolForm.controls.active.setValue(!0);let t=e.id==null?"":e.id;this.isAddVisible=!1,this.isEditVisible=!0}}handleCancel(){this.isAddVisible=!1,this.isEditVisible=!1}submitAddForm(){this.validateAddRolForm.valid?this.rolService.createRol(this.validateAddRolForm.value).then(e=>{this.isAddVisible=!1,this.msg.success("Se agreg\xF3 con exito el rol, favor de actualizar la pagina")}).catch(e=>{this.msg.error(e)}):this.msg.success("El Formulario no es valido favor de validar")}submitEditForm(){let e={name:this.validateEditRolForm.controls.name.value,description:this.validateEditRolForm.controls.description.value,active:this.validateEditRolForm.controls.active.value,optionAccessLavel:this.validateEditRolForm.controls.optionAccessLavel.value,rolId:this.validateEditRolForm.controls.rolId.value,uid:this.currentRolSelected.uid,id:this.currentRolSelected.id};this.validateEditRolForm.valid?this.rolService.updateRol(this.currentRolSelected.uid,e).then(t=>{this.isEditVisible=!1}).catch(t=>{this.msg.error(t)}):this.msg.success("El Formulario no es valido favor de validar")}};d.\u0275fac=function(t){return new(t||d)(S(se),S(oe),S(we))},d.\u0275cmp=I({type:d,selectors:[["ng-component"]],decls:40,vars:17,consts:[["render",""],["AgregarRol",""],["modalAddRolContent",""],["modalRolAddFooter",""],["EditarRol",""],["modalEditRolContent",""],["modalRolEditFooter",""],[2,"margin","buttom 15px","margin-right","15px","margin-left","15px"],[1,"site-page-header-ghost-wrapper"],[2,"background-color","#f9fbfd",3,"nzGhost"],[2,"margin-left","350px"],[1,"container-fluid","p-h-0"],[2,"margin-bottom","10px","margin-top","10px"],["nz-button","",1,"m-r-10",2,"background-color","#4F6F57","color","#f6f3ea",3,"click"],[2,"margin-bottom","10px"],[1,"m-b-0"],["nz-icon","","nzTheme","twotone","nzTwotoneColor","#52c41a"],[2,"background-color","#f9fbfd"],["nzBordered","","nzSize","large"],[3,"click",4,"ngFor","ngForOf"],[3,"nzSelectChange","nzChange","nzDataSource","nzDisabled","nzListStyle"],[3,"nzVisibleChange","nzOnCancel","nzVisible","nzTitle","nzContent","nzFooter","nzWidth"],[3,"click"],["nz-icon",""],["nz-form","","nzLayout","horizontal",3,"ngSubmit","formGroup"],[3,"nzSm","nzXs"],["nz-input","","formControlName","name","id","nameA"],["nz-input","","formControlName","description","id","descriptioA"],["formControlName","rolId",3,"nzPlaceHolder"],["nzCustomContent","",3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["formControlName","optionAccessLavel",3,"nzPlaceHolder"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["formControlName","active","nzCheckedChildren","Si","nzUnCheckedChildren","No"],["nzCustomContent","",3,"nzLabel","nzValue"],[3,"nzValue","nzLabel"],["nz-button","",2,"background-color","#4F6F57","color","#f6f3ea",3,"click"],["nz-input","","formControlName","name","id","nameE"],["nz-input","","formControlName","description","id","descriptionE"]],template:function(t,i){if(t&1){let a=C();s(0,"div",7)(1,"div",8)(2,"nz-page-header",9)(3,"nz-page-header-title",10),p(4,"Roles"),l(),s(5,"nz-page-header-subtitle"),p(6,"Listado Roles del Sistema "),l()()(),s(7,"nz-layout",11)(8,"div",12)(9,"button",13),z("click",function(){return _(a),v(i.showModalAddRol())}),p(10," Agregar Rol "),l(),s(11,"button",13),z("click",function(){return _(a),v(i.showModalEditRol(i.currentRolSelected))}),p(12,"Editar Rol "),l()(),s(13,"div",14)(14,"h6",15),f(15,"i",16),p(16),l()(),s(17,"nz-layout")(18,"nz-sider",17)(19,"nz-list",18),g(20,on,2,1,"nz-list-item",19),l()(),s(21,"nz-content",17)(22,"nz-transfer",20),z("nzSelectChange",function(u){return _(a),v(i.select(u))})("nzChange",function(u){return _(a),v(i.change(u))}),g(23,sn,2,1,"ng-template",null,0,F),l()()(),f(25,"nz-footer"),l(),s(26,"nz-modal",21),j("nzVisibleChange",function(u){return _(a),G(i.isAddVisible,u)||(i.isAddVisible=u),v(u)}),z("nzOnCancel",function(){return _(a),v(i.handleCancel())}),g(27,an,1,0,"ng-template",null,1,F)(29,dn,27,23,"ng-template",null,2,F)(31,mn,4,0,"ng-template",null,3,F),l(),s(33,"nz-modal",21),j("nzVisibleChange",function(u){return _(a),G(i.isEditVisible,u)||(i.isEditVisible=u),v(u)}),z("nzOnCancel",function(){return _(a),v(i.handleCancel())}),g(34,pn,1,0,"ng-template",null,4,F)(36,fn,27,23,"ng-template",null,5,F)(38,zn,4,0,"ng-template",null,6,F),l()()}if(t&2){let a=N(28),m=N(30),u=N(32),V=N(35),x=N(37),ci=N(39);o(2),c("nzGhost",!1),o(14),w(" Rol Selecionado: ",i.NameRol,""),o(4),c("ngForOf",i.loadedRolesList),o(2),c("nzDataSource",i.list)("nzDisabled",i.disabled)("nzListStyle",Ne(16,rn)),o(4),B("nzVisible",i.isAddVisible),c("nzTitle",a)("nzContent",m)("nzFooter",u)("nzWidth",600),o(7),B("nzVisible",i.isEditVisible),c("nzTitle",V)("nzContent",x)("nzFooter",ci)("nzWidth",600)}},dependencies:[Z,Ke,Yt,ei,$,le,ae,de,ce,pe,me,Ee,Ie,Qt,Re,Rt,It,Vt,O,A,U,ze,he,fe,ke,Le,ie,ee,D,te,ne,re]});let r=d;return r})();export{An as a,Qn as b,yr as c,Ir as d};
