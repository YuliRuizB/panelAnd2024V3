import{a as Xt,b as Mt,c as Pt,d as Fe,g as Bt,h as Gt}from"./chunk-IZEQE3Q6.js";import{a as Ut,c as At,d as Ot}from"./chunk-D4SC3REW.js";import{a as Lt,e as kt}from"./chunk-YNUDQCIW.js";import{a as Dt}from"./chunk-Y6BYNUAW.js";import{A as Vt,B as It,C as Rt,a as Ee,c as xt,d as Nt,k as Et,n as Ft,o as Tt,w as wt}from"./chunk-P4EMRIXJ.js";import{a as ge,c as zt,h as be}from"./chunk-IMWJHJ4Y.js";import{a as _t}from"./chunk-4LJQEPB6.js";import{$ as ke,A as ht,H as ft,N as le,O as ce,P as de,Q as me,_ as St,aa as Ct,b as Y,ba as ye,c as N,da as gt,e as U,f as ee,fa as bt,ga as yt,h as lt,i as te,ia as xe,ja as Ne,k as ie,m as ne,q as re,r as ct,v as pt,w as ae,x as se,z as ut}from"./chunk-3MM2LZV7.js";import{$ as Je,Aa as v,Bb as F,Ca as l,Db as ve,Ea as Ie,F as We,Ga as et,Jc as Se,Jd as W,Kd as Le,L as He,M as Q,Nb as Re,O as fe,Ob as J,Pa as o,Pb as Z,Qa as s,R as Qe,Ra as u,Sa as L,Ta as k,Tb as ot,Ua as tt,Ub as at,V as Ke,Va as b,Y as D,Ya as f,_ as w,_a as h,ae as mt,b as je,bb as it,c as H,cd as De,da as Ve,ea as z,eb as P,fa as _,fb as B,gb as G,hb as y,ib as m,ja as ze,jb as C,ka as I,kb as x,l as we,lb as nt,m as T,mc as st,md as Ce,nb as j,nf as A,ob as q,of as O,pb as $,qa as r,qf as X,ra as g,rb as _e,s as qe,sb as ue,sf as vt,tb as K,ua as Ze,ue as oe,v as $e,va as Ye,vd as dt,wb as rt}from"./chunk-M4WL67FH.js";import{c as he}from"./chunk-X7FOUD52.js";import{a as V,f as Te,h as Ge}from"./chunk-WT5K5NLM.js";var pe=Te(ke()),R=Te(ke());var ni=["searchBar"],ri=["searchBarDrive"],Ht=()=>[];function oi(a,d){a&1&&u(0,"i",37)}function ai(a,d){if(a&1){let n=b();o(0,"tr",29),f("click",function(){let i=z(n).$implicit,t=h();return _(t.userSelected(i))}),o(1,"td")(2,"div",30)(3,"div"),u(4,"nz-avatar",31),s(),o(5,"div",32)(6,"h6",33),v(7,oi,1,0,"i",34),m(8),s(),L(9),o(10,"p",35),m(11),u(12,"nz-badge",36),m(13),u(14,"br"),m(15),s(),k(),s()()()()}if(a&2){let n=d.$implicit;r(4),l("nzSrc",n.photoURL),r(3),l("ngIf",n.disabled),r(),x(" ",n.displayName,""),r(3),x(" ",n.studentId," "),r(),l("nzStatus",n.emailVerified?"success":"error"),r(),x(" ",n.email," "),r(2),x(" ",n.customerName," ")}}function si(a,d){a&1&&u(0,"i",37)}function li(a,d){if(a&1&&(o(0,"div",38),L(1),o(2,"div",30)(3,"a",39),u(4,"i",40),s(),o(5,"div"),u(6,"nz-avatar",31),s(),o(7,"div",32)(8,"h6",33),v(9,si,1,0,"i",34),m(10),s(),o(11,"p",41),u(12,"nz-badge",36),o(13,"span"),m(14),s()()()(),k(),s()),a&2){let n=h();r(3),l("routerLink",ue(6,Ht)),r(3),l("nzSrc",n.currentUserSelected.photoURL),r(3),l("ngIf",n.currentUserSelected.disabled),r(),x(" ",n.currentUserSelected.displayName," "),r(2),l("nzStatus",n.currentUserSelected.emailVerified?"success":"error"),r(2),x(" ",n.currentUserSelected.email," ")}}function ci(a,d){if(a&1){let n=b();o(0,"nz-tabset",42)(1,"nz-tab",43),f("nzClick",function(){z(n);let i=h();return _(i.nzClicOptionInformacion())}),o(2,"div")(3,"button",44),f("click",function(){z(n);let i=h();return _(i.showModalEditUser(i.currentUserSelected))}),u(4,"i",45),m(5," Asignar Rol "),s(),o(6,"div")(7,"nz-descriptions",46)(8,"nz-descriptions-item",47),m(9),s(),o(10,"nz-descriptions-item",48),m(11),s(),o(12,"nz-descriptions-item",49),m(13),s(),o(14,"nz-descriptions-item",50),m(15),s(),o(16,"nz-descriptions-item",51),m(17),s(),o(18,"nz-descriptions-item",52),m(19),s(),o(20,"nz-descriptions-item",53),m(21),s(),o(22,"nz-descriptions-item",54),m(23),s(),o(24,"nz-descriptions-item",55),m(25),s(),o(26,"nz-descriptions-item",56),m(27),s()()()()()()}if(a&2){let n=h();r(9),C(n.currentUserSelected.firstName),r(2),C(n.currentUserSelected.lastName),r(2),C(n.currentUserSelected.email),r(2),C(n.currentUserSelected.emailVerified),r(2),C(n.currentUserSelected.displayName),r(2),C(n.currentUserSelected.username),r(2),x(" ",n.currentUserSelected.disabled?"Suspendido":"Activo"," "),r(2),C(n.rolesperUser),r(2),C(n.rolesperUserAplicacion),r(2),C(n.currentUserSelected.status)}}function di(a,d){a&1&&m(0," Asignar Rol ")}function mi(a,d){if(a&1&&(o(0,"nz-option",61),u(1,"i",62),m(2),s()),a&2){let n=d.$implicit;l("nzLabel",n.name)("nzValue",n.uid),r(2),x(" ",n.description,"")}}function pi(a,d){if(a&1){let n=b();o(0,"form",57),f("ngSubmit",function(){z(n);let i=h();return _(i.submitForm())}),o(1,"nz-form-item")(2,"nz-form-label",58),m(3,"Rol"),s(),o(4,"nz-form-control",58)(5,"nz-select",59),v(6,mi,3,3,"nz-option",60),s()()()()}if(a&2){let n=h();l("formGroup",n.validateEditForm),r(2),l("nzSm",6)("nzXs",24),r(2),l("nzSm",14)("nzXs",24),r(2),l("ngForOf",n.roles)}}function ui(a,d){if(a&1){let n=b();o(0,"button",63),f("click",function(){z(n);let i=h();return _(i.handleCancel())}),m(1,"Cancelar"),s(),o(2,"button",63),f("click",function(){z(n);let i=h();return _(i.submitEditForm())}),m(3,"Guardar"),s()}}function hi(a,d){if(a&1){let n=b();o(0,"tr",29),f("click",function(){let i=z(n).$implicit,t=h();return _(t.driverSelected(i))}),o(1,"td")(2,"div",30)(3,"div"),u(4,"nz-avatar",31),s(),o(5,"div",32)(6,"h6",33),m(7),s(),L(8),o(9,"p",35),u(10,"nz-badge",36),m(11),u(12,"br"),s(),k(),s()()()()}if(a&2){let n=d.$implicit;r(4),l("nzSrc",n.photoURL),r(3),C(n.displayName),r(3),l("nzStatus",n.emailVerified?"success":"error"),r(),x(" ",n.email," ")}}function fi(a,d){if(a&1&&(o(0,"div",38),L(1),o(2,"div",30)(3,"a",39),u(4,"i",40),s(),o(5,"div"),u(6,"nz-avatar",31),s(),o(7,"div",32)(8,"h6",33),u(9,"i",37),m(10),s(),o(11,"p",41),u(12,"nz-badge",36),o(13,"span"),m(14),s()()()(),k(),s()),a&2){let n=h();r(3),l("routerLink",ue(5,Ht)),r(3),l("nzSrc",n.currentDriverSelected.photoURL),r(4),x(" ",n.currentDriverSelected.displayName," "),r(2),l("nzStatus",n.currentDriverSelected.emailVerified?"success":"error"),r(2),x(" ",n.currentDriverSelected.email," ")}}function zi(a,d){if(a&1){let n=b();o(0,"nz-tabset",42)(1,"nz-tab",43),f("nzClick",function(){z(n);let i=h();return _(i.nzClicOptionInformacion())}),o(2,"div")(3,"button",44),f("click",function(){z(n);let i=h();return _(i.showModalEditDriver(i.currentDriverSelected))}),u(4,"i",45),m(5," Asignar Rol"),s()(),o(6,"div")(7,"nz-descriptions",46)(8,"nz-descriptions-item",47),m(9),s(),o(10,"nz-descriptions-item",48),m(11),s(),o(12,"nz-descriptions-item",49),m(13),s(),o(14,"nz-descriptions-item",64),m(15),s(),o(16,"nz-descriptions-item",50),m(17),s(),o(18,"nz-descriptions-item",51),m(19),s(),o(20,"nz-descriptions-item",52),m(21),s(),o(22,"nz-descriptions-item",54),m(23),s(),o(24,"nz-descriptions-item",55),m(25),s(),o(26,"nz-descriptions-item",56),m(27),s()()()()()}if(a&2){let n=h();r(9),C(n.currentDriverSelected.firstName),r(2),C(n.currentDriverSelected.lastName),r(2),C(n.currentDriverSelected.email),r(2),x(" ",n.vendorName,""),r(2),C(n.currentDriverSelected.emailVerified),r(2),C(n.currentDriverSelected.displayName),r(2),C(n.currentDriverSelected.username),r(2),C(n.rolesperUser),r(2),C(n.rolesperUserAplicacion),r(2),C(n.currentUserSelected.status)}}var xn=(()=>{let d=class d{constructor(e,i,t){this.afs=e,this.msg=i,this.fb=t,this.customersService=D(St),this.rolService=D(Ee),this.authService=D(pt),this.loadedDevicesList=[],this.loadedDevicesListDrive=[],this.accountId$=new H,this.routeId$=new H,this.isUserSelected=!1,this.isDriverSelected=!1,this.isBoardingPassSelected=!1,this.stopPointsList=[],this.isEditUserVisible=!1,this.isCustomersVisible=!1,this.userRoutes=[],this.fileListInfo=[],this.newCustomerIdEditMode="",this.isConfirmLoading=!1,this.resetClientEditInfo=!1,this.isVisible=!1,this.isLoadingUsers=!1,this.isLoadingDrivers=!1,this.usersByAccount=[],this.hasBeenFiltered=!1,this.infoLoad=[],this.vendorinfo=[],this.vendorName="",this.userinfoLoad=[],this.routesService=D(Ct),this.vendorService=D(Dt),this.stopSubscription$=new H,this.authService.user.subscribe(c=>{this.user=c,this.user.rolId!=null&&this.rolService.getRol(this.user.rolId).valueChanges().subscribe(p=>{this.infoLoad=p,this.userlevelAccess=this.userinfoLoad.optionAccessLavel})})}ngOnInit(){let e=this.accountId$.pipe(Q(c=>this.afs.collection("customers").doc(c).collection("routes",p=>p.where("active","==",!0)).valueChanges({idField:"routeId"}))),i=this.accountId$.pipe(Q(c=>this.afs.collection("users",p=>p.where("customerId","==",c).orderBy("studentId")).valueChanges({idField:"uid"}))),t=this.accountId$.pipe(Q(c=>this.afs.collection("roles",p=>p.where("active","==",!0)).valueChanges({idField:"uid"})));i.subscribe(c=>{this.usersByAccount=c}),t.subscribe(c=>{this.roles=c}),this.getUsersList(),this.getDriversList(),this.validateEditForm=this.fb.group({rolId:[""],roles:[""]})}ngOnDestroy(){this.stopSubscription$.next(void 0),this.stopSubscription$.complete()}initializeItems(){this.devicesList=this.loadedDevicesList,this.devicesListDrive=this.loadedDevicesListDrive}getUsersList(){this.isLoadingUsers=!0,this.usersCollection=this.afs.collection("users",e=>e.orderBy("displayName")),this.users=this.usersCollection.snapshotChanges().pipe(T(e=>e.map(i=>{let t=i.payload.doc.id,c=i.payload.doc.data();return V({id:t},c)}))).subscribe(e=>{this.loadUsers(e)})}getDriversList(){this.isLoadingDrivers=!0,this.driversCollection=this.afs.collection("drivers",e=>e.orderBy("displayName")),this.users=this.driversCollection.snapshotChanges().pipe(T(e=>e.map(i=>{let t=i.payload.doc.id,c=i.payload.doc.data();return V({id:t},c)}))).subscribe(e=>{this.loadDrivers(e)})}loadUsers(e){this.loadedDevicesList.length<=1&&(this.displayData=e,this.devicesList=pe.orderBy(JSON.parse(JSON.stringify(e)),["displayName"],["asc"]),this.loadedDevicesList=this.devicesList)}loadDrivers(e){this.loadedDevicesListDrive.length<=1&&(this.displayDataDriver=e,this.devicesListDrive=pe.orderBy(JSON.parse(JSON.stringify(e)),["displayName"],["asc"]),this.loadedDevicesListDrive=this.devicesListDrive)}getItems(e){this.initializeItems();let i=e;if(!i)return;let t=pe.toLower(i);this.devicesList=(0,R.filter)(this.devicesList,c=>(0,R.some)(c,p=>(0,R.toLower)(p).includes(t)))}getItemsDrive(e){this.initializeItems();let i=e;if(!i)return;let t=pe.toLower(i);this.devicesListDrive=(0,R.filter)(this.devicesList,c=>(0,R.some)(c,p=>(0,R.toLower)(p).includes(t)))}userSelected(e){this.rolesperUser="",this.rolesperUserAplicacion="",this.currentUserSelected=e,this.RolesArray=e.roles,this.rolesperUserAplicacion=this.RolesArray.join(", "),e.rolId!=null&&e.rolId.length>0&&this.rolService.getRol(e.rolId).valueChanges().subscribe(i=>{this.infoLoad=i,this.rolesperUser=this.infoLoad.description}),this.currentSelectedCustomerId=this.currentUserSelected.customerId,this.isBoardingPassSelected=!1,this.accountId$.next(this.currentUserSelected.customerId),this.isUserSelected=!0}driverSelected(e){this.vendorName="",this.rolesperUser="",this.rolesperUserAplicacion="",this.currentDriverSelected=e,this.RolesArray=e.roles,this.rolesperUserAplicacion=this.RolesArray.join(", "),e.rolId!=null&&e.rolId.length>0&&this.rolService.getRol(e.rolId).valueChanges().subscribe(i=>{this.infoLoad=i,this.rolesperUser=this.infoLoad.name}),e.vendorId!=null&&this.vendorService.getVendor(e.vendorId).pipe(T(i=>{let t=i.payload.id,c=i.payload.data();return V({id:t},c)})).subscribe(i=>{this.vendorinfo=i,this.vendorName=this.vendorinfo.name}),this.isBoardingPassSelected=!1,this.isDriverSelected=!0}setUserDisabled(e){this.customersService.setUserDisabled(this.currentUserSelected.uid,e),this.currentUserSelected.disabled=e}nzClicOptionInformacion(){this.isBoardingPassSelected=!1}showModalEditUser(e){this.isEditUserVisible=!0,console.log(e)}showModalEditDriver(e){this.isEditUserVisible=!1,console.log(e)}showModalCustomer(){}showModal(){this.isVisible=!0}handleCancel(){console.log("cancel"),this.isEditUserVisible=!1}submitForm(){}submitEditForm(){console.log(this.validateEditForm);let e=this.validateEditForm.controls.rolId.value==null?"":this.validateEditForm.controls.rolId.value,i=this.currentUserSelected.uid,t=!0,c={uid:i,rolId:e};console.log(c),t?this.userlevelAccess!="3"?this.rolService.updateUserRol(this.currentUserSelected.uid,c).then(p=>{this.isEditUserVisible=!1}).catch(p=>{console.log("error: "+p)}):this.msg.error("El usuario no tiene permisos para actualizar datos, favor de contactar al administrador."):this.msg.success("El Formulario no es valido favor de validar")}submitCustomerForm(){}};d.\u0275fac=function(i){return new(i||d)(g(Se),g(oe),g(re))},d.\u0275cmp=w({type:d,selectors:[["app-list"]],viewQuery:function(i,t){if(i&1&&(P(ni,5),P(ri,5)),i&2){let c;B(c=G())&&(t.searchbar=c.first),B(c=G())&&(t.searchbarDrive=c.first)}},decls:52,vars:18,consts:[["searchBar",""],["basicTable",""],["modalUserTitle",""],["modalUserContent",""],["modalUserFooter",""],["searchBarDrive",""],["basicTableDriver",""],[2,"margin","buttom 15px"],[1,"site-page-header-ghost-wrapper"],[3,"nzGhost"],[1,"container-fluid","p-h-0"],[1,"page-header-tab"],["nzTitle","Usuarios"],[1,"chat","chat-app","row"],[1,"chat-list"],[1,"chat-user-tool"],["nz-icon","","nzType","search","nzTheme","outline",1,"search-icon","p-r-10","font-size-20"],["placeholder","Buscar",3,"keyup"],[1,"chat-user-list"],[3,"nzData","nzShowPagination","nzPageSize"],[3,"click",4,"ngFor","ngForOf"],[1,"chat-content"],[1,"conversation"],[1,"conversation-wrapper"],["class","conversation-header justify-content-between",4,"ngIf"],[1,"body"],["style","width: 100% !important; overflow-y: scroll !important; height: 100% !important;",4,"ngIf"],[3,"nzVisibleChange","nzOnCancel","nzVisible","nzTitle","nzContent","nzFooter","nzWidth"],["nzTitle","PR"],[3,"click"],[1,"media","align-items-center"],["nzShape","square","nzIcon","user",1,"shadow",2,"background-color","white","color","#4F6F57",3,"nzSrc"],[1,"p-l-15"],[1,"m-b-0"],["nz-icon","","nzType","stop","nzTheme","twotone","nzTwotoneColor","#de4436",4,"ngIf"],[1,"msg-overflow","m-b-0","text-muted","font-size-13"],[3,"nzStatus"],["nz-icon","","nzType","stop","nzTheme","twotone","nzTwotoneColor","#de4436"],[1,"conversation-header","justify-content-between"],[1,"m-r-20","d-md-none","d-block","text-dark","font-size-18","m-t-5",3,"routerLink"],["nz-icon","","type","left-circle","theme","outline"],[1,"m-b-0","text-muted","font-size-13"],[2,"width","100% !important","overflow-y","scroll !important","height","100% !important"],["nzTitle","Informacion General",3,"nzClick"],["nz-button","",1,"m-r-10",2,"background-color","#4F6F57","color","#f6f3ea",3,"click"],["nz-icon","","nzType","plus"],["nzBordered","","nzSize","small"],["nzTitle","Nombre"],["nzTitle","Apellidos"],["nzTitle","Email"],["nzTitle","Correo Valido"],["nzTitle","Display Name"],["nzTitle","Usuario"],["nzTitle","Activo"],["nzTitle","Rol Administrativo"],["nzTitle","Rol Aplicaciones"],["nzTitle","Estatus"],["nz-form","","nzLayout","horizontal",3,"ngSubmit","formGroup"],[3,"nzSm","nzXs"],["formControlName","rolId","nzAllowClear","","nzPlaceHolder","Selecciona el Rol"],["nzCustomContent","",3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzCustomContent","",3,"nzLabel","nzValue"],["nz-icon","","nzType","fork"],["nz-button","",2,"background-color","#4F6F57","color","#f6f3ea",3,"click"],["nzTitle","Clientes"]],template:function(i,t){if(i&1){let c=b();o(0,"div",7)(1,"div",8)(2,"nz-page-header",9)(3,"nz-page-header-title"),m(4,"Perfiles"),s(),o(5,"nz-page-header-subtitle"),m(6,"Perfiles de usuarios del Sistema"),s()()(),o(7,"div",10)(8,"nz-tabset",11)(9,"nz-tab",12)(10,"div",13)(11,"div",14)(12,"div",15),u(13,"i",16),o(14,"input",17,0),f("keyup",function(){z(c);let S=y(15);return _(t.getItems(S.value))}),s()(),o(16,"div",18)(17,"nz-table",19,1)(19,"tbody"),v(20,ai,16,7,"tr",20),s()()()(),o(21,"div",21)(22,"div",22)(23,"div",23),v(24,li,15,7,"div",24),o(25,"div",25),v(26,ci,28,10,"nz-tabset",26),o(27,"nz-modal",27),$("nzVisibleChange",function(S){return z(c),q(t.isEditUserVisible,S)||(t.isEditUserVisible=S),_(S)}),f("nzOnCancel",function(){return z(c),_(t.handleCancel())}),v(28,di,1,0,"ng-template",null,2,F)(30,pi,7,6,"ng-template",null,3,F)(32,ui,4,0,"ng-template",null,4,F),s()()()()()()(),o(34,"nz-tab",28)(35,"div",13)(36,"div",14)(37,"div",15),u(38,"i",16),o(39,"input",17,5),f("keyup",function(){z(c);let S=y(40);return _(t.getItemsDrive(S.value))}),s()(),o(41,"div",18)(42,"nz-table",19,6)(44,"tbody"),v(45,hi,13,4,"tr",20),s()()()(),o(46,"div",21)(47,"div",22)(48,"div",23),v(49,fi,15,6,"div",24),o(50,"div",25),v(51,zi,28,10,"nz-tabset",26),s()()()()()()()()()}if(i&2){let c=y(18),p=y(29),S=y(31),M=y(33),E=y(43);r(2),l("nzGhost",!1),r(15),l("nzData",t.devicesList)("nzShowPagination",!1)("nzPageSize",10),r(3),l("ngForOf",c.data),r(4),l("ngIf",t.isUserSelected),r(2),l("ngIf",t.isUserSelected),r(),j("nzVisible",t.isEditUserVisible),l("nzTitle",p)("nzContent",S)("nzFooter",M)("nzWidth",600),r(15),l("nzData",t.devicesListDrive)("nzShowPagination",!1)("nzPageSize",10),r(3),l("ngForOf",E.data),r(4),l("ngIf",t.isDriverSelected),r(2),l("ngIf",t.isDriverSelected)}},dependencies:[J,Z,W,se,ae,ce,le,me,de,It,wt,Vt,Rt,be,_t,Ut,Ot,At,X,A,O,Et,xt,Nt,xe,Ne,st,te,U,ee,ie,ne,Tt,Ft]});let a=d;return a})();var wn=(()=>{let d=class d{constructor(e,i){this.fb=e,this.messageService=i,this.userRol="",this.infoLoad=[],this.avatarUrl="http://themenate.com/applicator/dist/assets/images/avatars/thumb-13.jpg",this.uploading=!1,this.bucketPath="vendors/",this.userForm=[],this.uploadvalue=0,this.confirmationValidator=t=>{if(t.value){if(t.value!==this.validateForm.controls.password.value)return{confirm:!0,error:!0}}else return{required:!0};return{}},this.beforeUpload=t=>!1,this.validateForm=this.fb.group({email:[null,[N.email,N.required]],firstName:[null,[N.required]],lastName:[null,[N.required]],phoneNumber:[""],username:[""],displayName:[""],address:[""],city:[""],postCode:[""],state:[""],emailVerified:[""],userRol:[""],customerName:[""],photoURL:[""]})}ngOnInit(){}done(){if(this.validateForm.valid){let e={displayName:this.validateForm.controls.displayName.value,firstName:this.validateForm.controls.firstName.value,lastName:this.validateForm.controls.lastName.value,address:{addressLine:this.validateForm.controls.address.value,city:this.validateForm.controls.city.value,postCode:this.validateForm.controls.postCode.value,state:this.validateForm.controls.state.value},phoneNumber:this.validateForm.controls.phoneNumber.value};this.userlevelAccess!="3"||this.sendMessage("error","El usuario no tiene permisos para actualizar datos, favor de contactar al administrador.")}}fillInfo(){console.log(this.user),this.user&&(this.validateForm.controls.photoURL.setValue(this.user.photoURL),this.validateForm.controls.displayName.setValue(this.user.displayName),this.validateForm.controls.firstName.setValue(this.user.firstName),this.validateForm.controls.lastName.setValue(this.user.lastName),this.validateForm.controls.username.setValue(this.user.username),this.validateForm.controls.address.setValue(this.user.address.addressLine),this.validateForm.controls.city.setValue(this.user.address.city),this.validateForm.controls.postCode.setValue(this.user.address.postCode),this.validateForm.controls.state.setValue(this.user.address.state),this.validateForm.controls.phoneNumber.setValue(this.user.phoneNumber),this.validateForm.controls.email.setValue(this.user.email),this.validateForm.controls.emailVerified.setValue(this.user.emailVerified),this.validateForm.controls.userRol.setValue(this.userRol),this.validateForm.controls.customerName.setValue(this.user.customerName))}updateConfirmValidator(){Promise.resolve().then(()=>this.validateForm.controls.checkPassword.updateValueAndValidity())}getBase64(e,i){let t=new FileReader;t.addEventListener("load",()=>{t.result!==null&&typeof t.result=="string"?i(t.result):console.error("Invalid result from FileReader")}),t.readAsDataURL(e)}handleChange(e){e.file.originFileObj&&this.getBase64(e.file.originFileObj,i=>{this.avatarUrl=i,console.log(i)})}sendMessage(e,i){this.messageService.create(e,i)}updatePhotoURL(e){return Ge(this,null,function*(){console.log("started updatePhotoURL with url: ",e),console.log(this.user.id),this.validateForm.controls.photoURL.patchValue(e),this.userlevelAccess!="3"||this.sendMessage("error","El usuario no tiene permisos para actualizar datos, favor de contactar al administrador.")})}};d.\u0275fac=function(i){return new(i||d)(g(re),g(oe))},d.\u0275cmp=w({type:d,selectors:[["ng-component"]],decls:95,vars:67,consts:[[2,"margin","buttom 15px","margin-top","15px"],[1,"site-page-header-ghost-wrapper",2,"margin","buttom 15px","margin-top","15px"],[1,"container-fluid","p-h-0"],["nz-form","",3,"ngSubmit","formGroup"],[2,"margin-top","15px"],[3,"nzSm","nzXs"],["nzName","avatar","nzAction","action",3,"nzChange","nzShowUploadList"],["nz-button","","nzGhost","",2,"background-color","#4F6F57","color","#f6f3ea"],["nzFor","displayName","nzRequired","",3,"nzSm","nzXs"],["nzErrorTip","Por favor ingresar el display name",3,"nzSm","nzXs"],["nz-input","","id","displayName","formControlName","displayName"],["nzFor","firstName","nzRequired","",3,"nzSm","nzXs"],["nzErrorTip","Por favor ingrese su nombre completo",3,"nzSm","nzXs"],["nz-input","","id","firstName","formControlName","firstName"],["nzFor","lastName","nzRequired","",3,"nzSm","nzXs"],["nz-input","","id","lastName","formControlName","lastName"],["nzFor","username","nzRequired","",3,"nzSm","nzXs"],["nz-input","","id","username","formControlName","username"],["nzFor","address","nzRequired","",3,"nzSm","nzXs"],["nz-input","","id","address","formControlName","address"],["nzFor","city","nzRequired","",3,"nzSm","nzXs"],["nz-input","","id","city","formControlName","city"],["nzFor","postCode","nzRequired","",3,"nzSm","nzXs"],["nz-input","","id","postCode","formControlName","postCode"],["nzFor","state","nzRequired","",3,"nzSm","nzXs"],["nz-input","","id","state","formControlName","state"],["nzFor","phoneNumber","nzRequired","",3,"nzSm","nzXs"],["nzErrorTip","Ingrese su numero de tel\xE9fono",3,"nzSm","nzXs","nzValidateStatus"],["formControlName","phoneNumber","id","'phoneNumber'","nz-input",""],["nzRequired","","nzFor","email",3,"nzSm","nzXs"],["nzErrorTip","Por favor escriba un correo electr\xF3nico",3,"nzSm","nzXs"],["nz-input","","formControlName","email","id","email",3,"disabled"],["nzFor","emailVerified","nzRequired","",3,"nzSm","nzXs"],["nz-input","","id","emailVerified","formControlName","emailVerified",3,"disabled"],["nzFor","customerName","nzRequired","",3,"nzSm","nzXs"],["nz-input","","id","customerName","formControlName","customerName",3,"disabled"],["nzHasFeedback","",3,"nzSm","nzXs"],["nz-input","","id","userRol","formControlName","userRol",3,"disabled"],["nz-button","","type","submit",2,"background-color","#4F6F57","color","#f6f3ea",3,"click"]],template:function(i,t){i&1&&(o(0,"div",0)(1,"div",1)(2,"nz-layout",2)(3,"form",3),f("ngSubmit",function(){return t.done()}),o(4,"nz-form-item",4)(5,"nz-form-label",5)(6,"span"),m(7,"Foto"),s()(),o(8,"nz-form-control",5)(9,"nz-upload",6),f("nzChange",function(p){return t.handleChange(p)}),o(10,"button",7)(11,"span"),m(12,"Cambiar im\xE1gen"),s()()()()(),o(13,"nz-form-item")(14,"nz-form-label",8)(15,"span"),m(16,"Display Name"),s()(),o(17,"nz-form-control",9),u(18,"input",10),s()(),o(19,"nz-form-item")(20,"nz-form-label",11)(21,"span"),m(22," Nombre(s)"),s()(),o(23,"nz-form-control",12),u(24,"input",13),s()(),o(25,"nz-form-item")(26,"nz-form-label",14)(27,"span"),m(28," Apellido(s)"),s()(),o(29,"nz-form-control",12),u(30,"input",15),s()(),o(31,"nz-form-item")(32,"nz-form-label",16)(33,"span"),m(34," Usuario "),s()(),o(35,"nz-form-control",12),u(36,"input",17),s()(),o(37,"nz-form-item")(38,"nz-form-label",18)(39,"span"),m(40,"Direcci\xF3n "),s()(),o(41,"nz-form-control",5),u(42,"input",19),s()(),o(43,"nz-form-item")(44,"nz-form-label",20)(45,"span"),m(46,"Ciudad "),s()(),o(47,"nz-form-control",5),u(48,"input",21),s()(),o(49,"nz-form-item")(50,"nz-form-label",22)(51,"span"),m(52,"Codigo Postal"),s()(),o(53,"nz-form-control",5),u(54,"input",23),s()(),o(55,"nz-form-item")(56,"nz-form-label",24)(57,"span"),m(58," Municipio / Ciudad "),s()(),o(59,"nz-form-control",5),u(60,"input",25),s()(),o(61,"nz-form-item")(62,"nz-form-label",26),m(63,"Tel\xE9fono"),s(),o(64,"nz-form-control",27)(65,"nz-input-group"),u(66,"input",28),s()()(),o(67,"nz-form-item")(68,"nz-form-label",29),m(69,"Correo"),s(),o(70,"nz-form-control",30),u(71,"input",31),s()(),o(72,"nz-form-item")(73,"nz-form-label",32)(74,"span"),m(75," Correo verificado"),s()(),o(76,"nz-form-control",5),u(77,"input",33),s()(),o(78,"nz-form-item")(79,"nz-form-label",34)(80,"span"),m(81," Empresa "),s()(),o(82,"nz-form-control",5),u(83,"input",35),s()(),o(84,"nz-form-item")(85,"nz-form-label",5),m(86,"Rol del usuario"),s(),o(87,"nz-form-control",36),u(88,"input",37),s()(),o(89,"nz-form-item"),u(90,"nz-form-label",5),o(91,"nz-form-control",5)(92,"button",38),f("click",function(){return t.done()}),o(93,"span"),m(94,"Actualizar"),s()()()()()()()()),i&2&&(r(3),l("formGroup",t.validateForm),r(2),l("nzSm",6)("nzXs",24),r(3),l("nzSm",14)("nzXs",24),r(),l("nzShowUploadList",!1),r(5),l("nzSm",6)("nzXs",24),r(3),l("nzSm",14)("nzXs",24),r(3),l("nzSm",6)("nzXs",24),r(3),l("nzSm",14)("nzXs",24),r(3),l("nzSm",6)("nzXs",24),r(3),l("nzSm",14)("nzXs",24),r(3),l("nzSm",6)("nzXs",24),r(3),l("nzSm",14)("nzXs",24),r(3),l("nzSm",6)("nzXs",24),r(3),l("nzSm",14)("nzXs",24),r(3),l("nzSm",6)("nzXs",24),r(3),l("nzSm",14)("nzXs",24),r(3),l("nzSm",6)("nzXs",24),r(3),l("nzSm",14)("nzXs",24),r(3),l("nzSm",6)("nzXs",24),r(3),l("nzSm",14)("nzXs",24),r(3),l("nzSm",6)("nzXs",24),r(2),l("nzSm",14)("nzXs",24)("nzValidateStatus",t.validateForm.controls.phoneNumber),r(4),l("nzSm",6)("nzXs",24),r(2),l("nzSm",14)("nzXs",24),r(),l("disabled",!0),r(2),l("nzSm",6)("nzXs",24),r(3),l("nzSm",14)("nzXs",24),r(),l("disabled",!0),r(2),l("nzSm",6)("nzXs",24),r(3),l("nzSm",14)("nzXs",24),r(),l("disabled",!0),r(2),l("nzSm",6)("nzXs",24),r(2),l("nzSm",14)("nzXs",24),r(),l("disabled",!0),r(2),l("nzSm",6)("nzXs",24),r(),l("nzSm",14)("nzXs",24))},dependencies:[se,ae,ce,le,me,de,ge,zt,kt,Fe,X,A,O,te,Y,U,ee,ie,ne]});let a=d;return a})();var Jt=Te(ke());var Si=["nz-transfer-search",""],Ci=a=>({"ant-input-disabled":a});function gi(a,d){if(a&1){let n=b();o(0,"span",4),f("click",function(){z(n);let i=h();return _(i._clear())}),u(1,"span",5),s()}}var bi=["headerCheckbox"],yi=["checkboxes"],xi=a=>({"ant-transfer__nodata":a}),Ni=a=>({"ant-transfer-list-content-item-disabled":a}),Qt=a=>({$implicit:a}),Ei=(a,d,n,e,i,t)=>({$implicit:a,direction:d,disabled:n,onItemSelectAll:e,onItemSelect:i,stat:t});function Fi(a,d){if(a&1&&(L(0),m(1),k()),a&2){let n=h().$implicit;r(),C(n.title)}}function Ti(a,d){}function wi(a,d){if(a&1){let n=b();o(0,"li",16),f("click",function(){let i=z(n).$implicit,t=h(3);return _(t.onItemSelect(i))}),o(1,"label",17,1),f("nzCheckedChange",function(){let i=z(n).$implicit,t=h(3);return _(t.onItemSelect(i))}),v(3,Fi,2,1,"ng-container",10)(4,Ti,0,0,"ng-template",18,2,F),s()()}if(a&2){let n=d.$implicit,e=y(5),i=h(3);l("ngClass",K(7,Ni,i.disabled||n.disabled)),r(),l("nzChecked",n.checked)("nzDisabled",i.disabled||n.disabled),r(2),l("ngIf",!i.render)("ngIfElse",e),r(),l("ngTemplateOutlet",i.render)("ngTemplateOutletContext",K(9,Qt,n))}}function Vi(a,d){if(a&1&&(o(0,"ul",14),v(1,wi,6,11,"li",15),s()),a&2){let n=h(2);r(),l("ngForOf",n.validData)("ngForTrackBy",n.trackByHide)}}function Ii(a,d){if(a&1&&(o(0,"div",19),u(1,"nz-embed-empty",20),s()),a&2){let n=h(2);r(),l("nzComponentName","transfer")("specificContent",n.notFoundContent)}}function Ri(a,d){if(a&1&&v(0,Vi,2,2,"ul",12)(1,Ii,2,2,"div",13),a&2){let n=h();l("ngIf",n.stat.shownCount>0),r(),l("ngIf",n.stat.shownCount===0)}}function Di(a,d){if(a&1){let n=b();o(0,"label",21,3),f("nzCheckedChange",function(i){z(n);let t=h();return _(t.onItemSelectAll(i))}),s()}if(a&2){let n=h();l("nzChecked",n.stat.checkAll)("nzIndeterminate",n.stat.checkHalf)("nzDisabled",n.stat.shownCount===0||n.disabled)}}function Li(a,d){if(a&1&&(o(0,"span",22),m(1),s()),a&2){let n=h();r(),C(n.titleText)}}function ki(a,d){if(a&1){let n=b();o(0,"div",23)(1,"span",24),f("valueChanged",function(i){z(n);let t=h();return _(t.handleFilter(i))})("valueClear",function(){z(n);let i=h();return _(i.handleClear())}),s()()}if(a&2){let n=h();r(),l("placeholder",n.searchPlaceholder)("disabled",n.disabled)("value",n.filter)}}function Ui(a,d){a&1&&tt(0)}function Ai(a,d){if(a&1&&(L(0),o(1,"div",25),v(2,Ui,1,0,"ng-container",26),s(),k()),a&2){let n=h();r(2),l("ngTemplateOutlet",n.renderList)("ngTemplateOutletContext",rt(2,Ei,n.validData,n.direction,n.disabled,n.onItemSelectAll,n.onItemSelect,n.stat))}}function Oi(a,d){}function Xi(a,d){if(a&1&&(o(0,"div",27),v(1,Oi,0,0,"ng-template",18),s()),a&2){let n=h();r(),l("ngTemplateOutlet",n.footer)("ngTemplateOutletContext",K(2,Qt,n.direction))}}function Mi(a,d){if(a&1&&(o(0,"span"),m(1),s()),a&2){let n=h(2);r(),C(n.nzOperations[1])}}function Pi(a,d){if(a&1&&(o(0,"span"),m(1),s()),a&2){let n=h(2);r(),C(n.nzOperations[0])}}function Bi(a,d){if(a&1){let n=b();o(0,"div",3)(1,"button",4),f("click",function(){z(n);let i=h();return _(i.moveToLeft())}),u(2,"span",5),v(3,Mi,2,1,"span",6),s(),o(4,"button",4),f("click",function(){z(n);let i=h();return _(i.moveToRight())}),u(5,"span",7),v(6,Pi,2,1,"span",6),s()()}if(a&2){let n=h();r(),l("disabled",n.nzDisabled||!n.leftActive)("nzType","primary")("nzSize","small"),r(2),l("ngIf",n.nzOperations[1]),r(),l("disabled",n.nzDisabled||!n.rightActive)("nzType","primary")("nzSize","small"),r(2),l("ngIf",n.nzOperations[0])}}function Gi(a,d){if(a&1&&(o(0,"span"),m(1),s()),a&2){let n=h(2);r(),C(n.nzOperations[0])}}function ji(a,d){if(a&1&&(o(0,"span"),m(1),s()),a&2){let n=h(2);r(),C(n.nzOperations[1])}}function qi(a,d){if(a&1){let n=b();o(0,"div",3)(1,"button",4),f("click",function(){z(n);let i=h();return _(i.moveToRight())}),u(2,"span",5),v(3,Gi,2,1,"span",6),s(),o(4,"button",4),f("click",function(){z(n);let i=h();return _(i.moveToLeft())}),u(5,"span",7),v(6,ji,2,1,"span",6),s()()}if(a&2){let n=h();r(),l("disabled",n.nzDisabled||!n.rightActive)("nzType","primary")("nzSize","small"),r(2),l("ngIf",n.nzOperations[0]),r(),l("disabled",n.nzDisabled||!n.leftActive)("nzType","primary")("nzSize","small"),r(2),l("ngIf",n.nzOperations[1])}}var Kt=(()=>{let d=class d{constructor(e){this.cdr=e,this.disabled=!1,this.valueChanged=new I,this.valueClear=new I}_handle(){this.valueChanged.emit(this.value)}_clear(){this.disabled||(this.value="",this.valueClear.emit())}ngOnChanges(){this.cdr.detectChanges()}};d.\u0275fac=function(i){return new(i||d)(g(ve))},d.\u0275cmp=w({type:d,selectors:[["","nz-transfer-search",""]],inputs:{placeholder:"placeholder",value:"value",disabled:"disabled"},outputs:{valueChanged:"valueChanged",valueClear:"valueClear"},exportAs:["nzTransferSearch"],standalone:!0,features:[Ve,_e],attrs:Si,decls:4,vars:7,consts:[[1,"ant-input-prefix"],["nz-icon","","nzType","search"],[1,"ant-input",3,"ngModelChange","ngModel","disabled","placeholder","ngClass"],["class","ant-input-suffix",3,"click",4,"ngIf"],[1,"ant-input-suffix",3,"click"],["nz-icon","","nzType","close-circle","nzTheme","fill",1,"ant-input-clear-icon"]],template:function(i,t){i&1&&(o(0,"span",0),u(1,"span",1),s(),o(2,"input",2),$("ngModelChange",function(p){return q(t.value,p)||(t.value=p),p}),f("ngModelChange",function(){return t._handle()}),s(),v(3,gi,2,0,"span",3)),i&2&&(r(2),j("ngModel",t.value),l("disabled",t.disabled)("placeholder",t.placeholder)("ngClass",K(5,Ci,t.disabled)),r(),l("ngIf",t.value&&t.value.length>0))},dependencies:[ct,Y,U,lt,Le,W,Re,Z],encapsulation:2,changeDetection:0});let a=d;return a})(),Pe=(()=>{let d=class d{get validData(){return this.dataSource.filter(e=>!e.hide)}trackByHide(e,i){return i.hide}updateCheckStatus(){let e=this.dataSource.filter(i=>!i.disabled).length;this.stat.checkCount=this.dataSource.filter(i=>i.checked&&!i.disabled).length,this.stat.shownCount=this.validData.length,this.stat.checkAll=e>0&&e===this.stat.checkCount,this.stat.checkHalf=this.stat.checkCount>0&&!this.stat.checkAll,this.headerCheckbox&&(this.headerCheckbox.nzChecked=this.stat.checkAll)}handleFilter(e){this.filter=e,this.dataSource.forEach(i=>{i.hide=e.length>0&&!this.matchFilter(e,i)}),this.stat.shownCount=this.validData.length,this.filterChange.emit({direction:this.direction,value:e})}handleClear(){this.handleFilter("")}matchFilter(e,i){return this.filterOption?this.filterOption(e,i):i.title.includes(e)}constructor(e,i){this.ngZone=e,this.cdr=i,this.direction="left",this.titleText="",this.showSelectAll=!0,this.dataSource=[],this.itemUnit="",this.itemsUnit="",this.filter="",this.disabled=!1,this.renderList=null,this.render=null,this.footer=null,this.handleSelectAll=new I,this.handleSelect=new I,this.filterChange=new I,this.stat={checkAll:!1,checkHalf:!1,checkCount:0,shownCount:0},this.onItemSelect=t=>{this.disabled||t.disabled||(t.checked=!t.checked,this.updateCheckStatus(),this.handleSelect.emit(t))},this.onItemSelectAll=t=>{this.dataSource.forEach(c=>{!c.disabled&&!c.hide&&(c.checked=t)}),this.updateCheckStatus(),this.handleSelectAll.emit(t)}}markForCheck(){this.updateCheckStatus(),this.cdr.markForCheck()}ngAfterViewInit(){this.checkboxes.changes.pipe(He(this.checkboxes),Q(()=>{let e=this.checkboxes.toArray();return new je(i=>this.ngZone.runOutsideAngular(()=>$e(...e.map(t=>qe(t.nativeElement,"click"))).subscribe(i)))})).subscribe(e=>{e.stopPropagation()})}};d.\u0275fac=function(i){return new(i||d)(g(Ye),g(ve))},d.\u0275cmp=w({type:d,selectors:[["nz-transfer-list"]],viewQuery:function(i,t){if(i&1&&(P(bi,5,ye),P(yi,5,ze)),i&2){let c;B(c=G())&&(t.headerCheckbox=c.first),B(c=G())&&(t.checkboxes=c)}},hostAttrs:[1,"ant-transfer-list"],hostVars:2,hostBindings:function(i,t){i&2&&Ie("ant-transfer-list-with-footer",!!t.footer)},inputs:{direction:"direction",titleText:"titleText",showSelectAll:"showSelectAll",dataSource:"dataSource",itemUnit:"itemUnit",itemsUnit:"itemsUnit",filter:"filter",disabled:"disabled",showSearch:"showSearch",searchPlaceholder:"searchPlaceholder",notFoundContent:"notFoundContent",filterOption:"filterOption",renderList:"renderList",render:"render",footer:"footer"},outputs:{handleSelectAll:"handleSelectAll",handleSelect:"handleSelect",filterChange:"filterChange"},exportAs:["nzTransferList"],standalone:!0,features:[_e],decls:12,vars:14,consts:[["defaultRenderList",""],["checkboxes",""],["renderContainer",""],["headerCheckbox",""],[1,"ant-transfer-list-header"],["class","ant-transfer-list-checkbox","nz-checkbox","",3,"nzChecked","nzIndeterminate","nzDisabled","nzCheckedChange",4,"ngIf"],[1,"ant-transfer-list-header-selected"],["class","ant-transfer-list-header-title",4,"ngIf"],[3,"ngClass"],["class","ant-transfer-list-body-search-wrapper",4,"ngIf"],[4,"ngIf","ngIfElse"],["class","ant-transfer-list-footer",4,"ngIf"],["class","ant-transfer-list-content",4,"ngIf"],["class","ant-transfer-list-body-not-found",4,"ngIf"],[1,"ant-transfer-list-content"],["class","ant-transfer-list-content-item",3,"ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ant-transfer-list-content-item",3,"click","ngClass"],["nz-checkbox","",3,"nzCheckedChange","nzChecked","nzDisabled"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-transfer-list-body-not-found"],[3,"nzComponentName","specificContent"],["nz-checkbox","",1,"ant-transfer-list-checkbox",3,"nzCheckedChange","nzChecked","nzIndeterminate","nzDisabled"],[1,"ant-transfer-list-header-title"],[1,"ant-transfer-list-body-search-wrapper"],["nz-transfer-search","",1,"ant-input-affix-wrapper","ant-transfer-list-search",3,"valueChanged","valueClear","placeholder","disabled","value"],[1,"ant-transfer-list-body-customize-wrapper"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-transfer-list-footer"]],template:function(i,t){if(i&1&&(v(0,Ri,2,2,"ng-template",null,0,F),o(2,"div",4),v(3,Di,2,3,"label",5),o(4,"span",6)(5,"span"),m(6),s()(),v(7,Li,2,1,"span",7),s(),o(8,"div",8),v(9,ki,2,3,"div",9)(10,Ai,3,9,"ng-container",10),s(),v(11,Xi,2,4,"div",11)),i&2){let c=y(1);r(3),l("ngIf",t.showSelectAll),r(3),nt(" ",(t.stat.checkCount>0?t.stat.checkCount+"/":"")+t.stat.shownCount," ",t.validData.length>1?t.itemsUnit:t.itemUnit," "),r(),l("ngIf",t.titleText),r(),et(t.showSearch?"ant-transfer-list-body ant-transfer-list-body-with-search":"ant-transfer-list-body"),l("ngClass",K(12,xi,t.stat.shownCount===0)),r(),l("ngIf",t.showSearch),r(),l("ngIf",t.renderList)("ngIfElse",c),r(),l("ngIf",t.footer)}},dependencies:[Z,J,Re,gt,ye,at,yt,bt,Kt],encapsulation:2,changeDetection:0});let a=d;return a})(),Be=(()=>{let d=class d{splitDataSource(){this.leftDataSource=[],this.rightDataSource=[],this.nzDataSource.forEach(e=>{e.direction==="right"?(e.direction="right",this.rightDataSource.push(e)):(e.direction="left",this.leftDataSource.push(e))})}getCheckedData(e){return this[e==="left"?"leftDataSource":"rightDataSource"].filter(i=>i.checked)}handleSelect(e,i,t){let c=this.getCheckedData(e);this.updateOperationStatus(e,c.length),this.nzSelectChange.emit({direction:e,checked:i,list:c,item:t})}handleFilterChange(e){this.nzSearchChange.emit(e)}updateOperationStatus(e,i){this[e==="right"?"leftActive":"rightActive"]=(typeof i>"u"?this.getCheckedData(e).filter(t=>!t.disabled).length:i)>0}moveTo(e){let i=e==="left"?"right":"left";this.updateOperationStatus(i,0);let c=(e==="left"?this.rightDataSource:this.leftDataSource).filter(p=>p.checked===!0&&!p.disabled);this.nzCanMove({direction:e,list:c}).subscribe(p=>this.truthMoveTo(e,p.filter(S=>!!S)),()=>c.forEach(p=>p.checked=!1))}truthMoveTo(e,i){let t=e==="left"?"right":"left",c=e==="left"?this.rightDataSource:this.leftDataSource,p=e==="left"?this.leftDataSource:this.rightDataSource;for(let S of i)S.checked=!1,S.hide=!1,S.direction=e,c.splice(c.indexOf(S),1);p.splice(0,0,...i),this.updateOperationStatus(t),this.nzChange.emit({from:t,to:e,list:i}),this.markForCheckAllList()}constructor(e,i,t,c,p,S,M){this.cdr=e,this.i18n=i,this.elementRef=t,this.renderer=c,this.directionality=p,this.nzFormStatusService=S,this.nzFormNoStatusService=M,this.unsubscribe$=new H,this.leftFilter="",this.rightFilter="",this.dir="ltr",this.prefixCls="ant-transfer",this.statusCls={},this.hasFeedback=!1,this.nzDisabled=!1,this.nzDataSource=[],this.nzTitles=["",""],this.nzOperations=[],this.nzListStyle={},this.nzShowSelectAll=!0,this.nzCanMove=E=>we(E.list),this.nzRenderList=null,this.nzRender=null,this.nzFooter=null,this.nzShowSearch=!1,this.nzTargetKeys=[],this.nzSelectedKeys=[],this.nzStatus="",this.nzChange=new I,this.nzSearchChange=new I,this.nzSelectChange=new I,this.leftDataSource=[],this.rightDataSource=[],this.handleLeftSelectAll=E=>this.handleSelect("left",E),this.handleRightSelectAll=E=>this.handleSelect("right",E),this.handleLeftSelect=E=>this.handleSelect("left",!!E.checked,E),this.handleRightSelect=E=>this.handleSelect("right",!!E.checked,E),this.leftActive=!1,this.rightActive=!1,this.moveToLeft=()=>this.moveTo("left"),this.moveToRight=()=>this.moveTo("right")}markForCheckAllList(){this.lists&&this.lists.forEach(e=>e.markForCheck())}handleNzTargetKeys(){let e=De(this.nzTargetKeys),i=t=>t.hasOwnProperty("key");this.leftDataSource.forEach(t=>{i(t)&&e.indexOf(t.key)!==-1&&!t.disabled&&(t.checked=!0)}),this.moveToRight()}handleNzSelectedKeys(){let e=De(this.nzSelectedKeys);this.nzDataSource.forEach(t=>{e.indexOf(t.key)!==-1&&(t.checked=!0)});let i=t=>t.disabled===!1&&t.checked===!0;this.rightActive=this.leftDataSource.some(i),this.leftActive=this.rightDataSource.some(i)}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe(We((e,i)=>e.status===i.status&&e.hasFeedback===i.hasFeedback),Qe(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:we(!1)),T(([{status:e,hasFeedback:i},t])=>({status:t?"":e,hasFeedback:i})),fe(this.unsubscribe$)).subscribe(({status:e,hasFeedback:i})=>{this.setStatusStyles(e,i)}),this.i18n.localeChange.pipe(fe(this.unsubscribe$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Transfer"),this.markForCheckAllList()}),this.dir=this.directionality.value,this.directionality.change?.pipe(fe(this.unsubscribe$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()})}ngOnChanges(e){let{nzStatus:i,nzDataSource:t,nzTargetKeys:c,nzSelectedKeys:p}=e;t&&(this.splitDataSource(),this.updateOperationStatus("left"),this.updateOperationStatus("right"),this.cdr.detectChanges(),this.markForCheckAllList()),c&&this.handleNzTargetKeys(),p&&this.handleNzSelectedKeys(),i&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}setStatusStyles(e,i){this.hasFeedback=i,this.cdr.markForCheck(),this.statusCls=dt(this.prefixCls,e,i),Object.keys(this.statusCls).forEach(t=>{this.statusCls[t]?this.renderer.addClass(this.elementRef.nativeElement,t):this.renderer.removeClass(this.elementRef.nativeElement,t)})}};d.\u0275fac=function(i){return new(i||d)(g(ve),g(ft),g(ze),g(Ze),g(mt,8),g(ut,8),g(ht,8))},d.\u0275cmp=w({type:d,selectors:[["nz-transfer"]],viewQuery:function(i,t){if(i&1&&P(Pe,5),i&2){let c;B(c=G())&&(t.lists=c)}},hostAttrs:[1,"ant-transfer"],hostVars:6,hostBindings:function(i,t){i&2&&Ie("ant-transfer-rtl",t.dir==="rtl")("ant-transfer-disabled",t.nzDisabled)("ant-transfer-customize-list",t.nzRenderList)},inputs:{nzDisabled:"nzDisabled",nzDataSource:"nzDataSource",nzTitles:"nzTitles",nzOperations:"nzOperations",nzListStyle:"nzListStyle",nzShowSelectAll:"nzShowSelectAll",nzItemUnit:"nzItemUnit",nzItemsUnit:"nzItemsUnit",nzCanMove:"nzCanMove",nzRenderList:"nzRenderList",nzRender:"nzRender",nzFooter:"nzFooter",nzShowSearch:"nzShowSearch",nzFilterOption:"nzFilterOption",nzSearchPlaceholder:"nzSearchPlaceholder",nzNotFoundContent:"nzNotFoundContent",nzTargetKeys:"nzTargetKeys",nzSelectedKeys:"nzSelectedKeys",nzStatus:"nzStatus"},outputs:{nzChange:"nzChange",nzSearchChange:"nzSearchChange",nzSelectChange:"nzSelectChange"},exportAs:["nzTransfer"],standalone:!0,features:[Ve,_e],decls:4,vars:32,consts:[["data-direction","left","direction","left",1,"ant-transfer-list",3,"filterChange","handleSelect","handleSelectAll","ngStyle","titleText","showSelectAll","dataSource","filter","filterOption","renderList","render","disabled","showSearch","searchPlaceholder","notFoundContent","itemUnit","itemsUnit","footer"],["class","ant-transfer-operation",4,"ngIf"],["data-direction","right","direction","right",1,"ant-transfer-list",3,"filterChange","handleSelect","handleSelectAll","ngStyle","titleText","showSelectAll","dataSource","filter","filterOption","renderList","render","disabled","showSearch","searchPlaceholder","notFoundContent","itemUnit","itemsUnit","footer"],[1,"ant-transfer-operation"],["nz-button","","type","button",3,"click","disabled","nzType","nzSize"],["nz-icon","","nzType","left"],[4,"ngIf"],["nz-icon","","nzType","right"]],template:function(i,t){i&1&&(o(0,"nz-transfer-list",0),f("filterChange",function(p){return t.handleFilterChange(p)})("handleSelect",function(p){return t.handleLeftSelect(p)})("handleSelectAll",function(p){return t.handleLeftSelectAll(p)}),s(),v(1,Bi,7,8,"div",1)(2,qi,7,8,"div",1),o(3,"nz-transfer-list",2),f("filterChange",function(p){return t.handleFilterChange(p)})("handleSelect",function(p){return t.handleRightSelect(p)})("handleSelectAll",function(p){return t.handleRightSelectAll(p)}),s()),i&2&&(l("ngStyle",t.nzListStyle)("titleText",t.nzTitles[0])("showSelectAll",t.nzShowSelectAll)("dataSource",t.leftDataSource)("filter",t.leftFilter)("filterOption",t.nzFilterOption)("renderList",t.nzRenderList&&t.nzRenderList[0])("render",t.nzRender)("disabled",t.nzDisabled)("showSearch",t.nzShowSearch)("searchPlaceholder",t.nzSearchPlaceholder||(t.locale==null?null:t.locale.searchPlaceholder))("notFoundContent",t.nzNotFoundContent)("itemUnit",t.nzItemUnit||(t.locale==null?null:t.locale.itemUnit))("itemsUnit",t.nzItemsUnit||(t.locale==null?null:t.locale.itemsUnit))("footer",t.nzFooter),r(),l("ngIf",t.dir!=="rtl"),r(),l("ngIf",t.dir==="rtl"),r(),l("ngStyle",t.nzListStyle)("titleText",t.nzTitles[1])("showSelectAll",t.nzShowSelectAll)("dataSource",t.rightDataSource)("filter",t.rightFilter)("filterOption",t.nzFilterOption)("renderList",t.nzRenderList&&t.nzRenderList[1])("render",t.nzRender)("disabled",t.nzDisabled)("showSearch",t.nzShowSearch)("searchPlaceholder",t.nzSearchPlaceholder||(t.locale==null?null:t.locale.searchPlaceholder))("notFoundContent",t.nzNotFoundContent)("itemUnit",t.nzItemUnit||(t.locale==null?null:t.locale.itemUnit))("itemsUnit",t.nzItemsUnit||(t.locale==null?null:t.locale.itemsUnit))("footer",t.nzFooter))},dependencies:[Pe,ot,Le,W,vt,X,A,O,Z],encapsulation:2,changeDetection:0});let a=d;return he([Ce()],a.prototype,"nzDisabled",void 0),he([Ce()],a.prototype,"nzShowSelectAll",void 0),he([Ce()],a.prototype,"nzShowSearch",void 0),a})(),nr=(()=>{let d=class d{};d.\u0275fac=function(i){return new(i||d)},d.\u0275mod=Je({type:d}),d.\u0275inj=Ke({imports:[Be,Pe,Kt]});let a=d;return a})();var Wi=()=>({"width.px":300,"height.px":600});function Hi(a,d){if(a&1){let n=b();o(0,"nz-list-item",21),f("click",function(){let i=z(n).$implicit,t=h();return _(t.rolSelected(i))}),m(1),s()}if(a&2){let n=d.$implicit;r(),C(n.description)}}function Qi(a,d){if(a&1&&(u(0,"span",22),m(1)),a&2){let n=d.$implicit;it("nzType",n.icon),r(),x(" ",n.title," ")}}function Ki(a,d){a&1&&m(0," Agregar Rol ")}function Ji(a,d){if(a&1&&(o(0,"nz-option",32),u(1,"i",33),m(2),s()),a&2){let n=d.$implicit;l("nzLabel",n.name)("nzValue",n.uid),r(2),x(" ",n.description,"")}}function Zi(a,d){if(a&1&&u(0,"nz-option",34),a&2){let n=d.$implicit;l("nzValue",n.value)("nzLabel",n.label)}}function Yi(a,d){if(a&1){let n=b();o(0,"form",23),f("ngSubmit",function(){z(n);let i=h();return _(i.submitAddForm())}),o(1,"nz-form-item")(2,"nz-form-label",24),m(3,"Nombre"),s(),o(4,"nz-form-control",24),u(5,"input",25),s()(),o(6,"nz-form-item")(7,"nz-form-label",24),m(8,"Descripci\xF3n"),s(),o(9,"nz-form-control",24),u(10,"input",26),s()(),o(11,"nz-form-item")(12,"nz-form-label",24),m(13,"Rol Superior"),s(),o(14,"nz-form-control",24)(15,"nz-select",27),v(16,Ji,3,3,"nz-option",28),s()()(),o(17,"nz-form-item")(18,"nz-form-label",24),m(19,"Nivel de Acceso"),s(),o(20,"nz-form-control",24)(21,"nz-select",29),v(22,Zi,1,2,"nz-option",30),s()()(),o(23,"nz-form-item")(24,"nz-form-label",24),m(25,"Activo"),s(),u(26,"nz-switch",31),s()()}if(a&2){let n=h();l("formGroup",n.validateAddRolForm),r(2),l("nzSm",6)("nzXs",24),r(2),l("nzSm",14)("nzXs",24),r(3),l("nzSm",6)("nzXs",24),r(2),l("nzSm",14)("nzXs",24),r(3),l("nzSm",6)("nzXs",24),r(2),l("nzSm",14)("nzXs",24),r(),l("nzPlaceHolder","Selecciona el Rol Superior"),r(),l("ngForOf",n.displayData),r(2),l("nzSm",6)("nzXs",24),r(2),l("nzSm",14)("nzXs",24),r(),l("nzPlaceHolder","Selecciona un nivel de acceso"),r(),l("ngForOf",n.options),r(2),l("nzSm",6)("nzXs",24)}}function en(a,d){if(a&1){let n=b();o(0,"button",35),f("click",function(){z(n);let i=h();return _(i.handleCancel())}),m(1,"Cancelar"),s(),o(2,"button",35),f("click",function(){z(n);let i=h();return _(i.submitAddForm())}),m(3,"Guardar"),s()}}function tn(a,d){a&1&&m(0," Editar Rol ")}function nn(a,d){if(a&1&&(o(0,"nz-option",32),u(1,"i",33),m(2),s()),a&2){let n=d.$implicit;l("nzLabel",n.name)("nzValue",n.uid),r(2),x(" ",n.description,"")}}function rn(a,d){if(a&1&&u(0,"nz-option",34),a&2){let n=d.$implicit;l("nzValue",n.value)("nzLabel",n.label)}}function on(a,d){if(a&1){let n=b();o(0,"form",23),f("ngSubmit",function(){z(n);let i=h();return _(i.submitEditForm())}),o(1,"nz-form-item")(2,"nz-form-label",24),m(3,"Nombre"),s(),o(4,"nz-form-control",24),u(5,"input",36),s()(),o(6,"nz-form-item")(7,"nz-form-label",24),m(8,"Descripci\xF3n"),s(),o(9,"nz-form-control",24),u(10,"input",37),s()(),o(11,"nz-form-item")(12,"nz-form-label",24),m(13,"Rol Superior"),s(),o(14,"nz-form-control",24)(15,"nz-select",27),v(16,nn,3,3,"nz-option",28),s()()(),o(17,"nz-form-item")(18,"nz-form-label",24),m(19,"Nivel de Acceso"),s(),o(20,"nz-form-control",24)(21,"nz-select",29),v(22,rn,1,2,"nz-option",30),s()()(),o(23,"nz-form-item")(24,"nz-form-label",24),m(25,"Activo"),s(),u(26,"nz-switch",31),s()()}if(a&2){let n=h();l("formGroup",n.validateEditRolForm),r(2),l("nzSm",6)("nzXs",24),r(2),l("nzSm",14)("nzXs",24),r(3),l("nzSm",6)("nzXs",24),r(2),l("nzSm",14)("nzXs",24),r(3),l("nzSm",6)("nzXs",24),r(2),l("nzSm",14)("nzXs",24),r(),l("nzPlaceHolder","Selecciona el Rol Superior"),r(),l("ngForOf",n.displayData),r(2),l("nzSm",6)("nzXs",24),r(2),l("nzSm",14)("nzXs",24),r(),l("nzPlaceHolder","Selecciona un nivel de acceso"),r(),l("ngForOf",n.options),r(2),l("nzSm",6)("nzXs",24)}}function an(a,d){if(a&1){let n=b();o(0,"button",35),f("click",function(){z(n);let i=h();return _(i.handleCancel())}),m(1,"Cancelar"),s(),o(2,"button",35),f("click",function(){z(n);let i=h();return _(i.submitEditForm())}),m(3,"Guardar"),s()}}var mr=(()=>{let d=class d{constructor(e,i,t){this.msg=e,this.fb=i,this.afs=t,this.rolService=D(Ee),this.list=[],this.data=[],this.isAddVisible=!1,this.isEditVisible=!1,this.loadedRolesList=[],this.NameRol="",this.disabled=!1,this.options=[{value:"1",label:"Ver, Editar, Borrar"},{value:"2",label:"Ver, Editar"},{value:"3",label:"Ver"}]}ngOnInit(){this.validateAddRolForm=this.fb.group({name:["",[N.required]],description:["",[N.required]],rolId:["",[N.required]],optionAccessLavel:["",[N.required]],active:["",[N.required]]}),this.validateEditRolForm=this.fb.group({name:["",[N.required]],description:["",[N.required]],rolId:["",[N.required]],optionAccessLavel:["",[N.required]],active:["",[N.required]]}),this.geRolesList()}geRolesList(){this.rolesCollection=this.afs.collection("roles",e=>e.orderBy("name")),this.roles=this.rolesCollection.snapshotChanges().pipe(T(e=>e.map(i=>{let t=i.payload.doc.id,c=i.payload.doc.data();return V({id:t},c)}))).subscribe(e=>{this.loadroles(e)})}loadroles(e){this.loadedRolesList.length<=1&&(this.displayData=e,this.roldata=Jt.orderBy(JSON.parse(JSON.stringify(e)),["name"],["asc"]),this.loadedRolesList=this.roldata)}ngOnDestroy(){this.roles&&this.roles.unsubscribe(),this.NameRol=""}rolSelected(e){this.disabled=!1,this.list=[],this.currendUidSelected="",this.currentRolSelected=e,this.NameRol=e.description,this.getFormRol(e.uid),this.rolSelectedID=e.uid}getFormRol(e){this.formRolCollection=this.afs.collection("roles").doc(e).collection("forms",i=>i.orderBy("name")),this.roles=this.formRolCollection.snapshotChanges().pipe(T(i=>i.map(t=>{let c=t.payload.doc.id,p=t.payload.doc.data();return V({id:c},p)}))).subscribe(i=>{console.log(i),this.getData(e,i)})}getData(e,i){let t=[];this.formCollection=this.afs.collection("form",c=>c.orderBy("name")),this.forms=this.formCollection.snapshotChanges().pipe(T(c=>c.map(p=>{let S=p.payload.doc.id,M=p.payload.doc.data();return V({id:S},M)}))).subscribe(c=>{for(let p in c)this.searchInArrayOfObjects(i,c[p].id)!=null?t.push({key:c[p].id,title:c[p].name,description:c[p].description,icon:"",direction:"right",idForm:c[p].id}):t.push({key:c[p].id,title:c[p].name,description:c[p].description,icon:"",direction:"left",idForm:""});this.list=t})}searchInArrayOfObjects(e,i){return e.find(t=>t.idForm===i)}select(e){this.NameRol=="Master"?(this.msg.info("El Usuario Master no puede ser modificado"),this.disabled=!0):e.list.length>=2?this.msg.error("Solo se puede seleccionar una forma a la vez."):e.list[0].title=="Perfiles"||e.list[0].title=="Roles"?this.msg.error("La forma Perfiles solo puede ser seleccionada por usuario Master"):(console.log("nzSelectChange",e),this.disabled=!1,e.list[0].direction=="right"&&(this.formRolCollection=this.afs.collection("roles").doc(this.rolSelectedID).collection("forms",i=>i.where("idForm","==",e.list[0].idForm)),this.roles=this.formRolCollection.snapshotChanges().pipe(T(i=>i.map(t=>{let c=t.payload.doc.id,p=t.payload.doc.data();return V({id:c},p)}))).subscribe(i=>{this.currendUidSelected=i[0].uid})))}change(e){if(this.NameRol=="Master")this.disabled=!0;else if(e.list.length>=2)this.msg.error("Solo se puede seleccionar una forma a la vez.");else{let i=e.list[0].key,t=e.list[0].title;e.from=="left"&&e.to=="right"?this.rolService.createFormRol(this.rolSelectedID,i,t).then(c=>{}).catch(c=>{console.log("error: "+c)}):this.rolService.deleteformRol(this.rolSelectedID,this.currendUidSelected).then(c=>{}).catch(c=>{console.log("error: "+c)})}}showModalAddRol(){this.validateAddRolForm.controls.name.setValue(""),this.validateAddRolForm.controls.description.setValue(""),this.validateAddRolForm.controls.rolId.setValue(""),this.validateAddRolForm.controls.optionAccessLavel.setValue(""),this.validateAddRolForm.controls.active.setValue(!1),this.isAddVisible=!0,this.isEditVisible=!1}showModalEditRol(e){if(e==null)this.msg.error("No has seleccionado ningun rol a editar");else{console.log(e),this.validateEditRolForm.controls.name.setValue(e.name),this.validateEditRolForm.controls.description.setValue(e.description),this.validateEditRolForm.controls.rolId.setValue(e.rolId),this.validateEditRolForm.controls.optionAccessLavel.setValue(e.optionAccessLavel),this.validateEditRolForm.controls.active.setValue(!0);let i=e.id==null?"":e.id;this.isAddVisible=!1,this.isEditVisible=!0}}handleCancel(){this.isAddVisible=!1,this.isEditVisible=!1}submitAddForm(){console.log(this.validateAddRolForm.value),console.log(this.validateAddRolForm.valid),this.validateAddRolForm.valid?this.rolService.createRol(this.validateAddRolForm.value).then(e=>{this.isAddVisible=!1,this.msg.success("Se agreg\xF3 con exito el rol, favor de actualizar la pagina")}).catch(e=>{console.log("error: "+e)}):this.msg.success("El Formulario no es valido favor de validar")}submitEditForm(){console.log(this.validateEditRolForm.value),console.log(this.validateEditRolForm.valid);let e={name:this.validateEditRolForm.controls.name.value,description:this.validateEditRolForm.controls.description.value,active:this.validateEditRolForm.controls.active.value,optionAccessLavel:this.validateEditRolForm.controls.optionAccessLavel.value,rolId:this.validateEditRolForm.controls.rolId.value,uid:this.currentRolSelected.uid,id:this.currentRolSelected.id};this.validateEditRolForm.valid?this.rolService.updateRol(this.currentRolSelected.uid,e).then(i=>{this.isEditVisible=!1}).catch(i=>{console.log("error: "+i)}):this.msg.success("El Formulario no es valido favor de validar")}};d.\u0275fac=function(i){return new(i||d)(g(oe),g(re),g(Se))},d.\u0275cmp=w({type:d,selectors:[["ng-component"]],decls:37,vars:16,consts:[["render",""],["AgregarRol",""],["modalAddRolContent",""],["modalRolAddFooter",""],["EditarRol",""],["modalEditRolContent",""],["modalRolEditFooter",""],[2,"margin","buttom 15px"],[1,"site-page-header-ghost-wrapper"],[1,"container-fluid","p-h-0"],[2,"margin-bottom","10px","margin-top","10px"],["nz-button","",1,"m-r-10",2,"background-color","#4F6F57","color","#f6f3ea",3,"click"],["nz-icon","","nzType","plus"],[2,"margin-bottom","10px"],[1,"m-b-0"],["nz-icon","","nzType","check-circle","nzTheme","twotone","nzTwotoneColor","#52c41a"],[2,"background-color","#f9fbfd"],["nzBordered","","nzSize","large"],[3,"click",4,"ngFor","ngForOf"],[3,"nzSelectChange","nzChange","nzDataSource","nzDisabled","nzListStyle"],[3,"nzVisibleChange","nzOnCancel","nzVisible","nzTitle","nzContent","nzFooter","nzWidth"],[3,"click"],["nz-icon","",3,"nzType"],["nz-form","","nzLayout","horizontal",3,"ngSubmit","formGroup"],[3,"nzSm","nzXs"],["nz-input","","formControlName","name","id","nameA"],["nz-input","","formControlName","description","id","descriptioA"],["formControlName","rolId",3,"nzPlaceHolder"],["nzCustomContent","",3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["formControlName","optionAccessLavel",3,"nzPlaceHolder"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["formControlName","active","nzCheckedChildren","Si","nzUnCheckedChildren","No"],["nzCustomContent","",3,"nzLabel","nzValue"],["nz-icon","","nzType","fork"],[3,"nzValue","nzLabel"],["nz-button","",2,"background-color","#4F6F57","color","#f6f3ea",3,"click"],["nz-input","","formControlName","name","id","nameE"],["nz-input","","formControlName","description","id","descriptionE"]],template:function(i,t){if(i&1){let c=b();o(0,"div",7)(1,"div",8)(2,"nz-layout",9)(3,"div",10)(4,"button",11),f("click",function(){return z(c),_(t.showModalAddRol())}),u(5,"i",12),m(6,"Agregar Rol "),s(),o(7,"button",11),f("click",function(){return z(c),_(t.showModalEditRol(t.currentRolSelected))}),u(8,"i",12),m(9,"Editar Rol "),s()(),o(10,"div",13)(11,"h6",14),u(12,"i",15),m(13),s()(),o(14,"nz-layout")(15,"nz-sider",16)(16,"nz-list",17),v(17,Hi,2,1,"nz-list-item",18),s()(),o(18,"nz-content",16)(19,"nz-transfer",19),f("nzSelectChange",function(S){return z(c),_(t.select(S))})("nzChange",function(S){return z(c),_(t.change(S))}),v(20,Qi,2,2,"ng-template",null,0,F),s()()(),u(22,"nz-footer"),s(),o(23,"nz-modal",20),$("nzVisibleChange",function(S){return z(c),q(t.isAddVisible,S)||(t.isAddVisible=S),_(S)}),f("nzOnCancel",function(){return z(c),_(t.handleCancel())}),v(24,Ki,1,0,"ng-template",null,1,F)(26,Yi,27,23,"ng-template",null,2,F)(28,en,4,0,"ng-template",null,3,F),s(),o(30,"nz-modal",20),$("nzVisibleChange",function(S){return z(c),q(t.isEditVisible,S)||(t.isEditVisible=S),_(S)}),f("nzOnCancel",function(){return z(c),_(t.handleCancel())}),v(31,tn,1,0,"ng-template",null,4,F)(33,on,27,23,"ng-template",null,5,F)(35,an,4,0,"ng-template",null,6,F),s()()()}if(i&2){let c=y(25),p=y(27),S=y(29),M=y(32),E=y(34),Zt=y(36);r(13),x(" Rol Selecionado: ",t.NameRol,""),r(4),l("ngForOf",t.loadedRolesList),r(2),l("nzDataSource",t.list)("nzDisabled",t.disabled)("nzListStyle",ue(15,Wi)),r(4),j("nzVisible",t.isAddVisible),l("nzTitle",c)("nzContent",p)("nzFooter",S)("nzWidth",600),r(7),j("nzVisible",t.isEditVisible),l("nzTitle",M)("nzContent",E)("nzFooter",Zt)("nzWidth",600)}},dependencies:[J,Be,Bt,Gt,W,se,ae,ce,le,me,de,ge,be,Lt,Fe,Xt,Mt,Pt,X,A,O,xe,Ne,te,Y,U,ee,ie,ne]});let a=d;return a})();export{xn as a,wn as b,nr as c,mr as d};
