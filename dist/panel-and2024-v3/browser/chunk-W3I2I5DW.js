import{b as W_,c as $,d as le,e as rf,f as G_,g as re,h as ie}from"./chunk-PGFBLUTY.js";import{b as V_,c as k_,h as e0,i as L_,j as F_,k as r0,l as tf,m as nf}from"./chunk-TNV42MFJ.js";import{A as oa,B as Ti,C as n0,F as Kl,I as $_,K as q_,L as Xo,M as Yn,a as H_,e as Zd,f as B_,g as Ql,n as Jd,o as t0,r as j_,s as U_,u as ef,z as kt}from"./chunk-MF32ORKS.js";import{a as Nc,c as L}from"./chunk-O3NHZOCN.js";import{a as q,b as qe,c as J3,g as Xd,h as R}from"./chunk-SIAVTO45.js";function RV(n,e){return Object.is(n,e)}var gn=null,Xl=!1,i0=1,Zo=Symbol("SIGNAL");function Be(n){let e=gn;return gn=n,e}function OV(){return Xl}var o0={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Y_(n){if(Xl)throw new Error("");if(gn===null)return;gn.consumerOnSignalRead(n);let e=gn.nextProducerIndex++;if(Pc(gn),e<gn.producerNode.length&&gn.producerNode[e]!==n&&Zl(gn)){let t=gn.producerNode[e];a0(t,gn.producerIndexOfThis[e])}gn.producerNode[e]!==n&&(gn.producerNode[e]=n,gn.producerIndexOfThis[e]=Zl(gn)?Z_(n,gn,e):0),gn.producerLastReadVersion[e]=n.version}function NV(){i0++}function PV(n){if(!(Zl(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===i0)){if(!n.producerMustRecompute(n)&&!s0(n)){n.dirty=!1,n.lastCleanEpoch=i0;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=i0}}function Q_(n){if(n.liveConsumerNode===void 0)return;let e=Xl;Xl=!0;try{for(let t of n.liveConsumerNode)t.dirty||X_(t)}finally{Xl=e}}function K_(){return gn?.consumerAllowSignalWrites!==!1}function X_(n){n.dirty=!0,Q_(n),n.consumerMarkedDirty?.(n)}function sf(n){return n&&(n.nextProducerIndex=0),Be(n)}function af(n,e){if(Be(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Zl(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)a0(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function s0(n){Pc(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(PV(t),r!==t.version))return!0}return!1}function cf(n){if(Pc(n),Zl(n))for(let e=0;e<n.producerNode.length;e++)a0(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Z_(n,e,t){if(J_(n),Pc(n),n.liveConsumerNode.length===0)for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=Z_(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function a0(n,e){if(J_(n),Pc(n),n.liveConsumerNode.length===1)for(let r=0;r<n.producerNode.length;r++)a0(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Pc(i),i.producerIndexOfThis[r]=e}}function Zl(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Pc(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function J_(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function VV(){throw new Error}var eb=VV;function tb(){eb()}function nb(n){eb=n}var kV=null;function rb(n){let e=Object.create(ob);e.value=n;let t=()=>(Y_(e),e.value);return t[Zo]=e,t}function lf(n,e){K_()||tb(),n.equal(n.value,e)||(n.value=e,LV(n))}function ib(n,e){K_()||tb(),lf(n,e(n.value))}var ob=qe(q({},o0),{equal:RV,value:void 0});function LV(n){n.version++,NV(),Q_(n),kV?.()}function sb(n,e,t){let r=Object.create(FV);t&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=e;let i=c=>{r.cleanupFn=c};function o(c){return c.fn===null&&c.schedule===null}function s(c){o(c)||(cf(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=of)}let a=()=>{if(r.fn===null)return;if(OV())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!s0(r))return;r.hasRun=!0;let c=sf(r);try{r.cleanupFn(),r.cleanupFn=of,r.fn(i)}finally{af(r,c)}};return r.ref={notify:()=>X_(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>s(r),[Zo]:r},r.ref}var of=()=>{},FV=qe(q({},o0),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule!==null&&n.schedule(n.ref)},hasRun:!1,cleanupFn:of});function _e(n){return typeof n=="function"}function Vc(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var c0=Vc(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function sa(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Je=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(_e(r))try{r()}catch(o){e=o instanceof c0?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{ab(o)}catch(s){e=e??[],s instanceof c0?e=[...e,...s.errors]:e.push(s)}}if(e)throw new c0(e)}}add(e){var t;if(e&&e!==this)if(this.closed)ab(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&sa(t,e)}remove(e){let{_finalizers:t}=this;t&&sa(t,e),e instanceof n&&e._removeParent(this)}};Je.EMPTY=(()=>{let n=new Je;return n.closed=!0,n})();var uf=Je.EMPTY;function l0(n){return n instanceof Je||n&&"closed"in n&&_e(n.remove)&&_e(n.add)&&_e(n.unsubscribe)}function ab(n){_e(n)?n():n.unsubscribe()}var ri={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var kc={setTimeout(n,e,...t){let{delegate:r}=kc;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=kc;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function u0(n){kc.setTimeout(()=>{let{onUnhandledError:e}=ri;if(e)e(n);else throw n})}function ii(){}var cb=hf("C",void 0,void 0);function lb(n){return hf("E",void 0,n)}function ub(n){return hf("N",n,void 0)}function hf(n,e,t){return{kind:n,value:e,error:t}}var aa=null;function Lc(n){if(ri.useDeprecatedSynchronousErrorHandling){let e=!aa;if(e&&(aa={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=aa;if(aa=null,t)throw r}}else n()}function hb(n){ri.useDeprecatedSynchronousErrorHandling&&aa&&(aa.errorThrown=!0,aa.error=n)}var ca=class extends Je{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,l0(e)&&e.add(this)):this.destination=jV}static create(e,t,r){return new io(e,t,r)}next(e){this.isStopped?ff(ub(e),this):this._next(e)}error(e){this.isStopped?ff(lb(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ff(cb,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},HV=Function.prototype.bind;function df(n,e){return HV.call(n,e)}var pf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){h0(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){h0(r)}else h0(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){h0(t)}}},io=class extends ca{constructor(e,t,r){super();let i;if(_e(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&ri.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&df(e.next,o),error:e.error&&df(e.error,o),complete:e.complete&&df(e.complete,o)}):i=e}this.destination=new pf(i)}};function h0(n){ri.useDeprecatedSynchronousErrorHandling?hb(n):u0(n)}function BV(n){throw n}function ff(n,e){let{onStoppedNotification:t}=ri;t&&kc.setTimeout(()=>t(n,e))}var jV={closed:!0,next:ii,error:BV,complete:ii};var Fc=typeof Symbol=="function"&&Symbol.observable||"@@observable";function hn(n){return n}function mf(...n){return gf(n)}function gf(n){return n.length===0?hn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Ee=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=$V(t)?t:new io(t,r,i);return Lc(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=db(r),new r((i,o)=>{let s=new io({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Fc](){return this}pipe(...t){return gf(t)(this)}toPromise(t){return t=db(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function db(n){var e;return(e=n??ri.Promise)!==null&&e!==void 0?e:Promise}function UV(n){return n&&_e(n.next)&&_e(n.error)&&_e(n.complete)}function $V(n){return n&&n instanceof ca||UV(n)&&l0(n)}function vf(n){return _e(n?.lift)}function we(n){return e=>{if(vf(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pe(n,e,t,r,i){return new yf(n,e,t,r,i)}var yf=class extends ca{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Hc(){return we((n,e)=>{let t=null;n._refCount++;let r=pe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Jo=class extends Ee{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,vf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Je;let t=this.getSubject();e.add(this.source.subscribe(pe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Je.EMPTY)}return e}refCount(){return Hc()(this)}};var Bc={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame,{delegate:r}=Bc;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);let i=e(o=>{t=void 0,n(o)});return new Je(()=>t?.(i))},requestAnimationFrame(...n){let{delegate:e}=Bc;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){let{delegate:e}=Bc;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var fb=Vc(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=(()=>{class n extends Ee{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new d0(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new fb}next(t){Lc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Lc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Lc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?uf:(this.currentObservers=null,o.push(t),new Je(()=>{this.currentObservers=null,sa(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Ee;return t.source=this,t}}return n.create=(e,t)=>new d0(e,t),n})(),d0=class extends oe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:uf}};var En=class extends oe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Jl={now(){return(Jl.delegate||Date).now()},delegate:void 0};var e4=class extends oe{constructor(e=1/0,t=1/0,r=Jl){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var f0=class extends Je{constructor(e,t){super()}schedule(e,t=0){return this}};var t4={setInterval(n,e,...t){let{delegate:r}=t4;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=t4;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Ii=class extends f0{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return t4.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&t4.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,sa(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var qV=1,wf,_f={};function pb(n){return n in _f?(delete _f[n],!0):!1}var mb={setImmediate(n){let e=qV++;return _f[e]=!0,wf||(wf=Promise.resolve()),wf.then(()=>pb(e)&&n()),e},clearImmediate(n){pb(n)}};var{setImmediate:WV,clearImmediate:GV}=mb,n4={setImmediate(...n){let{delegate:e}=n4;return(e?.setImmediate||WV)(...n)},clearImmediate(n){let{delegate:e}=n4;return(e?.clearImmediate||GV)(n)},delegate:void 0};var p0=class extends Ii{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return r!==null&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=n4.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);let{actions:o}=e;t!=null&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==t&&(n4.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}};var jc=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};jc.now=Jl.now;var Di=class extends jc{constructor(e,t=jc.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var m0=class extends Di{flush(e){this._active=!0;let t=this._scheduled;this._scheduled=void 0;let{actions:r}=this,i;e=e||r.shift();do if(i=e.execute(e.state,e.delay))break;while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}};var bf=new m0(p0);var ar=new Di(Ii),Ef=ar;var g0=class extends Ii{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var v0=class extends Di{};var Cf=new v0(g0);var y0=class extends Ii{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return r!==null&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Bc.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);let{actions:o}=e;t!=null&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==t&&(Bc.cancelAnimationFrame(t),e._scheduled=void 0)}};var w0=class extends Di{flush(e){this._active=!0;let t=this._scheduled;this._scheduled=void 0;let{actions:r}=this,i;e=e||r.shift();do if(i=e.execute(e.state,e.delay))break;while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}};var Mf=new w0(y0);var Qn=new Ee(n=>n.complete());function _0(n){return n&&_e(n.schedule)}function Tf(n){return n[n.length-1]}function Uc(n){return _e(Tf(n))?n.pop():void 0}function Si(n){return _0(Tf(n))?n.pop():void 0}function gb(n,e){return typeof Tf(n)=="number"?n.pop():e}var $c=n=>n&&typeof n.length=="number"&&typeof n!="function";function b0(n){return _e(n?.then)}function E0(n){return _e(n[Fc])}function C0(n){return Symbol.asyncIterator&&_e(n?.[Symbol.asyncIterator])}function M0(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function YV(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var T0=YV();function I0(n){return _e(n?.[T0])}function D0(n){return L_(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield e0(t.read());if(i)return yield e0(void 0);yield yield e0(r)}}finally{t.releaseLock()}})}function S0(n){return _e(n?.getReader)}function je(n){if(n instanceof Ee)return n;if(n!=null){if(E0(n))return QV(n);if($c(n))return KV(n);if(b0(n))return XV(n);if(C0(n))return vb(n);if(I0(n))return ZV(n);if(S0(n))return JV(n)}throw M0(n)}function QV(n){return new Ee(e=>{let t=n[Fc]();if(_e(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function KV(n){return new Ee(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function XV(n){return new Ee(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,u0)})}function ZV(n){return new Ee(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function vb(n){return new Ee(e=>{ek(n,e).catch(t=>e.error(t))})}function JV(n){return vb(D0(n))}function ek(n,e){var t,r,i,o;return k_(this,void 0,void 0,function*(){try{for(t=F_(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function cr(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Er(n,e=0){return we((t,r)=>{t.subscribe(pe(r,i=>cr(r,n,()=>r.next(i),e),()=>cr(r,n,()=>r.complete(),e),i=>cr(r,n,()=>r.error(i),e)))})}function oi(n,e=0){return we((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function yb(n,e){return je(n).pipe(oi(e),Er(e))}function wb(n,e){return je(n).pipe(oi(e),Er(e))}function _b(n,e){return new Ee(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function bb(n,e){return new Ee(t=>{let r;return cr(t,e,()=>{r=n[T0](),cr(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>_e(r?.return)&&r.return()})}function x0(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ee(t=>{cr(t,e,()=>{let r=n[Symbol.asyncIterator]();cr(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Eb(n,e){return x0(D0(n),e)}function Cb(n,e){if(n!=null){if(E0(n))return yb(n,e);if($c(n))return _b(n,e);if(b0(n))return wb(n,e);if(C0(n))return x0(n,e);if(I0(n))return bb(n,e);if(S0(n))return Eb(n,e)}throw M0(n)}function Le(n,e){return e?Cb(n,e):je(n)}function te(...n){let e=Si(n);return Le(n,e)}function qc(n,e){let t=_e(n)?n:()=>n,r=i=>i.error(t());return new Ee(e?i=>e.schedule(r,0,i):r)}function oo(n){return!!n&&(n instanceof Ee||_e(n.lift)&&_e(n.subscribe))}var so=Vc(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Mb(n){return n instanceof Date&&!isNaN(n)}function ce(n,e){return we((t,r)=>{let i=0;t.subscribe(pe(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:tk}=Array;function nk(n,e){return tk(e)?n(...e):n(e)}function Wc(n){return ce(e=>nk(n,e))}var{isArray:rk}=Array,{getPrototypeOf:ik,prototype:ok,keys:sk}=Object;function A0(n){if(n.length===1){let e=n[0];if(rk(e))return{args:e,keys:null};if(ak(e)){let t=sk(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function ak(n){return n&&typeof n=="object"&&ik(n)===ok}function z0(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function la(...n){let e=Si(n),t=Uc(n),{args:r,keys:i}=A0(n);if(r.length===0)return Le([],e);let o=new Ee(ck(r,e,i?s=>z0(i,s):hn));return t?o.pipe(Wc(t)):o}function ck(n,e,t=hn){return r=>{Tb(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)Tb(e,()=>{let l=Le(n[c],e),h=!1;l.subscribe(pe(r,d=>{o[c]=d,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Tb(n,e,t){n?cr(t,n,e):e()}function Ib(n,e,t,r,i,o,s,a){let c=[],l=0,h=0,d=!1,m=()=>{d&&!c.length&&!l&&e.complete()},g=_=>l<r?y(_):c.push(_),y=_=>{o&&e.next(_),l++;let M=!1;je(t(_,h++)).subscribe(pe(e,z=>{i?.(z),o?g(z):e.next(z)},()=>{M=!0},void 0,()=>{if(M)try{for(l--;c.length&&l<r;){let z=c.shift();s?cr(e,s,()=>y(z)):y(z)}m()}catch(z){e.error(z)}}))};return n.subscribe(pe(e,g,()=>{d=!0,m()})),()=>{a?.()}}function zt(n,e,t=1/0){return _e(e)?zt((r,i)=>ce((o,s)=>e(r,o,i,s))(je(n(r,i))),t):(typeof e=="number"&&(t=e),we((r,i)=>Ib(r,i,n,t)))}function xi(n=1/0){return zt(hn,n)}function Db(){return xi(1)}function Ai(...n){return Db()(Le(n,Si(n)))}function R0(n){return new Ee(e=>{je(n()).subscribe(e)})}function lk(...n){let e=Uc(n),{args:t,keys:r}=A0(n),i=new Ee(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let h=0;h<s;h++){let d=!1;je(t[h]).subscribe(pe(o,m=>{d||(d=!0,l--),a[h]=m},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?z0(r,a):a),o.complete())}))}});return e?i.pipe(Wc(e)):i}var uk=["addListener","removeListener"],hk=["addEventListener","removeEventListener"],dk=["on","off"];function es(n,e,t,r){if(_e(t)&&(r=t,t=void 0),r)return es(n,e,t).pipe(Wc(r));let[i,o]=mk(n)?hk.map(s=>a=>n[s](e,a,t)):fk(n)?uk.map(Sb(n,e)):pk(n)?dk.map(Sb(n,e)):[];if(!i&&$c(n))return zt(s=>es(s,e,t))(je(n));if(!i)throw new TypeError("Invalid event target");return new Ee(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function Sb(n,e){return t=>r=>n[t](e,r)}function fk(n){return _e(n.addListener)&&_e(n.removeListener)}function pk(n){return _e(n.on)&&_e(n.off)}function mk(n){return _e(n.addEventListener)&&_e(n.removeEventListener)}function ao(n=0,e,t=Ef){let r=-1;return e!=null&&(_0(e)?t=e:r=e),new Ee(i=>{let o=Mb(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function gk(n=0,e=ar){return n<0&&(n=0),ao(n,n,e)}function r4(...n){let e=Si(n),t=gb(n,1/0),r=n;return r.length?r.length===1?je(r[0]):xi(t)(Le(r,e)):Qn}function We(n,e){return we((t,r)=>{let i=0;t.subscribe(pe(r,o=>n.call(e,o,i++)&&r.next(o)))})}function xb(n){return we((e,t)=>{let r=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let l=i;i=null,t.next(l)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(pe(t,l=>{r=!0,i=l,o||je(n(l)).subscribe(o=pe(t,a,c))},()=>{s=!0,(!r||!o||o.closed)&&t.complete()}))})}function ua(n,e=ar){return xb(()=>ao(n,e))}function si(n){return we((e,t)=>{let r=null,i=!1,o;r=e.subscribe(pe(t,void 0,void 0,s=>{o=je(n(s,si(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Ab(n,e,t,r,i){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(pe(s,h=>{let d=l++;c=a?n(c,h,d):(a=!0,h),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function co(n,e){return _e(e)?zt(n,e,1):zt(n,1)}function vk(n){return we((e,t)=>{let r=!1,i=null,o=null,s=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let a=i;i=null,t.next(a)}};e.subscribe(pe(t,a=>{o?.unsubscribe(),r=!0,i=a,o=pe(t,s,ii),je(n(a)).subscribe(o)},()=>{s(),t.complete()},void 0,()=>{i=o=null}))})}function If(n,e=ar){return we((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function c(){let l=s+n,h=e.now();if(h<l){i=this.schedule(void 0,l-h),r.add(i);return}a()}t.subscribe(pe(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function ts(n){return we((e,t)=>{let r=!1;e.subscribe(pe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Lt(n){return n<=0?()=>Qn:we((e,t)=>{let r=0;e.subscribe(pe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function zb(){return we((n,e)=>{n.subscribe(pe(e,ii))})}function ha(n){return ce(()=>n)}function Df(n,e){return e?t=>Ai(e.pipe(Lt(1),zb()),t.pipe(Df(n))):zt((t,r)=>je(n(t,r)).pipe(Lt(1),ha(t)))}function yk(n,e=ar){let t=ao(n,e);return Df(()=>t)}function ns(n,e=hn){return n=n??wk,we((t,r)=>{let i,o=!0;t.subscribe(pe(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function wk(n,e){return n===e}function O0(n=_k){return we((e,t)=>{let r=!1;e.subscribe(pe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function _k(){return new so}function Cr(n){return we((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Mr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?We((i,o)=>n(i,o,r)):hn,Lt(1),t?ts(e):O0(()=>new so))}function Gc(n){return n<=0?()=>Qn:we((e,t)=>{let r=[];e.subscribe(pe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Sf(n,e){let t=arguments.length>=2;return r=>r.pipe(n?We((i,o)=>n(i,o,r)):hn,Gc(1),t?ts(e):O0(()=>new so))}function da(){return we((n,e)=>{let t,r=!1;n.subscribe(pe(e,i=>{let o=t;t=i,r&&e.next([o,i]),r=!0}))})}function bk(n=1/0){let e;n&&typeof n=="object"?e=n:e={count:n};let{count:t=1/0,delay:r,resetOnSuccess:i=!1}=e;return t<=0?hn:we((o,s)=>{let a=0,c,l=()=>{let h=!1;c=o.subscribe(pe(s,d=>{i&&(a=0),s.next(d)},void 0,d=>{if(a++<t){let m=()=>{c?(c.unsubscribe(),c=null,l()):h=!0};if(r!=null){let g=typeof r=="number"?ao(r):je(r(d,a)),y=pe(s,()=>{y.unsubscribe(),m()},()=>{s.complete()});g.subscribe(y)}else m()}else s.error(d)})),h&&(c.unsubscribe(),c=null,l())};l()})}function fa(n,e){return we(Ab(n,e,arguments.length>=2,!0))}function i4(n={}){let{connector:e=()=>new oe,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,c,l=0,h=!1,d=!1,m=()=>{a?.unsubscribe(),a=void 0},g=()=>{m(),s=c=void 0,h=d=!1},y=()=>{let _=s;g(),_?.unsubscribe()};return we((_,M)=>{l++,!d&&!h&&m();let z=c=c??e();M.add(()=>{l--,l===0&&!d&&!h&&(a=xf(y,i))}),z.subscribe(M),!s&&l>0&&(s=new io({next:F=>z.next(F),error:F=>{d=!0,m(),a=xf(g,t,F),z.error(F)},complete:()=>{h=!0,m(),a=xf(g,r),z.complete()}}),je(_).subscribe(s))})(o)}}function xf(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new io({next:()=>{r.unsubscribe(),n()}});return je(e(...t)).subscribe(r)}function Yc(n,e,t){let r,i=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n:r=n??1/0,i4({connector:()=>new e4(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Af(n){return We((e,t)=>n<=t)}function Cn(...n){let e=Si(n);return we((t,r)=>{(e?Ai(n,t,e):Ai(n,t)).subscribe(r)})}function ct(n,e){return we((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(pe(r,c=>{i?.unsubscribe();let l=0,h=o++;je(n(c,h)).subscribe(i=pe(r,d=>r.next(e?e(c,d,h,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function N0(n,e){return _e(e)?ct(()=>n,e):ct(()=>n)}function lt(n){return we((e,t)=>{je(n).subscribe(pe(t,()=>t.complete(),ii)),!t.closed&&e.subscribe(t)})}function zf(n,e=!1){return we((t,r)=>{let i=0;t.subscribe(pe(r,o=>{let s=n(o,i++);(s||e)&&r.next(o),!s&&r.complete()}))})}function Rt(n,e,t){let r=_e(n)||e||t?{next:n,error:e,complete:t}:n;return r?we((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(pe(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):hn}function Ek(...n){let e=Uc(n);return we((t,r)=>{let i=n.length,o=new Array(i),s=n.map(()=>!1),a=!1;for(let c=0;c<i;c++)je(n[c]).subscribe(pe(r,l=>{o[c]=l,!a&&!s[c]&&(s[c]=!0,(a=s.every(hn))&&(s=null))},ii));t.subscribe(pe(r,c=>{if(a){let l=[c,...o];r.next(e?e(...l):l)}}))})}var TE="https://g.co/ng/security#xss",W=class extends Error{constructor(e,t){super(Mu(e,t)),this.code=e}};function Mu(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function _4(n){return{toString:n}.toString()}var P0="__parameters__";function Ck(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function c7(n,e,t){return _4(()=>{let r=Ck(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,h){let d=c.hasOwnProperty(P0)?c[P0]:Object.defineProperty(c,P0,{value:[]})[P0];for(;d.length<=h;)d.push(null);return(d[h]=d[h]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Xt=globalThis;function _t(n){for(let e in n)if(n[e]===_t)return e;throw Error("Could not find renamed property on target object.")}function Mk(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Xn(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Xn).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function Qf(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var Tk=_t({__forward_ref__:_t});function Tu(n){return n.__forward_ref__=Tu,n.toString=function(){return Xn(this())},n}function Mn(n){return IE(n)?n():n}function IE(n){return typeof n=="function"&&n.hasOwnProperty(Tk)&&n.__forward_ref__===Tu}function B(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Me(n){return{providers:n.providers||[],imports:n.imports||[]}}function Iu(n){return Rb(n,SE)||Rb(n,xE)}function DE(n){return Iu(n)!==null}function Rb(n,e){return n.hasOwnProperty(e)?n[e]:null}function Ik(n){let e=n&&(n[SE]||n[xE]);return e||null}function Ob(n){return n&&(n.hasOwnProperty(Nb)||n.hasOwnProperty(Dk))?n[Nb]:null}var SE=_t({\u0275prov:_t}),Nb=_t({\u0275inj:_t}),xE=_t({ngInjectableDef:_t}),Dk=_t({ngInjectorDef:_t}),G=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=B({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function AE(n){return n&&!!n.\u0275providers}var Sk=_t({\u0275cmp:_t}),xk=_t({\u0275dir:_t}),Ak=_t({\u0275pipe:_t}),zk=_t({\u0275mod:_t}),X0=_t({\u0275fac:_t}),o4=_t({__NG_ELEMENT_ID__:_t}),Pb=_t({__NG_ENV_ID__:_t});function ur(n){return typeof n=="string"?n:n==null?"":String(n)}function Rk(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():ur(n)}function Ok(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new W(-200,n)}function l7(n,e){throw new W(-201,!1)}var Fe=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Fe||{}),Kf;function zE(){return Kf}function lr(n){let e=Kf;return Kf=n,e}function RE(n,e,t){let r=Iu(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&Fe.Optional)return null;if(e!==void 0)return e;l7(n,"Injector")}var Nk={},a4=Nk,Xf="__NG_DI_FLAG__",Z0="ngTempTokenPath",Pk="ngTokenPath",Vk=/\n/gm,kk="\u0275",Vb="__source",Jc;function Lk(){return Jc}function rs(n){let e=Jc;return Jc=n,e}function Fk(n,e=Fe.Default){if(Jc===void 0)throw new W(-203,!1);return Jc===null?RE(n,void 0,e):Jc.get(n,e&Fe.Optional?null:void 0,e)}function D(n,e=Fe.Default){return(zE()||Fk)(Mn(n),e)}function V(n,e=Fe.Default){return D(n,Du(e))}function Du(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Zf(n){let e=[];for(let t=0;t<n.length;t++){let r=Mn(n[t]);if(Array.isArray(r)){if(r.length===0)throw new W(900,!1);let i,o=Fe.Default;for(let s=0;s<r.length;s++){let a=r[s],c=Hk(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(D(i,o))}else e.push(D(r))}return e}function u7(n,e){return n[Xf]=e,n.prototype[Xf]=e,n}function Hk(n){return n[Xf]}function Bk(n,e,t,r){let i=n[Z0];throw e[Vb]&&i.unshift(e[Vb]),n.message=jk(`
`+n.message,i,t,r),n[Pk]=i,n[Z0]=null,n}function jk(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==kk?n.slice(2):n;let i=Xn(e);if(Array.isArray(e))i=e.map(Xn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Xn(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Vk,`
  `)}`}var OE=u7(c7("Inject",n=>({token:n})),-1),vo=u7(c7("Optional"),8);var Su=u7(c7("SkipSelf"),4);function va(n,e){let t=n.hasOwnProperty(X0);return t?n[X0]:null}function Uk(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function $k(n){return n.flat(Number.POSITIVE_INFINITY)}function h7(n,e){n.forEach(t=>Array.isArray(t)?h7(t,e):e(t))}function NE(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function J0(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function qk(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function Wk(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function Ia(n,e,t){let r=b4(n,e);return r>=0?n[r|1]=t:(r=~r,Wk(n,r,e,t)),r}function Rf(n,e){let t=b4(n,e);if(t>=0)return n[t|1]}function b4(n,e){return Gk(n,e,1)}function Gk(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var uo={},Kn=[],ya=new G(""),PE=new G("",-1),VE=new G(""),eu=class{get(e,t=a4){if(t===a4){let r=new Error(`NullInjectorError: No provider for ${Xn(e)}!`);throw r.name="NullInjectorError",r}return t}},kE=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(kE||{}),Oi=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Oi||{}),be=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(be||{});function Yk(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function Jf(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];Qk(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function LE(n){return n===3||n===4||n===6}function Qk(n){return n.charCodeAt(0)===64}function c4(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?kb(n,t,i,null,e[++r]):kb(n,t,i,null,null))}}return n}function kb(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var FE="ng-template";function Kk(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Yk(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(d7(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function d7(n){return n.type===4&&n.value!==FE}function Xk(n,e,t){let r=n.type===4&&!t?FE:n.value;return e===r}function Zk(n,e,t){let r=4,i=n.attrs,o=i!==null?tL(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!ai(r)&&!ai(c))return!1;if(s&&ai(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!Xk(n,c,t)||c===""&&e.length===1){if(ai(r))return!1;s=!0}}else if(r&8){if(i===null||!Kk(n,i,c,t)){if(ai(r))return!1;s=!0}}else{let l=e[++a],h=Jk(c,i,d7(n),t);if(h===-1){if(ai(r))return!1;s=!0;continue}if(l!==""){let d;if(h>o?d="":d=i[h+1].toLowerCase(),r&2&&l!==d){if(ai(r))return!1;s=!0}}}}return ai(r)||s}function ai(n){return(n&1)===0}function Jk(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return nL(e,n)}function HE(n,e,t=!1){for(let r=0;r<e.length;r++)if(Zk(n,e[r],t))return!0;return!1}function eL(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if(!(t&1))return e[t+1]}return null}function tL(n){for(let e=0;e<n.length;e++){let t=n[e];if(LE(t))return e}return n.length}function nL(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function rL(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function Lb(n,e){return n?":not("+e.trim()+")":e}function iL(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!ai(s)&&(e+=Lb(o,i),i=""),r=s,o=o||!ai(r);t++}return i!==""&&(e+=Lb(o,i)),e}function oL(n){return n.map(iL).join(",")}function sL(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!ai(i))break;i=o}r++}return{attrs:e,classes:t}}function Dr(n){return _4(()=>{let e=$E(n),t=qe(q({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===kE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Oi.Emulated,styles:n.styles||Kn,_:null,schemas:n.schemas||null,tView:null,id:""});qE(t);let r=n.dependencies;return t.directiveDefs=Hb(r,!1),t.pipeDefs=Hb(r,!0),t.id=lL(t),t})}function aL(n){return ho(n)||f7(n)}function cL(n){return n!==null}function Te(n){return _4(()=>({type:n.type,bootstrap:n.bootstrap||Kn,declarations:n.declarations||Kn,imports:n.imports||Kn,exports:n.exports||Kn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Fb(n,e){if(n==null)return uo;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=be.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==be.None?[r,a]:r,e[o]=s):t[o]=r}return t}function He(n){return _4(()=>{let e=$E(n);return qE(e),e})}function Da(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function ho(n){return n[Sk]||null}function f7(n){return n[xk]||null}function BE(n){return n[Ak]||null}function jE(n){let e=ho(n)||f7(n)||BE(n);return e!==null?e.standalone:!1}function UE(n,e){let t=n[zk]||null;if(!t&&e===!0)throw new Error(`Type ${Xn(n)} does not have '\u0275mod' property.`);return t}function $E(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||uo,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Kn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Fb(n.inputs,e),outputs:Fb(n.outputs),debugInfo:null}}function qE(n){n.features?.forEach(e=>e(n))}function Hb(n,e){if(!n)return null;let t=e?BE:aL;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(cL)}function lL(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function di(n){return{\u0275providers:n}}function uL(...n){return{\u0275providers:WE(!0,n),\u0275fromNgModule:!0}}function WE(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return h7(e,s=>{let a=s;e5(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&GE(i,o),t}function GE(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];p7(i,o=>{e(o,r)})}}function e5(n,e,t,r){if(n=Mn(n),!n)return!1;let i=null,o=Ob(n),s=!o&&ho(n);if(!o&&!s){let c=n.ngModule;if(o=Ob(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)e5(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{h7(o.imports,h=>{e5(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&GE(l,e)}if(!a){let l=va(i)||(()=>new i);e({provide:i,useFactory:l,deps:Kn},i),e({provide:VE,useValue:i,multi:!0},i),e({provide:ya,useValue:()=>D(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=n;p7(c,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function p7(n,e){for(let t of n)AE(t)&&(t=t.\u0275providers),Array.isArray(t)?p7(t,e):e(t)}var hL=_t({provide:String,useValue:_t});function YE(n){return n!==null&&typeof n=="object"&&hL in n}function dL(n){return!!(n&&n.useExisting)}function fL(n){return!!(n&&n.useFactory)}function t1(n){return typeof n=="function"}function pL(n){return!!n.useClass}var xu=new G(""),$0={},mL={},Of;function Au(){return Of===void 0&&(Of=new eu),Of}var vn=class{},l4=class extends vn{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,n5(e,s=>this.processProvider(s)),this.records.set(PE,Qc(void 0,this)),i.has("environment")&&this.records.set(vn,Qc(void 0,this));let o=this.records.get(xu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(VE,Kn,Fe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Be(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Be(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=rs(this),r=lr(void 0),i;try{return e()}finally{rs(t),lr(r)}}get(e,t=a4,r=Fe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Pb))return e[Pb](this);r=Du(r);let i,o=rs(this),s=lr(void 0);try{if(!(r&Fe.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=_L(e)&&Iu(e);l&&this.injectableDefInScope(l)?c=Qc(t5(e),$0):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&Fe.Self?Au():this.parent;return t=r&Fe.Optional&&t===a4?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Z0]=a[Z0]||[]).unshift(Xn(e)),o)throw a;return Bk(a,e,"R3InjectorError",this.source)}else throw a}finally{lr(s),rs(o)}}resolveInjectorInitializers(){let e=Be(null),t=rs(this),r=lr(void 0),i;try{let o=this.get(ya,Kn,Fe.Self);for(let s of o)s()}finally{rs(t),lr(r),Be(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Xn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new W(205,!1)}processProvider(e){e=Mn(e);let t=t1(e)?e:Mn(e&&e.provide),r=vL(e);if(!t1(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Qc(void 0,$0,!0),i.factory=()=>Zf(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=Be(null);try{return t.value===$0&&(t.value=mL,t.value=t.factory()),typeof t.value=="object"&&t.value&&wL(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Be(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Mn(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function t5(n){let e=Iu(n),t=e!==null?e.factory:va(n);if(t!==null)return t;if(n instanceof G)throw new W(204,!1);if(n instanceof Function)return gL(n);throw new W(204,!1)}function gL(n){if(n.length>0)throw new W(204,!1);let t=Ik(n);return t!==null?()=>t.factory(n):()=>new n}function vL(n){if(YE(n))return Qc(void 0,n.useValue);{let e=QE(n);return Qc(e,$0)}}function QE(n,e,t){let r;if(t1(n)){let i=Mn(n);return va(i)||t5(i)}else if(YE(n))r=()=>Mn(n.useValue);else if(fL(n))r=()=>n.useFactory(...Zf(n.deps||[]));else if(dL(n))r=()=>D(Mn(n.useExisting));else{let i=Mn(n&&(n.useClass||n.provide));if(yL(n))r=()=>new i(...Zf(n.deps));else return va(i)||t5(i)}return r}function Qc(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function yL(n){return!!n.deps}function wL(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function _L(n){return typeof n=="function"||typeof n=="object"&&n instanceof G}function n5(n,e){for(let t of n)Array.isArray(t)?n5(t,e):t&&AE(t)?n5(t.\u0275providers,e):e(t)}function Ur(n,e){n instanceof l4&&n.assertNotDestroyed();let t,r=rs(n),i=lr(void 0);try{return e()}finally{rs(r),lr(i)}}function KE(){return zE()!==void 0||Lk()!=null}function m7(n){if(!KE())throw new W(-203,!1)}function bL(n){let e=Xt.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}var Jle=Function;function EL(n){return typeof n=="function"}var hr=0,De=1,Ce=2,yn=3,ci=4,Sr=5,Tr=6,u4=7,Tn=8,n1=9,li=10,tt=11,h4=12,Bb=13,l1=14,Zn=15,E4=16,Kc=17,fo=18,zu=19,XE=20,is=21,q0=22,wa=23,Ot=25,g7=1,d4=6,po=7,tu=8,r1=9,In=10,v7=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(v7||{});function lo(n){return Array.isArray(n)&&typeof n[g7]=="object"}function Pi(n){return Array.isArray(n)&&n[g7]===!0}function y7(n){return(n.flags&4)!==0}function C4(n){return n.componentOffset>-1}function Ru(n){return(n.flags&1)===1}function mo(n){return!!n.template}function ZE(n){return(n[Ce]&512)!==0}var r5=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function JE(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Jt(){return eC}function eC(n){return n.type.prototype.ngOnChanges&&(n.setInput=ML),CL}Jt.ngInherit=!0;function CL(){let n=nC(this),e=n?.current;if(e){let t=n.previous;if(t===uo)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function ML(n,e,t,r,i){let o=this.declaredInputs[r],s=nC(n)||TL(n,{previous:uo,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new r5(l&&l.currentValue,t,c===uo),JE(n,e,i,t)}var tC="__ngSimpleChanges__";function nC(n){return n[tC]||null}function TL(n,e){return n[tC]=e}var jb=null;var zi=function(n,e,t){jb?.(n,e,t)},rC="svg",IL="math",DL=!1;function SL(){return DL}function ui(n){for(;Array.isArray(n);)n=n[hr];return n}function xL(n){for(;Array.isArray(n);){if(typeof n[g7]=="object")return n;n=n[hr]}return null}function iC(n,e){return ui(e[n])}function xr(n,e){return ui(e[n.index])}function w7(n,e){return n.data[e]}function M4(n,e){return n[e]}function cs(n,e){let t=e[n];return lo(t)?t:t[hr]}function AL(n){return(n[Ce]&4)===4}function _7(n){return(n[Ce]&128)===128}function zL(n){return Pi(n[yn])}function i1(n,e){return e==null?null:n[e]}function oC(n){n[Kc]=0}function RL(n){n[Ce]&1024||(n[Ce]|=1024,_7(n)&&f4(n))}function OL(n,e){for(;n>0;)e=e[l1],n--;return e}function b7(n){return!!(n[Ce]&9216||n[wa]?.dirty)}function i5(n){n[li].changeDetectionScheduler?.notify(1),b7(n)?f4(n):n[Ce]&64&&(SL()?(n[Ce]|=1024,f4(n)):n[li].changeDetectionScheduler?.notify())}function f4(n){n[li].changeDetectionScheduler?.notify();let e=p4(n);for(;e!==null&&!(e[Ce]&8192||(e[Ce]|=8192,!_7(e)));)e=p4(e)}function sC(n,e){if((n[Ce]&256)===256)throw new W(911,!1);n[is]===null&&(n[is]=[]),n[is].push(e)}function NL(n,e){if(n[is]===null)return;let t=n[is].indexOf(e);t!==-1&&n[is].splice(t,1)}function p4(n){let e=n[yn];return Pi(e)?e[yn]:e}var Ae={lFrame:dC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function PL(){return Ae.lFrame.elementDepthCount}function VL(){Ae.lFrame.elementDepthCount++}function kL(){Ae.lFrame.elementDepthCount--}function aC(){return Ae.bindingsEnabled}function u1(){return Ae.skipHydrationRootTNode!==null}function LL(n){return Ae.skipHydrationRootTNode===n}function FL(n){Ae.skipHydrationRootTNode=n}function HL(){Ae.skipHydrationRootTNode=null}function ge(){return Ae.lFrame.lView}function Tt(){return Ae.lFrame.tView}function yo(n){return Ae.lFrame.contextLView=n,n[Tn]}function wo(n){return Ae.lFrame.contextLView=null,n}function Sn(){let n=cC();for(;n!==null&&n.type===64;)n=n.parent;return n}function cC(){return Ae.lFrame.currentTNode}function BL(){let n=Ae.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Sa(n,e){let t=Ae.lFrame;t.currentTNode=n,t.isParent=e}function E7(){return Ae.lFrame.isParent}function C7(){Ae.lFrame.isParent=!1}function jL(){return Ae.lFrame.contextLView}function _o(){let n=Ae.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function M7(){return Ae.lFrame.bindingIndex}function UL(n){return Ae.lFrame.bindingIndex=n}function ls(){return Ae.lFrame.bindingIndex++}function T4(n){let e=Ae.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function $L(){return Ae.lFrame.inI18n}function qL(n,e){let t=Ae.lFrame;t.bindingIndex=t.bindingRootIndex=n,o5(e)}function WL(){return Ae.lFrame.currentDirectiveIndex}function o5(n){Ae.lFrame.currentDirectiveIndex=n}function T7(n){let e=Ae.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function lC(){return Ae.lFrame.currentQueryIndex}function I7(n){Ae.lFrame.currentQueryIndex=n}function GL(n){let e=n[De];return e.type===2?e.declTNode:e.type===1?n[Sr]:null}function uC(n,e,t){if(t&Fe.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&Fe.Host);)if(i=GL(o),i===null||(o=o[l1],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=Ae.lFrame=hC();return r.currentTNode=e,r.lView=n,!0}function D7(n){let e=hC(),t=n[De];Ae.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function hC(){let n=Ae.lFrame,e=n===null?null:n.child;return e===null?dC(n):e}function dC(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function fC(){let n=Ae.lFrame;return Ae.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var pC=fC;function S7(){let n=fC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function YL(n){return(Ae.lFrame.contextLView=OL(n,Ae.lFrame.contextLView))[Tn]}function Vi(){return Ae.lFrame.selectedIndex}function _a(n){Ae.lFrame.selectedIndex=n}function xa(){let n=Ae.lFrame;return w7(n.tView,n.selectedIndex)}function e4e(){Ae.lFrame.currentNamespace=rC}function mC(){return Ae.lFrame.currentNamespace}var gC=!0;function Ou(){return gC}function ki(n){gC=n}function QL(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=eC(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Nu(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function W0(n,e,t){vC(n,e,3,t)}function G0(n,e,t,r){(n[Ce]&3)===t&&vC(n,e,t,r)}function Nf(n,e){let t=n[Ce];(t&3)===e&&(t&=16383,t+=1,n[Ce]=t)}function vC(n,e,t,r){let i=r!==void 0?n[Kc]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Kc]+=65536),(a<o||o==-1)&&(KL(n,t,e,c),n[Kc]=(n[Kc]&4294901760)+c+2),c++}function Ub(n,e){zi(4,n,e);let t=Be(null);try{e.call(n)}finally{Be(t),zi(5,n,e)}}function KL(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[Ce]>>14<n[Kc]>>16&&(n[Ce]&3)===e&&(n[Ce]+=16384,Ub(a,o)):Ub(a,o)}var e1=-1,ba=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function XL(n){return n instanceof ba}function ZL(n){return(n.flags&8)!==0}function JL(n){return(n.flags&16)!==0}function yC(n){return n!==e1}function nu(n){return n&32767}function eF(n){return n>>16}function ru(n,e){let t=eF(n),r=e;for(;t>0;)r=r[l1],t--;return r}var s5=!0;function iu(n){let e=s5;return s5=n,e}var tF=256,wC=tF-1,_C=5,nF=0,Ri={};function rF(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(o4)&&(r=t[o4]),r==null&&(r=t[o4]=nF++);let i=r&wC,o=1<<i;e.data[n+(i>>_C)]|=o}function ou(n,e){let t=bC(n,e);if(t!==-1)return t;let r=e[De];r.firstCreatePass&&(n.injectorIndex=e.length,Pf(r.data,n),Pf(e,null),Pf(r.blueprint,null));let i=x7(n,e),o=n.injectorIndex;if(yC(i)){let s=nu(i),a=ru(i,e),c=a[De].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Pf(n,e){n.push(0,0,0,0,0,0,0,0,e)}function bC(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function x7(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=IC(i),r===null)return e1;if(t++,i=i[l1],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return e1}function a5(n,e,t){rF(n,e,t)}function iF(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(LE(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function EC(n,e,t){if(t&Fe.Optional||n!==void 0)return n;l7(e,"NodeInjector")}function CC(n,e,t,r){if(t&Fe.Optional&&r===void 0&&(r=null),!(t&(Fe.Self|Fe.Host))){let i=n[n1],o=lr(void 0);try{return i?i.get(e,r,t&Fe.Optional):RE(e,r,t&Fe.Optional)}finally{lr(o)}}return EC(r,e,t)}function MC(n,e,t,r=Fe.Default,i){if(n!==null){if(e[Ce]&2048&&!(r&Fe.Self)){let s=cF(n,e,t,r,Ri);if(s!==Ri)return s}let o=TC(n,e,t,r,Ri);if(o!==Ri)return o}return CC(e,t,r,i)}function TC(n,e,t,r,i){let o=sF(t);if(typeof o=="function"){if(!uC(e,n,r))return r&Fe.Host?EC(i,t,r):CC(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&Fe.Optional))l7(t);else return s}finally{pC()}}else if(typeof o=="number"){let s=null,a=bC(n,e),c=e1,l=r&Fe.Host?e[Zn][Sr]:null;for((a===-1||r&Fe.SkipSelf)&&(c=a===-1?x7(n,e):e[a+8],c===e1||!qb(r,!1)?a=-1:(s=e[De],a=nu(c),e=ru(c,e)));a!==-1;){let h=e[De];if($b(o,a,h.data)){let d=oF(a,e,t,s,r,l);if(d!==Ri)return d}c=e[a+8],c!==e1&&qb(r,e[De].data[a+8]===l)&&$b(o,a,e)?(s=h,a=nu(c),e=ru(c,e)):a=-1}}return i}function oF(n,e,t,r,i,o){let s=e[De],a=s.data[n+8],c=r==null?C4(a)&&s5:r!=s&&(a.type&3)!==0,l=i&Fe.Host&&o===a,h=Y0(a,s,t,c,l);return h!==null?Ea(e,s,h,a):Ri}function Y0(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,h=o>>20,d=r?a:a+h,m=i?a+h:l;for(let g=d;g<m;g++){let y=s[g];if(g<c&&t===y||g>=c&&y.type===t)return g}if(i){let g=s[c];if(g&&mo(g)&&g.type===t)return c}return null}function Ea(n,e,t,r){let i=n[t],o=e.data;if(XL(i)){let s=i;s.resolving&&Ok(Rk(o[t]));let a=iu(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?lr(s.injectImpl):null,h=uC(n,r,Fe.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&QL(t,o[t],e)}finally{l!==null&&lr(l),iu(a),s.resolving=!1,pC()}}return i}function sF(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(o4)?n[o4]:void 0;return typeof e=="number"?e>=0?e&wC:aF:e}function $b(n,e,t){let r=1<<n;return!!(t[e+(n>>_C)]&r)}function qb(n,e){return!(n&Fe.Self)&&!(n&Fe.Host&&e)}var ga=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return MC(this._tNode,this._lView,e,Du(r),t)}};function aF(){return new ga(Sn(),ge())}function h1(n){return _4(()=>{let e=n.prototype.constructor,t=e[X0]||c5(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[X0]||c5(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function c5(n){return IE(n)?()=>{let e=c5(Mn(n));return e&&e()}:va(n)}function cF(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[Ce]&2048&&!(s[Ce]&512);){let a=TC(o,s,t,r|Fe.Self,Ri);if(a!==Ri)return a;let c=o.parent;if(!c){let l=s[XE];if(l){let h=l.get(t,Ri,r);if(h!==Ri)return h}c=IC(s),s=s[l1]}o=c}return i}function IC(n){let e=n[De],t=e.type;return t===2?e.declTNode:t===1?n[Sr]:null}function A7(n){return iF(Sn(),n)}function Wb(n,e=null,t=null,r){let i=DC(n,e,t,r);return i.resolveInjectorInitializers(),i}function DC(n,e=null,t=null,r,i=new Set){let o=[t||Kn,uL(n)];return r=r||(typeof n=="object"?void 0:Xn(n)),new l4(o,e||Au(),r||null,i)}var Ft=(()=>{class n{static{this.THROW_IF_NOT_FOUND=a4}static{this.NULL=new eu}static create(t,r){if(Array.isArray(t))return Wb({name:""},r,t,"");{let i=t.name??"";return Wb({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=B({token:n,providedIn:"any",factory:()=>D(PE)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();var lF="ngOriginalError";function Vf(n){return n[lF]}var hi=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Vf(e);for(;t&&Vf(t);)t=Vf(t);return t||null}},SC=new G("",{providedIn:"root",factory:()=>V(hi).handleError.bind(void 0)}),I4=(()=>{class n{static{this.__NG_ELEMENT_ID__=uF}static{this.__NG_ENV_ID__=t=>t}}return n})(),l5=class extends I4{constructor(e){super(),this._lView=e}onDestroy(e){return sC(this._lView,e),()=>NL(this._lView,e)}};function uF(){return new l5(ge())}function hF(){return d1(Sn(),ge())}function d1(n,e){return new ke(xr(n,e))}var ke=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=hF}}return n})();function dF(n){return n instanceof ke?n.nativeElement:n}var u5=class extends oe{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,KE()&&(this.destroyRef=V(I4,{optional:!0})??void 0)}emit(e){let t=Be(null);try{super.next(e)}finally{Be(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=kf(o),i&&(i=kf(i)),s&&(s=kf(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Je&&e.add(a),a}};function kf(n){return e=>{setTimeout(n,void 0,e)}}var Ke=u5;function fF(){return this._results[Symbol.iterator]()}var h5=class n{get changes(){return this._changes??=new Ke}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=fF)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=$k(e);(this._changesDetected=!Uk(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},pF="ngSkipHydration",mF="ngskiphydration";function xC(n){let e=n.mergedAttrs;if(e===null)return!1;for(let t=0;t<e.length;t+=2){let r=e[t];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===mF)return!0}return!1}function AC(n){return n.hasAttribute(pF)}function su(n){return(n.flags&128)===128}function gF(n){if(su(n))return!0;let e=n.parent;for(;e;){if(su(n)||xC(e))return!0;e=e.parent}return!1}var zC=new Map,vF=0;function yF(){return vF++}function wF(n){zC.set(n[zu],n)}function _F(n){zC.delete(n[zu])}var Gb="__ngContext__";function os(n,e){lo(e)?(n[Gb]=e[zu],wF(e)):n[Gb]=e}function RC(n){return NC(n[h4])}function OC(n){return NC(n[ci])}function NC(n){for(;n!==null&&!Pi(n);)n=n[ci];return n}var d5;function PC(n){d5=n}function D4(){if(d5!==void 0)return d5;if(typeof document<"u")return document;throw new W(210,!1)}var S4=new G("",{providedIn:"root",factory:()=>bF}),bF="ng",z7=new G(""),Yt=new G("",{providedIn:"platform",factory:()=>"unknown"});var Li=new G(""),bo=new G("",{providedIn:"root",factory:()=>D4().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function EF(){let n=new Aa;return V(Yt)==="browser"&&(n.store=CF(D4(),V(S4))),n}var Aa=(()=>{class n{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=B({token:n,providedIn:"root",factory:EF})}get(t,r){return this.store[t]!==void 0?this.store[t]:r}set(t,r){this.store[t]=r}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(t,r){this.onSerializeCallbacks[t]=r}toJson(){for(let t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return n})();function CF(n,e){let t=n.getElementById(e+"-state");if(t?.textContent)try{return JSON.parse(t.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var VC="h",kC="b",f5=function(n){return n.FirstChild="f",n.NextSibling="n",n}(f5||{}),MF="e",TF="t",R7="c",LC="x",au="r",IF="i",DF="n",SF="d",xF="__nghData__",FC=xF,Lf="ngh",AF="nghm",HC=()=>null;function zF(n,e,t=!1){let r=n.getAttribute(Lf);if(r==null)return null;let[i,o]=r.split("|");if(r=t?o:i,!r)return null;let s=o?`|${o}`:"",a=t?i:s,c={};if(r!==""){let h=e.get(Aa,null,{optional:!0});h!==null&&(c=h.get(FC,[])[Number(r)])}let l={data:c,firstChild:n.firstChild??null};return t&&(l.firstChild=n,Pu(l,0,n.nextSibling)),a?n.setAttribute(Lf,a):n.removeAttribute(Lf),l}function RF(){HC=zF}function O7(n,e,t=!1){return HC(n,e,t)}function OF(n){let e=n._lView;return e[De].type===2?null:(ZE(e)&&(e=e[Ot]),e)}function NF(n){return n.textContent?.replace(/\s/gm,"")}function PF(n){let e=D4(),t=e.createNodeIterator(n,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=NF(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=t.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function Pu(n,e,t){n.segmentHeads??={},n.segmentHeads[e]=t}function p5(n,e){return n.segmentHeads?.[e]??null}function VF(n,e){let t=n.data,r=t[MF]?.[e]??null;return r===null&&t[R7]?.[e]&&(r=N7(n,e)),r}function BC(n,e){return n.data[R7]?.[e]??null}function N7(n,e){let t=BC(n,e)??[],r=0;for(let i of t)r+=i[au]*(i[LC]??1);return r}function Vu(n,e){if(typeof n.disconnectedNodes>"u"){let t=n.data[SF];n.disconnectedNodes=t?new Set(t):null}return!!n.disconnectedNodes?.has(e)}var V0=new G(""),jC=!1,UC=new G("",{providedIn:"root",factory:()=>jC}),kF=new G(""),k0;function LF(){if(k0===void 0&&(k0=null,Xt.trustedTypes))try{k0=Xt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return k0}function ku(n){return LF()?.createHTML(n)||n}var L0;function $C(){if(L0===void 0&&(L0=null,Xt.trustedTypes))try{L0=Xt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return L0}function Yb(n){return $C()?.createHTML(n)||n}function Qb(n){return $C()?.createScriptURL(n)||n}var go=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${TE})`}},m5=class extends go{getTypeName(){return"HTML"}},g5=class extends go{getTypeName(){return"Style"}},v5=class extends go{getTypeName(){return"Script"}},y5=class extends go{getTypeName(){return"URL"}},w5=class extends go{getTypeName(){return"ResourceURL"}};function Ar(n){return n instanceof go?n.changingThisBreaksApplicationSecurity:n}function Eo(n,e){let t=FF(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${TE})`)}return t===e}function FF(n){return n instanceof go&&n.getTypeName()||null}function qC(n){return new m5(n)}function WC(n){return new g5(n)}function GC(n){return new v5(n)}function YC(n){return new y5(n)}function QC(n){return new w5(n)}function HF(n){let e=new b5(n);return BF()?new _5(e):e}var _5=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(ku(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}},b5=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=ku(e),t}};function BF(){try{return!!new window.DOMParser().parseFromString(ku(""),"text/html")}catch{return!1}}var jF=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Lu(n){return n=String(n),n.match(jF)?n:"unsafe:"+n}function Co(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function x4(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var KC=Co("area,br,col,hr,img,wbr"),XC=Co("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ZC=Co("rp,rt"),UF=x4(ZC,XC),$F=x4(XC,Co("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),qF=x4(ZC,Co("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Kb=x4(KC,$F,qF,UF),JC=Co("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),WF=Co("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),GF=Co("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),YF=x4(JC,WF,GF),QF=Co("script,style,template"),E5=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=ZF(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=XF(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=Xb(e).toLowerCase();if(!Kb.hasOwnProperty(t))return this.sanitizedSomething=!0,!QF.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!YF.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;JC[a]&&(c=Lu(c)),this.buf.push(" ",s,'="',Zb(c),'"')}return this.buf.push(">"),!0}endElement(e){let t=Xb(e).toLowerCase();Kb.hasOwnProperty(t)&&!KC.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Zb(e))}};function KF(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function XF(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw eM(e);return e}function ZF(n){let e=n.firstChild;if(e&&KF(n,e))throw eM(e);return e}function Xb(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function eM(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var JF=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,eH=/([^\#-~ |!])/g;function Zb(n){return n.replace(/&/g,"&amp;").replace(JF,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(eH,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var F0;function P7(n,e){let t=null;try{F0=F0||HF(n);let r=e?String(e):"";t=F0.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=F0.getInertBodyElement(r)}while(r!==o);let a=new E5().sanitizeChildren(Jb(t)||t);return ku(a)}finally{if(t){let r=Jb(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Jb(n){return"content"in n&&tH(n)?n.content:null}function tH(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var zr=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(zr||{});function A4(n){let e=V7();return e?Yb(e.sanitize(zr.HTML,n)||""):Eo(n,"HTML")?Yb(Ar(n)):P7(D4(),ur(n))}function nH(n){let e=V7();return e?e.sanitize(zr.URL,n)||"":Eo(n,"URL")?Ar(n):Lu(ur(n))}function rH(n){let e=V7();if(e)return Qb(e.sanitize(zr.RESOURCE_URL,n)||"");if(Eo(n,"ResourceURL"))return Qb(Ar(n));throw new W(904,!1)}function iH(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?rH:nH}function tM(n,e,t){return iH(e,t)(n)}function V7(){let n=ge();return n&&n[li].sanitizer}var oH=/^>|^->|<!--|-->|--!>|<!-$/g,sH=/(<|>)/g,aH="\u200B$1\u200B";function cH(n){return n.replace(oH,e=>e.replace(sH,aH))}function lH(n){return n.ownerDocument.body}function nM(n){return n instanceof Function?n():n}function Xc(n){return(n??V(Ft)).get(Yt)==="browser"}var Ni=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ni||{}),uH;function k7(n,e){return uH(n,e)}function Zc(n,e,t,r,i){if(r!=null){let o,s=!1;Pi(r)?o=r:lo(r)&&(s=!0,r=r[hr]);let a=ui(r);n===0&&t!==null?i==null?sM(e,t,a):cu(e,t,a,i||null,!0):n===1&&t!==null?cu(e,t,a,i||null,!0):n===2?B7(e,a,s):n===3&&e.destroyNode(a),o!=null&&TH(e,n,o,t,i)}}function L7(n,e){return n.createText(e)}function hH(n,e,t){n.setValue(e,t)}function F7(n,e){return n.createComment(cH(e))}function Fu(n,e,t){return n.createElement(e,t)}function dH(n,e){rM(n,e),e[hr]=null,e[Sr]=null}function fH(n,e,t,r,i,o){r[hr]=i,r[Sr]=e,ju(n,r,t,1,i,o)}function rM(n,e){e[li].changeDetectionScheduler?.notify(1),ju(n,e,e[tt],2,null,null)}function pH(n){let e=n[h4];if(!e)return Ff(n[De],n);for(;e;){let t=null;if(lo(e))t=e[h4];else{let r=e[In];r&&(t=r)}if(!t){for(;e&&!e[ci]&&e!==n;)lo(e)&&Ff(e[De],e),e=e[yn];e===null&&(e=n),lo(e)&&Ff(e[De],e),t=e&&e[ci]}e=t}}function mH(n,e,t,r){let i=In+r,o=t.length;r>0&&(t[i-1][ci]=e),r<o-In?(e[ci]=t[i],NE(t,In+r,e)):(t.push(e),e[ci]=null),e[yn]=t;let s=e[E4];s!==null&&t!==s&&gH(s,e);let a=e[fo];a!==null&&a.insertView(n),i5(e),e[Ce]|=128}function gH(n,e){let t=n[r1],i=e[yn][yn][Zn];e[Zn]!==i&&(n[Ce]|=v7.HasTransplantedViews),t===null?n[r1]=[e]:t.push(e)}function iM(n,e){let t=n[r1],r=t.indexOf(e);t.splice(r,1)}function m4(n,e){if(n.length<=In)return;let t=In+e,r=n[t];if(r){let i=r[E4];i!==null&&i!==n&&iM(i,r),e>0&&(n[t-1][ci]=r[ci]);let o=J0(n,In+e);dH(r[De],r);let s=o[fo];s!==null&&s.detachView(o[De]),r[yn]=null,r[ci]=null,r[Ce]&=-129}return r}function Hu(n,e){if(!(e[Ce]&256)){let t=e[tt];t.destroyNode&&ju(n,e,t,3,null,null),pH(e)}}function Ff(n,e){if(e[Ce]&256)return;let t=Be(null);try{e[Ce]&=-129,e[Ce]|=256,e[wa]&&cf(e[wa]),yH(n,e),vH(n,e),e[De].type===1&&e[tt].destroy();let r=e[E4];if(r!==null&&Pi(e[yn])){r!==e[yn]&&iM(r,e);let i=e[fo];i!==null&&i.detachView(n)}_F(e)}finally{Be(t)}}function vH(n,e){let t=n.cleanup,r=e[u4];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[u4]=null);let i=e[is];if(i!==null){e[is]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function yH(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof ba)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];zi(4,a,c);try{c.call(a)}finally{zi(5,a,c)}}else{zi(4,i,o);try{o.call(i)}finally{zi(5,i,o)}}}}}function oM(n,e,t){return wH(n,e.parent,t)}function wH(n,e,t){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return t[hr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===Oi.None||o===Oi.Emulated)return null}return xr(r,t)}}function cu(n,e,t,r,i){n.insertBefore(e,t,r,i)}function sM(n,e,t){n.appendChild(e,t)}function eE(n,e,t,r,i){r!==null?cu(n,e,t,r,i):sM(n,e,t)}function _H(n,e,t,r){n.removeChild(e,t,r)}function H7(n,e){return n.parentNode(e)}function bH(n,e){return n.nextSibling(e)}function aM(n,e,t){return CH(n,e,t)}function EH(n,e,t){return n.type&40?xr(n,t):null}var CH=EH,tE;function Bu(n,e,t,r){let i=oM(n,r,e),o=e[tt],s=r.parent||e[Sr],a=aM(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)eE(o,i,t[c],a,!1);else eE(o,i,t,a,!1);tE!==void 0&&tE(o,r,e,t,i)}function Q0(n,e){if(e!==null){let t=e.type;if(t&3)return xr(e,n);if(t&4)return C5(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Q0(n,r);{let i=n[e.index];return Pi(i)?C5(-1,i):ui(i)}}else{if(t&32)return k7(e,n)()||ui(n[e.index]);{let r=cM(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=p4(n[Zn]);return Q0(i,r)}else return Q0(n,e.next)}}}return null}function cM(n,e){if(e!==null){let r=n[Zn][Sr],i=e.projection;return r.projection[i]}return null}function C5(n,e){let t=In+n+1;if(t<e.length){let r=e[t],i=r[De].firstChild;if(i!==null)return Q0(r,i)}return e[po]}function B7(n,e,t){let r=H7(n,e);r&&_H(n,r,e,t)}function lM(n){n.textContent=""}function j7(n,e,t,r,i,o,s){for(;t!=null;){let a=r[t.index],c=t.type;if(s&&e===0&&(a&&os(ui(a),r),t.flags|=2),(t.flags&32)!==32)if(c&8)j7(n,e,t.child,r,i,o,!1),Zc(e,n,i,a,o);else if(c&32){let l=k7(t,r),h;for(;h=l();)Zc(e,n,i,h,o);Zc(e,n,i,a,o)}else c&16?uM(n,e,r,t,i,o):Zc(e,n,i,a,o);t=s?t.projectionNext:t.next}}function ju(n,e,t,r,i,o){j7(t,r,n.firstChild,e,i,o,!1)}function MH(n,e,t){let r=e[tt],i=oM(n,t,e),o=t.parent||e[Sr],s=aM(o,t,e);uM(r,0,e,t,i,s)}function uM(n,e,t,r,i,o){let s=t[Zn],c=s[Sr].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let h=c[l];Zc(e,n,i,h,o)}else{let l=c,h=s[yn];su(r)&&(l.flags|=128),j7(n,e,l,h,i,o,!0)}}function TH(n,e,t,r,i){let o=t[po],s=ui(t);o!==s&&Zc(e,n,r,o,i);for(let a=In;a<t.length;a++){let c=t[a];ju(c[De],c,n,e,r,o)}}function IH(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Ni.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ni.Important),n.setStyle(t,r,i,o))}}function DH(n,e,t){n.setAttribute(e,"style",t)}function hM(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function dM(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&Jf(n,e,r),i!==null&&hM(n,e,i),o!==null&&DH(n,e,o)}var xn={};function nt(n=1){fM(Tt(),ge(),Vi()+n,!1)}function fM(n,e,t,r){if(!r)if((e[Ce]&3)===3){let o=n.preOrderCheckHooks;o!==null&&W0(e,o,t)}else{let o=n.preOrderHooks;o!==null&&G0(e,o,0,t)}_a(t)}function H(n,e=Fe.Default){let t=ge();if(t===null)return D(n,e);let r=Sn();return MC(r,t,Mn(n),e)}function pM(){let n="invalid";throw new Error(n)}function mM(n,e,t,r,i,o){let s=Be(null);try{let a=null;i&be.SignalBased&&(a=e[r][Zo]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&be.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):JE(e,a,r,o)}finally{Be(s)}}function SH(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)_a(~i);else{let o=i,s=t[++r],a=t[++r];qL(s,o);let c=e[o];a(2,c)}}}finally{_a(-1)}}function Uu(n,e,t,r,i,o,s,a,c,l,h){let d=e.blueprint.slice();return d[hr]=i,d[Ce]=r|4|128|8|64,(l!==null||n&&n[Ce]&2048)&&(d[Ce]|=2048),oC(d),d[yn]=d[l1]=n,d[Tn]=t,d[li]=s||n&&n[li],d[tt]=a||n&&n[tt],d[n1]=c||n&&n[n1]||null,d[Sr]=o,d[zu]=yF(),d[Tr]=h,d[XE]=l,d[Zn]=e.type==2?n[Zn]:d,d}function f1(n,e,t,r,i){let o=n.data[e];if(o===null)o=xH(n,e,t,r,i),$L()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=BL();o.injectorIndex=s===null?-1:s.injectorIndex}return Sa(o,!0),o}function xH(n,e,t,r,i){let o=cC(),s=E7(),a=s?o:o&&o.parent,c=n.data[e]=VH(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function gM(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function vM(n,e,t,r,i){let o=Vi(),s=r&2;try{_a(-1),s&&e.length>Ot&&fM(n,e,Ot,!1),zi(s?2:0,i),t(r,i)}finally{_a(o),zi(s?3:1,i)}}function U7(n,e,t){if(y7(e)){let r=Be(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{Be(r)}}}function $7(n,e,t){aC()&&(jH(n,e,t,xr(t,e)),(t.flags&64)===64&&bM(n,e,t))}function q7(n,e,t=xr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function yM(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=W7(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function W7(n,e,t,r,i,o,s,a,c,l,h){let d=Ot+r,m=d+i,g=AH(d,m),y=typeof l=="function"?l():l;return g[De]={type:n,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:h}}function AH(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:xn);return t}function zH(n,e,t,r){let o=r.get(UC,jC)||t===Oi.ShadowDom,s=n.selectRootElement(e,o);return RH(s),s}function RH(n){wM(n)}var wM=()=>null;function OH(n){AC(n)?lM(n):PF(n)}function NH(){wM=OH}function PH(n,e,t,r){let i=MM(e);i.push(t),n.firstCreatePass&&TM(n).push(r,i.length-1)}function VH(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return u1()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function nE(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=be.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}n===0?rE(r,t,l,a,c):rE(r,t,l,a)}return r}function rE(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function kH(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],c=null,l=null;for(let h=r;h<i;h++){let d=o[h],m=t?t.get(d):null,g=m?m.inputs:null,y=m?m.outputs:null;c=nE(0,d.inputs,h,c,g),l=nE(1,d.outputs,h,l,y);let _=c!==null&&s!==null&&!d7(e)?JH(c,h,s):null;a.push(_)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function LH(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function p1(n,e,t,r,i,o,s,a){let c=xr(e,t),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Y7(n,t,h,r,i),C4(e)&&FH(t,e.index)):e.type&3?(r=LH(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function FH(n,e){let t=cs(e,n);t[Ce]&16||(t[Ce]|=64)}function G7(n,e,t,r){if(aC()){let i=r===null?null:{"":-1},o=$H(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&_M(n,e,t,s,i,a),i&&qH(t,r,i)}t.mergedAttrs=c4(t.mergedAttrs,t.attrs)}function _M(n,e,t,r,i,o){for(let l=0;l<r.length;l++)a5(ou(t,e),n,r[l].type);GH(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,c=gM(n,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];t.mergedAttrs=c4(t.mergedAttrs,h.hostAttrs),YH(n,t,e,c,h),WH(c,h,i),h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let d=h.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}kH(n,t,o)}function HH(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;BH(s)!=a&&s.push(a),s.push(t,r,o)}}function BH(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function jH(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;C4(t)&&QH(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||ou(t,e),os(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let c=n.data[a],l=Ea(e,n,a,t);if(os(l,e),s!==null&&ZH(e,a-i,l,c,t,s),mo(c)){let h=cs(t.index,e);h[Tn]=Ea(e,n,a,t)}}}function bM(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=WL();try{_a(o);for(let a=r;a<i;a++){let c=n.data[a],l=e[a];o5(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&UH(c,l)}}finally{_a(-1),o5(s)}}function UH(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function $H(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(HE(e,s.selectors,!1))if(r||(r=[]),mo(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;M5(n,e,c)}else r.unshift(s),M5(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function M5(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function qH(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new W(-301,!1);r.push(e[i],o)}}}function WH(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;mo(e)&&(t[""]=n)}}function GH(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function YH(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=va(i.type,!0)),s=new ba(o,mo(i),H);n.blueprint[r]=s,t[r]=s,HH(n,e,r,gM(n,t,i.hostVars,xn),i)}function QH(n,e,t){let r=xr(e,n),i=yM(t),o=n[li].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=$u(n,Uu(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function KH(n,e,t,r,i,o){let s=xr(n,e);XH(e[tt],s,o,n.value,t,r,i)}function XH(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?ur(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function ZH(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],h=s[a++],d=s[a++];mM(r,t,c,l,h,d)}}function JH(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function EM(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function CM(n,e){let t=n.contentQueries;if(t!==null){let r=Be(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];I7(o),a.contentQueries(2,e[s],s)}}}finally{Be(r)}}}function $u(n,e){return n[h4]?n[Bb][ci]=e:n[h4]=e,n[Bb]=e,e}function T5(n,e,t){I7(0);let r=Be(null);try{e(n,t)}finally{Be(r)}}function MM(n){return n[u4]||(n[u4]=[])}function TM(n){return n.cleanup||(n.cleanup=[])}function IM(n,e,t){return(n===null||mo(n))&&(t=xL(t[e.index])),t[tt]}function DM(n,e){let t=n[n1],r=t?t.get(hi,null):null;r&&r.handleError(e)}function Y7(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],c=t[o++],l=e[s],h=n.data[s];mM(h,l,r,a,c,i)}}function Q7(n,e,t){let r=iC(e,n);hH(n[tt],r,t)}function eB(n,e){let t=cs(e,n),r=t[De];tB(r,t);let i=t[hr];i!==null&&t[Tr]===null&&(t[Tr]=O7(i,t[n1])),K7(r,t,t[Tn])}function tB(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function K7(n,e,t){D7(e);try{let r=n.viewQuery;r!==null&&T5(1,r,t);let i=n.template;i!==null&&vM(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[fo]?.finishViewCreation(n),n.staticContentQueries&&CM(n,e),n.staticViewQueries&&T5(2,n.viewQuery,t);let o=n.components;o!==null&&nB(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Ce]&=-5,S7()}}function nB(n,e){for(let t=0;t<e.length;t++)eB(n,e[t])}function qu(n,e,t,r){let i=Be(null);try{let o=e.tView,a=n[Ce]&4096?4096:16,c=Uu(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[E4]=l;let h=n[fo];return h!==null&&(c[fo]=h.createEmbeddedView(o)),K7(o,c,t),c}finally{Be(i)}}function SM(n,e){let t=In+e;if(t<n.length)return n[t]}function g4(n,e){return!e||e.firstChild===null||su(n)}function Wu(n,e,t,r=!0){let i=e[De];if(mH(i,e,n,t),r){let s=C5(t,n),a=e[tt],c=H7(a,n[po]);c!==null&&fH(i,n[Sr],a,e,c,s)}let o=e[Tr];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function xM(n,e){let t=m4(n,e);return t!==void 0&&Hu(t[De],t),t}function lu(n,e,t,r,i=!1){for(;t!==null;){let o=e[t.index];o!==null&&r.push(ui(o)),Pi(o)&&rB(o,r);let s=t.type;if(s&8)lu(n,e,t.child,r);else if(s&32){let a=k7(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=cM(e,t);if(Array.isArray(a))r.push(...a);else{let c=p4(e[Zn]);lu(c[De],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function rB(n,e){for(let t=In;t<n.length;t++){let r=n[t],i=r[De].firstChild;i!==null&&lu(r[De],r,i,e)}n[po]!==n[hr]&&e.push(n[po])}var AM=[];function iB(n){return n[wa]??oB(n)}function oB(n){let e=AM.pop()??Object.create(aB);return e.lView=n,e}function sB(n){n.lView[wa]!==n&&(n.lView=null,AM.push(n))}var aB=qe(q({},o0),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{f4(n.lView)},consumerOnSignalRead(){this.lView[wa]=this}}),zM=100;function RM(n,e=!0,t=0){let r=n[li],i=r.rendererFactory,o=!1;o||i.begin?.();try{cB(n,t)}catch(s){throw e&&DM(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function cB(n,e){I5(n,e);let t=0;for(;b7(n);){if(t===zM)throw new W(103,!1);t++,I5(n,1)}}function lB(n,e,t,r){let i=e[Ce];if((i&256)===256)return;let o=!1;!o&&e[li].inlineEffectRunner?.flush(),D7(e);let s=null,a=null;!o&&uB(n)&&(a=iB(e),s=sf(a));try{oC(e),UL(n.bindingStartIndex),t!==null&&vM(n,e,t,2,r);let c=(i&3)===3;if(!o)if(c){let d=n.preOrderCheckHooks;d!==null&&W0(e,d,null)}else{let d=n.preOrderHooks;d!==null&&G0(e,d,0,null),Nf(e,0)}if(hB(e),OM(e,0),n.contentQueries!==null&&CM(n,e),!o)if(c){let d=n.contentCheckHooks;d!==null&&W0(e,d)}else{let d=n.contentHooks;d!==null&&G0(e,d,1),Nf(e,1)}SH(n,e);let l=n.components;l!==null&&PM(e,l,0);let h=n.viewQuery;if(h!==null&&T5(2,h,r),!o)if(c){let d=n.viewCheckHooks;d!==null&&W0(e,d)}else{let d=n.viewHooks;d!==null&&G0(e,d,2),Nf(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[q0]){for(let d of e[q0])d();e[q0]=null}o||(e[Ce]&=-73)}catch(c){throw f4(e),c}finally{a!==null&&(af(a,s),sB(a)),S7()}}function uB(n){return n.type!==2}function OM(n,e){for(let t=RC(n);t!==null;t=OC(t))for(let r=In;r<t.length;r++){let i=t[r];NM(i,e)}}function hB(n){for(let e=RC(n);e!==null;e=OC(e)){if(!(e[Ce]&v7.HasTransplantedViews))continue;let t=e[r1];for(let r=0;r<t.length;r++){let i=t[r],o=i[yn];RL(i)}}}function dB(n,e,t){let r=cs(e,n);NM(r,t)}function NM(n,e){_7(n)&&I5(n,e)}function I5(n,e){let r=n[De],i=n[Ce],o=n[wa],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&s0(o)),o&&(o.dirty=!1),n[Ce]&=-9217,s)lB(r,n,r.template,n[Tn]);else if(i&8192){OM(n,1);let a=r.components;a!==null&&PM(n,a,1)}}function PM(n,e,t){for(let r=0;r<e.length;r++)dB(n,e[r],t)}function X7(n){for(n[li].changeDetectionScheduler?.notify();n;){n[Ce]|=64;let e=p4(n);if(ZE(n)&&!e)return n;n=e}return null}var Ca=class{get rootNodes(){let e=this._lView,t=e[De];return lu(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Tn]}set context(e){this._lView[Tn]=e}get destroyed(){return(this._lView[Ce]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[yn];if(Pi(e)){let t=e[tu],r=t?t.indexOf(this):-1;r>-1&&(m4(e,r),J0(t,r))}this._attachedToViewContainer=!1}Hu(this._lView[De],this._lView)}onDestroy(e){sC(this._lView,e)}markForCheck(){X7(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ce]&=-129}reattach(){i5(this._lView),this._lView[Ce]|=128}detectChanges(){this._lView[Ce]|=1024,RM(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new W(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,rM(this._lView[De],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new W(902,!1);this._appRef=e,i5(this._lView)}},Zt=(()=>{class n{static{this.__NG_ELEMENT_ID__=mB}}return n})(),fB=Zt,pB=class extends fB{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=qu(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Ca(i)}};function mB(){return Gu(Sn(),ge())}function Gu(n,e){return n.type&4?new pB(e,n,d1(n,e)):null}function VM(n){let e=n[d4]??[],r=n[yn][tt];for(let i of e)gB(i,r);n[d4]=Kn}function gB(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[au];for(;t<i;){let o=r.nextSibling;B7(e,r,!1),r=o,t++}}}function kM(n){VM(n);for(let e=In;e<n.length;e++)uu(n[e])}function vB(n){let e=n[Tr]?.i18nNodes;if(e){let t=n[tt];for(let r of e.values())B7(t,r,!1);n[Tr].i18nNodes=void 0}}function uu(n){vB(n);let e=n[De];for(let t=Ot;t<e.bindingStartIndex;t++)if(Pi(n[t])){let r=n[t];kM(r)}else lo(n[t])&&uu(n[t])}function yB(n){let e=n._views;for(let t of e){let r=OF(t);if(r!==null&&r[hr]!==null)if(lo(r))uu(r);else{let i=r[hr];uu(i),kM(r)}}}var wB=new RegExp(`^(\\d+)*(${kC}|${VC})*(.*)`);function _B(n){let e=n.match(wB),[t,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[c,l,h]of o.matchAll(/(f|n)(\d*)/g)){let d=parseInt(h,10)||1;a.push(l,d)}return[s,...a]}function bB(n){return!n.prev&&n.parent?.type===8}function Hf(n){return n.index-Ot}function EB(n,e){let t=n.i18nNodes;if(t){let r=t.get(e);return r&&t.delete(e),r}return null}function Yu(n,e,t,r){let i=Hf(r),o=EB(n,i);if(!o){let s=n.data[DF];if(s?.[i])o=MB(s[i],t);else if(e.firstChild===r)o=n.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(bB(r)){let l=Hf(r.parent);o=p5(n,l)}else{let l=xr(c,t);if(a)o=l.firstChild;else{let h=Hf(c),d=p5(n,h);if(c.type===2&&d){let g=N7(n,h)+1;o=Qu(g,d)}else o=l.nextSibling}}}}return o}function Qu(n,e){let t=e;for(let r=0;r<n;r++)t=t.nextSibling;return t}function CB(n,e){let t=n;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case f5.FirstChild:t=t.firstChild;break;case f5.NextSibling:t=t.nextSibling;break}}return t}function MB(n,e){let[t,...r]=_B(n),i;if(t===VC)i=e[Zn][hr];else if(t===kC)i=lH(e[Zn][hr]);else{let o=Number(t);i=ui(e[o+Ot])}return CB(i,r)}function TB(n,e){let t=[];for(let r of e)for(let i=0;i<(r[LC]??1);i++){let o={data:r,firstChild:null};r[au]>0&&(o.firstChild=n,n=Qu(r[au],n)),t.push(o)}return[n,t]}var LM=()=>null;function IB(n,e){let t=n[d4];return!e||t===null||t.length===0?null:t[0].data[IF]===e?t.shift():(VM(n),null)}function DB(){LM=IB}function v4(n,e){return LM(n,e)}var o1=class{},D5=class{},hu=class{};function SB(n){let e=Error(`No component factory found for ${Xn(n)}.`);return e[xB]=n,e}var xB="ngComponent";var S5=class{resolveComponentFactory(e){throw SB(e)}},us=(()=>{class n{static{this.NULL=new S5}}return n})(),Ir=class{},Jn=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>AB()}}return n})();function AB(){let n=ge(),e=Sn(),t=cs(e.index,n);return(lo(t)?t:n)[tt]}var zB=(()=>{class n{static{this.\u0275prov=B({token:n,providedIn:"root",factory:()=>null})}}return n})(),Bf={};var iE=new Set;function $r(n){iE.has(n)||(iE.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function oE(...n){}function RB(){let n=typeof Xt.requestAnimationFrame=="function",e=Xt[n?"requestAnimationFrame":"setTimeout"],t=Xt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}var he=class n{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ke(!1),this.onMicrotaskEmpty=new Ke(!1),this.onStable=new Ke(!1),this.onError=new Ke(!1),typeof Zone>"u")throw new W(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=RB().nativeRequestAnimationFrame,PB(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new W(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new W(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,OB,oE,oE);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},OB={};function Z7(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function NB(n){n.isCheckStableRunning||n.lastRequestAnimationFrameId!==-1||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Xt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,x5(n),n.isCheckStableRunning=!0,Z7(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),x5(n))}function PB(n){let e=()=>{NB(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{if(VB(a))return t.invokeTask(i,o,s,a);try{return sE(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),aE(n)}},onInvoke:(t,r,i,o,s,a,c)=>{try{return sE(n),t.invoke(i,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),aE(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,x5(n),Z7(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function x5(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.lastRequestAnimationFrameId!==-1?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function sE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function aE(n){n._nesting--,Z7(n)}var A5=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ke,this.onMicrotaskEmpty=new Ke,this.onStable=new Ke,this.onError=new Ke}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function VB(n){return!Array.isArray(n)||n.length!==1?!1:n[0].data?.__ignore_ng_zone__===!0}function kB(n="zone.js",e){return n==="noop"?new A5:n==="zone.js"?new he(e):n}var ma=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(ma||{}),FM={destroy(){}};function J7(n,e){!e&&m7(J7);let t=e?.injector??V(Ft);if(!Xc(t))return FM;$r("NgAfterRender");let r=t.get(Ku),i=r.handler??=new fu,o=e?.phase??ma.MixedReadWrite,s=()=>{i.unregister(c),a()},a=t.get(I4).onDestroy(s),c=Ur(t,()=>new du(o,n));return i.register(c),{destroy:s}}function hs(n,e){!e&&m7(hs);let t=e?.injector??V(Ft);if(!Xc(t))return FM;$r("NgAfterNextRender");let r=t.get(Ku),i=r.handler??=new fu,o=e?.phase??ma.MixedReadWrite,s=()=>{i.unregister(c),a()},a=t.get(I4).onDestroy(s),c=Ur(t,()=>new du(o,()=>{s(),n()}));return i.register(c),{destroy:s}}var du=class{constructor(e,t){this.phase=e,this.callbackFn=t,this.zone=V(he),this.errorHandler=V(hi,{optional:!0}),V(o1,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},fu=class{constructor(){this.executingCallbacks=!1,this.buckets={[ma.EarlyRead]:new Set,[ma.Write]:new Set,[ma.MixedReadWrite]:new Set,[ma.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let t of e)t.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Ku=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of t)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}}return n})();function pu(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Qf(i,a);else if(o==2){let c=a,l=e[++s];r=Qf(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var mu=class extends us{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=ho(e);return new Ma(t,this.ngModule)}};function cE(n){let e=[];for(let t in n){if(!n.hasOwnProperty(t))continue;let r=n[t];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:t})}return e}function LB(n){let e=n.toLowerCase();return e==="svg"?rC:e==="math"?IL:null}var z5=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Du(r);let i=this.injector.get(e,Bf,r);return i!==Bf||t===Bf?i:this.parentInjector.get(e,t,r)}},Ma=class extends hu{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=cE(e.inputs);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return cE(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=oL(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=Be(null);try{i=i||this.ngModule;let s=i instanceof vn?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new z5(e,s):e,c=a.get(Ir,null);if(c===null)throw new W(407,!1);let l=a.get(zB,null),h=a.get(Ku,null),d=a.get(o1,null),m={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:d},g=c.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",_=r?zH(g,r,this.componentDef.encapsulation,a):Fu(g,y,LB(y)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let z=null;_!==null&&(z=O7(_,a,!0));let F=W7(0,null,null,1,0,null,null,null,null,null,null),P=Uu(null,F,null,M,null,null,m,g,a,null,z);D7(P);let Q,ne;try{let K=this.componentDef,C,w=null;K.findHostDirectiveDefs?(C=[],w=new Map,K.findHostDirectiveDefs(K,C,w),C.push(K)):C=[K];let b=FB(P,_),T=HB(b,_,K,C,P,m,g);ne=w7(F,Ot),_&&UB(g,K,_,r),t!==void 0&&$B(ne,this.ngContentSelectors,t),Q=jB(T,K,C,w,P,[qB]),K7(F,P,null)}finally{S7()}return new R5(this.componentType,Q,d1(ne,P),P,ne)}finally{Be(o)}}},R5=class extends D5{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Ca(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;Y7(o[De],o,i,e,t),this.previousInputValues.set(e,t);let s=cs(this._tNode.index,o);X7(s)}}get injector(){return new ga(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function FB(n,e){let t=n[De],r=Ot;return n[r]=e,f1(t,r,2,"#host",null)}function HB(n,e,t,r,i,o,s){let a=i[De];BB(r,n,e,s);let c=null;e!==null&&(c=O7(e,i[n1]));let l=o.rendererFactory.createRenderer(e,t),h=16;t.signals?h=4096:t.onPush&&(h=64);let d=Uu(i,yM(t),null,h,i[n.index],n,o,l,null,null,c);return a.firstCreatePass&&M5(a,n,r.length-1),$u(i,d),i[n.index]=d}function BB(n,e,t,r){for(let i of n)e.mergedAttrs=c4(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(pu(e,e.mergedAttrs,!0),t!==null&&dM(r,t,e))}function jB(n,e,t,r,i,o){let s=Sn(),a=i[De],c=xr(s,i);_M(a,i,s,t,null,r);for(let h=0;h<t.length;h++){let d=s.directiveStart+h,m=Ea(i,a,d,s);os(m,i)}bM(a,i,s),c&&os(c,i);let l=Ea(i,a,s.directiveStart+s.componentOffset,s);if(n[Tn]=i[Tn]=l,o!==null)for(let h of o)h(l,e);return U7(a,s,i),l}function UB(n,e,t,r){if(r)Jf(n,t,["ng-version","17.3.12"]);else{let{attrs:i,classes:o}=sL(e.selectors[0]);i&&Jf(n,t,i),o&&o.length>0&&hM(n,t,o.join(" "))}}function $B(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function qB(){let n=Sn();Nu(ge()[De],n)}var An=(()=>{class n{static{this.__NG_ELEMENT_ID__=WB}}return n})();function WB(){let n=Sn();return BM(n,ge())}var GB=An,HM=class extends GB{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return d1(this._hostTNode,this._hostLView)}get injector(){return new ga(this._hostTNode,this._hostLView)}get parentInjector(){let e=x7(this._hostTNode,this._hostLView);if(yC(e)){let t=ru(e,this._hostLView),r=nu(e),i=t[De].data[r+8];return new ga(i,t)}else return new ga(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=lE(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-In}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=v4(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,g4(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!EL(e),a;if(s)a=t;else{let y=t||{};a=y.index,r=y.injector,i=y.projectableNodes,o=y.environmentInjector||y.ngModuleRef}let c=s?e:new Ma(ho(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let _=(s?l:this.parentInjector).get(vn,null);_&&(o=_)}let h=ho(c.componentType??{}),d=v4(this._lContainer,h?.id??null),m=d?.firstChild??null,g=c.create(l,i,m,o);return this.insertImpl(g.hostView,a,g4(this._hostTNode,d)),g}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(zL(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[yn],l=new HM(c,c[Sr],c[yn]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Wu(s,i,o,r),e.attachToViewContainerRef(),NE(jf(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=lE(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=m4(this._lContainer,t);r&&(J0(jf(this._lContainer),t),Hu(r[De],r))}detach(e){let t=this._adjustIndex(e,-1),r=m4(this._lContainer,t);return r&&J0(jf(this._lContainer),t)!=null?new Ca(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function lE(n){return n[tu]}function jf(n){return n[tu]||(n[tu]=[])}function BM(n,e){let t,r=e[n.index];return Pi(r)?t=r:(t=EM(r,e,null,n),e[n.index]=t,$u(e,t)),jM(t,e,n,r),new HM(t,n,e)}function YB(n,e){let t=n[tt],r=t.createComment(""),i=xr(e,n),o=H7(t,i);return cu(t,o,r,bH(t,i),!1),r}var jM=UM,ep=()=>!1;function QB(n,e,t){return ep(n,e,t)}function UM(n,e,t,r){if(n[po])return;let i;t.type&8?i=ui(r):i=YB(e,t),n[po]=i}function KB(n,e,t){if(n[po]&&n[d4])return!0;let r=t[Tr],i=e.index-Ot;if(!r||gF(e)||Vu(r,i))return!1;let s=p5(r,i),a=r.data[R7]?.[i],[c,l]=TB(s,a);return n[po]=c,n[d4]=l,!0}function XB(n,e,t,r){ep(n,t,e)||UM(n,e,t,r)}function ZB(){jM=XB,ep=KB}var O5=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},N5=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)tp(e,t).matches!==null&&this.queries[t].setDirty()}},gu=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=sj(e):this.predicate=e}},P5=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},V5=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,JB(t,o)),this.matchTNodeWithReadOption(e,t,Y0(t,e,o,!1,!1))}else r===Zt?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Y0(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===ke||i===An||i===Zt&&t.type&4)this.addMatch(t.index,-2);else{let o=Y0(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function JB(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function ej(n,e){return n.type&11?d1(n,e):n.type&4?Gu(n,e):null}function tj(n,e,t,r){return t===-1?ej(e,n):t===-2?nj(n,e,r):Ea(n,n[De],t,e)}function nj(n,e,t){if(t===ke)return d1(e,n);if(t===Zt)return Gu(e,n);if(t===An)return BM(e,n)}function $M(n,e,t,r){let i=e[fo].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let h=o[l];a.push(tj(e,h,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function k5(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=$M(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-c];for(let d=In;d<h.length;d++){let m=h[d];m[E4]===m[yn]&&k5(m[De],m,l,r)}if(h[r1]!==null){let d=h[r1];for(let m=0;m<d.length;m++){let g=d[m];k5(g[De],g,l,r)}}}}}return r}function rj(n,e){return n[fo].queries[e].queryList}function qM(n,e,t){let r=new h5((t&4)===4);return PH(n,e,r,r.destroy),(e[fo]??=new N5).queries.push(new O5(r))-1}function ij(n,e,t){let r=Tt();return r.firstCreatePass&&(WM(r,new gu(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),qM(r,ge(),e)}function oj(n,e,t,r){let i=Tt();if(i.firstCreatePass){let o=Sn();WM(i,new gu(e,t,r),o.index),aj(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return qM(i,ge(),t)}function sj(n){return n.split(",").map(e=>e.trim())}function WM(n,e,t){n.queries===null&&(n.queries=new P5),n.queries.track(new V5(e,t))}function aj(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function tp(n,e){return n.queries.getByIndex(e)}function cj(n,e){let t=n[De],r=tp(t,e);return r.crossesNgTemplate?k5(t,n,e,[]):$M(t,n,r,e)}function lj(n){return typeof n=="function"&&n[Zo]!==void 0}function r4e(n,e){$r("NgSignals");let t=rb(n),r=t[Zo];return e?.equal&&(r.equal=e.equal),t.set=i=>lf(r,i),t.update=i=>ib(r,i),t.asReadonly=uj.bind(t),t}function uj(){let n=this[Zo];if(n.readonlyFn===void 0){let e=()=>this();e[Zo]=n,n.readonlyFn=e}return n.readonlyFn}function GM(n){return lj(n)&&typeof n.set=="function"}function hj(n){let e=[],t=new Map;function r(i){let o=t.get(i);if(!o){let s=n(i);t.set(i,o=s.then(mj))}return o}return vu.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(l=>{i.template=l}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let l=i.styles.length,h=i.styleUrls;i.styleUrls.forEach((d,m)=>{a.push(""),s.push(r(d).then(g=>{a[l+m]=g,h.splice(h.indexOf(d),1),h.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(l=>{a.push(l),i.styleUrl=void 0}));let c=Promise.all(s).then(()=>gj(o));e.push(c)}),fj(),Promise.all(e).then(()=>{})}var vu=new Map,dj=new Set;function fj(){let n=vu;return vu=new Map,n}function pj(){return vu.size===0}function mj(n){return typeof n=="string"?n:n.text()}function gj(n){dj.delete(n)}function vj(n){return Object.getPrototypeOf(n.prototype).constructor}function fr(n){let e=vj(n.type),t=!0,r=[n];for(;e;){let i;if(mo(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new W(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=H0(n.inputs),s.inputTransforms=H0(n.inputTransforms),s.declaredInputs=H0(n.declaredInputs),s.outputs=H0(n.outputs);let a=i.hostBindings;a&&Ej(n,a);let c=i.viewQuery,l=i.contentQueries;if(c&&_j(n,c),l&&bj(n,l),yj(n,i),Mk(n.outputs,i.outputs),mo(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===fr&&(t=!1)}}e=Object.getPrototypeOf(e)}wj(r)}function yj(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function wj(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=c4(i.hostAttrs,t=c4(t,i.hostAttrs))}}function H0(n){return n===uo?{}:n===Kn?[]:n}function _j(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function bj(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function Ej(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function i4e(n){let e=t=>{let r=(Array.isArray(n)?n:n()).map(i=>typeof i=="function"?{directive:Mn(i),inputs:uo,outputs:uo}:{directive:Mn(i.directive),inputs:uE(i.inputs),outputs:uE(i.outputs)});t.hostDirectives===null?(t.findHostDirectiveDefs=YM,t.hostDirectives=r):t.hostDirectives.unshift(...r)};return e.ngInherit=!0,e}function YM(n,e,t){if(n.hostDirectives!==null)for(let r of n.hostDirectives){let i=f7(r.directive);Cj(i.declaredInputs,r.inputs),YM(i,e,t),t.set(i,r),e.push(i)}}function uE(n){if(n===void 0||n.length===0)return uo;let e={};for(let t=0;t<n.length;t+=2)e[n[t]]=n[t+1];return e}function Cj(n,e){for(let t in e)if(e.hasOwnProperty(t)){let r=e[t],i=n[t];n[r]=i}}function er(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}var ss=class{},y4=class{};var yu=class extends ss{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new mu(this);let i=UE(e);this._bootstrapComponents=nM(i.bootstrap),this._r3Injector=DC(e,t,[{provide:ss,useValue:this},{provide:us,useValue:this.componentFactoryResolver},...r],Xn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},wu=class extends y4{constructor(e){super(),this.moduleType=e}create(e){return new yu(this.moduleType,e,[])}};function Mj(n,e,t){return new yu(n,e,t)}var L5=class extends ss{constructor(e){super(),this.componentFactoryResolver=new mu(this),this.instance=null;let t=new l4([...e.providers,{provide:ss,useValue:this},{provide:us,useValue:this.componentFactoryResolver}],e.parent||Au(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Xu(n,e,t=null){return new L5({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var ds=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new En(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function QM(n){return np(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function Tj(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function np(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function m1(n,e,t){return n[e]=t}function KM(n,e){return n[e]}function dr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function s1(n,e,t,r){let i=dr(n,e,t);return dr(n,e+1,r)||i}function XM(n,e,t,r,i){let o=s1(n,e,t,r);return dr(n,e+2,i)||o}function rp(n,e,t,r,i,o){let s=s1(n,e,t,r);return s1(n,e+2,i,o)||s}function z4(n){return(n.flags&32)===32}function Ij(n,e,t,r,i,o,s,a,c){let l=e.consts,h=f1(e,n,4,s||null,i1(l,a));G7(e,t,h,i1(l,c)),Nu(e,h);let d=h.tView=W7(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),d.queries=e.queries.embeddedTView(h)),h}function Dn(n,e,t,r,i,o,s,a){let c=ge(),l=Tt(),h=n+Ot,d=l.firstCreatePass?Ij(h,l,c,e,t,r,i,o,s):l.data[h];Sa(d,!1);let m=ZM(l,c,d,n);Ou()&&Bu(l,c,m,d),os(m,c);let g=EM(m,c,m,d);return c[h]=g,$u(c,g),QB(g,d,c),Ru(d)&&$7(l,c,d),s!=null&&q7(c,d,a),Dn}var ZM=JM;function JM(n,e,t,r){return ki(!0),e[tt].createComment("")}function Dj(n,e,t,r){let i=e[Tr],o=!i||u1()||z4(t)||Vu(i,r);if(ki(o),o)return JM(n,e,t,r);let s=i.data[TF]?.[r]??null;s!==null&&t.tView!==null&&t.tView.ssrId===null&&(t.tView.ssrId=s);let a=Yu(i,n,e,t);Pu(i,r,a);let c=N7(i,r);return Qu(c,a)}function Sj(){ZM=Dj}function g1(n,e,t,r){let i=ge(),o=ls();if(dr(i,o,e)){let s=Tt(),a=xa();KH(a,i,n,e,t,r)}return g1}function ip(n,e,t,r){return dr(n,ls(),t)?e+ur(t)+r:xn}function op(n,e,t,r,i,o){let s=M7(),a=s1(n,s,t,i);return T4(2),a?e+ur(t)+r+ur(i)+o:xn}function xj(n,e,t,r,i,o,s,a){let c=M7(),l=XM(n,c,t,i,s);return T4(3),l?e+ur(t)+r+ur(i)+o+ur(s)+a:xn}function Aj(n,e,t,r,i,o,s,a,c,l){let h=M7(),d=rp(n,h,t,i,s,c);return T4(4),d?e+ur(t)+r+ur(i)+o+ur(s)+a+ur(c)+l:xn}function B0(n,e){return n<<17|e<<2}function Ta(n){return n>>17&32767}function zj(n){return(n&2)==2}function Rj(n,e){return n&131071|e<<17}function F5(n){return n|2}function a1(n){return(n&131068)>>2}function Uf(n,e){return n&-131069|e<<2}function Oj(n){return(n&1)===1}function H5(n){return n|1}function Nj(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ta(s),c=a1(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let d=t;h=d[1],(h===null||b4(d,h)>0)&&(l=!0)}else h=t;if(i)if(c!==0){let m=Ta(n[a+1]);n[r+1]=B0(m,a),m!==0&&(n[m+1]=Uf(n[m+1],r)),n[a+1]=Rj(n[a+1],r)}else n[r+1]=B0(a,0),a!==0&&(n[a+1]=Uf(n[a+1],r)),a=r;else n[r+1]=B0(c,0),a===0?a=r:n[c+1]=Uf(n[c+1],r),c=r;l&&(n[r+1]=F5(n[r+1])),hE(n,h,r,!0),hE(n,h,r,!1),Pj(e,h,n,r,o),s=B0(a,c),o?e.classBindings=s:e.styleBindings=s}function Pj(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&b4(o,e)>=0&&(t[r+1]=H5(t[r+1]))}function hE(n,e,t,r){let i=n[t+1],o=e===null,s=r?Ta(i):a1(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];Vj(c,e)&&(a=!0,n[s+1]=r?H5(l):F5(l)),s=r?Ta(l):a1(l)}a&&(n[t+1]=r?F5(i):H5(i))}function Vj(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?b4(n,e)>=0:!1}var dn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function eT(n){return n.substring(dn.key,dn.keyEnd)}function kj(n){return n.substring(dn.value,dn.valueEnd)}function Lj(n){return rT(n),tT(n,c1(n,0,dn.textEnd))}function tT(n,e){let t=dn.textEnd;return t===e?-1:(e=dn.keyEnd=Hj(n,dn.key=e,t),c1(n,e,t))}function Fj(n){return rT(n),nT(n,c1(n,0,dn.textEnd))}function nT(n,e){let t=dn.textEnd,r=dn.key=c1(n,e,t);return t===r?-1:(r=dn.keyEnd=Bj(n,r,t),r=dE(n,r,t,58),r=dn.value=c1(n,r,t),r=dn.valueEnd=jj(n,r,t),dE(n,r,t,59))}function rT(n){dn.key=0,dn.keyEnd=0,dn.value=0,dn.valueEnd=0,dn.textEnd=n.length}function c1(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Hj(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function Bj(n,e,t){let r;for(;e<t&&((r=n.charCodeAt(e))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)e++;return e}function dE(n,e,t,r){return e=c1(n,e,t),e<t&&e++,e}function jj(n,e,t){let r=-1,i=-1,o=-1,s=e,a=s;for(;s<t;){let c=n.charCodeAt(s++);if(c===59)return a;c===34||c===39?a=s=fE(n,c,s,t):e===s-4&&o===85&&i===82&&r===76&&c===40?a=s=fE(n,41,s,t):c>32&&(a=s),o=i,i=r,r=c&-33}return a}function fE(n,e,t,r){let i=-1,o=t;for(;o<r;){let s=n.charCodeAt(o++);if(s==e&&i!==92)return o;s==92&&i===92?i=0:i=s}throw new Error}function Ht(n,e,t){let r=ge(),i=ls();if(dr(r,i,e)){let o=Tt(),s=xa();p1(o,s,r,n,e,r[tt],t,!1)}return Ht}function B5(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";Y7(n,t,o[s],s,r)}function Rr(n,e,t){return iT(n,e,t,!1),Rr}function on(n,e){return iT(n,e,null,!0),on}function o4e(n){R4(aT,Uj,n,!1)}function Uj(n,e){for(let t=Fj(e);t>=0;t=nT(e,t))aT(n,eT(e),kj(e))}function s4e(n){R4(Qj,Zu,n,!0)}function Zu(n,e){for(let t=Lj(e);t>=0;t=tT(e,t))Ia(n,eT(e),!0)}function iT(n,e,t,r){let i=ge(),o=Tt(),s=T4(2);if(o.firstUpdatePass&&sT(o,n,s,r),e!==xn&&dr(i,s,e)){let a=o.data[Vi()];cT(o,a,i,i[tt],n,i[s+1]=Xj(e,t),r,s)}}function R4(n,e,t,r){let i=Tt(),o=T4(2);i.firstUpdatePass&&sT(i,null,o,r);let s=ge();if(t!==xn&&dr(s,o,t)){let a=i.data[Vi()];if(lT(a,r)&&!oT(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=Qf(c,t||"")),B5(i,a,s,t,r)}else Kj(i,a,s,s[tt],s[o+1],s[o+1]=Yj(n,e,t),r,o)}}function oT(n,e){return e>=n.expandoStartIndex}function sT(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Vi()],s=oT(n,t);lT(o,r)&&e===null&&!s&&(e=!1),e=$j(i,o,e,r),Nj(i,o,e,t,s,r)}}function $j(n,e,t,r){let i=T7(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=$f(null,n,e,t,r),t=w4(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=$f(i,n,e,t,r),o===null){let c=qj(n,e,r);c!==void 0&&Array.isArray(c)&&(c=$f(null,n,e,c[1],r),c=w4(c,e.attrs,r),Wj(n,e,r,c))}else o=Gj(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function qj(n,e,t){let r=t?e.classBindings:e.styleBindings;if(a1(r)!==0)return n[Ta(r)]}function Wj(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Ta(i)]=r}function Gj(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=w4(r,s,t)}return w4(r,e.attrs,t)}function $f(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=w4(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function w4(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Ia(n,s,t?!0:e[++o]))}return n===void 0?null:n}function Yj(n,e,t){if(t==null||t==="")return Kn;let r=[],i=Ar(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function aT(n,e,t){Ia(n,e,Ar(t))}function Qj(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&Ia(n,r,t)}function Kj(n,e,t,r,i,o,s,a){i===xn&&(i=Kn);let c=0,l=0,h=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;h!==null||d!==null;){let m=c<i.length?i[c+1]:void 0,g=l<o.length?o[l+1]:void 0,y=null,_;h===d?(c+=2,l+=2,m!==g&&(y=d,_=g)):d===null||h!==null&&h<d?(c+=2,y=h):(l+=2,y=d,_=g),y!==null&&cT(n,e,t,r,y,_,s,a),h=c<i.length?i[c]:null,d=l<o.length?o[l]:null}}function cT(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],h=Oj(l)?pE(c,e,t,i,a1(l),s):void 0;if(!_u(h)){_u(o)||zj(l)&&(o=pE(c,null,t,i,a,s));let d=iC(Vi(),t);IH(r,s,d,i,o)}}function pE(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],l=Array.isArray(c),h=l?c[1]:c,d=h===null,m=t[i+1];m===xn&&(m=d?Kn:void 0);let g=d?Rf(m,r):h===r?m:void 0;if(l&&!_u(g)&&(g=Rf(c,r)),_u(g)&&(a=g,s))return a;let y=n[i+1];i=s?Ta(y):a1(y)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Rf(c,r))}return a}function _u(n){return n!==void 0}function Xj(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Xn(Ar(n)))),n}function lT(n,e){return(n.flags&(e?8:16))!==0}function a4e(n,e,t){let r=ge(),i=ip(r,n,e,t);R4(Ia,Zu,i,!0)}function c4e(n,e,t,r,i){let o=ge(),s=op(o,n,e,t,r,i);R4(Ia,Zu,s,!0)}function l4e(n,e,t,r,i,o,s,a,c){let l=ge(),h=Aj(l,n,e,t,r,i,o,s,a,c);R4(Ia,Zu,h,!0)}function u4e(){return ge()[Zn][Tn]}var j5=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function qf(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function Zj(n,e,t){let r,i,o=0,s=n.length-1;if(Array.isArray(e)){let a=e.length-1;for(;o<=s&&o<=a;){let c=n.at(o),l=e[o],h=qf(o,c,o,l,t);if(h!==0){h<0&&n.updateValue(o,l),o++;continue}let d=n.at(s),m=e[a],g=qf(s,d,a,m,t);if(g!==0){g<0&&n.updateValue(s,m),s--,a--;continue}let y=t(o,c),_=t(s,d),M=t(o,l);if(Object.is(M,_)){let z=t(a,m);Object.is(z,y)?(n.swap(o,s),n.updateValue(s,m),a--,s--):n.move(s,o),n.updateValue(o,l),o++;continue}if(r??=new bu,i??=gE(n,o,s,t),U5(n,r,o,M))n.updateValue(o,l),o++,s++;else if(i.has(M))r.set(y,n.detach(o)),s--;else{let z=n.create(o,e[o]);n.attach(o,z),o++,s++}}for(;o<=a;)mE(n,r,t,o,e[o]),o++}else if(e!=null){let a=e[Symbol.iterator](),c=a.next();for(;!c.done&&o<=s;){let l=n.at(o),h=c.value,d=qf(o,l,o,h,t);if(d!==0)d<0&&n.updateValue(o,h),o++,c=a.next();else{r??=new bu,i??=gE(n,o,s,t);let m=t(o,h);if(U5(n,r,o,m))n.updateValue(o,h),o++,s++,c=a.next();else if(!i.has(m))n.attach(o,n.create(o,h)),o++,s++,c=a.next();else{let g=t(o,l);r.set(g,n.detach(o)),s--}}}for(;!c.done;)mE(n,r,t,n.length,c.value),c=a.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(a=>{n.destroy(a)})}function U5(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function mE(n,e,t,r,i){if(U5(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function gE(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var bu=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function Mo(n,e,t){$r("NgControlFlow");let r=ge(),i=ls(),o=G5(r,Ot+n),s=0;if(dr(r,i,e)){let a=Be(null);try{if(xM(o,s),e!==-1){let c=Y5(r[De],Ot+e),l=v4(o,c.tView.ssrId),h=qu(r,c,t,{dehydratedView:l});Wu(o,h,s,g4(c,l))}}finally{Be(a)}}else{let a=SM(o,s);a!==void 0&&(a[Tn]=t)}}var $5=class{constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-In}};function h4e(n){return n}function To(n,e){return e}var q5=class{constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function Io(n,e,t,r,i,o,s,a,c,l,h,d,m){$r("NgControlFlow");let g=c!==void 0,y=ge(),_=a?s.bind(y[Zn][Tn]):s,M=new q5(g,_);y[Ot+n]=M,Dn(n+1,e,t,r,i,o),g&&Dn(n+2,c,l,h,d,m)}var W5=class extends j5{constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-In}at(e){return this.getLView(e)[Tn].$implicit}attach(e,t){let r=t[Tr];this.needsIndexUpdate||=e!==this.length,Wu(this.lContainer,t,e,g4(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,Jj(this.lContainer,e)}create(e,t){let r=v4(this.lContainer,this.templateTNode.tView.ssrId);return qu(this.hostLView,this.templateTNode,new $5(this.lContainer,t,e),{dehydratedView:r})}destroy(e){Hu(e[De],e)}updateValue(e,t){this.getLView(e)[Tn].$implicit=t}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Tn].$index=e}getLView(e){return eU(this.lContainer,e)}};function Do(n){let e=Be(null),t=Vi();try{let r=ge(),i=r[De],o=r[t];if(o.liveCollection===void 0){let a=t+1,c=G5(r,a),l=Y5(i,a);o.liveCollection=new W5(c,r,l)}else o.liveCollection.reset();let s=o.liveCollection;if(Zj(s,n,o.trackByFn),s.updateIndexes(),o.hasEmptyBlock){let a=ls(),c=s.length===0;if(dr(r,a,c)){let l=t+2,h=G5(r,l);if(c){let d=Y5(i,l),m=v4(h,d.tView.ssrId),g=qu(r,d,void 0,{dehydratedView:m});Wu(h,g,0,g4(d,m))}else xM(h,0)}}}finally{Be(e)}}function G5(n,e){return n[e]}function Jj(n,e){return m4(n,e)}function eU(n,e){return SM(n,e)}function Y5(n,e){return w7(n,e)}function tU(n,e,t,r,i,o){let s=e.consts,a=i1(s,i),c=f1(e,n,2,r,a);return G7(e,t,c,i1(s,o)),c.attrs!==null&&pu(c,c.attrs,!1),c.mergedAttrs!==null&&pu(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function ut(n,e,t,r){let i=ge(),o=Tt(),s=Ot+n,a=i[tt],c=o.firstCreatePass?tU(s,o,i,e,t,r):o.data[s],l=uT(o,i,c,a,e,n);i[s]=l;let h=Ru(c);return Sa(c,!0),dM(a,l,c),!z4(c)&&Ou()&&Bu(o,i,l,c),PL()===0&&os(l,i),VL(),h&&($7(o,i,c),U7(o,c,i)),r!==null&&q7(i,c),ut}function It(){let n=Sn();E7()?C7():(n=n.parent,Sa(n,!1));let e=n;LL(e)&&HL(),kL();let t=Tt();return t.firstCreatePass&&(Nu(t,n),y7(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&ZL(e)&&B5(t,e,ge(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&JL(e)&&B5(t,e,ge(),e.stylesWithoutHost,!1),It}function Bt(n,e,t,r){return ut(n,e,t,r),It(),Bt}var uT=(n,e,t,r,i,o)=>(ki(!0),Fu(r,i,mC()));function nU(n,e,t,r,i,o){let s=e[Tr],a=!s||u1()||z4(t)||Vu(s,o);if(ki(a),a)return Fu(r,i,mC());let c=Yu(s,n,e,t);return BC(s,o)&&Pu(s,o,c.nextSibling),s&&(xC(t)||AC(c))&&C4(t)&&(FL(t),lM(c)),c}function rU(){uT=nU}function iU(n,e,t,r,i){let o=e.consts,s=i1(o,r),a=f1(e,n,8,"ng-container",s);s!==null&&pu(a,s,!0);let c=i1(o,i);return G7(e,t,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function fs(n,e,t){let r=ge(),i=Tt(),o=n+Ot,s=i.firstCreatePass?iU(o,i,r,e,t):i.data[o];Sa(s,!0);let a=hT(i,r,s,n);return r[o]=a,Ou()&&Bu(i,r,a,s),os(a,r),Ru(s)&&($7(i,r,s),U7(i,s,r)),t!=null&&q7(r,s),fs}function ps(){let n=Sn(),e=Tt();return E7()?C7():(n=n.parent,Sa(n,!1)),e.firstCreatePass&&(Nu(e,n),y7(n)&&e.queries.elementEnd(n)),ps}function oU(n,e,t){return fs(n,e,t),ps(),oU}var hT=(n,e,t,r)=>(ki(!0),F7(e[tt],""));function sU(n,e,t,r){let i,o=e[Tr],s=!o||u1()||z4(t);if(ki(s),s)return F7(e[tt],"");let a=Yu(o,n,e,t),c=VF(o,r);return Pu(o,r,a),i=Qu(c,a),i}function aU(){hT=sU}function So(){return ge()}function cU(n,e,t){let r=ge(),i=ls();if(dr(r,i,e)){let o=Tt(),s=xa();p1(o,s,r,n,e,r[tt],t,!0)}return cU}function lU(n,e,t){let r=ge(),i=ls();if(dr(r,i,e)){let o=Tt(),s=xa(),a=T7(o.data),c=IM(a,s,r);p1(o,s,r,n,e,c,t,!0)}return lU}var pa=void 0;function uU(n){let e=n,t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&r===0?1:5}var hU=["en",[["a","p"],["AM","PM"],pa],[["AM","PM"],pa,pa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],pa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],pa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",pa,"{1} 'at' {0}",pa],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",uU],Wf={};function pr(n){let e=dU(n),t=vE(e);if(t)return t;let r=e.split("-")[0];if(t=vE(r),t)return t;if(r==="en")return hU;throw new W(701,!1)}function vE(n){return n in Wf||(Wf[n]=Xt.ng&&Xt.ng.common&&Xt.ng.common.locales&&Xt.ng.common.locales[n]),Wf[n]}var jt=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(jt||{});function dU(n){return n.toLowerCase().replace(/_/g,"-")}var Eu="en-US",fU="USD";var pU=Eu;function mU(n){typeof n=="string"&&(pU=n.toLowerCase().replace(/_/g,"-"))}function dT(n,e,t){let r=n[tt];switch(t){case Node.COMMENT_NODE:return F7(r,e);case Node.TEXT_NODE:return L7(r,e);case Node.ELEMENT_NODE:return Fu(r,e,null)}}var gU=(n,e,t,r)=>(ki(!0),dT(n,t,r));function vU(n,e,t,r){return ki(!0),dT(n,t,r)}function yU(){gU=vU}function tr(n,e,t,r){let i=ge(),o=Tt(),s=Sn();return sp(o,i,i[tt],s,n,e,r),tr}function wU(n,e){let t=Sn(),r=ge(),i=Tt(),o=T7(i.data),s=IM(o,t,r);return sp(i,r,s,t,n,e),wU}function _U(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[u4],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function sp(n,e,t,r,i,o,s){let a=Ru(r),l=n.firstCreatePass&&TM(n),h=e[Tn],d=MM(e),m=!0;if(r.type&3||s){let _=xr(r,e),M=s?s(_):_,z=d.length,F=s?Q=>s(ui(Q[r.index])):r.index,P=null;if(!s&&a&&(P=_U(n,e,i,r.index)),P!==null){let Q=P.__ngLastListenerFn__||P;Q.__ngNextListenerFn__=o,P.__ngLastListenerFn__=o,m=!1}else{o=wE(r,e,h,o,!1);let Q=t.listen(M,i,o);d.push(o,Q),l&&l.push(i,F,z,z+1)}}else o=wE(r,e,h,o,!1);let g=r.outputs,y;if(m&&g!==null&&(y=g[i])){let _=y.length;if(_)for(let M=0;M<_;M+=2){let z=y[M],F=y[M+1],ne=e[z][F].subscribe(o),K=d.length;d.push(o,ne),l&&l.push(i,r.index,K,-(K+1))}}}function yE(n,e,t,r){let i=Be(null);try{return zi(6,e,t),t(r)!==!1}catch(o){return DM(n,o),!1}finally{zi(7,e,t),Be(i)}}function wE(n,e,t,r,i){return function o(s){if(s===Function)return r;let a=n.componentOffset>-1?cs(n.index,e):e;X7(a);let c=yE(e,t,r,s),l=o.__ngNextListenerFn__;for(;l;)c=yE(e,t,l,s)&&c,l=l.__ngNextListenerFn__;return i&&c===!1&&s.preventDefault(),c}}function Fn(n=1){return YL(n)}function bU(n,e){let t=null,r=eL(n);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){t=i;continue}if(r===null?HE(n,o,!0):rL(r,o))return i}return t}function O4(n){let e=ge()[Zn][Sr];if(!e.projection){let t=n?n.length:1,r=e.projection=qk(t,null),i=r.slice(),o=e.child;for(;o!==null;){let s=n?bU(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}function N4(n,e=0,t){let r=ge(),i=Tt(),o=f1(i,Ot+n,16,null,t||null);o.projection===null&&(o.projection=e),C7(),(!r[Tr]||u1())&&(o.flags&32)!==32&&MH(i,r,o)}function EU(n,e,t){return fT(n,"",e,"",t),EU}function fT(n,e,t,r,i){let o=ge(),s=ip(o,e,t,r);if(s!==xn){let a=Tt(),c=xa();p1(a,c,o,n,s,o[tt],i,!1)}return fT}function CU(n,e,t,r,i,o,s){let a=ge(),c=op(a,e,t,r,i,o);if(c!==xn){let l=Tt(),h=xa();p1(l,h,a,n,c,a[tt],s,!1)}return CU}function Ju(n,e,t,r){oj(n,e,t,r)}function pT(n,e,t){ij(n,e,t)}function v1(n){let e=ge(),t=Tt(),r=lC();I7(r+1);let i=tp(t,r);if(n.dirty&&AL(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=cj(e,r);n.reset(o,dF),n.notifyOnChanges()}return!0}return!1}function y1(){return rj(ge(),lC())}function MU(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function d4e(n){let e=jL();return M4(e,Ot+n)}function f4e(n,e=""){let t=ge(),r=Tt(),i=n+Ot,o=r.firstCreatePass?f1(r,i,1,e,null):r.data[i],s=mT(r,t,o,e,n);t[i]=s,Ou()&&Bu(r,t,s,o),Sa(o,!1)}var mT=(n,e,t,r,i)=>(ki(!0),L7(e[tt],r));function TU(n,e,t,r,i){let o=e[Tr],s=!o||u1()||z4(t)||Vu(o,i);return ki(s),s?L7(e[tt],r):Yu(o,n,e,t)}function IU(){mT=TU}function DU(n){return gT("",n,""),DU}function gT(n,e,t){let r=ge(),i=ip(r,n,e,t);return i!==xn&&Q7(r,Vi(),i),gT}function SU(n,e,t,r,i){let o=ge(),s=op(o,n,e,t,r,i);return s!==xn&&Q7(o,Vi(),s),SU}function xU(n,e,t,r,i,o,s){let a=ge(),c=xj(a,n,e,t,r,i,o,s);return c!==xn&&Q7(a,Vi(),c),xU}function AU(n,e,t){GM(e)&&(e=e());let r=ge(),i=ls();if(dr(r,i,e)){let o=Tt(),s=xa();p1(o,s,r,n,e,r[tt],t,!1)}return AU}function p4e(n,e){let t=GM(n);return t&&n.set(e),t}function zU(n,e){let t=ge(),r=Tt(),i=Sn();return sp(r,t,t[tt],i,n,e),zU}function RU(n,e,t){let r=Tt();if(r.firstCreatePass){let i=mo(n);Q5(t,r.data,r.blueprint,i,!0),Q5(e,r.data,r.blueprint,i,!1)}}function Q5(n,e,t,r,i){if(n=Mn(n),Array.isArray(n))for(let o=0;o<n.length;o++)Q5(n[o],e,t,r,i);else{let o=Tt(),s=ge(),a=Sn(),c=t1(n)?n:Mn(n.provide),l=QE(n),h=a.providerIndexes&1048575,d=a.directiveStart,m=a.providerIndexes>>20;if(t1(n)||!n.multi){let g=new ba(l,i,H),y=Yf(c,e,i?h:h+m,d);y===-1?(a5(ou(a,s),o,c),Gf(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(g),s.push(g)):(t[y]=g,s[y]=g)}else{let g=Yf(c,e,h+m,d),y=Yf(c,e,h,h+m),_=g>=0&&t[g],M=y>=0&&t[y];if(i&&!M||!i&&!_){a5(ou(a,s),o,c);let z=PU(i?NU:OU,t.length,i,r,l);!i&&M&&(t[y].providerFactory=z),Gf(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(z),s.push(z)}else{let z=vT(t[i?y:g],l,!i&&r);Gf(o,n,g>-1?g:y,z)}!i&&r&&M&&t[y].componentProviders++}}}function Gf(n,e,t,r){let i=t1(e),o=pL(e);if(i||o){let c=(o?Mn(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,c]):l[h+1].push(r,c)}else l.push(t,c)}}}function vT(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Yf(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function OU(n,e,t,r){return K5(this.multi,[])}function NU(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ea(t,t[De],this.providerFactory.index,r);o=a.slice(0,s),K5(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],K5(i,o);return o}function K5(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function PU(n,e,t,r,i){let o=new ba(n,t,H);return o.multi=[],o.index=e,o.componentProviders=0,vT(o,i,r&&!t),o}function ms(n,e=[]){return t=>{t.providersResolver=(r,i)=>RU(r,i?i(n):n,e)}}var VU=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=WE(!1,t.type),i=r.length>0?Xu([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=B({token:n,providedIn:"environment",factory:()=>new n(D(vn))})}}return n})();function Or(n){$r("NgStandalone"),n.getStandaloneInjector=e=>e.get(VU).getOrCreateStandaloneInjector(n)}function m4e(n,e,t){let r=_o()+n,i=ge();return i[r]===xn?m1(i,r,t?e.call(t):e()):KM(i,r)}function yT(n,e,t,r){return _T(ge(),_o(),n,e,t,r)}function wT(n,e,t,r,i){return bT(ge(),_o(),n,e,t,r,i)}function g4e(n,e,t,r,i,o){return ET(ge(),_o(),n,e,t,r,i,o)}function v4e(n,e,t,r,i,o,s,a,c){let l=_o()+n,h=ge(),d=rp(h,l,t,r,i,o);return s1(h,l+4,s,a)||d?m1(h,l+6,c?e.call(c,t,r,i,o,s,a):e(t,r,i,o,s,a)):KM(h,l+6)}function e6(n,e){let t=n[e];return t===xn?void 0:t}function _T(n,e,t,r,i,o){let s=e+t;return dr(n,s,i)?m1(n,s+1,o?r.call(o,i):r(i)):e6(n,s+1)}function bT(n,e,t,r,i,o,s){let a=e+t;return s1(n,a,i,o)?m1(n,a+2,s?r.call(s,i,o):r(i,o)):e6(n,a+2)}function ET(n,e,t,r,i,o,s,a){let c=e+t;return XM(n,c,i,o,s)?m1(n,c+3,a?r.call(a,i,o,s):r(i,o,s)):e6(n,c+3)}function kU(n,e,t,r,i,o,s,a,c){let l=e+t;return rp(n,l,i,o,s,a)?m1(n,l+4,c?r.call(c,i,o,s,a):r(i,o,s,a)):e6(n,l+4)}function y4e(n,e){let t=Tt(),r,i=n+Ot;t.firstCreatePass?(r=LU(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=va(r.type,!0)),s,a=lr(H);try{let c=iu(!1),l=o();return iu(c),MU(t,ge(),i,l),l}finally{lr(a)}}function LU(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function w4e(n,e,t){let r=n+Ot,i=ge(),o=M4(i,r);return t6(i,r)?_T(i,_o(),e,o.transform,t,o):o.transform(t)}function _4e(n,e,t,r){let i=n+Ot,o=ge(),s=M4(o,i);return t6(o,i)?bT(o,_o(),e,s.transform,t,r,s):s.transform(t,r)}function b4e(n,e,t,r,i){let o=n+Ot,s=ge(),a=M4(s,o);return t6(s,o)?ET(s,_o(),e,a.transform,t,r,i,a):a.transform(t,r,i)}function E4e(n,e,t,r,i,o){let s=n+Ot,a=ge(),c=M4(a,s);return t6(a,s)?kU(a,_o(),e,c.transform,t,r,i,o,c):c.transform(t,r,i,o)}function t6(n,e){return n[De].data[e].pure}function C4e(n,e){return Gu(n,e)}var j0=null;function FU(n){j0!==null&&(n.defaultEncapsulation!==j0.defaultEncapsulation||n.preserveWhitespaces!==j0.preserveWhitespaces)||(j0=n)}var as=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},CT=new as("17.3.12"),n6=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var ap=new G(""),P4=new G(""),r6=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,cp||(HU(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{he.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(t)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static{this.\u0275fac=function(r){return new(r||n)(D(he),D(i6),D(P4))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),i6=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return cp?.findTestabilityInTree(this,t,r)??null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function HU(n){cp=n}var cp;function w1(n){return!!n&&typeof n.then=="function"}function lp(n){return!!n&&typeof n.subscribe=="function"}var o6=new G(""),MT=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=V(o6,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(w1(o))t.push(o);else if(lp(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_1=new G("");function BU(){nb(()=>{throw new W(600,!1)})}function jU(n){return n.isBoundToModule}function UU(n,e,t){try{let r=t();return w1(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}function TT(n,e){return Array.isArray(e)?e.reduce(TT,n):q(q({},n),e)}var fi=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=V(SC),this.afterRenderEffectManager=V(Ku),this.externalTestViews=new Set,this.beforeRender=new oe,this.afterTick=new oe,this.componentTypes=[],this.components=[],this.isStable=V(ds).hasPendingTasks.pipe(ce(t=>!t)),this._injector=V(vn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof hu;if(!this._injector.get(MT).done){let m=!i&&jE(t),g=!1;throw new W(405,g)}let s;i?s=t:s=this._injector.get(us).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=jU(s)?void 0:this._injector.get(ss),c=r||s.selector,l=s.create(Ft.NULL,[],c,a),h=l.location.nativeElement,d=l.injector.get(ap,null);return d?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),K0(this.components,l),d?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(t){if(this._runningTick)throw new W(101,!1);let r=Be(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(t)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,Be(r)}}detectChangesInAttachedViews(t){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===zM)throw new W(103,!1);if(t){let o=r===0;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)$U(s,o,a)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>X5(o))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>X5(o))))break}}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;K0(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(_1,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>K0(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new W(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function K0(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var U0;function up(n){U0??=new WeakMap;let e=U0.get(n);if(e)return e;let t=n.isStable.pipe(Mr(r=>r)).toPromise().then(()=>{});return U0.set(n,t),n.onDestroy(()=>U0?.delete(n)),t}function $U(n,e,t){!e&&!X5(n)||qU(n,t,e)}function X5(n){return b7(n)}function qU(n,e,t){let r;t?(r=0,n[Ce]|=1024):n[Ce]&64?r=0:r=1,RM(n,e,r)}var Z5=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},s6=(()=>{class n{compileModuleSync(t){return new wu(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=UE(t),o=nM(i.declarations).reduce((s,a)=>{let c=ho(a);return c&&s.push(new Ma(c)),s},[]);return new Z5(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),WU=new G("");function GU(n,e,t){let r=new wu(t);return Promise.resolve(r)}function _E(n){for(let e=n.length-1;e>=0;e--)if(n[e]!==void 0)return n[e]}var YU=(()=>{class n{constructor(){this.zone=V(he),this.applicationRef=V(fi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function QU(n){return[{provide:he,useFactory:n},{provide:ya,multi:!0,useFactory:()=>{let e=V(YU,{optional:!0});return()=>e.initialize()}},{provide:ya,multi:!0,useFactory:()=>{let e=V(ZU);return()=>{e.initialize()}}},{provide:SC,useFactory:KU}]}function KU(){let n=V(he),e=V(hi);return t=>n.runOutsideAngular(()=>e.handleError(t))}function XU(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var ZU=(()=>{class n{constructor(){this.subscription=new Je,this.initialized=!1,this.zone=V(he),this.pendingTasks=V(ds)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{he.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{he.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function JU(){return typeof $localize<"u"&&$localize.locale||Eu}var b1=new G("",{providedIn:"root",factory:()=>V(b1,Fe.Optional|Fe.SkipSelf)||JU()}),IT=new G("",{providedIn:"root",factory:()=>fU});var DT=new G(""),ST=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){let i=kB(r?.ngZone,XU({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{let o=Mj(t.moduleType,this.injector,QU(()=>i)),s=o.injector.get(hi,null);return i.runOutsideAngular(()=>{let a=i.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{K0(this._modules,o),a.unsubscribe()})}),UU(s,i,()=>{let a=o.injector.get(MT);return a.runInitializers(),a.donePromise.then(()=>{let c=o.injector.get(b1,Eu);return mU(c||Eu),this._moduleDoBootstrap(o),o})})})}bootstrapModule(t,r=[]){let i=TT({},r);return GU(this.injector,i,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){let r=t.injector.get(fi);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(r);else throw new W(-403,!1);this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new W(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let t=this._injector.get(DT,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||n)(D(Ft))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),s4=null,xT=new G("");function e$(n){if(s4&&!s4.get(xT,!1))throw new W(400,!1);BU(),s4=n;let e=n.get(ST);return r$(n),e}function hp(n,e,t=[]){let r=`Platform: ${e}`,i=new G(r);return(o=[])=>{let s=AT();if(!s||s.injector.get(xT,!1)){let a=[...t,...o,{provide:i,useValue:!0}];n?n(a):e$(t$(a,r))}return n$(i)}}function t$(n=[],e){return Ft.create({name:e,providers:[{provide:xu,useValue:"platform"},{provide:DT,useValue:new Set([()=>s4=null])},...n]})}function n$(n){let e=AT();if(!e)throw new W(401,!1);return e}function AT(){return s4?.get(ST)??null}function r$(n){n.get(z7,null)?.forEach(t=>t())}function za(){return!1}var Qt=(()=>{class n{static{this.__NG_ELEMENT_ID__=i$}}return n})();function i$(n){return o$(Sn(),ge(),(n&16)===16)}function o$(n,e,t){if(C4(n)&&!t){let r=cs(n.index,e);return new Ca(r,r)}else if(n.type&47){let r=e[Zn];return new Ca(r,e)}return null}var J5=class{constructor(){}supports(e){return QM(e)}create(e){return new e7(e)}},s$=(n,e)=>e,e7=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||s$}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<bE(r,i,o)?t:r,a=bE(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=c-i;if(l!=h){for(let m=0;m<l;m++){let g=m<o.length?o[m]:o[m]=0,y=g+m;h<=y&&y<l&&(o[m]=g+1)}let d=s.previousIndex;o[d]=h-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!QM(e))throw new W(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,Tj(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new t7(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Cu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Cu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},t7=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},n7=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Cu=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new n7,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function bE(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}var r7=class{constructor(){}supports(e){return e instanceof Map||np(e)}create(){return new i7}},i7=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||np(e)))throw new W(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new o7(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},o7=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function EE(){return new V4([new J5])}var V4=(()=>{class n{static{this.\u0275prov=B({token:n,providedIn:"root",factory:EE})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||EE()),deps:[[n,new Su,new vo]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new W(901,!1)}}return n})();function CE(){return new a6([new r7])}var a6=(()=>{class n{static{this.\u0275prov=B({token:n,providedIn:"root",factory:CE})}constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||CE()),deps:[[n,new Su,new vo]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new W(901,!1)}}return n})();var zT=hp(null,"core",[]),RT=(()=>{class n{constructor(t){}static{this.\u0275fac=function(r){return new(r||n)(D(fi))}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Me({})}}return n})();var ME=!1,a$=!1;function c$(){ME||(ME=!0,RF(),rU(),IU(),aU(),Sj(),ZB(),DB(),NH(),yU())}function l$(n,e){return up(n)}function OT(){return di([{provide:V0,useFactory:()=>{let n=!0;return Xc()&&(n=!!V(Aa,{optional:!0})?.get(FC,null)),n&&$r("NgHydration"),n}},{provide:ya,useValue:()=>{a$=!!V(kF,{optional:!0}),Xc()&&V(V0)&&(u$(),c$())},multi:!0},{provide:UC,useFactory:()=>Xc()&&V(V0)},{provide:_1,useFactory:()=>{if(Xc()&&V(V0)){let n=V(fi),e=V(Ft);return()=>{l$(n,e).then(()=>{yB(n)})}}return()=>{}},multi:!0}])}function u$(){let n=D4(),e;for(let t of n.body.childNodes)if(t.nodeType===Node.COMMENT_NODE&&t.textContent?.trim()===AF){e=t;break}if(!e)throw new W(-507,!1)}function bt(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function k4(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}function L4(n){let e=Be(null);try{return n()}finally{Be(e)}}var h$=new G("",{providedIn:"root",factory:()=>V(d$)}),d$=(()=>{class n{static{this.\u0275prov=B({token:n,providedIn:"root",factory:()=>new s7})}}return n})(),s7=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=V(ds),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let t=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(t),this.taskId=null})}}enqueue(e){let t=e.creationZone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}},a7=class{constructor(e,t,r,i,o,s){this.scheduler=e,this.effectFn=t,this.creationZone=r,this.injector=o,this.watcher=sb(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(t){this.injector.get(hi,null,{optional:!0})?.handleError(t)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function f$(n,e){$r("NgSignals"),!e?.injector&&m7(f$);let t=e?.injector??V(Ft),r=e?.manualCleanup!==!0?t.get(I4):null,i=new a7(t.get(h$),n,typeof Zone>"u"?null:Zone.current,r,t,e?.allowSignalWrites??!1),o=t.get(Qt,null,{optional:!0});return!o||!(o._lView[Ce]&8)?i.watcher.notify():(o._lView[q0]??=[]).push(i.watcher.notify),i}function M4e(n,e){let t=ho(n),r=e.elementInjector||Au();return new Ma(t).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}function NT(n){let e=ho(n);if(!e)return null;let t=new Ma(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var $T=null;function Ra(){return $T}function qT(n){$T??=n}var g6=class{};var Ve=new G(""),Mp=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>V(p$),providedIn:"platform"})}}return n})(),WT=new G(""),p$=(()=>{class n extends Mp{constructor(){super(),this._doc=V(Ve),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ra().getBaseHref(this._doc)}onPopState(t){let r=Ra().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Ra().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function Tp(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function PT(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Ao(n){return n&&n[0]!=="?"?"?"+n:n}var Ro=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>V(Ip),providedIn:"root"})}}return n})(),GT=new G(""),Ip=(()=>{class n extends Ro{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??V(Ve).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Tp(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Ao(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Ao(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Ao(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(D(Mp),D(GT,8))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),YT=(()=>{class n extends Ro{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Tp(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Ao(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Ao(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(D(Mp),D(GT,8))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),gs=(()=>{class n{constructor(t){this._subject=new Ke,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=v$(PT(VT(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ao(r))}normalize(t){return n.stripTrailingSlash(g$(this._basePath,VT(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ao(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ao(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Ao}static{this.joinWithSlash=Tp}static{this.stripTrailingSlash=PT}static{this.\u0275fac=function(r){return new(r||n)(D(Ro))}}static{this.\u0275prov=B({token:n,factory:()=>m$(),providedIn:"root"})}}return n})();function m$(){return new gs(D(Ro))}function g$(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function VT(n){return n.replace(/\/index.html$/,"")}function v$(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var QT={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},Dp=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(Dp||{});var nr=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(nr||{}),Et=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Et||{}),Nr=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Nr||{}),Hn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function y$(n){return pr(n)[jt.LocaleId]}function w$(n,e,t){let r=pr(n),i=[r[jt.DayPeriodsFormat],r[jt.DayPeriodsStandalone]],o=qr(i,e);return qr(o,t)}function _$(n,e,t){let r=pr(n),i=[r[jt.DaysFormat],r[jt.DaysStandalone]],o=qr(i,e);return qr(o,t)}function b$(n,e,t){let r=pr(n),i=[r[jt.MonthsFormat],r[jt.MonthsStandalone]],o=qr(i,e);return qr(o,t)}function E$(n,e){let r=pr(n)[jt.Eras];return qr(r,e)}function c6(n,e){let t=pr(n);return qr(t[jt.DateFormat],e)}function l6(n,e){let t=pr(n);return qr(t[jt.TimeFormat],e)}function u6(n,e){let r=pr(n)[jt.DateTimeFormat];return qr(r,e)}function Fi(n,e){let t=pr(n),r=t[jt.NumberSymbols][e];if(typeof r>"u"){if(e===Hn.CurrencyDecimal)return t[jt.NumberSymbols][Hn.Decimal];if(e===Hn.CurrencyGroup)return t[jt.NumberSymbols][Hn.Group]}return r}function KT(n,e){return pr(n)[jt.NumberFormats][e]}function C$(n){return pr(n)[jt.Currencies]}function XT(n){if(!n[jt.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[jt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function M$(n){let e=pr(n);return XT(e),(e[jt.ExtraData][2]||[]).map(r=>typeof r=="string"?dp(r):[dp(r[0]),dp(r[1])])}function T$(n,e,t){let r=pr(n);XT(r);let i=[r[jt.ExtraData][0],r[jt.ExtraData][1]],o=qr(i,e)||[];return qr(o,t)||[]}function qr(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function dp(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}function I$(n,e,t="en"){let r=C$(t)[n]||QT[n]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||n}var D$=2;function S$(n){let e,t=QT[n];return t&&(e=t[2]),typeof e=="number"?e:D$}var x$=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,h6={},A$=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,zo=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(zo||{}),it=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(it||{}),rt=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(rt||{});function z$(n,e,t,r){let i=H$(n);e=xo(t,e)||e;let s=[],a;for(;e;)if(a=A$.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=JT(r,c),i=F$(i,r,!0));let l="";return s.forEach(h=>{let d=k$(h);l+=d?d(i,t,c):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function v6(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function xo(n,e){let t=y$(n);if(h6[t]??={},h6[t][e])return h6[t][e];let r="";switch(e){case"shortDate":r=c6(n,Nr.Short);break;case"mediumDate":r=c6(n,Nr.Medium);break;case"longDate":r=c6(n,Nr.Long);break;case"fullDate":r=c6(n,Nr.Full);break;case"shortTime":r=l6(n,Nr.Short);break;case"mediumTime":r=l6(n,Nr.Medium);break;case"longTime":r=l6(n,Nr.Long);break;case"fullTime":r=l6(n,Nr.Full);break;case"short":let i=xo(n,"shortTime"),o=xo(n,"shortDate");r=d6(u6(n,Nr.Short),[i,o]);break;case"medium":let s=xo(n,"mediumTime"),a=xo(n,"mediumDate");r=d6(u6(n,Nr.Medium),[s,a]);break;case"long":let c=xo(n,"longTime"),l=xo(n,"longDate");r=d6(u6(n,Nr.Long),[c,l]);break;case"full":let h=xo(n,"fullTime"),d=xo(n,"fullDate");r=d6(u6(n,Nr.Full),[h,d]);break}return r&&(h6[t][e]=r),r}function d6(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function pi(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function R$(n,e){return pi(n,3).substring(0,e)}function sn(n,e,t=0,r=!1,i=!1){return function(o,s){let a=O$(n,o);if((t>0||a>-t)&&(a+=t),n===it.Hours)a===0&&t===-12&&(a=12);else if(n===it.FractionalSeconds)return R$(a,e);let c=Fi(s,Hn.MinusSign);return pi(a,e,c,r,i)}}function O$(n,e){switch(n){case it.FullYear:return e.getFullYear();case it.Month:return e.getMonth();case it.Date:return e.getDate();case it.Hours:return e.getHours();case it.Minutes:return e.getMinutes();case it.Seconds:return e.getSeconds();case it.FractionalSeconds:return e.getMilliseconds();case it.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function Dt(n,e,t=nr.Format,r=!1){return function(i,o){return N$(i,o,n,e,t,r)}}function N$(n,e,t,r,i,o){switch(t){case rt.Months:return b$(e,i,r)[n.getMonth()];case rt.Days:return _$(e,i,r)[n.getDay()];case rt.DayPeriods:let s=n.getHours(),a=n.getMinutes();if(o){let l=M$(e),h=T$(e,i,r),d=l.findIndex(m=>{if(Array.isArray(m)){let[g,y]=m,_=s>=g.hours&&a>=g.minutes,M=s<y.hours||s===y.hours&&a<y.minutes;if(g.hours<y.hours){if(_&&M)return!0}else if(_||M)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(d!==-1)return h[d]}return w$(e,i,r)[s<12?0:1];case rt.Eras:return E$(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new Error(`unexpected translation type ${c}`)}}function f6(n){return function(e,t,r){let i=-1*r,o=Fi(t,Hn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case zo.Short:return(i>=0?"+":"")+pi(s,2,o)+pi(Math.abs(i%60),2,o);case zo.ShortGMT:return"GMT"+(i>=0?"+":"")+pi(s,1,o);case zo.Long:return"GMT"+(i>=0?"+":"")+pi(s,2,o)+":"+pi(Math.abs(i%60),2,o);case zo.Extended:return r===0?"Z":(i>=0?"+":"")+pi(s,2,o)+":"+pi(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var P$=0,m6=4;function V$(n){let e=v6(n,P$,1).getDay();return v6(n,0,1+(e<=m6?m6:m6+7)-e)}function ZT(n){let e=n.getDay(),t=e===0?-3:m6-e;return v6(n.getFullYear(),n.getMonth(),n.getDate()+t)}function fp(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=ZT(t),s=V$(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return pi(i,n,Fi(r,Hn.MinusSign))}}function p6(n,e=!1){return function(t,r){let o=ZT(t).getFullYear();return pi(o,n,Fi(r,Hn.MinusSign),e)}}var pp={};function k$(n){if(pp[n])return pp[n];let e;switch(n){case"G":case"GG":case"GGG":e=Dt(rt.Eras,Et.Abbreviated);break;case"GGGG":e=Dt(rt.Eras,Et.Wide);break;case"GGGGG":e=Dt(rt.Eras,Et.Narrow);break;case"y":e=sn(it.FullYear,1,0,!1,!0);break;case"yy":e=sn(it.FullYear,2,0,!0,!0);break;case"yyy":e=sn(it.FullYear,3,0,!1,!0);break;case"yyyy":e=sn(it.FullYear,4,0,!1,!0);break;case"Y":e=p6(1);break;case"YY":e=p6(2,!0);break;case"YYY":e=p6(3);break;case"YYYY":e=p6(4);break;case"M":case"L":e=sn(it.Month,1,1);break;case"MM":case"LL":e=sn(it.Month,2,1);break;case"MMM":e=Dt(rt.Months,Et.Abbreviated);break;case"MMMM":e=Dt(rt.Months,Et.Wide);break;case"MMMMM":e=Dt(rt.Months,Et.Narrow);break;case"LLL":e=Dt(rt.Months,Et.Abbreviated,nr.Standalone);break;case"LLLL":e=Dt(rt.Months,Et.Wide,nr.Standalone);break;case"LLLLL":e=Dt(rt.Months,Et.Narrow,nr.Standalone);break;case"w":e=fp(1);break;case"ww":e=fp(2);break;case"W":e=fp(1,!0);break;case"d":e=sn(it.Date,1);break;case"dd":e=sn(it.Date,2);break;case"c":case"cc":e=sn(it.Day,1);break;case"ccc":e=Dt(rt.Days,Et.Abbreviated,nr.Standalone);break;case"cccc":e=Dt(rt.Days,Et.Wide,nr.Standalone);break;case"ccccc":e=Dt(rt.Days,Et.Narrow,nr.Standalone);break;case"cccccc":e=Dt(rt.Days,Et.Short,nr.Standalone);break;case"E":case"EE":case"EEE":e=Dt(rt.Days,Et.Abbreviated);break;case"EEEE":e=Dt(rt.Days,Et.Wide);break;case"EEEEE":e=Dt(rt.Days,Et.Narrow);break;case"EEEEEE":e=Dt(rt.Days,Et.Short);break;case"a":case"aa":case"aaa":e=Dt(rt.DayPeriods,Et.Abbreviated);break;case"aaaa":e=Dt(rt.DayPeriods,Et.Wide);break;case"aaaaa":e=Dt(rt.DayPeriods,Et.Narrow);break;case"b":case"bb":case"bbb":e=Dt(rt.DayPeriods,Et.Abbreviated,nr.Standalone,!0);break;case"bbbb":e=Dt(rt.DayPeriods,Et.Wide,nr.Standalone,!0);break;case"bbbbb":e=Dt(rt.DayPeriods,Et.Narrow,nr.Standalone,!0);break;case"B":case"BB":case"BBB":e=Dt(rt.DayPeriods,Et.Abbreviated,nr.Format,!0);break;case"BBBB":e=Dt(rt.DayPeriods,Et.Wide,nr.Format,!0);break;case"BBBBB":e=Dt(rt.DayPeriods,Et.Narrow,nr.Format,!0);break;case"h":e=sn(it.Hours,1,-12);break;case"hh":e=sn(it.Hours,2,-12);break;case"H":e=sn(it.Hours,1);break;case"HH":e=sn(it.Hours,2);break;case"m":e=sn(it.Minutes,1);break;case"mm":e=sn(it.Minutes,2);break;case"s":e=sn(it.Seconds,1);break;case"ss":e=sn(it.Seconds,2);break;case"S":e=sn(it.FractionalSeconds,1);break;case"SS":e=sn(it.FractionalSeconds,2);break;case"SSS":e=sn(it.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=f6(zo.Short);break;case"ZZZZZ":e=f6(zo.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=f6(zo.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=f6(zo.Long);break;default:return null}return pp[n]=e,e}function JT(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function L$(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function F$(n,e,t){let r=t?-1:1,i=n.getTimezoneOffset(),o=JT(e,i);return L$(n,r*(o-i))}function H$(n){if(kT(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return v6(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(x$))return B$(r)}let e=new Date(n);if(!kT(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function B$(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,l),e}function kT(n){return n instanceof Date&&!isNaN(n.valueOf())}var j$=/^(\d+)?\.((\d+)(-(\d+))?)?$/,LT=22,y6=".",F4="0",U$=";",$$=",",mp="#",FT="\xA4";function eI(n,e,t,r,i,o,s=!1){let a="",c=!1;if(!isFinite(n))a=Fi(t,Hn.Infinity);else{let l=Y$(n);s&&(l=G$(l));let h=e.minInt,d=e.minFrac,m=e.maxFrac;if(o){let F=o.match(j$);if(F===null)throw new Error(`${o} is not a valid digit info`);let P=F[1],Q=F[3],ne=F[5];P!=null&&(h=gp(P)),Q!=null&&(d=gp(Q)),ne!=null?m=gp(ne):Q!=null&&d>m&&(m=d)}Q$(l,d,m);let g=l.digits,y=l.integerLen,_=l.exponent,M=[];for(c=g.every(F=>!F);y<h;y++)g.unshift(0);for(;y<0;y++)g.unshift(0);y>0?M=g.splice(y,g.length):(M=g,g=[0]);let z=[];for(g.length>=e.lgSize&&z.unshift(g.splice(-e.lgSize,g.length).join(""));g.length>e.gSize;)z.unshift(g.splice(-e.gSize,g.length).join(""));g.length&&z.unshift(g.join("")),a=z.join(Fi(t,r)),M.length&&(a+=Fi(t,i)+M.join("")),_&&(a+=Fi(t,Hn.Exponential)+"+"+_)}return n<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function q$(n,e,t,r,i){let o=KT(e,Dp.Currency),s=tI(o,Fi(e,Hn.MinusSign));return s.minFrac=S$(r),s.maxFrac=s.minFrac,eI(n,s,e,Hn.CurrencyGroup,Hn.CurrencyDecimal,i).replace(FT,t).replace(FT,"").trim()}function W$(n,e,t){let r=KT(e,Dp.Decimal),i=tI(r,Fi(e,Hn.MinusSign));return eI(n,i,e,Hn.Group,Hn.Decimal,t)}function tI(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(U$),i=r[0],o=r[1],s=i.indexOf(y6)!==-1?i.split(y6):[i.substring(0,i.lastIndexOf(F4)+1),i.substring(i.lastIndexOf(F4)+1)],a=s[0],c=s[1]||"";t.posPre=a.substring(0,a.indexOf(mp));for(let h=0;h<c.length;h++){let d=c.charAt(h);d===F4?t.minFrac=t.maxFrac=h+1:d===mp?t.maxFrac=h+1:t.posSuf+=d}let l=a.split($$);if(t.gSize=l[1]?l[1].length:0,t.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let h=i.length-t.posPre.length-t.posSuf.length,d=o.indexOf(mp);t.negPre=o.substring(0,d).replace(/'/g,""),t.negSuf=o.slice(d+h).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function G$(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function Y$(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(y6))>-1&&(e=e.replace(y6,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===F4;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===F4;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>LT&&(r=r.splice(0,LT-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function Q$(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let d=s;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let d=1;d<s;d++)r[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,l=e+n.integerLen,h=r.reduceRight(function(d,m,g,y){return m=m+d,y[g]=m<10?m:m-10,c&&(y[g]===0&&g>=l?y.pop():c=!1),m>=10?1:0},0);h&&(r.unshift(h),n.integerLen++)}function gp(n){let e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function w6(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var vp=/\s+/,HT=[],_6=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=HT,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(vp):HT}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(vp):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(vp).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(H(ke),H(Jn))}}static{this.\u0275dir=He({type:n,selectors:[["","ngClass",""]],inputs:{klass:[be.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var yp=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},j4e=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new yp(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),BT(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);BT(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(H(An),H(Zt),H(V4))}}static{this.\u0275dir=He({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function BT(n,e){n.context.$implicit=e.item}var U4e=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new wp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){jT("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){jT("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(H(An),H(Zt))}}static{this.\u0275dir=He({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),wp=class{constructor(){this.$implicit=null,this.ngIf=null}};function jT(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Xn(e)}'.`)}var nI=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,o]=t.split("."),s=i.indexOf("-")===-1?void 0:Ni.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static{this.\u0275fac=function(r){return new(r||n)(H(ke),H(a6),H(Jn))}}static{this.\u0275dir=He({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return n})(),rI=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(this._shouldRecreateView(t)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(t,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static{this.\u0275fac=function(r){return new(r||n)(H(An))}}static{this.\u0275dir=He({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Jt]})}}return n})();function H4(n,e){return new W(2100,!1)}var _p=class{createSubscription(e,t){return L4(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){L4(()=>e.unsubscribe())}},bp=class{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}},K$=new bp,X$=new _p,$4e=(()=>{class n{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(w1(t))return K$;if(lp(t))return X$;throw H4(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||n)(H(Qt,16))}}static{this.\u0275pipe=Da({name:"async",type:n,pure:!1,standalone:!0})}}return n})();var Z$="mediumDate",J$=new G(""),eq=new G(""),q4e=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??Z$,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return z$(t,s,o||this.locale,a)}catch(s){throw H4(n,s.message)}}static{this.\u0275fac=function(r){return new(r||n)(H(b1,16),H(J$,24),H(eq,24))}}static{this.\u0275pipe=Da({name:"date",type:n,pure:!0,standalone:!0})}}return n})();function tq(n,e){return{key:n,value:e}}var W4e=(()=>{class n{constructor(t){this.differs=t,this.keyValues=[],this.compareFn=UT}transform(t,r=UT){if(!t||!(t instanceof Map)&&typeof t!="object")return null;this.differ??=this.differs.find(t).create();let i=this.differ.diff(t),o=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(s=>{this.keyValues.push(tq(s.key,s.currentValue))})),(i||o)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}static{this.\u0275fac=function(r){return new(r||n)(H(a6,16))}}static{this.\u0275pipe=Da({name:"keyvalue",type:n,pure:!1,standalone:!0})}}return n})();function UT(n,e){let t=n.key,r=e.key;if(t===r)return 0;if(t===void 0)return 1;if(r===void 0)return-1;if(t===null)return 1;if(r===null)return-1;if(typeof t=="string"&&typeof r=="string")return t<r?-1:1;if(typeof t=="number"&&typeof r=="number")return t-r;if(typeof t=="boolean"&&typeof r=="boolean")return t<r?-1:1;let i=String(t),o=String(r);return i==o?0:i<o?-1:1}var G4e=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!iI(t))return null;i||=this._locale;try{let o=oI(t);return W$(o,i,r)}catch(o){throw H4(n,o.message)}}static{this.\u0275fac=function(r){return new(r||n)(H(b1,16))}}static{this.\u0275pipe=Da({name:"number",type:n,pure:!0,standalone:!0})}}return n})();var Y4e=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",o,s){if(!iI(t))return null;s||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=I$(a,i==="symbol"?"wide":"narrow",s):a=i);try{let c=oI(t);return q$(c,s,a,r,o)}catch(c){throw H4(n,c.message)}}static{this.\u0275fac=function(r){return new(r||n)(H(b1,16),H(IT,16))}}static{this.\u0275pipe=Da({name:"currency",type:n,pure:!0,standalone:!0})}}return n})();function iI(n){return!(n==null||n===""||n!==n)}function oI(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var Q4e=(()=>{class n{transform(t,r,i){if(t==null)return null;if(!this.supports(t))throw H4(n,t);return t.slice(r,i)}supports(t){return typeof t=="string"||Array.isArray(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275pipe=Da({name:"slice",type:n,pure:!1,standalone:!0})}}return n})();var sI=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Me({})}}return n})(),Sp="browser",nq="server";function xp(n){return n===Sp}function Oo(n){return n===nq}var aI=(()=>{class n{static{this.\u0275prov=B({token:n,providedIn:"root",factory:()=>xp(V(Yt))?new Ep(V(Ve),window):new Cp})}}return n})(),Ep=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=rq(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function rq(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Cp=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},E1=class{};var j4=class{},ys=class{},ws=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Rp=class{encodeKey(e){return cI(e)}encodeValue(e){return cI(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function oq(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var sq=/%(\d[a-f0-9])/gi,aq={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function cI(n){return encodeURIComponent(n).replace(sq,(e,t)=>aq[t]??e)}function b6(n){return`${n}`}var vs=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Rp,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=oq(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(b6):[b6(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(b6(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(b6(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Op=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function cq(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function lI(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function uI(n){return typeof Blob<"u"&&n instanceof Blob}function hI(n){return typeof FormData<"u"&&n instanceof FormData}function lq(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var B4=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(cq(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new ws,this.context??=new Op,!this.params)this.params=new vs,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||lI(this.body)||uI(this.body)||hI(this.body)||lq(this.body)?this.body:this.body instanceof vs?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||hI(this.body)?null:uI(this.body)?this.body.type||null:lI(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof vs?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,g)=>m.set(g,e.setHeaders[g]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,g)=>m.set(g,e.setParams[g]),h)),new n(t,r,s,{params:h,headers:l,context:d,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},C1=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(C1||{}),U4=class{constructor(e,t=M6.Ok,r="OK"){this.headers=e.headers||new ws,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Np=class n extends U4{constructor(e={}){super(e),this.type=C1.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},M1=class n extends U4{constructor(e={}){super(e),this.type=C1.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},C6=class extends U4{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},M6=function(n){return n[n.Continue=100]="Continue",n[n.SwitchingProtocols=101]="SwitchingProtocols",n[n.Processing=102]="Processing",n[n.EarlyHints=103]="EarlyHints",n[n.Ok=200]="Ok",n[n.Created=201]="Created",n[n.Accepted=202]="Accepted",n[n.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",n[n.NoContent=204]="NoContent",n[n.ResetContent=205]="ResetContent",n[n.PartialContent=206]="PartialContent",n[n.MultiStatus=207]="MultiStatus",n[n.AlreadyReported=208]="AlreadyReported",n[n.ImUsed=226]="ImUsed",n[n.MultipleChoices=300]="MultipleChoices",n[n.MovedPermanently=301]="MovedPermanently",n[n.Found=302]="Found",n[n.SeeOther=303]="SeeOther",n[n.NotModified=304]="NotModified",n[n.UseProxy=305]="UseProxy",n[n.Unused=306]="Unused",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n[n.BadRequest=400]="BadRequest",n[n.Unauthorized=401]="Unauthorized",n[n.PaymentRequired=402]="PaymentRequired",n[n.Forbidden=403]="Forbidden",n[n.NotFound=404]="NotFound",n[n.MethodNotAllowed=405]="MethodNotAllowed",n[n.NotAcceptable=406]="NotAcceptable",n[n.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",n[n.RequestTimeout=408]="RequestTimeout",n[n.Conflict=409]="Conflict",n[n.Gone=410]="Gone",n[n.LengthRequired=411]="LengthRequired",n[n.PreconditionFailed=412]="PreconditionFailed",n[n.PayloadTooLarge=413]="PayloadTooLarge",n[n.UriTooLong=414]="UriTooLong",n[n.UnsupportedMediaType=415]="UnsupportedMediaType",n[n.RangeNotSatisfiable=416]="RangeNotSatisfiable",n[n.ExpectationFailed=417]="ExpectationFailed",n[n.ImATeapot=418]="ImATeapot",n[n.MisdirectedRequest=421]="MisdirectedRequest",n[n.UnprocessableEntity=422]="UnprocessableEntity",n[n.Locked=423]="Locked",n[n.FailedDependency=424]="FailedDependency",n[n.TooEarly=425]="TooEarly",n[n.UpgradeRequired=426]="UpgradeRequired",n[n.PreconditionRequired=428]="PreconditionRequired",n[n.TooManyRequests=429]="TooManyRequests",n[n.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",n[n.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",n[n.InternalServerError=500]="InternalServerError",n[n.NotImplemented=501]="NotImplemented",n[n.BadGateway=502]="BadGateway",n[n.ServiceUnavailable=503]="ServiceUnavailable",n[n.GatewayTimeout=504]="GatewayTimeout",n[n.HttpVersionNotSupported=505]="HttpVersionNotSupported",n[n.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",n[n.InsufficientStorage=507]="InsufficientStorage",n[n.LoopDetected=508]="LoopDetected",n[n.NotExtended=510]="NotExtended",n[n.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",n}(M6||{});function zp(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Pp=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof B4)o=t;else{let c;i.headers instanceof ws?c=i.headers:c=new ws(i.headers);let l;i.params&&(i.params instanceof vs?l=i.params:l=new vs({fromObject:i.params})),o=new B4(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=te(o).pipe(co(c=>this.handler.handle(c)));if(t instanceof B4||i.observe==="events")return s;let a=s.pipe(We(c=>c instanceof M1));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ce(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(ce(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(ce(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(ce(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new vs().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,zp(i,r))}post(t,r,i={}){return this.request("POST",t,zp(i,r))}put(t,r,i={}){return this.request("PUT",t,zp(i,r))}static{this.\u0275fac=function(r){return new(r||n)(D(j4))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})();function EI(n,e){return e(n)}function uq(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}function hq(n,e,t){return(r,i)=>Ur(t,()=>e(r,o=>n(o,i)))}var dq=new G(""),Vp=new G(""),CI=new G(""),fq=new G("");function pq(){let n=null;return(e,t)=>{n===null&&(n=(V(dq,{optional:!0})??[]).reduceRight(uq,EI));let r=V(ds),i=r.add();return n(e,t).pipe(Cr(()=>r.remove(i)))}}var dI=(()=>{class n extends j4{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=V(ds);let i=V(fq,{optional:!0});this.backend=i??t}handle(t){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(Vp),...this.injector.get(CI,[])]));this.chain=i.reduceRight((o,s)=>hq(o,s,this.injector),EI)}let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Cr(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||n)(D(ys),D(vn))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})();var mq=/^\)\]\}',?\n/;function gq(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var fI=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new W(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Le(r.\u0275loadImpl()):te(null)).pipe(ct(()=>new Ee(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((_,M)=>s.setRequestHeader(_,M.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let _=t.detectContentTypeHeader();_!==null&&s.setRequestHeader("Content-Type",_)}if(t.responseType){let _=t.responseType.toLowerCase();s.responseType=_!=="json"?_:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let _=s.statusText||"OK",M=new ws(s.getAllResponseHeaders()),z=gq(s)||t.url;return c=new Np({headers:M,status:s.status,statusText:_,url:z}),c},h=()=>{let{headers:_,status:M,statusText:z,url:F}=l(),P=null;M!==M6.NoContent&&(P=typeof s.response>"u"?s.responseText:s.response),M===0&&(M=P?M6.Ok:0);let Q=M>=200&&M<300;if(t.responseType==="json"&&typeof P=="string"){let ne=P;P=P.replace(mq,"");try{P=P!==""?JSON.parse(P):null}catch(K){P=ne,Q&&(Q=!1,P={error:K,text:P})}}Q?(o.next(new M1({body:P,headers:_,status:M,statusText:z,url:F||void 0})),o.complete()):o.error(new C6({error:P,headers:_,status:M,statusText:z,url:F||void 0}))},d=_=>{let{url:M}=l(),z=new C6({error:_,status:s.status||0,statusText:s.statusText||"Unknown Error",url:M||void 0});o.error(z)},m=!1,g=_=>{m||(o.next(l()),m=!0);let M={type:C1.DownloadProgress,loaded:_.loaded};_.lengthComputable&&(M.total=_.total),t.responseType==="text"&&s.responseText&&(M.partialText=s.responseText),o.next(M)},y=_=>{let M={type:C1.UploadProgress,loaded:_.loaded};_.lengthComputable&&(M.total=_.total),o.next(M)};return s.addEventListener("load",h),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),t.reportProgress&&(s.addEventListener("progress",g),a!==null&&s.upload&&s.upload.addEventListener("progress",y)),s.send(a),o.next({type:C1.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",h),s.removeEventListener("timeout",d),t.reportProgress&&(s.removeEventListener("progress",g),a!==null&&s.upload&&s.upload.removeEventListener("progress",y)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(D(E1))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),MI=new G(""),vq="XSRF-TOKEN",yq=new G("",{providedIn:"root",factory:()=>vq}),wq="X-XSRF-TOKEN",_q=new G("",{providedIn:"root",factory:()=>wq}),T6=class{},bq=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=w6(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(D(Ve),D(Yt),D(yq))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})();function Eq(n,e){let t=n.url.toLowerCase();if(!V(MI)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=V(T6).getToken(),i=V(_q);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var TI=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(TI||{});function Cq(n,e){return{\u0275kind:n,\u0275providers:e}}function Mq(...n){let e=[Pp,fI,dI,{provide:j4,useExisting:dI},{provide:ys,useExisting:fI},{provide:Vp,useValue:Eq,multi:!0},{provide:MI,useValue:!0},{provide:T6,useClass:bq}];for(let t of n)e.push(...t.\u0275providers);return di(e)}var pI=new G("");function Tq(){return Cq(TI.LegacyInterceptors,[{provide:pI,useFactory:pq},{provide:Vp,useExisting:pI,multi:!0}])}var s2e=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Me({providers:[Mq(Tq())]})}}return n})();var mI="b",gI="h",vI="s",yI="st",wI="u",_I="rt",E6=new G(""),Iq=["GET","HEAD"];function Dq(n,e){let d=V(E6),{isCacheActive:t}=d,r=J3(d,["isCacheActive"]),{transferCache:i,method:o}=n;if(!t||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!Iq.includes(o)||i===!1||r.filter?.(n)===!1)return e(n);let s=V(Aa),a=xq(n),c=s.get(a,null),l=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(l=i.includeHeaders),c){let{[mI]:m,[_I]:g,[gI]:y,[vI]:_,[yI]:M,[wI]:z}=c,F=m;switch(g){case"arraybuffer":F=new TextEncoder().encode(m).buffer;break;case"blob":F=new Blob([m]);break}let P=new ws(y);return te(new M1({body:F,headers:P,status:_,statusText:M,url:z}))}let h=Oo(V(Yt));return e(n).pipe(Rt(m=>{m instanceof M1&&h&&s.set(a,{[mI]:m.body,[gI]:Sq(m.headers,l),[vI]:m.status,[yI]:m.statusText,[wI]:m.url||"",[_I]:n.responseType})}))}function Sq(n,e){if(!e)return{};let t={};for(let r of e){let i=n.getAll(r);i!==null&&(t[r]=i)}return t}function bI(n){return[...n.keys()].sort().map(e=>`${e}=${n.getAll(e)}`).join("&")}function xq(n){let{params:e,method:t,responseType:r,url:i}=n,o=bI(e),s=n.serializeBody();s instanceof URLSearchParams?s=bI(s):typeof s!="string"&&(s="");let a=[t,r,i,s,o].join("|"),c=Aq(a);return c}function Aq(n){let e=0;for(let t of n)e=Math.imul(31,e)+t.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function II(n){return[{provide:E6,useFactory:()=>($r("NgHttpTransferCache"),q({isCacheActive:!0},n))},{provide:CI,useValue:Dq,multi:!0,deps:[Aa,E6]},{provide:_1,multi:!0,useFactory:()=>{let e=V(fi),t=V(E6);return()=>{up(e).then(()=>{t.isCacheActive=!1})}}}]}var Fp=class extends g6{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Hp=class n extends Fp{static makeCurrent(){qT(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=Rq();return t==null?null:Oq(t)}resetBaseElement(){$4=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return w6(document.cookie,e)}},$4=null;function Rq(){return $4=$4||document.querySelector("base"),$4?$4.getAttribute("href"):null}function Oq(n){return new URL(n,document.baseURI).pathname}var Bp=class{addToWindow(e){Xt.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new W(5103,!1);return o},Xt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Xt.getAllAngularRootElements=()=>e.getAllRootElements();let t=r=>{let i=Xt.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};Xt.frameworkStabilizers||(Xt.frameworkStabilizers=[]),Xt.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,r){if(t==null)return null;let i=e.getTestability(t);return i??(r?Ra().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},Nq=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),jp=new G(""),xI=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new W(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(D(jp),D(he))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),I6=class{constructor(e){this._doc=e}},kp="ng-app-id",AI=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Oo(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${kp}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(kp),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(kp,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(D(Ve),D(S4),D(bo,8),D(Yt))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),Lp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},qp=/%COMP%/g,zI="%COMP%",Pq=`_nghost-${zI}`,Vq=`_ngcontent-${zI}`,kq=!0,Lq=new G("",{providedIn:"root",factory:()=>kq});function Fq(n){return Vq.replace(qp,n)}function Hq(n){return Pq.replace(qp,n)}function RI(n,e){return e.map(t=>t.replace(qp,n))}var D6=(()=>{class n{constructor(t,r,i,o,s,a,c,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Oo(a),this.defaultRenderer=new q4(t,s,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Oi.ShadowDom&&(r=qe(q({},r),{encapsulation:Oi.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof S6?i.applyToHost(t):i instanceof W4&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Oi.Emulated:o=new S6(c,l,r,this.appId,h,s,a,d);break;case Oi.ShadowDom:return new Up(c,l,t,r,s,a,this.nonce,d);default:o=new W4(c,l,r,h,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(D(xI),D(AI),D(S4),D(Lq),D(Ve),D(Yt),D(he),D(bo))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),q4=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Lp[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(DI(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(DI(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new W(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Lp[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Lp[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Ni.DashCase|Ni.Important)?e.style.setProperty(t,r,i&Ni.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Ni.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=Ra().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function DI(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Up=class extends q4{constructor(e,t,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=RI(i.id,i.styles);for(let h of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=h,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},W4=class extends q4{constructor(e,t,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?RI(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},S6=class extends W4{constructor(e,t,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,t,r,o,s,a,c,l),this.contentAttr=Fq(l),this.hostAttr=Hq(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},Bq=(()=>{class n extends I6{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(D(Ve))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),SI=["alt","control","meta","shift"],jq={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Uq={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},$q=(()=>{class n extends I6{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ra().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),SI.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=jq[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),SI.forEach(s=>{if(s!==i){let a=Uq[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(D(Ve))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})();function qq(){Hp.makeCurrent()}function Wq(){return new hi}function Gq(){return PC(document),document}var Yq=[{provide:Yt,useValue:Sp},{provide:z7,useValue:qq,multi:!0},{provide:Ve,useFactory:Gq,deps:[]}],y2e=hp(zT,"browser",Yq),Qq=new G(""),Kq=[{provide:P4,useClass:Bp,deps:[]},{provide:ap,useClass:r6,deps:[he,i6,P4]},{provide:r6,useClass:r6,deps:[he,i6,P4]}],Xq=[{provide:xu,useValue:"root"},{provide:hi,useFactory:Wq,deps:[]},{provide:jp,useClass:Bq,multi:!0,deps:[Ve,he,Yt]},{provide:jp,useClass:$q,multi:!0,deps:[Ve]},D6,AI,xI,{provide:Ir,useExisting:D6},{provide:E1,useClass:Nq,deps:[]},[]],OI=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:S4,useValue:t.appId}]}}static{this.\u0275fac=function(r){return new(r||n)(D(Qq,12))}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Me({providers:[...Xq,...Kq],imports:[sI,RT]})}}return n})();var NI=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(D(Ve))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var G4=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=D(Zq),i},providedIn:"root"})}}return n})(),Zq=(()=>{class n extends G4{constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case zr.NONE:return r;case zr.HTML:return Eo(r,"HTML")?Ar(r):P7(this._doc,String(r)).toString();case zr.STYLE:return Eo(r,"Style")?Ar(r):r;case zr.SCRIPT:if(Eo(r,"Script"))return Ar(r);throw new W(5200,!1);case zr.URL:return Eo(r,"URL")?Ar(r):Lu(String(r));case zr.RESOURCE_URL:if(Eo(r,"ResourceURL"))return Ar(r);throw new W(5201,!1);default:throw new W(5202,!1)}}bypassSecurityTrustHtml(t){return qC(t)}bypassSecurityTrustStyle(t){return WC(t)}bypassSecurityTrustScript(t){return GC(t)}bypassSecurityTrustUrl(t){return YC(t)}bypassSecurityTrustResourceUrl(t){return QC(t)}static{this.\u0275fac=function(r){return new(r||n)(D(Ve))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),$p=function(n){return n[n.NoHttpTransferCache=0]="NoHttpTransferCache",n[n.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",n}($p||{});function w2e(...n){let e=[],t=new Set,r=t.has($p.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:o}of n)t.add(o),i.length&&e.push(i);return di([[],OT(),t.has($p.NoHttpTransferCache)||r?[]:II({}),e])}var Ne="primary",c2=Symbol("RouteTitle"),Xp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function x1(n){return new Xp(n)}function Jq(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function eW(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Hi(n[t],e[t]))return!1;return!0}function Hi(n,e){let t=n?Zp(n):void 0,r=e?Zp(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!$I(n[i],e[i]))return!1;return!0}function Zp(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function $I(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function qI(n){return n.length>0?n[n.length-1]:null}function Cs(n){return oo(n)?n:w1(n)?Le(Promise.resolve(n)):te(n)}var tW={exact:GI,subset:YI},WI={exact:nW,subset:rW,ignored:()=>!0};function PI(n,e,t){return tW[t.paths](n.root,e.root,t.matrixParams)&&WI[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function nW(n,e){return Hi(n,e)}function GI(n,e,t){if(!Na(n.segments,e.segments)||!z6(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!GI(n.children[r],e.children[r],t))return!1;return!0}function rW(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>$I(n[t],e[t]))}function YI(n,e,t){return QI(n,e,e.segments,t)}function QI(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Na(i,t)||e.hasChildren()||!z6(i,t,r))}else if(n.segments.length===t.length){if(!Na(n.segments,t)||!z6(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!YI(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Na(n.segments,i)||!z6(n.segments,i,r)||!n.children[Ne]?!1:QI(n.children[Ne],e,o,r)}}function z6(n,e,t){return e.every((r,i)=>WI[t](n[i].parameters,r.parameters))}var _s=class{constructor(e=new st([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=x1(this.queryParams),this._queryParamMap}toString(){return sW.serialize(this)}},st=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return R6(this)}},Oa=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=x1(this.parameters),this._parameterMap}toString(){return XI(this)}};function iW(n,e){return Na(n,e)&&n.every((t,r)=>Hi(t.parameters,e[r].parameters))}function Na(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function oW(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Ne&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Ne&&(t=t.concat(e(i,r)))}),t}var l2=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>new e2,providedIn:"root"})}}return n})(),e2=class{parse(e){let t=new e9(e);return new _s(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Y4(e.root,!0)}`,r=lW(e.queryParams),i=typeof e.fragment=="string"?`#${aW(e.fragment)}`:"";return`${t}${r}${i}`}},sW=new e2;function R6(n){return n.segments.map(e=>XI(e)).join("/")}function Y4(n,e){if(!n.hasChildren())return R6(n);if(e){let t=n.children[Ne]?Y4(n.children[Ne],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Ne&&r.push(`${i}:${Y4(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=oW(n,(r,i)=>i===Ne?[Y4(n.children[Ne],!1)]:[`${i}:${Y4(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Ne]!=null?`${R6(n)}/${t[0]}`:`${R6(n)}/(${t.join("//")})`}}function KI(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function x6(n){return KI(n).replace(/%3B/gi,";")}function aW(n){return encodeURI(n)}function Jp(n){return KI(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function O6(n){return decodeURIComponent(n)}function VI(n){return O6(n.replace(/\+/g,"%20"))}function XI(n){return`${Jp(n.path)}${cW(n.parameters)}`}function cW(n){return Object.entries(n).map(([e,t])=>`;${Jp(e)}=${Jp(t)}`).join("")}function lW(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${x6(t)}=${x6(i)}`).join("&"):`${x6(t)}=${x6(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var uW=/^[^\/()?;#]+/;function Gp(n){let e=n.match(uW);return e?e[0]:""}var hW=/^[^\/()?;=#]+/;function dW(n){let e=n.match(hW);return e?e[0]:""}var fW=/^[^=?&#]+/;function pW(n){let e=n.match(fW);return e?e[0]:""}var mW=/^[^&#]+/;function gW(n){let e=n.match(mW);return e?e[0]:""}var e9=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new st([],{}):new st([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ne]=new st(e,t)),r}parseSegment(){let e=Gp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new W(4009,!1);return this.capture(e),new Oa(O6(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=dW(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Gp(this.remaining);i&&(r=i,this.capture(r))}e[O6(t)]=O6(r)}parseQueryParam(e){let t=pW(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=gW(this.remaining);s&&(r=s,this.capture(r))}let i=VI(t),o=VI(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Gp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new W(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ne);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[Ne]:new st([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new W(4011,!1)}};function ZI(n){return n.segments.length>0?new st([],{[Ne]:n}):n}function JI(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=JI(i);if(r===Ne&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new st(n.segments,e);return vW(t)}function vW(n){if(n.numberOfChildren===1&&n.children[Ne]){let e=n.children[Ne];return new st(n.segments.concat(e.segments),e.children)}return n}function A1(n){return n instanceof _s}function yW(n,e,t=null,r=null){let i=eD(n);return tD(i,e,t,r)}function eD(n){let e;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new st(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=ZI(r);return e??i}function tD(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Yp(i,i,i,t,r);let o=wW(e);if(o.toRoot())return Yp(i,i,new st([],{}),t,r);let s=_W(o,i,n),a=s.processChildren?X4(s.segmentGroup,s.index,o.commands):rD(s.segmentGroup,s.index,o.commands);return Yp(i,s.segmentGroup,a,t,r)}function N6(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function t2(n){return typeof n=="object"&&n!=null&&n.outlets}function Yp(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=nD(n,e,t);let a=ZI(JI(s));return new _s(a,o,i)}function nD(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=nD(o,e,t)}),new st(n.segments,r)}var P6=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&N6(r[0]))throw new W(4003,!1);let i=r.find(t2);if(i&&i!==qI(r))throw new W(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function wW(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new P6(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new P6(t,e,r)}var D1=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function _W(n,e,t){if(n.isAbsolute)return new D1(e,!0,0);if(!t)return new D1(e,!1,NaN);if(t.parent===null)return new D1(t,!0,0);let r=N6(n.commands[0])?0:1,i=t.segments.length-1+r;return bW(t,i,n.numberOfDoubleDots)}function bW(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new W(4005,!1);i=r.segments.length}return new D1(r,!1,i-o)}function EW(n){return t2(n[0])?n[0].outlets:{[Ne]:n}}function rD(n,e,t){if(n??=new st([],{}),n.segments.length===0&&n.hasChildren())return X4(n,e,t);let r=CW(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new st(n.segments.slice(0,r.pathIndex),{});return o.children[Ne]=new st(n.segments.slice(r.pathIndex),n.children),X4(o,0,i)}else return r.match&&i.length===0?new st(n.segments,{}):r.match&&!n.hasChildren()?t9(n,e,t):r.match?X4(n,0,i):t9(n,e,t)}function X4(n,e,t){if(t.length===0)return new st(n.segments,{});{let r=EW(t),i={};if(Object.keys(r).some(o=>o!==Ne)&&n.children[Ne]&&n.numberOfChildren===1&&n.children[Ne].segments.length===0){let o=X4(n.children[Ne],e,t);return new st(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=rD(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new st(n.segments,i)}}function CW(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(t2(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!LI(c,l,s))return o;r+=2}else{if(!LI(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function t9(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(t2(o)){let c=MW(o.outlets);return new st(r,c)}if(i===0&&N6(t[0])){let c=n.segments[e];r.push(new Oa(c.path,kI(t[0]))),i++;continue}let s=t2(o)?o.outlets[Ne]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&N6(a)?(r.push(new Oa(s,kI(a))),i+=2):(r.push(new Oa(s,{})),i++)}return new st(r,{})}function MW(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=t9(new st([],{}),0,r))}),e}function kI(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function LI(n,e,t){return n==t.path&&Hi(e,t.parameters)}var Z4="imperative",wn=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(wn||{}),Wr=class{constructor(e,t){this.id=e,this.url=t}},z1=class extends Wr{constructor(e,t,r="imperative",i=null){super(e,t),this.type=wn.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},mi=class extends Wr{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=wn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Vr=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Vr||{}),V6=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(V6||{}),bs=class extends Wr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=wn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Es=class extends Wr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=wn.NavigationSkipped}},n2=class extends Wr{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=wn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},k6=class extends Wr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=wn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},n9=class extends Wr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=wn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},r9=class extends Wr{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=wn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},i9=class extends Wr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=wn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},o9=class extends Wr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=wn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},s9=class{constructor(e){this.route=e,this.type=wn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},a9=class{constructor(e){this.route=e,this.type=wn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},c9=class{constructor(e){this.snapshot=e,this.type=wn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},l9=class{constructor(e){this.snapshot=e,this.type=wn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},u9=class{constructor(e){this.snapshot=e,this.type=wn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},h9=class{constructor(e){this.snapshot=e,this.type=wn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},L6=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=wn.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},r2=class{},i2=class{constructor(e){this.url=e}};var d9=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new u2,this.attachRef=null}},u2=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new d9,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),F6=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=f9(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=f9(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=p9(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return p9(e,this._root).map(t=>t.value)}};function f9(n,e){if(n===e.value)return e;for(let t of e.children){let r=f9(n,t);if(r)return r}return null}function p9(n,e){if(n===e.value)return[e];for(let t of e.children){let r=p9(n,t);if(r.length)return r.unshift(e),r}return[]}var Pr=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function I1(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var H6=class extends F6{constructor(e,t){super(e),this.snapshot=t,M9(this,e)}toString(){return this.snapshot.toString()}};function iD(n){let e=TW(n),t=new En([new Oa("",{})]),r=new En({}),i=new En({}),o=new En({}),s=new En(""),a=new Pa(t,r,o,s,i,Ne,n,e.root);return a.snapshot=e.root,new H6(new Pr(a,[]),e)}function TW(n){let e={},t={},r={},i="",o=new o2([],e,r,i,t,Ne,n,null,{});return new B6("",new Pr(o,[]))}var Pa=class{constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ce(l=>l[c2]))??te(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ce(e=>x1(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ce(e=>x1(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function C9(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:q(q({},e.params),n.params),data:q(q({},e.data),n.data),resolve:q(q(q(q({},n.data),e.data),i?.data),n._resolvedData)}:r={params:q({},n.params),data:q({},n.data),resolve:q(q({},n.data),n._resolvedData??{})},i&&sD(i)&&(r.resolve[c2]=i.title),r}var o2=class{get title(){return this.data?.[c2]}constructor(e,t,r,i,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=x1(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=x1(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},B6=class extends F6{constructor(e,t){super(t),this.url=e,M9(this,t)}toString(){return oD(this._root)}};function M9(n,e){e.value._routerState=n,e.children.forEach(t=>M9(n,t))}function oD(n){let e=n.children.length>0?` { ${n.children.map(oD).join(", ")} } `:"";return`${n.value}${e}`}function Qp(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Hi(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Hi(e.params,t.params)||n.paramsSubject.next(t.params),eW(e.url,t.url)||n.urlSubject.next(t.url),Hi(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function m9(n,e){let t=Hi(n.params,e.params)&&iW(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||m9(n.parent,e.parent))}function sD(n){return typeof n.title=="string"||n.title===null}var IW=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ne,this.activateEvents=new Ke,this.deactivateEvents=new Ke,this.attachEvents=new Ke,this.detachEvents=new Ke,this.parentContexts=V(u2),this.location=V(An),this.changeDetector=V(Qt),this.environmentInjector=V(vn),this.inputBinder=V(W6,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new W(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new W(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new W(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new W(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new g9(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=He({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Jt]})}}return n})(),g9=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Pa?this.route:e===u2?this.childContexts:this.parent.get(e,t)}},W6=new G(""),FI=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=la([r.queryParams,r.params,r.data]).pipe(ct(([o,s,a],c)=>(a=q(q(q({},o),s),a),c===0?te(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=NT(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})();function DW(n,e,t){let r=s2(n,e._root,t?t._root:void 0);return new H6(r,e)}function s2(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=SW(n,e,t);return new Pr(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>s2(n,a)),s}}let r=xW(e.value),i=e.children.map(o=>s2(n,o));return new Pr(r,i)}}function SW(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return s2(n,r,i);return s2(n,r)})}function xW(n){return new Pa(new En(n.url),new En(n.params),new En(n.queryParams),new En(n.fragment),new En(n.data),n.outlet,n.component,n)}var aD="ngNavigationCancelingError";function cD(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=A1(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=lD(!1,Vr.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function lD(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[aD]=!0,t.cancellationCode=e,t}function AW(n){return uD(n)&&A1(n.url)}function uD(n){return!!n&&n[aD]}var zW=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Dr({type:n,selectors:[["ng-component"]],standalone:!0,features:[Or],decls:1,vars:0,template:function(r,i){r&1&&Bt(0,"router-outlet")},dependencies:[IW],encapsulation:2})}}return n})();function RW(n,e){return n.providers&&!n._injector&&(n._injector=Xu(n.providers,e,`Route: ${n.path}`)),n._injector??e}function T9(n){let e=n.children&&n.children.map(T9),t=e?qe(q({},n),{children:e}):q({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ne&&(t.component=zW),t}function Bi(n){return n.outlet||Ne}function OW(n,e){let t=n.filter(r=>Bi(r)===e);return t.push(...n.filter(r=>Bi(r)!==e)),t}function h2(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var NW=(n,e,t,r)=>ce(i=>(new v9(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),v9=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Qp(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=I1(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=I1(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=I1(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=I1(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new h9(o.value.snapshot))}),e.children.length&&this.forwardEvent(new l9(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Qp(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Qp(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=h2(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},j6=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},S1=class{constructor(e,t){this.component=e,this.route=t}};function PW(n,e,t){let r=n._root,i=e?e._root:null;return Q4(r,i,t,[r.value])}function VW(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function O1(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!DE(n)?n:e.get(n):r}function Q4(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=I1(e);return n.children.forEach(s=>{kW(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>J4(a,t.getContext(s),i)),i}function kW(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=LW(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new j6(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Q4(n,e,a?a.children:null,r,i):Q4(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new S1(a.outlet.component,s))}else s&&J4(e,a,i),i.canActivateChecks.push(new j6(r)),o.component?Q4(n,null,a?a.children:null,r,i):Q4(n,null,t,r,i);return i}function LW(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Na(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Na(n.url,e.url)||!Hi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!m9(n,e)||!Hi(n.queryParams,e.queryParams);case"paramsChange":default:return!m9(n,e)}}function J4(n,e,t){let r=I1(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?J4(s,e.children.getContext(o),t):J4(s,null,t):J4(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new S1(e.outlet.component,i)):t.canDeactivateChecks.push(new S1(null,i)):t.canDeactivateChecks.push(new S1(null,i))}function d2(n){return typeof n=="function"}function FW(n){return typeof n=="boolean"}function HW(n){return n&&d2(n.canLoad)}function BW(n){return n&&d2(n.canActivate)}function jW(n){return n&&d2(n.canActivateChild)}function UW(n){return n&&d2(n.canDeactivate)}function $W(n){return n&&d2(n.canMatch)}function hD(n){return n instanceof so||n?.name==="EmptyError"}var A6=Symbol("INITIAL_VALUE");function R1(){return ct(n=>la(n.map(e=>e.pipe(Lt(1),Cn(A6)))).pipe(ce(e=>{for(let t of e)if(t!==!0){if(t===A6)return A6;if(t===!1||t instanceof _s)return t}return!0}),We(e=>e!==A6),Lt(1)))}function qW(n,e){return zt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?te(qe(q({},t),{guardsResult:!0})):WW(s,r,i,n).pipe(zt(a=>a&&FW(a)?GW(r,o,n,e):te(a)),ce(a=>qe(q({},t),{guardsResult:a})))})}function WW(n,e,t,r){return Le(n).pipe(zt(i=>ZW(i.component,i.route,t,e,r)),Mr(i=>i!==!0,!0))}function GW(n,e,t,r){return Le(e).pipe(co(i=>Ai(QW(i.route.parent,r),YW(i.route,r),XW(n,i.path,t),KW(n,i.route,t))),Mr(i=>i!==!0,!0))}function YW(n,e){return n!==null&&e&&e(new u9(n)),te(!0)}function QW(n,e){return n!==null&&e&&e(new c9(n)),te(!0)}function KW(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return te(!0);let i=r.map(o=>R0(()=>{let s=h2(e)??t,a=O1(o,s),c=BW(a)?a.canActivate(e,n):Ur(s,()=>a(e,n));return Cs(c).pipe(Mr())}));return te(i).pipe(R1())}function XW(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>VW(s)).filter(s=>s!==null).map(s=>R0(()=>{let a=s.guards.map(c=>{let l=h2(s.node)??t,h=O1(c,l),d=jW(h)?h.canActivateChild(r,n):Ur(l,()=>h(r,n));return Cs(d).pipe(Mr())});return te(a).pipe(R1())}));return te(o).pipe(R1())}function ZW(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return te(!0);let s=o.map(a=>{let c=h2(e)??i,l=O1(a,c),h=UW(l)?l.canDeactivate(n,e,t,r):Ur(c,()=>l(n,e,t,r));return Cs(h).pipe(Mr())});return te(s).pipe(R1())}function JW(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return te(!0);let o=i.map(s=>{let a=O1(s,n),c=HW(a)?a.canLoad(e,t):Ur(n,()=>a(e,t));return Cs(c)});return te(o).pipe(R1(),dD(r))}function dD(n){return mf(Rt(e=>{if(A1(e))throw cD(n,e)}),ce(e=>e===!0))}function eG(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return te(!0);let o=i.map(s=>{let a=O1(s,n),c=$W(a)?a.canMatch(e,t):Ur(n,()=>a(e,t));return Cs(c)});return te(o).pipe(R1(),dD(r))}var a2=class{constructor(e){this.segmentGroup=e||null}},U6=class extends Error{constructor(e){super(),this.urlTree=e}};function T1(n){return qc(new a2(n))}function tG(n){return qc(new W(4e3,!1))}function nG(n){return qc(lD(!1,Vr.GuardRejected))}var y9=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return te(r);if(i.numberOfChildren>1||!i.children[Ne])return tG(e.redirectTo);i=i.children[Ne]}}applyRedirectCommands(e,t,r){let i=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t.startsWith("/"))throw new U6(i);return i}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new _s(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new st(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new W(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},w9={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function rG(n,e,t,r,i){let o=I9(n,e,t);return o.matched?(r=RW(e,r),eG(r,e,t,i).pipe(ce(s=>s===!0?o:q({},w9)))):te(o)}function I9(n,e,t){if(e.path==="**")return iG(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?q({},w9):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Jq)(t,n,e);if(!i)return q({},w9);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?q(q({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function iG(n){return{matched:!0,parameters:n.length>0?qI(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function HI(n,e,t,r){return t.length>0&&aG(n,t,r)?{segmentGroup:new st(e,sG(r,new st(t,n.children))),slicedSegments:[]}:t.length===0&&cG(n,t,r)?{segmentGroup:new st(n.segments,oG(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new st(n.segments,n.children),slicedSegments:t}}function oG(n,e,t,r){let i={};for(let o of t)if(G6(n,e,o)&&!r[Bi(o)]){let s=new st([],{});i[Bi(o)]=s}return q(q({},r),i)}function sG(n,e){let t={};t[Ne]=e;for(let r of n)if(r.path===""&&Bi(r)!==Ne){let i=new st([],{});t[Bi(r)]=i}return t}function aG(n,e,t){return t.some(r=>G6(n,e,r)&&Bi(r)!==Ne)}function cG(n,e,t){return t.some(r=>G6(n,e,r))}function G6(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function lG(n,e,t,r){return Bi(n)!==r&&(r===Ne||!G6(e,t,n))?!1:I9(e,n,t).matched}function uG(n,e,t){return e.length===0&&!n.children[t]}var _9=class{};function hG(n,e,t,r,i,o,s="emptyOnly"){return new b9(n,e,t,r,i,s,o).recognize()}var dG=31,b9=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new y9(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new W(4002,`'${e.segmentGroup}'`)}recognize(){let e=HI(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ce(t=>{let r=new o2([],Object.freeze({}),Object.freeze(q({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ne,this.rootComponentType,null,{}),i=new Pr(r,t),o=new B6("",i),s=yW(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Ne).pipe(si(r=>{if(r instanceof U6)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof a2?this.noMatchError(r):r}))}inheritParamsAndData(e,t){let r=e.value,i=C9(r,t,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,t,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0).pipe(ce(o=>o instanceof Pr?[o]:[]))}processChildren(e,t,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return Le(i).pipe(co(o=>{let s=r.children[o],a=OW(t,o);return this.processSegmentGroup(e,a,s,o)}),fa((o,s)=>(o.push(...s),o)),ts(null),Sf(),zt(o=>{if(o===null)return T1(r);let s=fD(o);return fG(s),te(s)}))}processSegment(e,t,r,i,o,s){return Le(t).pipe(co(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,o,s).pipe(si(c=>{if(c instanceof a2)return te(null);throw c}))),Mr(a=>!!a),si(a=>{if(hD(a))return uG(r,i,o)?te(new _9):T1(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,o,s,a){return lG(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s):T1(i):T1(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:h}=I9(t,i,o);if(!a)return T1(t);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>dG&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,d).pipe(zt(m=>this.processSegment(e,r,t,m.concat(h),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){let s=rG(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),s.pipe(ct(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(ct(({routes:c})=>{let l=r._loadedInjector??e,{consumedSegments:h,remainingSegments:d,parameters:m}=a,g=new o2(h,m,Object.freeze(q({},this.urlTree.queryParams)),this.urlTree.fragment,mG(r),Bi(r),r.component??r._loadedComponent??null,r,gG(r)),{segmentGroup:y,slicedSegments:_}=HI(t,h,d,c);if(_.length===0&&y.hasChildren())return this.processChildren(l,c,y).pipe(ce(z=>z===null?null:new Pr(g,z)));if(c.length===0&&_.length===0)return te(new Pr(g,[]));let M=Bi(r)===o;return this.processSegment(l,c,y,_,M?Ne:o,!0).pipe(ce(z=>new Pr(g,z instanceof Pr?[z]:[])))}))):T1(t)))}getChildConfig(e,t,r){return t.children?te({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?te({routes:t._loadedRoutes,injector:t._loadedInjector}):JW(e,t,r,this.urlSerializer).pipe(zt(i=>i?this.configLoader.loadChildren(e,t).pipe(Rt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):nG(t))):te({routes:[],injector:e})}};function fG(n){n.sort((e,t)=>e.value.outlet===Ne?-1:t.value.outlet===Ne?1:e.value.outlet.localeCompare(t.value.outlet))}function pG(n){let e=n.value.routeConfig;return e&&e.path===""}function fD(n){let e=[],t=new Set;for(let r of n){if(!pG(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=fD(r.children);e.push(new Pr(r.value,i))}return e.filter(r=>!t.has(r))}function mG(n){return n.data||{}}function gG(n){return n.resolve||{}}function vG(n,e,t,r,i,o){return zt(s=>hG(n,e,t,r,s.extractedUrl,i,o).pipe(ce(({state:a,tree:c})=>qe(q({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function yG(n,e){return zt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return te(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of pD(c))s.add(l);let a=0;return Le(s).pipe(co(c=>o.has(c)?wG(c,r,n,e):(c.data=C9(c,c.parent,n).resolve,te(void 0))),Rt(()=>a++),Gc(1),zt(c=>a===s.size?te(t):Qn))})}function pD(n){let e=n.children.map(t=>pD(t)).flat();return[n,...e]}function wG(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!sD(i)&&(o[c2]=i.title),_G(o,n,e,r).pipe(ce(s=>(n._resolvedData=s,n.data=C9(n,n.parent,t).resolve,null)))}function _G(n,e,t,r){let i=Zp(n);if(i.length===0)return te({});let o={};return Le(i).pipe(zt(s=>bG(n[s],e,t,r).pipe(Mr(),Rt(a=>{o[s]=a}))),Gc(1),ha(o),si(s=>hD(s)?Qn:qc(s)))}function bG(n,e,t,r){let i=h2(e)??r,o=O1(n,i),s=o.resolve?o.resolve(e,t):Ur(i,()=>o(e,t));return Cs(s)}function Kp(n){return ct(e=>{let t=n(e);return t?Le(t).pipe(ce(()=>e)):te(e)})}var mD=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Ne);return r}getResolvedTitleForRoute(t){return t.data[c2]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>V(EG),providedIn:"root"})}}return n})(),EG=(()=>{class n extends mD{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(D(NI))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),f2=new G("",{providedIn:"root",factory:()=>({})}),$6=new G(""),D9=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=V(s6)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return te(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Cs(t.loadComponent()).pipe(ce(gD),Rt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Cr(()=>{this.componentLoaders.delete(t)})),i=new Jo(r,()=>new oe).pipe(Hc());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return te({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=CG(r,this.compiler,t,this.onLoadEndListener).pipe(Cr(()=>{this.childrenLoaders.delete(r)})),s=new Jo(o,()=>new oe).pipe(Hc());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function CG(n,e,t,r){return Cs(n.loadChildren()).pipe(ce(gD),zt(i=>i instanceof y4||Array.isArray(i)?te(i):Le(e.compileModuleAsync(i))),ce(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get($6,[],{optional:!0,self:!0}).flat()),{routes:s.map(T9),injector:o}}))}function MG(n){return n&&typeof n=="object"&&"default"in n}function gD(n){return MG(n)?n.default:n}var S9=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>V(TG),providedIn:"root"})}}return n})(),TG=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),vD=new G(""),yD=new G("");function IG(n,e,t){let r=n.get(yD),i=n.get(Ve);return n.get(he).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),DG(n))),{onViewTransitionCreated:c}=r;return c&&Ur(n,()=>c({transition:a,from:e,to:t})),s})}function DG(n){return new Promise(e=>{hs(e,{injector:n})})}var x9=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new oe,this.transitionAbortSubject=new oe,this.configLoader=V(D9),this.environmentInjector=V(vn),this.urlSerializer=V(l2),this.rootContexts=V(u2),this.location=V(gs),this.inputBindingEnabled=V(W6,{optional:!0})!==null,this.titleStrategy=V(mD),this.options=V(f2,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=V(S9),this.createViewTransition=V(vD,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>te(void 0),this.rootComponentType=null;let t=i=>this.events.next(new s9(i)),r=i=>this.events.next(new a9(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(qe(q(q({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new En({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Z4,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(We(o=>o.id!==0),ce(o=>qe(q({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ct(o=>{let s=!1,a=!1;return te(o).pipe(ct(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Vr.SupersededByNewNavigation),Qn;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?qe(q({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&h!=="reload"){let d="";return this.events.next(new Es(c.id,this.urlSerializer.serialize(c.rawUrl),d,V6.IgnoredSameUrlNavigation)),c.resolve(null),Qn}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return te(c).pipe(ct(d=>{let m=this.transitions?.getValue();return this.events.next(new z1(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),m!==this.transitions?.getValue()?Qn:Promise.resolve(d)}),vG(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Rt(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=qe(q({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let m=new k6(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:m,source:g,restoredState:y,extras:_}=c,M=new z1(d,this.urlSerializer.serialize(m),g,y);this.events.next(M);let z=iD(this.rootComponentType).snapshot;return this.currentTransition=o=qe(q({},c),{targetSnapshot:z,urlAfterRedirects:m,extras:qe(q({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,te(o)}else{let d="";return this.events.next(new Es(c.id,this.urlSerializer.serialize(c.extractedUrl),d,V6.IgnoredByUrlHandlingStrategy)),c.resolve(null),Qn}}),Rt(c=>{let l=new n9(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),ce(c=>(this.currentTransition=o=qe(q({},c),{guards:PW(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),qW(this.environmentInjector,c=>this.events.next(c)),Rt(c=>{if(o.guardsResult=c.guardsResult,A1(c.guardsResult))throw cD(this.urlSerializer,c.guardsResult);let l=new r9(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),We(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Vr.GuardRejected),!1)),Kp(c=>{if(c.guards.canActivateChecks.length)return te(c).pipe(Rt(l=>{let h=new i9(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),ct(l=>{let h=!1;return te(l).pipe(yG(this.paramsInheritanceStrategy,this.environmentInjector),Rt({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",Vr.NoDataFromResolver)}}))}),Rt(l=>{let h=new o9(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),Kp(c=>{let l=h=>{let d=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(h.routeConfig).pipe(Rt(m=>{h.component=m}),ce(()=>{})));for(let m of h.children)d.push(...l(m));return d};return la(l(c.targetSnapshot.root)).pipe(ts(null),Lt(1))}),Kp(()=>this.afterPreactivation()),ct(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,h=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return h?Le(h).pipe(ce(()=>o)):te(o)}),ce(c=>{let l=DW(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=qe(q({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),Rt(()=>{this.events.next(new r2)}),NW(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Lt(1),Rt({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new mi(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),lt(this.transitionAbortSubject.pipe(Rt(c=>{throw c}))),Cr(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Vr.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),si(c=>{if(a=!0,uD(c))this.events.next(new bs(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),AW(c)?this.events.next(new i2(c.url)):o.resolve(!1);else{this.events.next(new n2(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(c))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return Qn}))}))}cancelNavigationTransition(t,r,i){let o=new bs(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function SG(n){return n!==Z4}var xG=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>V(AG),providedIn:"root"})}}return n})(),E9=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},AG=(()=>{class n extends E9{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=h1(n)))(i||n)}})()}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),wD=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>V(zG),providedIn:"root"})}}return n})(),zG=(()=>{class n extends wD{constructor(){super(...arguments),this.location=V(gs),this.urlSerializer=V(l2),this.options=V(f2,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=V(S9),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new _s,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=iD(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof z1)this.stateMemento=this.createStateMemento();else if(t instanceof Es)this.rawUrlTree=r.initialUrl;else if(t instanceof k6){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else t instanceof r2?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):t instanceof bs&&(t.code===Vr.GuardRejected||t.code===Vr.NoDataFromResolver)?this.restoreHistory(r):t instanceof n2?this.restoreHistory(r,!0):t instanceof mi&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=q(q({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=q(q({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=h1(n)))(i||n)}})()}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),K4=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(K4||{});function _D(n,e){n.events.pipe(We(t=>t instanceof mi||t instanceof bs||t instanceof n2||t instanceof Es),ce(t=>t instanceof mi||t instanceof Es?K4.COMPLETE:(t instanceof bs?t.code===Vr.Redirect||t.code===Vr.SupersededByNewNavigation:!1)?K4.REDIRECTING:K4.FAILED),We(t=>t!==K4.REDIRECTING),Lt(1)).subscribe(()=>{e()})}function RG(n){throw n}var OG={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},NG={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},gi=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=V(n6),this.stateManager=V(wD),this.options=V(f2,{optional:!0})||{},this.pendingTasks=V(ds),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=V(x9),this.urlSerializer=V(l2),this.location=V(gs),this.urlHandlingStrategy=V(S9),this._events=new oe,this.errorHandler=this.options.errorHandler||RG,this.navigated=!1,this.routeReuseStrategy=V(xG),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=V($6,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!V(W6,{optional:!0}),this.eventsSubscription=new Je,this.isNgZoneEnabled=V(he)instanceof he&&he.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof bs&&r.code!==Vr.Redirect&&r.code!==Vr.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof mi)this.navigated=!0;else if(r instanceof i2){let s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||SG(i.source)};this.scheduleNavigation(s,Z4,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}VG(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Z4,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=q({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(T9),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,h=null;switch(a){case"merge":h=q(q({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let d;try{let m=i?i.snapshot:this.routerState.snapshot.root;d=eD(m)}catch{(typeof t[0]!="string"||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return tD(d,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=A1(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Z4,null,r)}navigate(t,r={skipLocationChange:!1}){return PG(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=q({},OG):r===!1?i=q({},NG):i=r,A1(t))return PI(this.currentUrlTree,t,i);let o=this.parseUrl(t);return PI(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,m)=>{a=d,c=m});let h=this.pendingTasks.add();return _D(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function PG(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new W(4008,!1)}function VG(n){return!(n instanceof r2)&&!(n instanceof i2)}var BI=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new oe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof mi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t!=null?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:tM(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(H(gi),H(Pa),A7("tabindex"),H(Jn),H(ke),H(Ro))}}static{this.\u0275dir=He({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&tr("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&g1("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[be.HasDecoratorInputTransform,"preserveFragment","preserveFragment",bt],skipLocationChange:[be.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",bt],replaceUrl:[be.HasDecoratorInputTransform,"replaceUrl","replaceUrl",bt],routerLink:"routerLink"},standalone:!0,features:[er,Jt]})}}return n})(),k2e=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ke,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof mi&&this.update()})}ngAfterContentInit(){te(this.links.changes,te(null)).pipe(xi()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Le(t).pipe(xi()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=kG(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(r){return new(r||n)(H(gi),H(ke),H(Jn),H(Qt),H(BI,8))}}static{this.\u0275dir=He({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&Ju(o,BI,5),r&2){let s;v1(s=y1())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Jt]})}}return n})();function kG(n){return!!n.paths}var q6=class{};var LG=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(We(t=>t instanceof mi),co(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Xu(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Le(i).pipe(xi())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=te(null);let o=i.pipe(zt(s=>s===null?te(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Le([o,s]).pipe(xi())}else return o})}static{this.\u0275fac=function(r){return new(r||n)(D(gi),D(s6),D(vn),D(q6),D(D9))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),bD=new G(""),FG=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=V(vn),s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof z1?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof mi?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Es&&t.code===V6.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof L6&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>R(this,null,function*(){yield new Promise(i=>{setTimeout(()=>{i()}),hs(()=>{i()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new L6(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){pM()}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})();function HG(n){return n.routerState.root}function p2(n,e){return{\u0275kind:n,\u0275providers:e}}function BG(){let n=V(Ft);return e=>{let t=n.get(fi);if(e!==t.components[0])return;let r=n.get(gi),i=n.get(ED);n.get(A9)===1&&r.initialNavigation(),n.get(CD,null,Fe.Optional)?.setUpPreloading(),n.get(bD,null,Fe.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var ED=new G("",{factory:()=>new oe}),A9=new G("",{providedIn:"root",factory:()=>1});function jG(){return p2(2,[{provide:A9,useValue:0},{provide:o6,multi:!0,deps:[Ft],useFactory:e=>{let t=e.get(WT,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(gi),o=e.get(ED);_D(i,()=>{r(!0)}),e.get(x9).afterPreactivation=()=>(r(!0),o.closed?te(void 0):o),i.initialNavigation()}))}}])}function UG(){return p2(3,[{provide:o6,multi:!0,useFactory:()=>{let e=V(gi);return()=>{e.setUpLocationChangeListener()}}},{provide:A9,useValue:2}])}var CD=new G("");function $G(n){return p2(0,[{provide:CD,useExisting:LG},{provide:q6,useExisting:n}])}function qG(){return p2(8,[FI,{provide:W6,useExisting:FI}])}function WG(n){let e=[{provide:vD,useValue:IG},{provide:yD,useValue:q({skipNextTransition:!!n?.skipInitialTransition},n)}];return p2(9,e)}var jI=new G("ROUTER_FORROOT_GUARD"),GG=[gs,{provide:l2,useClass:e2},gi,u2,{provide:Pa,useFactory:HG,deps:[gi]},D9,[]],L2e=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[GG,[],{provide:$6,multi:!0,useValue:t},{provide:jI,useFactory:XG,deps:[[gi,new vo,new Su]]},{provide:f2,useValue:r||{}},r?.useHash?QG():KG(),YG(),r?.preloadingStrategy?$G(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?ZG(r):[],r?.bindToComponentInputs?qG().\u0275providers:[],r?.enableViewTransitions?WG().\u0275providers:[],JG()]}}static forChild(t){return{ngModule:n,providers:[{provide:$6,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(D(jI,8))}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Me({})}}return n})();function YG(){return{provide:bD,useFactory:()=>{let n=V(aI),e=V(he),t=V(f2),r=V(x9),i=V(l2);return t.scrollOffset&&n.setOffset(t.scrollOffset),new FG(i,r,n,e,t)}}}function QG(){return{provide:Ro,useClass:YT}}function KG(){return{provide:Ro,useClass:Ip}}function XG(n){return"guarded"}function ZG(n){return[n.initialNavigation==="disabled"?UG().\u0275providers:[],n.initialNavigation==="enabledBlocking"?jG().\u0275providers:[]]}var UI=new G("");function JG(){return[{provide:UI,useFactory:BG},{provide:_1,multi:!0,useExisting:UI}]}var tY="firebase",nY="10.14.1";Xo(tY,nY,"app");var ka=new as("ANGULARFIRE2_VERSION");var rY=(n,e)=>{let t=e?[e]:q_(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Va=class{constructor(){return rY(iY)}},iY="app-check";function z9(){}var Y6=class{zone;delegate;constructor(e,t=Cf){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,r)}},R9=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",z9,{},z9,z9)),t.pipe(Rt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Q6=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Y6(Zone.current)),this.insideAngular=t.run(()=>new Y6(Zone.current,ar)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(D(he))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function MD(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function Y2e(n){return n.pipe(Er(MD().outsideAngular))}function mr(n){return oY(MD())(n)}function oY(n){return function(t){return t=t.lift(new R9(n.ngZone)),t.pipe(oi(n.outsideAngular),Er(n.insideAngular))}}var sY="firebase",aY="10.14.1";Yn.registerVersion(sY,aY,"app-compat");var cY=["ngOnDestroy"],DD=(n,e,t,r={})=>new Proxy(n,{get:(i,o)=>t.runOutsideAngular(()=>{if(n[o])return r?.spy?.get&&r.spy.get(o,n[o]),n[o];if(cY.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(a=>{let c=a?.[o];return typeof c=="function"?c.bind(a):c?.then?c.then(l=>t.run(()=>l)):t.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,l)=>s.then(h=>{let d=h?.(...l);return r?.spy?.apply&&r.spy.apply(o,l,d),d})})})});var K6=class{constructor(e){return e}},N1=new G("angularfire2.app.options"),P1=new G("angularfire2.app.name");function m2(n,e,t){let r=typeof t=="string"&&t||"[DEFAULT]",i=typeof t=="object"&&t||{};i.name=i.name||r;let s=Yn.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>Yn.initializeApp(n,i));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){let a=!!module.hot;lY("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new K6(s)}var lY=(n,...e)=>{za()&&typeof console<"u"&&console[n](...e)},uY={provide:K6,useFactory:m2,deps:[N1,he,[new vo,P1]]},r3e=(()=>{class n{static initializeApp(t,r){return{ngModule:n,providers:[{provide:N1,useValue:t},{provide:P1,useValue:r}]}}constructor(t){Yn.registerVersion("angularfire",ka.full,"core"),Yn.registerVersion("angularfire",ka.full,"app-compat"),Yn.registerVersion("angular",CT.full,t.toString())}static \u0275fac=function(r){return new(r||n)(D(Yt))};static \u0275mod=Te({type:n});static \u0275inj=Me({providers:[uY]})}return n})();function X6(n,e,t,r,i){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return hY(i,s)||(ID("error",`${e} was already initialized on the ${t} Firebase App with different settings.${dY?" You may need to reload as Firebase is not HMR aware.":""}`),ID("warn",{is:i,was:s})),o;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([n,a,i]),a}}function hY(n,e){try{return n.toString()===e.toString()}catch{return n===e}}var dY=typeof module<"u"&&!!module.hot,ID=(n,...e)=>{za()&&typeof console<"u"&&console[n](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var mY=new Map,gY={activated:!1,tokenObservers:[]},vY={initialized:!1,enabled:!1};function vi(n){return mY.get(n)||Object.assign({},gY)}function RD(){return vY}var yY="https://content-firebaseappcheck.googleapis.com/v1";var wY="exchangeDebugToken",SD={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},f3e=24*60*60*1e3;var N9=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return R(this,null,function*(){this.stop();try{this.pending=new Zd,this.pending.promise.catch(t=>{}),yield _Y(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Zd,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function _Y(n){return new Promise(e=>{setTimeout(e,n)})}var bY={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Ms=new U_("appCheck","AppCheck",bY);function OD(n){if(!vi(n).activated)throw Ms.create("use-before-activation",{appName:n.name})}function ND(r,i){return R(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let g=yield s.getHeartbeatsHeader();g&&(o["X-Firebase-Client"]=g)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(n,a)}catch(g){throw Ms.create("fetch-network-error",{originalErrorMessage:g?.message})}if(c.status!==200)throw Ms.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(g){throw Ms.create("fetch-parse-error",{originalErrorMessage:g?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Ms.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let d=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+d,issuedAtTimeMillis:m}})}function PD(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${yY}/projects/${t}/apps/${r}:${wY}?key=${i}`,body:{debug_token:e}}}var EY="firebase-app-check-database",CY=1,P9="firebase-app-check-store";var Z6=null;function MY(){return Z6||(Z6=new Promise((n,e)=>{try{let t=indexedDB.open(EY,CY);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Ms.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(P9,{keyPath:"compositeKey"})}}}catch(t){e(Ms.create("storage-open",{originalErrorMessage:t?.message}))}}),Z6)}function TY(n,e){return IY(DY(n),e)}function IY(n,e){return R(this,null,function*(){let r=(yield MY()).transaction(P9,"readwrite"),o=r.objectStore(P9).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(Ms.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function DY(n){return`${n.options.appId}-${n.name}`}var V9=new n0("@firebase/app-check");function O9(n,e){return t0()?TY(n,e).catch(t=>{V9.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function VD(){return RD().enabled}function kD(){return R(this,null,function*(){let n=RD();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var SY={error:"UNKNOWN_ERROR"};function xY(n){return H_.encodeString(JSON.stringify(n),!1)}function k9(n,e=!1){return R(this,null,function*(){let t=n.app;OD(t);let r=vi(t),i=r.token,o;if(i&&!g2(i)&&(r.token=void 0,i=void 0),!i){let c=yield r.cachedTokenPromise;c&&(g2(c)?i=c:yield O9(t,void 0))}if(!e&&i&&g2(i))return{token:i.token};let s=!1;if(VD()){r.exchangeTokenPromise||(r.exchangeTokenPromise=ND(PD(t,yield kD()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let c=yield r.exchangeTokenPromise;return yield O9(t,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield vi(t).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"?V9.warn(c.message):V9.error(c),o=c}let a;return i?o?g2(i)?a={token:i.token,internalError:o}:a=AD(o):(a={token:i.token},r.token=i,yield O9(t,i)):a=AD(o),s&&OY(t,a),a})}function AY(n){return R(this,null,function*(){let e=n.app;OD(e);let{provider:t}=vi(e);if(VD()){let r=yield kD(),{token:i}=yield ND(PD(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function zY(n,e,t,r){let{app:i}=n,o=vi(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&g2(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),xD(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>xD(n))}function LD(n,e){let t=vi(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function xD(n){let{app:e}=n,t=vi(e),r=t.tokenRefresher;r||(r=RY(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function RY(n){let{app:e}=n;return new N9(()=>R(this,null,function*(){let t=vi(e),r;if(t.token?r=yield k9(n,!0):r=yield k9(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=vi(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},SD.RETRIAL_MIN_WAIT,SD.RETRIAL_MAX_WAIT)}function OY(n,e){let t=vi(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function g2(n){return n.expireTimeMillis-Date.now()>0}function AD(n){return{token:xY(SY),error:n}}var L9=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=vi(this.app);for(let t of e)LD(this.app,t.next);return Promise.resolve()}};function NY(n,e){return new L9(n,e)}function PY(n){return{getToken:e=>k9(n,e),getLimitedUseToken:()=>AY(n),addTokenListener:e=>zY(n,"INTERNAL",e),removeTokenListener:e=>LD(n.app,e)}}var VY="@firebase/app-check",kY="0.8.8";var LY="app-check",zD="app-check-internal";function FY(){Kl(new oa(LY,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return NY(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(zD).initialize()})),Kl(new oa(zD,n=>{let e=n.getProvider("app-check").getImmediate();return PY(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Xo(VY,kY)}FY();var HY=["localhost","0.0.0.0","127.0.0.1"],T3e=typeof window<"u"&&HY.includes(window.location.hostname);var F9=new G("angularfire2.auth.use-emulator"),H9=new G("angularfire2.auth.settings"),B9=new G("angularfire2.auth.tenant-id"),j9=new G("angularfire2.auth.langugage-code"),U9=new G("angularfire2.auth.use-device-language"),$9=new G("angularfire.auth.persistence"),q9=(n,e,t,r,i,o,s,a)=>X6(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{let c=e.runOutsideAngular(()=>n.auth());if(t&&c.useEmulator(...t),r&&(c.tenantId=r),c.languageCode=i,o&&c.useDeviceLanguage(),s)for(let[l,h]of Object.entries(s))c.settings[l]=h;return a&&c.setPersistence(a),c},[t,r,i,o,s,a]),v2=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,r,i,o,s,a,c,l,h,d,m,g){let y=new oe,_=te(void 0).pipe(Er(s.outsideAngular),ct(()=>o.runOutsideAngular(()=>import("./chunk-GWL5R5AG.js"))),ce(()=>m2(t,o,r)),ce(M=>q9(M,o,a,l,h,d,c,m)),Yc({bufferSize:1,refCount:!1}));if(Oo(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=te(null);else{_.pipe(Mr()).subscribe();let M=_.pipe(ct(P=>P.getRedirectResult().then(Q=>Q,()=>null)),mr,Yc({bufferSize:1,refCount:!1})),z=_.pipe(ct(P=>new Ee(Q=>({unsubscribe:o.runOutsideAngular(()=>P.onAuthStateChanged(ne=>Q.next(ne),ne=>Q.error(ne),()=>Q.complete()))})))),F=_.pipe(ct(P=>new Ee(Q=>({unsubscribe:o.runOutsideAngular(()=>P.onIdTokenChanged(ne=>Q.next(ne),ne=>Q.error(ne),()=>Q.complete()))}))));this.authState=M.pipe(N0(z),oi(s.outsideAngular),Er(s.insideAngular)),this.user=M.pipe(N0(F),oi(s.outsideAngular),Er(s.insideAngular)),this.idToken=this.user.pipe(ct(P=>P?Le(P.getIdToken()):te(null))),this.idTokenResult=this.user.pipe(ct(P=>P?Le(P.getIdTokenResult()):te(null))),this.credential=r4(M,y,this.authState.pipe(We(P=>!P))).pipe(ce(P=>P?.user?P:null),oi(s.outsideAngular),Er(s.insideAngular))}return DD(this,_,o,{spy:{apply:(M,z,F)=>{(M.startsWith("signIn")||M.startsWith("createUser"))&&F.then(P=>y.next(P))}}})}static \u0275fac=function(r){return new(r||n)(D(N1),D(P1,8),D(Yt),D(he),D(Q6),D(F9,8),D(H9,8),D(B9,8),D(j9,8),D(U9,8),D($9,8),D(Va,8))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),B3e=(()=>{class n{constructor(){Yn.registerVersion("angularfire",ka.full,"auth-compat")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Te({type:n});static \u0275inj=Me({providers:[v2]})}return n})();var BD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jD={};var Ts,W9;(function(){var n;function e(C,w){function b(){}b.prototype=w.prototype,C.D=w.prototype,C.prototype=new b,C.prototype.constructor=C,C.C=function(T,I,S){for(var E=Array(arguments.length-2),Nn=2;Nn<arguments.length;Nn++)E[Nn-2]=arguments[Nn];return w.prototype[I].apply(T,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,w,b){b||(b=0);var T=Array(16);if(typeof w=="string")for(var I=0;16>I;++I)T[I]=w.charCodeAt(b++)|w.charCodeAt(b++)<<8|w.charCodeAt(b++)<<16|w.charCodeAt(b++)<<24;else for(I=0;16>I;++I)T[I]=w[b++]|w[b++]<<8|w[b++]<<16|w[b++]<<24;w=C.g[0],b=C.g[1],I=C.g[2];var S=C.g[3],E=w+(S^b&(I^S))+T[0]+3614090360&4294967295;w=b+(E<<7&4294967295|E>>>25),E=S+(I^w&(b^I))+T[1]+3905402710&4294967295,S=w+(E<<12&4294967295|E>>>20),E=I+(b^S&(w^b))+T[2]+606105819&4294967295,I=S+(E<<17&4294967295|E>>>15),E=b+(w^I&(S^w))+T[3]+3250441966&4294967295,b=I+(E<<22&4294967295|E>>>10),E=w+(S^b&(I^S))+T[4]+4118548399&4294967295,w=b+(E<<7&4294967295|E>>>25),E=S+(I^w&(b^I))+T[5]+1200080426&4294967295,S=w+(E<<12&4294967295|E>>>20),E=I+(b^S&(w^b))+T[6]+2821735955&4294967295,I=S+(E<<17&4294967295|E>>>15),E=b+(w^I&(S^w))+T[7]+4249261313&4294967295,b=I+(E<<22&4294967295|E>>>10),E=w+(S^b&(I^S))+T[8]+1770035416&4294967295,w=b+(E<<7&4294967295|E>>>25),E=S+(I^w&(b^I))+T[9]+2336552879&4294967295,S=w+(E<<12&4294967295|E>>>20),E=I+(b^S&(w^b))+T[10]+4294925233&4294967295,I=S+(E<<17&4294967295|E>>>15),E=b+(w^I&(S^w))+T[11]+2304563134&4294967295,b=I+(E<<22&4294967295|E>>>10),E=w+(S^b&(I^S))+T[12]+1804603682&4294967295,w=b+(E<<7&4294967295|E>>>25),E=S+(I^w&(b^I))+T[13]+4254626195&4294967295,S=w+(E<<12&4294967295|E>>>20),E=I+(b^S&(w^b))+T[14]+2792965006&4294967295,I=S+(E<<17&4294967295|E>>>15),E=b+(w^I&(S^w))+T[15]+1236535329&4294967295,b=I+(E<<22&4294967295|E>>>10),E=w+(I^S&(b^I))+T[1]+4129170786&4294967295,w=b+(E<<5&4294967295|E>>>27),E=S+(b^I&(w^b))+T[6]+3225465664&4294967295,S=w+(E<<9&4294967295|E>>>23),E=I+(w^b&(S^w))+T[11]+643717713&4294967295,I=S+(E<<14&4294967295|E>>>18),E=b+(S^w&(I^S))+T[0]+3921069994&4294967295,b=I+(E<<20&4294967295|E>>>12),E=w+(I^S&(b^I))+T[5]+3593408605&4294967295,w=b+(E<<5&4294967295|E>>>27),E=S+(b^I&(w^b))+T[10]+38016083&4294967295,S=w+(E<<9&4294967295|E>>>23),E=I+(w^b&(S^w))+T[15]+3634488961&4294967295,I=S+(E<<14&4294967295|E>>>18),E=b+(S^w&(I^S))+T[4]+3889429448&4294967295,b=I+(E<<20&4294967295|E>>>12),E=w+(I^S&(b^I))+T[9]+568446438&4294967295,w=b+(E<<5&4294967295|E>>>27),E=S+(b^I&(w^b))+T[14]+3275163606&4294967295,S=w+(E<<9&4294967295|E>>>23),E=I+(w^b&(S^w))+T[3]+4107603335&4294967295,I=S+(E<<14&4294967295|E>>>18),E=b+(S^w&(I^S))+T[8]+1163531501&4294967295,b=I+(E<<20&4294967295|E>>>12),E=w+(I^S&(b^I))+T[13]+2850285829&4294967295,w=b+(E<<5&4294967295|E>>>27),E=S+(b^I&(w^b))+T[2]+4243563512&4294967295,S=w+(E<<9&4294967295|E>>>23),E=I+(w^b&(S^w))+T[7]+1735328473&4294967295,I=S+(E<<14&4294967295|E>>>18),E=b+(S^w&(I^S))+T[12]+2368359562&4294967295,b=I+(E<<20&4294967295|E>>>12),E=w+(b^I^S)+T[5]+4294588738&4294967295,w=b+(E<<4&4294967295|E>>>28),E=S+(w^b^I)+T[8]+2272392833&4294967295,S=w+(E<<11&4294967295|E>>>21),E=I+(S^w^b)+T[11]+1839030562&4294967295,I=S+(E<<16&4294967295|E>>>16),E=b+(I^S^w)+T[14]+4259657740&4294967295,b=I+(E<<23&4294967295|E>>>9),E=w+(b^I^S)+T[1]+2763975236&4294967295,w=b+(E<<4&4294967295|E>>>28),E=S+(w^b^I)+T[4]+1272893353&4294967295,S=w+(E<<11&4294967295|E>>>21),E=I+(S^w^b)+T[7]+4139469664&4294967295,I=S+(E<<16&4294967295|E>>>16),E=b+(I^S^w)+T[10]+3200236656&4294967295,b=I+(E<<23&4294967295|E>>>9),E=w+(b^I^S)+T[13]+681279174&4294967295,w=b+(E<<4&4294967295|E>>>28),E=S+(w^b^I)+T[0]+3936430074&4294967295,S=w+(E<<11&4294967295|E>>>21),E=I+(S^w^b)+T[3]+3572445317&4294967295,I=S+(E<<16&4294967295|E>>>16),E=b+(I^S^w)+T[6]+76029189&4294967295,b=I+(E<<23&4294967295|E>>>9),E=w+(b^I^S)+T[9]+3654602809&4294967295,w=b+(E<<4&4294967295|E>>>28),E=S+(w^b^I)+T[12]+3873151461&4294967295,S=w+(E<<11&4294967295|E>>>21),E=I+(S^w^b)+T[15]+530742520&4294967295,I=S+(E<<16&4294967295|E>>>16),E=b+(I^S^w)+T[2]+3299628645&4294967295,b=I+(E<<23&4294967295|E>>>9),E=w+(I^(b|~S))+T[0]+4096336452&4294967295,w=b+(E<<6&4294967295|E>>>26),E=S+(b^(w|~I))+T[7]+1126891415&4294967295,S=w+(E<<10&4294967295|E>>>22),E=I+(w^(S|~b))+T[14]+2878612391&4294967295,I=S+(E<<15&4294967295|E>>>17),E=b+(S^(I|~w))+T[5]+4237533241&4294967295,b=I+(E<<21&4294967295|E>>>11),E=w+(I^(b|~S))+T[12]+1700485571&4294967295,w=b+(E<<6&4294967295|E>>>26),E=S+(b^(w|~I))+T[3]+2399980690&4294967295,S=w+(E<<10&4294967295|E>>>22),E=I+(w^(S|~b))+T[10]+4293915773&4294967295,I=S+(E<<15&4294967295|E>>>17),E=b+(S^(I|~w))+T[1]+2240044497&4294967295,b=I+(E<<21&4294967295|E>>>11),E=w+(I^(b|~S))+T[8]+1873313359&4294967295,w=b+(E<<6&4294967295|E>>>26),E=S+(b^(w|~I))+T[15]+4264355552&4294967295,S=w+(E<<10&4294967295|E>>>22),E=I+(w^(S|~b))+T[6]+2734768916&4294967295,I=S+(E<<15&4294967295|E>>>17),E=b+(S^(I|~w))+T[13]+1309151649&4294967295,b=I+(E<<21&4294967295|E>>>11),E=w+(I^(b|~S))+T[4]+4149444226&4294967295,w=b+(E<<6&4294967295|E>>>26),E=S+(b^(w|~I))+T[11]+3174756917&4294967295,S=w+(E<<10&4294967295|E>>>22),E=I+(w^(S|~b))+T[2]+718787259&4294967295,I=S+(E<<15&4294967295|E>>>17),E=b+(S^(I|~w))+T[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(I+(E<<21&4294967295|E>>>11))&4294967295,C.g[2]=C.g[2]+I&4294967295,C.g[3]=C.g[3]+S&4294967295}r.prototype.u=function(C,w){w===void 0&&(w=C.length);for(var b=w-this.blockSize,T=this.B,I=this.h,S=0;S<w;){if(I==0)for(;S<=b;)i(this,C,S),S+=this.blockSize;if(typeof C=="string"){for(;S<w;)if(T[I++]=C.charCodeAt(S++),I==this.blockSize){i(this,T),I=0;break}}else for(;S<w;)if(T[I++]=C[S++],I==this.blockSize){i(this,T),I=0;break}}this.h=I,this.o+=w},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;var b=8*this.o;for(w=C.length-8;w<C.length;++w)C[w]=b&255,b/=256;for(this.u(C),C=Array(16),w=b=0;4>w;++w)for(var T=0;32>T;T+=8)C[b++]=this.g[w]>>>T&255;return C};function o(C,w){var b=a;return Object.prototype.hasOwnProperty.call(b,C)?b[C]:b[C]=w(C)}function s(C,w){this.h=w;for(var b=[],T=!0,I=C.length-1;0<=I;I--){var S=C[I]|0;T&&S==w||(b[I]=S,T=!1)}this.g=b}var a={};function c(C){return-128<=C&&128>C?o(C,function(w){return new s([w|0],0>w?-1:0)}):new s([C|0],0>C?-1:0)}function l(C){if(isNaN(C)||!isFinite(C))return d;if(0>C)return M(l(-C));for(var w=[],b=1,T=0;C>=b;T++)w[T]=C/b|0,b*=4294967296;return new s(w,0)}function h(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return M(h(C.substring(1),w));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=l(Math.pow(w,8)),T=d,I=0;I<C.length;I+=8){var S=Math.min(8,C.length-I),E=parseInt(C.substring(I,I+S),w);8>S?(S=l(Math.pow(w,S)),T=T.j(S).add(l(E))):(T=T.j(b),T=T.add(l(E)))}return T}var d=c(0),m=c(1),g=c(16777216);n=s.prototype,n.m=function(){if(_(this))return-M(this).m();for(var C=0,w=1,b=0;b<this.g.length;b++){var T=this.i(b);C+=(0<=T?T:4294967296+T)*w,w*=4294967296}return C},n.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(y(this))return"0";if(_(this))return"-"+M(this).toString(C);for(var w=l(Math.pow(C,6)),b=this,T="";;){var I=Q(b,w).g;b=z(b,I.j(w));var S=((0<b.g.length?b.g[0]:b.h)>>>0).toString(C);if(b=I,y(b))return S+T;for(;6>S.length;)S="0"+S;T=S+T}},n.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function y(C){if(C.h!=0)return!1;for(var w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function _(C){return C.h==-1}n.l=function(C){return C=z(this,C),_(C)?-1:y(C)?0:1};function M(C){for(var w=C.g.length,b=[],T=0;T<w;T++)b[T]=~C.g[T];return new s(b,~C.h).add(m)}n.abs=function(){return _(this)?M(this):this},n.add=function(C){for(var w=Math.max(this.g.length,C.g.length),b=[],T=0,I=0;I<=w;I++){var S=T+(this.i(I)&65535)+(C.i(I)&65535),E=(S>>>16)+(this.i(I)>>>16)+(C.i(I)>>>16);T=E>>>16,S&=65535,E&=65535,b[I]=E<<16|S}return new s(b,b[b.length-1]&-2147483648?-1:0)};function z(C,w){return C.add(M(w))}n.j=function(C){if(y(this)||y(C))return d;if(_(this))return _(C)?M(this).j(M(C)):M(M(this).j(C));if(_(C))return M(this.j(M(C)));if(0>this.l(g)&&0>C.l(g))return l(this.m()*C.m());for(var w=this.g.length+C.g.length,b=[],T=0;T<2*w;T++)b[T]=0;for(T=0;T<this.g.length;T++)for(var I=0;I<C.g.length;I++){var S=this.i(T)>>>16,E=this.i(T)&65535,Nn=C.i(I)>>>16,Mt=C.i(I)&65535;b[2*T+2*I]+=E*Mt,F(b,2*T+2*I),b[2*T+2*I+1]+=S*Mt,F(b,2*T+2*I+1),b[2*T+2*I+1]+=E*Nn,F(b,2*T+2*I+1),b[2*T+2*I+2]+=S*Nn,F(b,2*T+2*I+2)}for(T=0;T<w;T++)b[T]=b[2*T+1]<<16|b[2*T];for(T=w;T<2*w;T++)b[T]=0;return new s(b,0)};function F(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function P(C,w){this.g=C,this.h=w}function Q(C,w){if(y(w))throw Error("division by zero");if(y(C))return new P(d,d);if(_(C))return w=Q(M(C),w),new P(M(w.g),M(w.h));if(_(w))return w=Q(C,M(w)),new P(M(w.g),w.h);if(30<C.g.length){if(_(C)||_(w))throw Error("slowDivide_ only works with positive integers.");for(var b=m,T=w;0>=T.l(C);)b=ne(b),T=ne(T);var I=K(b,1),S=K(T,1);for(T=K(T,2),b=K(b,2);!y(T);){var E=S.add(T);0>=E.l(C)&&(I=I.add(b),S=E),T=K(T,1),b=K(b,1)}return w=z(C,I.j(w)),new P(I,w)}for(I=d;0<=C.l(w);){for(b=Math.max(1,Math.floor(C.m()/w.m())),T=Math.ceil(Math.log(b)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),S=l(b),E=S.j(w);_(E)||0<E.l(C);)b-=T,S=l(b),E=S.j(w);y(S)&&(S=m),I=I.add(S),C=z(C,E)}return new P(I,C)}n.A=function(C){return Q(this,C).h},n.and=function(C){for(var w=Math.max(this.g.length,C.g.length),b=[],T=0;T<w;T++)b[T]=this.i(T)&C.i(T);return new s(b,this.h&C.h)},n.or=function(C){for(var w=Math.max(this.g.length,C.g.length),b=[],T=0;T<w;T++)b[T]=this.i(T)|C.i(T);return new s(b,this.h|C.h)},n.xor=function(C){for(var w=Math.max(this.g.length,C.g.length),b=[],T=0;T<w;T++)b[T]=this.i(T)^C.i(T);return new s(b,this.h^C.h)};function ne(C){for(var w=C.g.length+1,b=[],T=0;T<w;T++)b[T]=C.i(T)<<1|C.i(T-1)>>>31;return new s(b,C.h)}function K(C,w){var b=w>>5;w%=32;for(var T=C.g.length-b,I=[],S=0;S<T;S++)I[S]=0<w?C.i(S+b)>>>w|C.i(S+b+1)<<32-w:C.i(S+b);return new s(I,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,W9=jD.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Ts=jD.Integer=s}).apply(typeof BD<"u"?BD:typeof self<"u"?self:typeof window<"u"?window:{});var J6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},No={};var G9,BY,V1,Y9,y2,e8,Q9,K9,X9;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,f,p){return u==Array.prototype||u==Object.prototype||(u[f]=p.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof J6=="object"&&J6];for(var f=0;f<u.length;++f){var p=u[f];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=t(this);function i(u,f){if(f)e:{var p=r;u=u.split(".");for(var v=0;v<u.length-1;v++){var x=u[v];if(!(x in p))break e;p=p[x]}u=u[u.length-1],v=p[u],f=f(v),f!=v&&f!=null&&e(p,u,{configurable:!0,writable:!0,value:f})}}function o(u,f){u instanceof String&&(u+="");var p=0,v=!1,x={next:function(){if(!v&&p<u.length){var O=p++;return{value:f(O,u[O]),done:!1}}return v=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}i("Array.prototype.values",function(u){return u||function(){return o(this,function(f,p){return p})}});var s=s||{},a=this||self;function c(u){var f=typeof u;return f=f!="object"?f:u?Array.isArray(u)?"array":f:"null",f=="array"||f=="object"&&typeof u.length=="number"}function l(u){var f=typeof u;return f=="object"&&u!=null||f=="function"}function h(u,f,p){return u.call.apply(u.bind,arguments)}function d(u,f,p){if(!u)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,v),u.apply(f,x)}}return function(){return u.apply(f,arguments)}}function m(u,f,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,m.apply(null,arguments)}function g(u,f){var p=Array.prototype.slice.call(arguments,1);return function(){var v=p.slice();return v.push.apply(v,arguments),u.apply(this,v)}}function y(u,f){function p(){}p.prototype=f.prototype,u.aa=f.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(v,x,O){for(var X=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)X[wt-2]=arguments[wt];return f.prototype[x].apply(v,X)}}function _(u){let f=u.length;if(0<f){let p=Array(f);for(let v=0;v<f;v++)p[v]=u[v];return p}return[]}function M(u,f){for(let p=1;p<arguments.length;p++){let v=arguments[p];if(c(v)){let x=u.length||0,O=v.length||0;u.length=x+O;for(let X=0;X<O;X++)u[x+X]=v[X]}else u.push(v)}}class z{constructor(f,p){this.i=f,this.j=p,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function F(u){return/^[\s\xa0]*$/.test(u)}function P(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function Q(u){return Q[" "](u),u}Q[" "]=function(){};var ne=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function K(u,f,p){for(let v in u)f.call(p,u[v],v,u)}function C(u,f){for(let p in u)f.call(void 0,u[p],p,u)}function w(u){let f={};for(let p in u)f[p]=u[p];return f}let b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(u,f){let p,v;for(let x=1;x<arguments.length;x++){v=arguments[x];for(p in v)u[p]=v[p];for(let O=0;O<b.length;O++)p=b[O],Object.prototype.hasOwnProperty.call(v,p)&&(u[p]=v[p])}}function I(u){var f=1;u=u.split(":");let p=[];for(;0<f&&u.length;)p.push(u.shift()),f--;return u.length&&p.push(u.join(":")),p}function S(u){a.setTimeout(()=>{throw u},0)}function E(){var u=Pe;let f=null;return u.g&&(f=u.g,u.g=u.g.next,u.g||(u.h=null),f.next=null),f}class Nn{constructor(){this.h=this.g=null}add(f,p){let v=Mt.get();v.set(f,p),this.h?this.h.next=v:this.g=v,this.h=v}}var Mt=new z(()=>new Z,u=>u.reset());class Z{constructor(){this.next=this.g=this.h=null}set(f,p){this.h=f,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,me=!1,Pe=new Nn,Vt=()=>{let u=a.Promise.resolve(void 0);ae=()=>{u.then(Pn)}};var Pn=()=>{for(var u;u=E();){try{u.h.call(u.g)}catch(p){S(p)}var f=Mt;f.j(u),100>f.h&&(f.h++,u.next=f.g,f.g=u)}me=!1};function mt(){this.s=this.s,this.C=this.C}mt.prototype.s=!1,mt.prototype.ma=function(){this.s||(this.s=!0,this.N())},mt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function gt(u,f){this.type=u,this.g=this.target=f,this.defaultPrevented=!1}gt.prototype.h=function(){this.defaultPrevented=!0};var ot=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let p=()=>{};a.addEventListener("test",p,f),a.removeEventListener("test",p,f)}catch{}return u}();function ti(u,f){if(gt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,v=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=f,f=u.relatedTarget){if(ne){e:{try{Q(f.nodeName);var x=!0;break e}catch{}x=!1}x||(f=null)}}else p=="mouseover"?f=u.fromElement:p=="mouseout"&&(f=u.toElement);this.relatedTarget=f,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ic[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ti.aa.h.call(this)}}y(ti,gt);var Ic={2:"touch",3:"pen",4:"mouse"};ti.prototype.h=function(){ti.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var yt="closure_listenable_"+(1e6*Math.random()|0),vt=0;function Oe(u,f,p,v,x){this.listener=u,this.proxy=null,this.src=f,this.type=p,this.capture=!!v,this.ha=x,this.key=++vt,this.da=this.fa=!1}function Wt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function _r(u){this.src=u,this.g={},this.h=0}_r.prototype.add=function(u,f,p,v,x){var O=u.toString();u=this.g[O],u||(u=this.g[O]=[],this.h++);var X=Sc(u,f,v,x);return-1<X?(f=u[X],p||(f.fa=!1)):(f=new Oe(f,this.src,O,!!v,x),f.fa=p,u.push(f)),f};function Dc(u,f){var p=f.type;if(p in u.g){var v=u.g[p],x=Array.prototype.indexOf.call(v,f,void 0),O;(O=0<=x)&&Array.prototype.splice.call(v,x,1),O&&(Wt(f),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Sc(u,f,p,v){for(var x=0;x<u.length;++x){var O=u[x];if(!O.da&&O.listener==f&&O.capture==!!p&&O.ha==v)return x}return-1}var ea="closure_lm_"+(1e6*Math.random()|0),xc={};function Vw(u,f,p,v,x){if(v&&v.once)return Lw(u,f,p,v,x);if(Array.isArray(f)){for(var O=0;O<f.length;O++)Vw(u,f[O],p,v,x);return null}return p=Nd(p),u&&u[yt]?u.K(f,p,l(v)?!!v.capture:!!v,x):kw(u,f,p,!1,v,x)}function kw(u,f,p,v,x,O){if(!f)throw Error("Invalid event type");var X=l(x)?!!x.capture:!!x,wt=Rd(u);if(wt||(u[ea]=wt=new _r(u)),p=wt.add(f,p,v,X,O),p.proxy)return p;if(v=iV(),p.proxy=v,v.src=u,v.listener=p,u.addEventListener)ot||(x=X),x===void 0&&(x=!1),u.addEventListener(f.toString(),v,x);else if(u.attachEvent)u.attachEvent(Hw(f.toString()),v);else if(u.addListener&&u.removeListener)u.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return p}function iV(){function u(p){return f.call(u.src,u.listener,p)}let f=oV;return u}function Lw(u,f,p,v,x){if(Array.isArray(f)){for(var O=0;O<f.length;O++)Lw(u,f[O],p,v,x);return null}return p=Nd(p),u&&u[yt]?u.L(f,p,l(v)?!!v.capture:!!v,x):kw(u,f,p,!0,v,x)}function Fw(u,f,p,v,x){if(Array.isArray(f))for(var O=0;O<f.length;O++)Fw(u,f[O],p,v,x);else v=l(v)?!!v.capture:!!v,p=Nd(p),u&&u[yt]?(u=u.i,f=String(f).toString(),f in u.g&&(O=u.g[f],p=Sc(O,p,v,x),-1<p&&(Wt(O[p]),Array.prototype.splice.call(O,p,1),O.length==0&&(delete u.g[f],u.h--)))):u&&(u=Rd(u))&&(f=u.g[f.toString()],u=-1,f&&(u=Sc(f,p,v,x)),(p=-1<u?f[u]:null)&&zd(p))}function zd(u){if(typeof u!="number"&&u&&!u.da){var f=u.src;if(f&&f[yt])Dc(f.i,u);else{var p=u.type,v=u.proxy;f.removeEventListener?f.removeEventListener(p,v,u.capture):f.detachEvent?f.detachEvent(Hw(p),v):f.addListener&&f.removeListener&&f.removeListener(v),(p=Rd(f))?(Dc(p,u),p.h==0&&(p.src=null,f[ea]=null)):Wt(u)}}}function Hw(u){return u in xc?xc[u]:xc[u]="on"+u}function oV(u,f){if(u.da)u=!0;else{f=new ti(f,this);var p=u.listener,v=u.ha||u.src;u.fa&&zd(u),u=p.call(v,f)}return u}function Rd(u){return u=u[ea],u instanceof _r?u:null}var Od="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nd(u){return typeof u=="function"?u:(u[Od]||(u[Od]=function(f){return u.handleEvent(f)}),u[Od])}function Vn(){mt.call(this),this.i=new _r(this),this.M=this,this.F=null}y(Vn,mt),Vn.prototype[yt]=!0,Vn.prototype.removeEventListener=function(u,f,p,v){Fw(this,u,f,p,v)};function Wn(u,f){var p,v=u.F;if(v)for(p=[];v;v=v.F)p.push(v);if(u=u.M,v=f.type||f,typeof f=="string")f=new gt(f,u);else if(f instanceof gt)f.target=f.target||u;else{var x=f;f=new gt(v,u),T(f,x)}if(x=!0,p)for(var O=p.length-1;0<=O;O--){var X=f.g=p[O];x=L3(X,v,!0,f)&&x}if(X=f.g=u,x=L3(X,v,!0,f)&&x,x=L3(X,v,!1,f)&&x,p)for(O=0;O<p.length;O++)X=f.g=p[O],x=L3(X,v,!1,f)&&x}Vn.prototype.N=function(){if(Vn.aa.N.call(this),this.i){var u=this.i,f;for(f in u.g){for(var p=u.g[f],v=0;v<p.length;v++)Wt(p[v]);delete u.g[f],u.h--}}this.F=null},Vn.prototype.K=function(u,f,p,v){return this.i.add(String(u),f,!1,p,v)},Vn.prototype.L=function(u,f,p,v){return this.i.add(String(u),f,!0,p,v)};function L3(u,f,p,v){if(f=u.i.g[String(f)],!f)return!0;f=f.concat();for(var x=!0,O=0;O<f.length;++O){var X=f[O];if(X&&!X.da&&X.capture==p){var wt=X.listener,bn=X.ha||X.src;X.fa&&Dc(u.i,X),x=wt.call(bn,v)!==!1&&x}}return x&&!v.defaultPrevented}function Bw(u,f,p){if(typeof u=="function")p&&(u=m(u,p));else if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(u,f||0)}function jw(u){u.g=Bw(()=>{u.g=null,u.i&&(u.i=!1,jw(u))},u.l);let f=u.h;u.h=null,u.m.apply(null,f)}class sV extends mt{constructor(f,p){super(),this.m=f,this.l=p,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:jw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pl(u){mt.call(this),this.h=u,this.g={}}y(Pl,mt);var Uw=[];function $w(u){K(u.g,function(f,p){this.g.hasOwnProperty(p)&&zd(f)},u),u.g={}}Pl.prototype.N=function(){Pl.aa.N.call(this),$w(this)},Pl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pd=a.JSON.stringify,aV=a.JSON.parse,cV=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Vd(){}Vd.prototype.h=null;function qw(u){return u.h||(u.h=u.i())}function Ww(){}var Vl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kd(){gt.call(this,"d")}y(kd,gt);function Ld(){gt.call(this,"c")}y(Ld,gt);var ta={},Gw=null;function F3(){return Gw=Gw||new Vn}ta.La="serverreachability";function Yw(u){gt.call(this,ta.La,u)}y(Yw,gt);function kl(u){let f=F3();Wn(f,new Yw(f))}ta.STAT_EVENT="statevent";function Qw(u,f){gt.call(this,ta.STAT_EVENT,u),this.stat=f}y(Qw,gt);function Gn(u){let f=F3();Wn(f,new Qw(f,u))}ta.Ma="timingevent";function Kw(u,f){gt.call(this,ta.Ma,u),this.size=f}y(Kw,gt);function Ll(u,f){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},f)}function Fl(){this.g=!0}Fl.prototype.xa=function(){this.g=!1};function lV(u,f,p,v,x,O){u.info(function(){if(u.g)if(O)for(var X="",wt=O.split("&"),bn=0;bn<wt.length;bn++){var Ze=wt[bn].split("=");if(1<Ze.length){var kn=Ze[0];Ze=Ze[1];var Ln=kn.split("_");X=2<=Ln.length&&Ln[1]=="type"?X+(kn+"="+Ze+"&"):X+(kn+"=redacted&")}}else X=null;else X=O;return"XMLHTTP REQ ("+v+") [attempt "+x+"]: "+f+`
`+p+`
`+X})}function uV(u,f,p,v,x,O,X){u.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+x+"]: "+f+`
`+p+`
`+O+" "+X})}function Ac(u,f,p,v){u.info(function(){return"XMLHTTP TEXT ("+f+"): "+dV(u,p)+(v?" "+v:"")})}function hV(u,f){u.info(function(){return"TIMEOUT: "+f})}Fl.prototype.info=function(){};function dV(u,f){if(!u.g)return f;if(!f)return null;try{var p=JSON.parse(f);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var v=p[u];if(!(2>v.length)){var x=v[1];if(Array.isArray(x)&&!(1>x.length)){var O=x[0];if(O!="noop"&&O!="stop"&&O!="close")for(var X=1;X<x.length;X++)x[X]=""}}}}return Pd(p)}catch{return f}}var H3={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fd;function B3(){}y(B3,Vd),B3.prototype.g=function(){return new XMLHttpRequest},B3.prototype.i=function(){return{}},Fd=new B3;function Yo(u,f,p,v){this.j=u,this.i=f,this.l=p,this.R=v||1,this.U=new Pl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Zw}function Zw(){this.i=null,this.g="",this.h=!1}var Jw={},Hd={};function Bd(u,f,p){u.L=1,u.v=q3(no(f)),u.m=p,u.P=!0,e_(u,null)}function e_(u,f){u.F=Date.now(),j3(u),u.A=no(u.v);var p=u.A,v=u.R;Array.isArray(v)||(v=[String(v)]),p_(p.i,"t",v),u.C=0,p=u.j.J,u.h=new Zw,u.g=R_(u.j,p?f:null,!u.m),0<u.O&&(u.M=new sV(m(u.Y,u,u.g),u.O)),f=u.U,p=u.g,v=u.ca;var x="readystatechange";Array.isArray(x)||(x&&(Uw[0]=x.toString()),x=Uw);for(var O=0;O<x.length;O++){var X=Vw(p,x[O],v||f.handleEvent,!1,f.h||f);if(!X)break;f.g[X.key]=X}f=u.H?w(u.H):{},u.m?(u.u||(u.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,f)):(u.u="GET",u.g.ea(u.A,u.u,null,f)),kl(),lV(u.i,u.u,u.A,u.l,u.R,u.m)}Yo.prototype.ca=function(u){u=u.target;let f=this.M;f&&ro(u)==3?f.j():this.Y(u)},Yo.prototype.Y=function(u){try{if(u==this.g)e:{let Ln=ro(this.g);var f=this.g.Ba();let Oc=this.g.Z();if(!(3>Ln)&&(Ln!=3||this.g&&(this.h.h||this.g.oa()||b_(this.g)))){this.J||Ln!=4||f==7||(f==8||0>=Oc?kl(3):kl(2)),jd(this);var p=this.g.Z();this.X=p;t:if(t_(this)){var v=b_(this.g);u="";var x=v.length,O=ro(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){na(this),Hl(this);var X="";break t}this.h.i=new a.TextDecoder}for(f=0;f<x;f++)this.h.h=!0,u+=this.h.i.decode(v[f],{stream:!(O&&f==x-1)});v.length=0,this.h.g+=u,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=p==200,uV(this.i,this.u,this.A,this.l,this.R,Ln,p),this.o){if(this.T&&!this.K){t:{if(this.g){var wt,bn=this.g;if((wt=bn.g?bn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(wt)){var Ze=wt;break t}}Ze=null}if(p=Ze)Ac(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ud(this,p);else{this.o=!1,this.s=3,Gn(12),na(this),Hl(this);break e}}if(this.P){p=!0;let ni;for(;!this.J&&this.C<X.length;)if(ni=fV(this,X),ni==Hd){Ln==4&&(this.s=4,Gn(14),p=!1),Ac(this.i,this.l,null,"[Incomplete Response]");break}else if(ni==Jw){this.s=4,Gn(15),Ac(this.i,this.l,X,"[Invalid Chunk]"),p=!1;break}else Ac(this.i,this.l,ni,null),Ud(this,ni);if(t_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ln!=4||X.length!=0||this.h.h||(this.s=1,Gn(16),p=!1),this.o=this.o&&p,!p)Ac(this.i,this.l,X,"[Invalid Chunked Response]"),na(this),Hl(this);else if(0<X.length&&!this.W){this.W=!0;var kn=this.j;kn.g==this&&kn.ba&&!kn.M&&(kn.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),Qd(kn),kn.M=!0,Gn(11))}}else Ac(this.i,this.l,X,null),Ud(this,X);Ln==4&&na(this),this.o&&!this.J&&(Ln==4?S_(this.j,this):(this.o=!1,j3(this)))}else AV(this.g),p==400&&0<X.indexOf("Unknown SID")?(this.s=3,Gn(12)):(this.s=0,Gn(13)),na(this),Hl(this)}}}catch{}finally{}};function t_(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function fV(u,f){var p=u.C,v=f.indexOf(`
`,p);return v==-1?Hd:(p=Number(f.substring(p,v)),isNaN(p)?Jw:(v+=1,v+p>f.length?Hd:(f=f.slice(v,v+p),u.C=v+p,f)))}Yo.prototype.cancel=function(){this.J=!0,na(this)};function j3(u){u.S=Date.now()+u.I,n_(u,u.I)}function n_(u,f){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ll(m(u.ba,u),f)}function jd(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Yo.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(hV(this.i,this.A),this.L!=2&&(kl(),Gn(17)),na(this),this.s=2,Hl(this)):n_(this,this.S-u)};function Hl(u){u.j.G==0||u.J||S_(u.j,u)}function na(u){jd(u);var f=u.M;f&&typeof f.ma=="function"&&f.ma(),u.M=null,$w(u.U),u.g&&(f=u.g,u.g=null,f.abort(),f.ma())}function Ud(u,f){try{var p=u.j;if(p.G!=0&&(p.g==u||$d(p.h,u))){if(!u.K&&$d(p.h,u)&&p.G==3){try{var v=p.Da.g.parse(f)}catch{v=null}if(Array.isArray(v)&&v.length==3){var x=v;if(x[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)K3(p),Y3(p);else break e;Yd(p),Gn(18)}}else p.za=x[1],0<p.za-p.T&&37500>x[2]&&p.F&&p.v==0&&!p.C&&(p.C=Ll(m(p.Za,p),6e3));if(1>=o_(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else ia(p,11)}else if((u.K||p.g==u)&&K3(p),!F(f))for(x=p.Da.g.parse(f),f=0;f<x.length;f++){let Ze=x[f];if(p.T=Ze[0],Ze=Ze[1],p.G==2)if(Ze[0]=="c"){p.K=Ze[1],p.ia=Ze[2];let kn=Ze[3];kn!=null&&(p.la=kn,p.j.info("VER="+p.la));let Ln=Ze[4];Ln!=null&&(p.Aa=Ln,p.j.info("SVER="+p.Aa));let Oc=Ze[5];Oc!=null&&typeof Oc=="number"&&0<Oc&&(v=1.5*Oc,p.L=v,p.j.info("backChannelRequestTimeoutMs_="+v)),v=p;let ni=u.g;if(ni){let Z3=ni.g?ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Z3){var O=v.h;O.g||Z3.indexOf("spdy")==-1&&Z3.indexOf("quic")==-1&&Z3.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(qd(O,O.h),O.h=null))}if(v.D){let Kd=ni.g?ni.g.getResponseHeader("X-HTTP-Session-Id"):null;Kd&&(v.ya=Kd,xt(v.I,v.D,Kd))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),v=p;var X=u;if(v.qa=z_(v,v.J?v.ia:null,v.W),X.K){s_(v.h,X);var wt=X,bn=v.L;bn&&(wt.I=bn),wt.B&&(jd(wt),j3(wt)),v.g=X}else I_(v);0<p.i.length&&Q3(p)}else Ze[0]!="stop"&&Ze[0]!="close"||ia(p,7);else p.G==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?ia(p,7):Gd(p):Ze[0]!="noop"&&p.l&&p.l.ta(Ze),p.v=0)}}kl(4)}catch{}}var pV=class{constructor(u,f){this.g=u,this.map=f}};function r_(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function i_(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function o_(u){return u.h?1:u.g?u.g.size:0}function $d(u,f){return u.h?u.h==f:u.g?u.g.has(f):!1}function qd(u,f){u.g?u.g.add(f):u.h=f}function s_(u,f){u.h&&u.h==f?u.h=null:u.g&&u.g.has(f)&&u.g.delete(f)}r_.prototype.cancel=function(){if(this.i=a_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function a_(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let f=u.i;for(let p of u.g.values())f=f.concat(p.D);return f}return _(u.i)}function mV(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var f=[],p=u.length,v=0;v<p;v++)f.push(u[v]);return f}f=[],p=0;for(v in u)f[p++]=u[v];return f}function gV(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var f=[];u=u.length;for(var p=0;p<u;p++)f.push(p);return f}f=[],p=0;for(let v in u)f[p++]=v;return f}}}function c_(u,f){if(u.forEach&&typeof u.forEach=="function")u.forEach(f,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,f,void 0);else for(var p=gV(u),v=mV(u),x=v.length,O=0;O<x;O++)f.call(void 0,v[O],p&&p[O],u)}var l_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vV(u,f){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var v=u[p].indexOf("="),x=null;if(0<=v){var O=u[p].substring(0,v);x=u[p].substring(v+1)}else O=u[p];f(O,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function ra(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ra){this.h=u.h,U3(this,u.j),this.o=u.o,this.g=u.g,$3(this,u.s),this.l=u.l;var f=u.i,p=new Ul;p.i=f.i,f.g&&(p.g=new Map(f.g),p.h=f.h),u_(this,p),this.m=u.m}else u&&(f=String(u).match(l_))?(this.h=!1,U3(this,f[1]||"",!0),this.o=Bl(f[2]||""),this.g=Bl(f[3]||"",!0),$3(this,f[4]),this.l=Bl(f[5]||"",!0),u_(this,f[6]||"",!0),this.m=Bl(f[7]||"")):(this.h=!1,this.i=new Ul(null,this.h))}ra.prototype.toString=function(){var u=[],f=this.j;f&&u.push(jl(f,h_,!0),":");var p=this.g;return(p||f=="file")&&(u.push("//"),(f=this.o)&&u.push(jl(f,h_,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(jl(p,p.charAt(0)=="/"?_V:wV,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",jl(p,EV)),u.join("")};function no(u){return new ra(u)}function U3(u,f,p){u.j=p?Bl(f,!0):f,u.j&&(u.j=u.j.replace(/:$/,""))}function $3(u,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);u.s=f}else u.s=null}function u_(u,f,p){f instanceof Ul?(u.i=f,CV(u.i,u.h)):(p||(f=jl(f,bV)),u.i=new Ul(f,u.h))}function xt(u,f,p){u.i.set(f,p)}function q3(u){return xt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Bl(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function jl(u,f,p){return typeof u=="string"?(u=encodeURI(u).replace(f,yV),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function yV(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var h_=/[#\/\?@]/g,wV=/[#\?:]/g,_V=/[#\?]/g,bV=/[#\?@]/g,EV=/#/g;function Ul(u,f){this.h=this.g=null,this.i=u||null,this.j=!!f}function Qo(u){u.g||(u.g=new Map,u.h=0,u.i&&vV(u.i,function(f,p){u.add(decodeURIComponent(f.replace(/\+/g," ")),p)}))}n=Ul.prototype,n.add=function(u,f){Qo(this),this.i=null,u=zc(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(f),this.h+=1,this};function d_(u,f){Qo(u),f=zc(u,f),u.g.has(f)&&(u.i=null,u.h-=u.g.get(f).length,u.g.delete(f))}function f_(u,f){return Qo(u),f=zc(u,f),u.g.has(f)}n.forEach=function(u,f){Qo(this),this.g.forEach(function(p,v){p.forEach(function(x){u.call(f,x,v,this)},this)},this)},n.na=function(){Qo(this);let u=Array.from(this.g.values()),f=Array.from(this.g.keys()),p=[];for(let v=0;v<f.length;v++){let x=u[v];for(let O=0;O<x.length;O++)p.push(f[v])}return p},n.V=function(u){Qo(this);let f=[];if(typeof u=="string")f_(this,u)&&(f=f.concat(this.g.get(zc(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)f=f.concat(u[p])}return f},n.set=function(u,f){return Qo(this),this.i=null,u=zc(this,u),f_(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[f]),this.h+=1,this},n.get=function(u,f){return u?(u=this.V(u),0<u.length?String(u[0]):f):f};function p_(u,f,p){d_(u,f),0<p.length&&(u.i=null,u.g.set(zc(u,f),_(p)),u.h+=p.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],f=Array.from(this.g.keys());for(var p=0;p<f.length;p++){var v=f[p];let O=encodeURIComponent(String(v)),X=this.V(v);for(v=0;v<X.length;v++){var x=O;X[v]!==""&&(x+="="+encodeURIComponent(String(X[v]))),u.push(x)}}return this.i=u.join("&")};function zc(u,f){return f=String(f),u.j&&(f=f.toLowerCase()),f}function CV(u,f){f&&!u.j&&(Qo(u),u.i=null,u.g.forEach(function(p,v){var x=v.toLowerCase();v!=x&&(d_(this,v),p_(this,x,p))},u)),u.j=f}function MV(u,f){let p=new Fl;if(a.Image){let v=new Image;v.onload=g(Ko,p,"TestLoadImage: loaded",!0,f,v),v.onerror=g(Ko,p,"TestLoadImage: error",!1,f,v),v.onabort=g(Ko,p,"TestLoadImage: abort",!1,f,v),v.ontimeout=g(Ko,p,"TestLoadImage: timeout",!1,f,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=u}else f(!1)}function TV(u,f){let p=new Fl,v=new AbortController,x=setTimeout(()=>{v.abort(),Ko(p,"TestPingServer: timeout",!1,f)},1e4);fetch(u,{signal:v.signal}).then(O=>{clearTimeout(x),O.ok?Ko(p,"TestPingServer: ok",!0,f):Ko(p,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(x),Ko(p,"TestPingServer: error",!1,f)})}function Ko(u,f,p,v,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),v(p)}catch{}}function IV(){this.g=new cV}function DV(u,f,p){let v=p||"";try{c_(u,function(x,O){let X=x;l(x)&&(X=Pd(x)),f.push(v+O+"="+encodeURIComponent(X))})}catch(x){throw f.push(v+"type="+encodeURIComponent("_badmap")),x}}function $l(u){this.l=u.Ub||null,this.j=u.eb||!1}y($l,Vd),$l.prototype.g=function(){return new W3(this.l,this.j)},$l.prototype.i=function(u){return function(){return u}}({});function W3(u,f){Vn.call(this),this.D=u,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(W3,Vn),n=W3.prototype,n.open=function(u,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=f,this.readyState=1,Wl(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(f.body=u),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ql(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Wl(this)),this.g&&(this.readyState=3,Wl(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;m_(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function m_(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var f=u.value?u.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!u.done}))&&(this.response=this.responseText+=f)}u.done?ql(this):Wl(this),this.readyState==3&&m_(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,ql(this))},n.Qa=function(u){this.g&&(this.response=u,ql(this))},n.ga=function(){this.g&&ql(this)};function ql(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Wl(u)}n.setRequestHeader=function(u,f){this.u.append(u,f)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],f=this.h.entries();for(var p=f.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=f.next();return u.join(`\r
`)};function Wl(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(W3.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function g_(u){let f="";return K(u,function(p,v){f+=v,f+=":",f+=p,f+=`\r
`}),f}function Wd(u,f,p){e:{for(v in p){var v=!1;break e}v=!0}v||(p=g_(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):xt(u,f,p))}function Gt(u){Vn.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(Gt,Vn);var SV=/^https?$/i,xV=["POST","PUT"];n=Gt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,f,p,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);f=f?f.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fd.g(),this.v=this.o?qw(this.o):qw(Fd),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(f,String(u),!0),this.B=!1}catch(O){v_(this,O);return}if(u=p||"",p=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var x in v)p.set(x,v[x]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let O of v.keys())p.set(O,v.get(O));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(p.keys()).find(O=>O.toLowerCase()=="content-type"),x=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(xV,f,void 0))||v||x||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[O,X]of p)this.g.setRequestHeader(O,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{__(this),this.u=!0,this.g.send(u),this.u=!1}catch(O){v_(this,O)}};function v_(u,f){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=f,u.m=5,y_(u),G3(u)}function y_(u){u.A||(u.A=!0,Wn(u,"complete"),Wn(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Wn(this,"complete"),Wn(this,"abort"),G3(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),G3(this,!0)),Gt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?w_(this):this.bb())},n.bb=function(){w_(this)};function w_(u){if(u.h&&typeof s<"u"&&(!u.v[1]||ro(u)!=4||u.Z()!=2)){if(u.u&&ro(u)==4)Bw(u.Ea,0,u);else if(Wn(u,"readystatechange"),ro(u)==4){u.h=!1;try{let X=u.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var p;if(!(p=f)){var v;if(v=X===0){var x=String(u.D).match(l_)[1]||null;!x&&a.self&&a.self.location&&(x=a.self.location.protocol.slice(0,-1)),v=!SV.test(x?x.toLowerCase():"")}p=v}if(p)Wn(u,"complete"),Wn(u,"success");else{u.m=6;try{var O=2<ro(u)?u.g.statusText:""}catch{O=""}u.l=O+" ["+u.Z()+"]",y_(u)}}finally{G3(u)}}}}function G3(u,f){if(u.g){__(u);let p=u.g,v=u.v[0]?()=>{}:null;u.g=null,u.v=null,f||Wn(u,"ready");try{p.onreadystatechange=v}catch{}}}function __(u){u.I&&(a.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function ro(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<ro(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var f=this.g.responseText;return u&&f.indexOf(u)==0&&(f=f.substring(u.length)),aV(f)}};function b_(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function AV(u){let f={};u=(u.g&&2<=ro(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<u.length;v++){if(F(u[v]))continue;var p=I(u[v]);let x=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let O=f[x]||[];f[x]=O,O.push(p)}C(f,function(v){return v.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gl(u,f,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||f}function E_(u){this.Aa=0,this.i=[],this.j=new Fl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gl("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gl("baseRetryDelayMs",5e3,u),this.cb=Gl("retryDelaySeedMs",1e4,u),this.Wa=Gl("forwardChannelMaxRetries",2,u),this.wa=Gl("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new r_(u&&u.concurrentRequestLimit),this.Da=new IV,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=E_.prototype,n.la=8,n.G=1,n.connect=function(u,f,p,v){Gn(0),this.W=u,this.H=f||{},p&&v!==void 0&&(this.H.OSID=p,this.H.OAID=v),this.F=this.X,this.I=z_(this,null,this.W),Q3(this)};function Gd(u){if(C_(u),u.G==3){var f=u.U++,p=no(u.I);if(xt(p,"SID",u.K),xt(p,"RID",f),xt(p,"TYPE","terminate"),Yl(u,p),f=new Yo(u,u.j,f),f.L=2,f.v=q3(no(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=f.v,p=!0),p||(f.g=R_(f.j,null),f.g.ea(f.v)),f.F=Date.now(),j3(f)}A_(u)}function Y3(u){u.g&&(Qd(u),u.g.cancel(),u.g=null)}function C_(u){Y3(u),u.u&&(a.clearTimeout(u.u),u.u=null),K3(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Q3(u){if(!i_(u.h)&&!u.s){u.s=!0;var f=u.Ga;ae||Vt(),me||(ae(),me=!0),Pe.add(f,u),u.B=0}}function zV(u,f){return o_(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=f.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ll(m(u.Ga,u,f),x_(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let x=new Yo(this,this.j,u),O=this.o;if(this.S&&(O?(O=w(O),T(O,this.S)):O=this.S),this.m!==null||this.O||(x.H=O,O=null),this.P)e:{for(var f=0,p=0;p<this.i.length;p++){t:{var v=this.i[p];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(f+=v,4096<f){f=p;break e}if(f===4096||p===this.i.length-1){f=p+1;break e}}f=1e3}else f=1e3;f=T_(this,x,f),p=no(this.I),xt(p,"RID",u),xt(p,"CVER",22),this.D&&xt(p,"X-HTTP-Session-Id",this.D),Yl(this,p),O&&(this.O?f="headers="+encodeURIComponent(String(g_(O)))+"&"+f:this.m&&Wd(p,this.m,O)),qd(this.h,x),this.Ua&&xt(p,"TYPE","init"),this.P?(xt(p,"$req",f),xt(p,"SID","null"),x.T=!0,Bd(x,p,null)):Bd(x,p,f),this.G=2}}else this.G==3&&(u?M_(this,u):this.i.length==0||i_(this.h)||M_(this))};function M_(u,f){var p;f?p=f.l:p=u.U++;let v=no(u.I);xt(v,"SID",u.K),xt(v,"RID",p),xt(v,"AID",u.T),Yl(u,v),u.m&&u.o&&Wd(v,u.m,u.o),p=new Yo(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),f&&(u.i=f.D.concat(u.i)),f=T_(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),qd(u.h,p),Bd(p,v,f)}function Yl(u,f){u.H&&K(u.H,function(p,v){xt(f,v,p)}),u.l&&c_({},function(p,v){xt(f,v,p)})}function T_(u,f,p){p=Math.min(u.i.length,p);var v=u.l?m(u.l.Na,u.l,u):null;e:{var x=u.i;let O=-1;for(;;){let X=["count="+p];O==-1?0<p?(O=x[0].g,X.push("ofs="+O)):O=0:X.push("ofs="+O);let wt=!0;for(let bn=0;bn<p;bn++){let Ze=x[bn].g,kn=x[bn].map;if(Ze-=O,0>Ze)O=Math.max(0,x[bn].g-100),wt=!1;else try{DV(kn,X,"req"+Ze+"_")}catch{v&&v(kn)}}if(wt){v=X.join("&");break e}}}return u=u.i.splice(0,p),f.D=u,v}function I_(u){if(!u.g&&!u.u){u.Y=1;var f=u.Fa;ae||Vt(),me||(ae(),me=!0),Pe.add(f,u),u.v=0}}function Yd(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ll(m(u.Fa,u),x_(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,D_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ll(m(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Gn(10),Y3(this),D_(this))};function Qd(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function D_(u){u.g=new Yo(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var f=no(u.qa);xt(f,"RID","rpc"),xt(f,"SID",u.K),xt(f,"AID",u.T),xt(f,"CI",u.F?"0":"1"),!u.F&&u.ja&&xt(f,"TO",u.ja),xt(f,"TYPE","xmlhttp"),Yl(u,f),u.m&&u.o&&Wd(f,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=q3(no(f)),p.m=null,p.P=!0,e_(p,u)}n.Za=function(){this.C!=null&&(this.C=null,Y3(this),Yd(this),Gn(19))};function K3(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function S_(u,f){var p=null;if(u.g==f){K3(u),Qd(u),u.g=null;var v=2}else if($d(u.h,f))p=f.D,s_(u.h,f),v=1;else return;if(u.G!=0){if(f.o)if(v==1){p=f.m?f.m.length:0,f=Date.now()-f.F;var x=u.B;v=F3(),Wn(v,new Kw(v,p)),Q3(u)}else I_(u);else if(x=f.s,x==3||x==0&&0<f.X||!(v==1&&zV(u,f)||v==2&&Yd(u)))switch(p&&0<p.length&&(f=u.h,f.i=f.i.concat(p)),x){case 1:ia(u,5);break;case 4:ia(u,10);break;case 3:ia(u,6);break;default:ia(u,2)}}}function x_(u,f){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*f}function ia(u,f){if(u.j.info("Error code "+f),f==2){var p=m(u.fb,u),v=u.Xa;let x=!v;v=new ra(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||U3(v,"https"),q3(v),x?MV(v.toString(),p):TV(v.toString(),p)}else Gn(2);u.G=0,u.l&&u.l.sa(f),A_(u),C_(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Gn(2)):(this.j.info("Failed to ping google.com"),Gn(1))};function A_(u){if(u.G=0,u.ka=[],u.l){let f=a_(u.h);(f.length!=0||u.i.length!=0)&&(M(u.ka,f),M(u.ka,u.i),u.h.i.length=0,_(u.i),u.i.length=0),u.l.ra()}}function z_(u,f,p){var v=p instanceof ra?no(p):new ra(p);if(v.g!="")f&&(v.g=f+"."+v.g),$3(v,v.s);else{var x=a.location;v=x.protocol,f=f?f+"."+x.hostname:x.hostname,x=+x.port;var O=new ra(null);v&&U3(O,v),f&&(O.g=f),x&&$3(O,x),p&&(O.l=p),v=O}return p=u.D,f=u.ya,p&&f&&xt(v,p,f),xt(v,"VER",u.la),Yl(u,v),v}function R_(u,f,p){if(f&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=u.Ca&&!u.pa?new Gt(new $l({eb:p})):new Gt(u.pa),f.Ha(u.J),f}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function O_(){}n=O_.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function X3(){}X3.prototype.g=function(u,f){return new br(u,f)};function br(u,f){Vn.call(this),this.g=new E_(f),this.l=u,this.h=f&&f.messageUrlParams||null,u=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(u?u["X-WebChannel-Content-Type"]=f.messageContentType:u={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(u?u["X-WebChannel-Client-Profile"]=f.va:u={"X-WebChannel-Client-Profile":f.va}),this.g.S=u,(u=f&&f.Sb)&&!F(u)&&(this.g.m=u),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!F(f)&&(this.g.D=f,u=this.h,u!==null&&f in u&&(u=this.h,f in u&&delete u[f])),this.j=new Rc(this)}y(br,Vn),br.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},br.prototype.close=function(){Gd(this.g)},br.prototype.o=function(u){var f=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Pd(u),u=p);f.i.push(new pV(f.Ya++,u)),f.G==3&&Q3(f)},br.prototype.N=function(){this.g.l=null,delete this.j,Gd(this.g),delete this.g,br.aa.N.call(this)};function N_(u){kd.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var f=u.__sm__;if(f){e:{for(let p in f){u=p;break e}u=void 0}(this.i=u)&&(u=this.i,f=f!==null&&u in f?f[u]:void 0),this.data=f}else this.data=u}y(N_,kd);function P_(){Ld.call(this),this.status=1}y(P_,Ld);function Rc(u){this.g=u}y(Rc,O_),Rc.prototype.ua=function(){Wn(this.g,"a")},Rc.prototype.ta=function(u){Wn(this.g,new N_(u))},Rc.prototype.sa=function(u){Wn(this.g,new P_)},Rc.prototype.ra=function(){Wn(this.g,"b")},X3.prototype.createWebChannel=X3.prototype.g,br.prototype.send=br.prototype.o,br.prototype.open=br.prototype.m,br.prototype.close=br.prototype.close,X9=No.createWebChannelTransport=function(){return new X3},K9=No.getStatEventTarget=function(){return F3()},Q9=No.Event=ta,e8=No.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},H3.NO_ERROR=0,H3.TIMEOUT=8,H3.HTTP_ERROR=6,y2=No.ErrorCode=H3,Xw.COMPLETE="complete",Y9=No.EventType=Xw,Ww.EventType=Vl,Vl.OPEN="a",Vl.CLOSE="b",Vl.ERROR="c",Vl.MESSAGE="d",Vn.prototype.listen=Vn.prototype.K,V1=No.WebChannel=Ww,BY=No.FetchXmlHttpFactory=$l,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,G9=No.XhrIo=Gt}).apply(typeof J6<"u"?J6:typeof self<"u"?self:typeof window<"u"?window:{});var UD="@firebase/firestore";var ln=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");var fl="10.14.0";var Rs=new n0("@firebase/firestore");function B1(){return Rs.logLevel}function WS(n){Rs.setLogLevel(n)}function U(n,...e){if(Rs.logLevel<=Ti.DEBUG){let t=e.map(nv);Rs.debug(`Firestore (${fl}): ${n}`,...t)}}function en(n,...e){if(Rs.logLevel<=Ti.ERROR){let t=e.map(nv);Rs.error(`Firestore (${fl}): ${n}`,...t)}}function yi(n,...e){if(Rs.logLevel<=Ti.WARN){let t=e.map(nv);Rs.warn(`Firestore (${fl}): ${n}`,...t)}}function nv(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function se(n="Unexpected state"){let e=`FIRESTORE (${fl}) INTERNAL ASSERTION FAILED: `+n;throw en(e),new Error(e)}function de(n,e){n||se()}function GS(n,e){n||se()}function J(n,e){return n}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},j=class extends j_{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var fn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var u8=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},rm=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ln.UNAUTHENTICATED))}shutdown(){}},im=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},om=class{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){de(this.o===void 0);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new fn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new fn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>R(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new fn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(de(typeof r.accessToken=="string"),new u8(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return de(e===null||typeof e=="string"),new ln(e)}},sm=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},am=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new sm(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}},cm=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},lm=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){de(this.o===void 0);let r=o=>{o.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(de(typeof t.token=="string"),this.R=t.token,new cm(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function jY(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var h8=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=jY(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}};function Se(n,e){return n<e?-1:n>e?1:0}function K1(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function YS(n){return n+"\0"}var Ut=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new j(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new j(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new j(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new j(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ve=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Ut(0,0))}static max(){return new n(new Ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var d8=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&se(),r===void 0?r=e.length-t:r>e.length-t&&se(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Ye=class n extends d8{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new j(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},UY=/^[_a-zA-Z][_a-zA-Z0-9]*$/,tn=class n extends d8{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return UY.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new j(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new j(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new j(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new j(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ee=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ye.fromString(e))}static fromName(e){return new n(Ye.fromString(e).popFirst(5))}static empty(){return new n(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ye.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ye(e.slice()))}};var X1=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};function um(n){return n.fields.find(e=>e.kind===2)}function Fa(n){return n.fields.filter(e=>e.kind!==2)}X1.UNKNOWN_ID=-1;var G1=class{constructor(e,t){this.fieldPath=e,this.kind=t}};var A2=class n{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new n(0,Yr.min())}};function QS(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ve.fromTimestamp(r===1e9?new Ut(t+1,0):new Ut(t,r));return new Yr(i,ee.empty(),e)}function KS(n){return new Yr(n.readTime,n.key,-1)}var Yr=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ve.min(),ee.empty(),-1)}static max(){return new n(ve.max(),ee.empty(),-1)}};function rv(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ee.comparator(n.documentKey,e.documentKey),t!==0?t:Se(n.largestBatchId,e.largestBatchId))}var XS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",f8=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function js(n){return R(this,null,function*(){if(n.code!==N.FAILED_PRECONDITION||n.message!==XS)throw n;U("LocalStore","Unexpectedly lost primary lease")})}var A=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};var p8=class n{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new fn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new qa(e,t.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=iv(r.target.error);this.V.reject(new qa(e,i))}}static open(e,t,r,i){try{return new n(t,e.transaction(i,r))}catch(o){throw new qa(t,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(U("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let t=this.transaction.objectStore(e);return new dm(t)}},Os=class n{constructor(e,t,r){this.name=e,this.version=t,this.p=r,n.S(Ql())===12.2&&en("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return U("SimpleDb","Removing database:",e),Ha(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!t0())return!1;if(n.v())return!0;let e=Ql(),t=n.S(e),r=0<t&&t<10,i=ZS(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,t){return e.store(t)}static S(e){let t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}M(e){return R(this,null,function*(){return this.db||(U("SimpleDb","Opening database:",this.name),this.db=yield new Promise((t,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{let s=o.target.result;t(s)},i.onblocked=()=>{r(new qa(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{let s=o.target.error;s.name==="VersionError"?r(new j(N.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new j(N.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new qa(e,s))},i.onupgradeneeded=o=>{U("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let s=o.target.result;this.p.O(s,i.transaction,o.oldVersion,this.version).next(()=>{U("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=t=>this.N(t)),this.db})}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){return R(this,null,function*(){let o=t==="readonly",s=0;for(;;){++s;try{this.db=yield this.M(e);let a=p8.open(this.db,e,o?"readonly":"readwrite",r),c=i(a).next(l=>(a.g(),l)).catch(l=>(a.abort(l),A.reject(l))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,l=c.name!=="FirebaseError"&&s<3;if(U("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),this.close(),!l)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}};function ZS(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}var hm=class{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Ha(this.B.delete())}},qa=class extends j{constructor(e,t){super(N.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}};function Us(n){return n.name==="IndexedDbTransactionError"}var dm=class{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(U("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(U("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ha(r)}add(e){return U("SimpleDb","ADD",this.store.name,e,e),Ha(this.store.add(e))}get(e){return Ha(this.store.get(e)).next(t=>(t===void 0&&(t=null),U("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return U("SimpleDb","DELETE",this.store.name,e),Ha(this.store.delete(e))}count(){return U("SimpleDb","COUNT",this.store.name),Ha(this.store.count())}U(e,t){let r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let o=i.getAll(r.range);return new A((s,a)=>{o.onerror=c=>{a(c.target.error)},o.onsuccess=c=>{s(c.target.result)}})}{let o=this.cursor(r),s=[];return this.W(o,(a,c)=>{s.push(c)}).next(()=>s)}}G(e,t){let r=this.store.getAll(e,t===null?void 0:t);return new A((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}j(e,t){U("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,t);r.H=!1;let i=this.cursor(r);return this.W(i,(o,s,a)=>a.delete())}J(e,t){let r;t?r=e:(r={},t=e);let i=this.cursor(r);return this.W(i,t)}Y(e){let t=this.cursor({});return new A((r,i)=>{t.onerror=o=>{let s=iv(o.target.error);i(s)},t.onsuccess=o=>{let s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}W(e,t){let r=[];return new A((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{let a=s.target.result;if(!a)return void i();let c=new hm(a),l=t(a.primaryKey,a.value,c);if(l instanceof A){let h=l.catch(d=>(c.done(),A.reject(d)));r.push(h)}c.isDone?i():c.K===null?a.continue():a.continue(c.K)}}).next(()=>A.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){let r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}};function Ha(n){return new A((e,t)=>{n.onsuccess=r=>{let i=r.target.result;e(i)},n.onerror=r=>{let i=iv(r.target.error);t(i)}})}var $D=!1;function iv(n){let e=Os.S(Ql());if(e>=12.2&&e<13){let t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){let r=new j("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return $D||($D=!0,setTimeout(()=>{throw r},0)),r}}return n}var fm=class{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){U("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>R(this,null,function*(){this.task=null;try{U("IndexBackfiller",`Documents written: ${yield this.Z.ee()}`)}catch(t){Us(t)?U("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",t):yield js(t)}yield this.X(6e4)}))}},pm=class{constructor(e,t){this.localStore=e,this.persistence=t}ee(e=50){return R(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.te(t,e))})}te(e,t){let r=new Set,i=t,o=!0;return A.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!r.has(s))return U("IndexBackfiller",`Processing collection: ${s}`),this.ne(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>t-i)}ne(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{let s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.re(i,o)).next(a=>(U("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>s.size)}))}re(e,t){let r=e;return t.changes.forEach((i,o)=>{let s=KS(o);rv(s,r)>0&&(r=s)}),new Yr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}};var kr=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function X2(n){return n==null}function z2(n){return n===0&&1/n==-1/0}function JS(n){return typeof n=="number"&&Number.isInteger(n)&&!z2(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function rr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=qD(e)),e=$Y(n.get(t),e);return qD(e)}function $Y(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case"":t+="";break;default:t+=o}}return t}function qD(n){return n+""}function ji(n){let e=n.length;if(de(e>=2),e===2)return de(n.charAt(0)===""&&n.charAt(1)===""),Ye.emptyPath();let t=e-2,r=[],i="";for(let o=0;o<e;){let s=n.indexOf("",o);switch((s<0||s>t)&&se(),n.charAt(s+1)){case"":let a=n.substring(o,s),c;i.length===0?c=a:(i+=a,c=i,i=""),r.push(c);break;case"":i+=n.substring(o,s),i+="\0";break;case"":i+=n.substring(o,s+1);break;default:se()}o=s+2}return new Ye(r)}var WD=["userId","batchId"];function o8(n,e){return[n,rr(e)]}function ex(n,e,t){return[n,rr(e),t]}var qY={},WY=["prefixPath","collectionGroup","readTime","documentId"],GY=["prefixPath","collectionGroup","documentId"],YY=["collectionGroup","readTime","prefixPath","documentId"],QY=["canonicalId","targetId"],KY=["targetId","path"],XY=["path","targetId"],ZY=["collectionId","parent"],JY=["indexId","uid"],eQ=["uid","sequenceNumber"],tQ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],nQ=["indexId","uid","orderedDocumentKey"],rQ=["userId","collectionPath","documentId"],iQ=["userId","collectionPath","largestBatchId"],oQ=["userId","collectionGroup","largestBatchId"],tx=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],sQ=[...tx,"documentOverlays"],nx=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],rx=nx,ov=[...rx,"indexConfiguration","indexState","indexEntries"],aQ=ov,cQ=[...ov,"globals"];var R2=class extends f8{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}};function pn(n,e){let t=J(n);return Os.F(t._e,e)}function GD(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function rc(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ix(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var At=class n{constructor(e,t){this.comparator=e,this.root=t||$i.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$i.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$i.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new W1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new W1(this.root,e,this.comparator,!1)}getReverseIterator(){return new W1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new W1(this.root,e,this.comparator,!0)}},W1=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},$i=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();let e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}};$i.EMPTY=null,$i.RED=!0,$i.BLACK=!1;$i.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(e,t,r,i,o){return this}insert(e,t,r){return new $i(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ct=class n{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new m8(this.data.getIterator())}getIteratorFrom(e){return new m8(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},m8=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function k1(n){return n.hasNext()?n.getNext():void 0}var Lr=class n{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new n([])}unionWith(e){let t=new Ct(tn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return K1(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var g8=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function ox(){return typeof atob<"u"}var rn=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new g8("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};rn.EMPTY_BYTE_STRING=new rn("");var lQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ko(n){if(de(!!n),typeof n=="string"){let e=0,t=lQ.exec(n);if(de(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nt(n.seconds),nanos:Nt(n.nanos)}}function Nt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ns(n){return typeof n=="string"?rn.fromBase64String(n):rn.fromUint8Array(n)}function ah(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function sv(n){let e=n.mapValue.fields.__previous_value__;return ah(e)?sv(e):e}function O2(n){let e=ko(n.mapValue.fields.__local_write_time__.timestampValue);return new Ut(e.seconds,e.nanos)}var mm=class{constructor(e,t,r,i,o,s,a,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},Ps=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var As={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},s8={nullValue:"NULL_VALUE"};function Wa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ah(n)?4:sx(n)?9007199254740991:ch(n)?10:11:se()}function Gi(n,e){if(n===e)return!0;let t=Wa(n);if(t!==Wa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return O2(n).isEqual(O2(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=ko(i.timestampValue),a=ko(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Ns(i.bytesValue).isEqual(Ns(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Nt(i.geoPointValue.latitude)===Nt(o.geoPointValue.latitude)&&Nt(i.geoPointValue.longitude)===Nt(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Nt(i.integerValue)===Nt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Nt(i.doubleValue),a=Nt(o.doubleValue);return s===a?z2(s)===z2(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return K1(n.arrayValue.values||[],e.arrayValue.values||[],Gi);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(GD(s)!==GD(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Gi(s[c],a[c])))return!1;return!0}(n,e);default:return se()}}function N2(n,e){return(n.values||[]).find(t=>Gi(t,e))!==void 0}function Vs(n,e){if(n===e)return 0;let t=Wa(n),r=Wa(e);if(t!==r)return Se(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Se(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Nt(o.integerValue||o.doubleValue),c=Nt(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return YD(n.timestampValue,e.timestampValue);case 4:return YD(O2(n),O2(e));case 5:return Se(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Ns(o),c=Ns(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let h=Se(a[l],c[l]);if(h!==0)return h}return Se(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Se(Nt(o.latitude),Nt(s.latitude));return a!==0?a:Se(Nt(o.longitude),Nt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return QD(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,l,h;let d=o.fields||{},m=s.fields||{},g=(a=d.value)===null||a===void 0?void 0:a.arrayValue,y=(c=m.value)===null||c===void 0?void 0:c.arrayValue,_=Se(((l=g?.values)===null||l===void 0?void 0:l.length)||0,((h=y?.values)===null||h===void 0?void 0:h.length)||0);return _!==0?_:QD(g,y)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===As.mapValue&&s===As.mapValue)return 0;if(o===As.mapValue)return 1;if(s===As.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},h=Object.keys(l);c.sort(),h.sort();for(let d=0;d<c.length&&d<h.length;++d){let m=Se(c[d],h[d]);if(m!==0)return m;let g=Vs(a[c[d]],l[h[d]]);if(g!==0)return g}return Se(c.length,h.length)}(n.mapValue,e.mapValue);default:throw se()}}function YD(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Se(n,e);let t=ko(n),r=ko(e),i=Se(t.seconds,r.seconds);return i!==0?i:Se(t.nanos,r.nanos)}function QD(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Vs(t[i],r[i]);if(o)return o}return Se(t.length,r.length)}function Z1(n){return gm(n)}function gm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=ko(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ns(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ee.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=gm(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${gm(t.fields[s])}`;return i+"}"}(n.mapValue):se()}function Ga(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function vm(n){return!!n&&"integerValue"in n}function P2(n){return!!n&&"arrayValue"in n}function KD(n){return!!n&&"nullValue"in n}function XD(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function a8(n){return!!n&&"mapValue"in n}function ch(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function T2(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return rc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=T2(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=T2(n.arrayValue.values[t]);return e}return Object.assign({},n)}function sx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var ax={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function uQ(n){return"nullValue"in n?s8:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ga(Ps.empty(),ee.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?ch(n)?ax:{mapValue:{}}:se()}function hQ(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ga(Ps.empty(),ee.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?ax:"mapValue"in n?ch(n)?{mapValue:{}}:As:se()}function ZD(n,e){let t=Vs(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function JD(n,e){let t=Vs(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}var jn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!a8(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=T2(t)}setAll(e){let t=tn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=T2(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());a8(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Gi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];a8(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){rc(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(T2(this.value))}};function cx(n){let e=[];return rc(n.fields,(t,r)=>{let i=new tn([t]);if(a8(r)){let o=cx(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Lr(e)}var un=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ve.min(),ve.min(),ve.min(),jn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ve.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ve.min(),ve.min(),jn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ve.min(),ve.min(),jn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Yi=class{constructor(e,t){this.position=e,this.inclusive=t}};function eS(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=ee.comparator(ee.fromName(s.referenceValue),t.key):r=Vs(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function tS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Gi(n.position[t],e.position[t]))return!1;return!0}var Ya=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function dQ(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var v8=class{},Ue=class n extends v8{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new _m(e,t,r):t==="array-contains"?new Cm(e,r):t==="in"?new y8(e,r):t==="not-in"?new Mm(e,r):t==="array-contains-any"?new Tm(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new bm(e,r):new Em(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Vs(t,this.value)):t!==null&&Wa(this.value)===Wa(t)&&this.matchesComparison(Vs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},dt=class n extends v8{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return J1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function J1(n){return n.op==="and"}function ym(n){return n.op==="or"}function av(n){return lx(n)&&J1(n)}function lx(n){for(let e of n.filters)if(e instanceof dt)return!1;return!0}function wm(n){if(n instanceof Ue)return n.field.canonicalString()+n.op.toString()+Z1(n.value);if(av(n))return n.filters.map(e=>wm(e)).join(",");{let e=n.filters.map(t=>wm(t)).join(",");return`${n.op}(${e})`}}function ux(n,e){return n instanceof Ue?function(r,i){return i instanceof Ue&&r.op===i.op&&r.field.isEqual(i.field)&&Gi(r.value,i.value)}(n,e):n instanceof dt?function(r,i){return i instanceof dt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&ux(s,i.filters[a]),!0):!1}(n,e):void se()}function hx(n,e){let t=n.filters.concat(e);return dt.create(t,n.op)}function dx(n){return n instanceof Ue?function(t){return`${t.field.canonicalString()} ${t.op} ${Z1(t.value)}`}(n):n instanceof dt?function(t){return t.op.toString()+" {"+t.getFilters().map(dx).join(" ,")+"}"}(n):"Filter"}var _m=class extends Ue{constructor(e,t,r){super(e,t,r),this.key=ee.fromName(r.referenceValue)}matches(e){let t=ee.comparator(e.key,this.key);return this.matchesComparison(t)}},bm=class extends Ue{constructor(e,t){super(e,"in",t),this.keys=fx("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Em=class extends Ue{constructor(e,t){super(e,"not-in",t),this.keys=fx("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function fx(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ee.fromName(r.referenceValue))}var Cm=class extends Ue{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return P2(t)&&N2(t.arrayValue,this.value)}},y8=class extends Ue{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&N2(this.value.arrayValue,t)}},Mm=class extends Ue{constructor(e,t){super(e,"not-in",t)}matches(e){if(N2(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!N2(this.value.arrayValue,t)}},Tm=class extends Ue{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!P2(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>N2(this.value.arrayValue,r))}};var Im=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function Dm(n,e=null,t=[],r=[],i=null,o=null,s=null){return new Im(n,e,t,r,i,o,s)}function Qa(n){let e=J(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>wm(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),X2(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Z1(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Z1(r)).join(",")),e.ue=t}return e.ue}function Z2(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!dQ(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!ux(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!tS(n.startAt,e.startAt)&&tS(n.endAt,e.endAt)}function w8(n){return ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function _8(n,e){return n.filters.filter(t=>t instanceof Ue&&t.field.isEqual(e))}function nS(n,e,t){let r=s8,i=!0;for(let o of _8(n,e)){let s=s8,a=!0;switch(o.op){case"<":case"<=":s=uQ(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=s8}ZD({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){let s=t.position[o];ZD({value:r,inclusive:i},{value:s,inclusive:t.inclusive})<0&&(r=s,i=t.inclusive);break}}return{value:r,inclusive:i}}function rS(n,e,t){let r=As,i=!0;for(let o of _8(n,e)){let s=As,a=!0;switch(o.op){case">=":case">":s=hQ(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=As}JD({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){let s=t.position[o];JD({value:r,inclusive:i},{value:s,inclusive:t.inclusive})>0&&(r=s,i=t.inclusive);break}}return{value:r,inclusive:i}}var wi=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function px(n,e,t,r,i,o,s,a){return new wi(n,e,t,r,i,o,s,a)}function pl(n){return new wi(n)}function iS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function cv(n){return n.collectionGroup!==null}function Y1(n){let e=J(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ct(tn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Ya(o,r))}),t.has(tn.keyField().canonicalString())||e.ce.push(new Ya(tn.keyField(),r))}return e.ce}function ir(n){let e=J(n);return e.le||(e.le=fQ(e,Y1(n))),e.le}function fQ(n,e){if(n.limitType==="F")return Dm(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ya(i.field,o)});let t=n.endAt?new Yi(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Yi(n.startAt.position,n.startAt.inclusive):null;return Dm(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Sm(n,e){let t=n.filters.concat([e]);return new wi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function b8(n,e,t){return new wi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function J2(n,e){return Z2(ir(n),ir(e))&&n.limitType===e.limitType}function mx(n){return`${Qa(ir(n))}|lt:${n.limitType}`}function j1(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>dx(i)).join(", ")}]`),X2(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Z1(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Z1(i)).join(",")),`Target(${r})`}(ir(n))}; limitType=${n.limitType})`}function e3(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ee.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Y1(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let l=eS(s,a,c);return s.inclusive?l<=0:l<0}(r.startAt,Y1(r),i)||r.endAt&&!function(s,a,c){let l=eS(s,a,c);return s.inclusive?l>=0:l>0}(r.endAt,Y1(r),i))}(n,e)}function gx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function vx(n){return(e,t)=>{let r=!1;for(let i of Y1(n)){let o=pQ(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function pQ(n,e,t){let r=n.field.isKeyField()?ee.comparator(e.key,t.key):function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?Vs(c,l):se()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}var Qi=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){rc(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return ix(this.inner)}size(){return this.innerSize}};var mQ=new At(ee.comparator);function gr(){return mQ}var yx=new At(ee.comparator);function C2(...n){let e=yx;for(let t of n)e=e.insert(t.key,t);return e}function wx(n){let e=yx;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ui(){return I2()}function _x(){return I2()}function I2(){return new Qi(n=>n.toString(),(n,e)=>n.isEqual(e))}var gQ=new At(ee.comparator),vQ=new Ct(ee.comparator);function ze(...n){let e=vQ;for(let t of n)e=e.add(t);return e}var yQ=new Ct(Se);function lv(){return yQ}function uv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:z2(e)?"-0":e}}function bx(n){return{integerValue:""+n}}function Ex(n,e){return JS(e)?bx(e):uv(n,e)}var el=class{constructor(){this._=void 0}};function wQ(n,e,t){return n instanceof ks?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&ah(o)&&(o=sv(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Lo?Mx(n,e):n instanceof Fo?Tx(n,e):function(i,o){let s=Cx(i,o),a=oS(s)+oS(i.Pe);return vm(s)&&vm(i.Pe)?bx(a):uv(i.serializer,a)}(n,e)}function _Q(n,e,t){return n instanceof Lo?Mx(n,e):n instanceof Fo?Tx(n,e):t}function Cx(n,e){return n instanceof Ls?function(r){return vm(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var ks=class extends el{},Lo=class extends el{constructor(e){super(),this.elements=e}};function Mx(n,e){let t=Ix(e);for(let r of n.elements)t.some(i=>Gi(i,r))||t.push(r);return{arrayValue:{values:t}}}var Fo=class extends el{constructor(e){super(),this.elements=e}};function Tx(n,e){let t=Ix(e);for(let r of n.elements)t=t.filter(i=>!Gi(i,r));return{arrayValue:{values:t}}}var Ls=class extends el{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function oS(n){return Nt(n.integerValue||n.doubleValue)}function Ix(n){return P2(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var Ka=class{constructor(e,t){this.field=e,this.transform=t}};function bQ(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Lo&&i instanceof Lo||r instanceof Fo&&i instanceof Fo?K1(r.elements,i.elements,Gi):r instanceof Ls&&i instanceof Ls?Gi(r.Pe,i.Pe):r instanceof ks&&i instanceof ks}(n.transform,e.transform)}var xm=class{constructor(e,t){this.version=e,this.transformResults=t}},Kt=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function c8(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var tl=class{};function Dx(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Hs(n.key,Kt.none()):new Fs(n.key,n.data,Kt.none());{let t=n.data,r=jn.empty(),i=new Ct(tn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new _i(n.key,r,new Lr(i.toArray()),Kt.none())}}function EQ(n,e,t){n instanceof Fs?function(i,o,s){let a=i.value.clone(),c=aS(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof _i?function(i,o,s){if(!c8(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=aS(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(Sx(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function D2(n,e,t,r){return n instanceof Fs?function(o,s,a,c){if(!c8(o.precondition,s))return a;let l=o.value.clone(),h=cS(o.fieldTransforms,c,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof _i?function(o,s,a,c){if(!c8(o.precondition,s))return a;let l=cS(o.fieldTransforms,c,s),h=s.data;return h.setAll(Sx(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(n,e,t,r):function(o,s,a){return c8(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function CQ(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=Cx(r.transform,i||null);o!=null&&(t===null&&(t=jn.empty()),t.set(r.field,o))}return t||null}function sS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&K1(r,i,(o,s)=>bQ(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Fs=class extends tl{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},_i=class extends tl{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function Sx(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function aS(n,e,t){let r=new Map;de(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,_Q(s,a,t[i]))}return r}function cS(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,wQ(o,s,e))}return r}var Hs=class extends tl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},V2=class extends tl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var k2=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&EQ(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=D2(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=D2(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=_x();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=Dx(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(ve.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ze())}isEqual(e){return this.batchId===e.batchId&&K1(this.mutations,e.mutations,(t,r)=>sS(t,r))&&K1(this.baseMutations,e.baseMutations,(t,r)=>sS(t,r))}},Am=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){de(e.mutations.length===r.length);let i=function(){return gQ}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var L2=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var zm=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var an,Ge;function xx(n){switch(n){default:return se();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function Ax(n){if(n===void 0)return en("GRPC error has no .code"),N.UNKNOWN;switch(n){case an.OK:return N.OK;case an.CANCELLED:return N.CANCELLED;case an.UNKNOWN:return N.UNKNOWN;case an.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case an.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case an.INTERNAL:return N.INTERNAL;case an.UNAVAILABLE:return N.UNAVAILABLE;case an.UNAUTHENTICATED:return N.UNAUTHENTICATED;case an.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case an.NOT_FOUND:return N.NOT_FOUND;case an.ALREADY_EXISTS:return N.ALREADY_EXISTS;case an.PERMISSION_DENIED:return N.PERMISSION_DENIED;case an.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case an.ABORTED:return N.ABORTED;case an.OUT_OF_RANGE:return N.OUT_OF_RANGE;case an.UNIMPLEMENTED:return N.UNIMPLEMENTED;case an.DATA_LOSS:return N.DATA_LOSS;default:return se()}}(Ge=an||(an={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";var lS=null;function zx(){return new TextEncoder}var MQ=new Ts([4294967295,4294967295],0);function uS(n){let e=zx().encode(n),t=new W9;return t.update(e),new Uint8Array(t.digest())}function hS(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ts([t,r],0),new Ts([i,o],0)]}var Rm=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new $a(`Invalid padding: ${t}`);if(r<0)throw new $a(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $a(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new $a(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Ts.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(Ts.fromNumber(r)));return i.compare(MQ)===1&&(i=new Ts([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=uS(e),[r,i]=hS(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=uS(e),[r,i]=hS(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},$a=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var F2=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,H2.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ve.min(),i,new At(Se),gr(),ze())}},H2=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ze(),ze(),ze())}};var Q1=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},E8=class{constructor(e,t){this.targetId=e,this.me=t}},C8=class{constructor(e,t,r=rn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},M8=class{constructor(){this.fe=0,this.ge=fS(),this.pe=rn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ze(),t=ze(),r=ze();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:se()}}),new H2(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=fS()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,de(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Om=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=gr(),this.qe=dS(),this.Qe=new At(Se)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:se()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let o=i.target;if(w8(o))if(r===0){let s=new ee(o.path);this.Ue(t,s,un.newNoDocument(s,ve.min()))}else de(r===1);else{let s=this.Ye(t);if(s!==r){let a=this.Ze(e),c=a?this.Xe(a,e,s):1;if(c!==0){this.je(t);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,l)}lS?.et(function(h,d,m,g,y){var _,M,z,F,P,Q;let ne={localCacheCount:h,existenceFilterCount:d.count,databaseId:m.database,projectId:m.projectId},K=d.unchangedNames;return K&&(ne.bloomFilter={applied:y===0,hashCount:(_=K?.hashCount)!==null&&_!==void 0?_:0,bitmapLength:(F=(z=(M=K?.bits)===null||M===void 0?void 0:M.bitmap)===null||z===void 0?void 0:z.length)!==null&&F!==void 0?F:0,padding:(Q=(P=K?.bits)===null||P===void 0?void 0:P.padding)!==null&&Q!==void 0?Q:0,mightContain:C=>{var w;return(w=g?.mightContain(C))!==null&&w!==void 0&&w}}),ne}(s,e.me,this.Le.tt(),a,c))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Ns(r).toUint8Array()}catch(c){if(c instanceof g8)return yi("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Rm(s,i,o)}catch(c){return yi(c instanceof $a?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&w8(a.target)){let c=new ee(a.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,un.newNoDocument(c,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=ze();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this.Je(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new F2(e,t,this.Qe,this.ke,r);return this.ke=gr(),this.qe=dS(),this.Qe=new At(Se),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new M8,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Ct(Se),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||U("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new M8),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function dS(){return new At(ee.comparator)}function fS(){return new At(ee.comparator)}var TQ={asc:"ASCENDING",desc:"DESCENDING"},IQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DQ={and:"AND",or:"OR"},Nm=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Pm(n,e){return n.useProto3Json||X2(e)?e:{value:e}}function nl(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function SQ(n,e){return nl(n,e.toTimestamp())}function nn(n){return de(!!n),ve.fromTimestamp(function(t){let r=ko(t);return new Ut(r.seconds,r.nanos)}(n))}function hv(n,e){return Vm(n,e).canonicalString()}function Vm(n,e){let t=function(i){return new Ye(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Ox(n){let e=Ye.fromString(n);return de(Ux(e)),e}function B2(n,e){return hv(n.databaseId,e.path)}function qi(n,e){let t=Ox(e);if(t.get(1)!==n.databaseId.projectId)throw new j(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new j(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ee(Vx(t))}function Nx(n,e){return hv(n.databaseId,e)}function Px(n){let e=Ox(n);return e.length===4?Ye.emptyPath():Vx(e)}function km(n){return new Ye(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Vx(n){return de(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function pS(n,e,t){return{name:B2(n,e),fields:t.value.mapValue.fields}}function kx(n,e,t){let r=qi(n,e.name),i=nn(e.updateTime),o=e.createTime?nn(e.createTime):ve.min(),s=new jn({mapValue:{fields:e.fields}}),a=un.newFoundDocument(r,i,o,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function xQ(n,e){return"found"in e?function(r,i){de(!!i.found),i.found.name,i.found.updateTime;let o=qi(r,i.found.name),s=nn(i.found.updateTime),a=i.found.createTime?nn(i.found.createTime):ve.min(),c=new jn({mapValue:{fields:i.found.fields}});return un.newFoundDocument(o,s,a,c)}(n,e):"missing"in e?function(r,i){de(!!i.missing),de(!!i.readTime);let o=qi(r,i.missing),s=nn(i.readTime);return un.newNoDocument(o,s)}(n,e):se()}function AQ(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(de(h===void 0||typeof h=="string"),rn.fromBase64String(h||"")):(de(h===void 0||h instanceof Buffer||h instanceof Uint8Array),rn.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?N.UNKNOWN:Ax(l.code);return new j(h,l.message||"")}(s);t=new C8(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=qi(n,r.document.name),o=nn(r.document.updateTime),s=r.document.createTime?nn(r.document.createTime):ve.min(),a=new jn({mapValue:{fields:r.document.fields}}),c=un.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new Q1(l,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=qi(n,r.document),o=r.readTime?nn(r.readTime):ve.min(),s=un.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Q1([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=qi(n,r.document),o=r.removedTargetIds||[];t=new Q1([],o,i,null)}else{if(!("filter"in e))return se();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new zm(i,o),a=r.targetId;t=new E8(a,s)}}return t}function j2(n,e){let t;if(e instanceof Fs)t={update:pS(n,e.key,e.value)};else if(e instanceof Hs)t={delete:B2(n,e.key)};else if(e instanceof _i)t={update:pS(n,e.key,e.data),updateMask:VQ(e.fieldMask)};else{if(!(e instanceof V2))return se();t={verify:B2(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof ks)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Lo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Fo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ls)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw se()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:SQ(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:se()}(n,e.precondition)),t}function Lm(n,e){let t=e.currentDocument?function(o){return o.updateTime!==void 0?Kt.updateTime(nn(o.updateTime)):o.exists!==void 0?Kt.exists(o.exists):Kt.none()}(e.currentDocument):Kt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let c=null;if("setToServerValue"in a)de(a.setToServerValue==="REQUEST_TIME"),c=new ks;else if("appendMissingElements"in a){let h=a.appendMissingElements.values||[];c=new Lo(h)}else if("removeAllFromArray"in a){let h=a.removeAllFromArray.values||[];c=new Fo(h)}else"increment"in a?c=new Ls(s,a.increment):se();let l=tn.fromServerFormat(a.fieldPath);return new Ka(l,c)}(n,i)):[];if(e.update){e.update.name;let i=qi(n,e.update.name),o=new jn({mapValue:{fields:e.update.fields}});if(e.updateMask){let s=function(c){let l=c.fieldPaths||[];return new Lr(l.map(h=>tn.fromServerFormat(h)))}(e.updateMask);return new _i(i,o,s,t,r)}return new Fs(i,o,t,r)}if(e.delete){let i=qi(n,e.delete);return new Hs(i,t)}if(e.verify){let i=qi(n,e.verify);return new V2(i,t)}return se()}function zQ(n,e){return n&&n.length>0?(de(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?nn(i.updateTime):nn(o);return s.isEqual(ve.min())&&(s=nn(o)),new xm(s,i.transformResults||[])}(t,e))):[]}function Lx(n,e){return{documents:[Nx(n,e.path)]}}function Fx(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Nx(n,i);let o=function(l){if(l.length!==0)return jx(dt.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:U1(m.field),direction:OQ(m.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=Pm(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:t,parent:i}}function Hx(n){let e=Px(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){de(r===1);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(d){let m=Bx(d);return m instanceof dt&&av(m)?m.getFilters():[m]}(t.where));let s=[];t.orderBy&&(s=function(d){return d.map(m=>function(y){return new Ya($1(y.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(m))}(t.orderBy));let a=null;t.limit&&(a=function(d){let m;return m=typeof d=="object"?d.value:d,X2(m)?null:m}(t.limit));let c=null;t.startAt&&(c=function(d){let m=!!d.before,g=d.values||[];return new Yi(g,m)}(t.startAt));let l=null;return t.endAt&&(l=function(d){let m=!d.before,g=d.values||[];return new Yi(g,m)}(t.endAt)),px(e,i,s,o,a,"F",c,l)}function RQ(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Bx(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=$1(t.unaryFilter.field);return Ue.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=$1(t.unaryFilter.field);return Ue.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=$1(t.unaryFilter.field);return Ue.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=$1(t.unaryFilter.field);return Ue.create(s,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(n):n.fieldFilter!==void 0?function(t){return Ue.create($1(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return dt.create(t.compositeFilter.filters.map(r=>Bx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se()}}(t.compositeFilter.op))}(n):se()}function OQ(n){return TQ[n]}function NQ(n){return IQ[n]}function PQ(n){return DQ[n]}function U1(n){return{fieldPath:n.canonicalString()}}function $1(n){return tn.fromServerFormat(n.fieldPath)}function jx(n){return n instanceof Ue?function(t){if(t.op==="=="){if(XD(t.value))return{unaryFilter:{field:U1(t.field),op:"IS_NAN"}};if(KD(t.value))return{unaryFilter:{field:U1(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(XD(t.value))return{unaryFilter:{field:U1(t.field),op:"IS_NOT_NAN"}};if(KD(t.value))return{unaryFilter:{field:U1(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:U1(t.field),op:NQ(t.op),value:t.value}}}(n):n instanceof dt?function(t){let r=t.getFilters().map(i=>jx(i));return r.length===1?r[0]:{compositeFilter:{op:PQ(t.op),filters:r}}}(n):se()}function VQ(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Ux(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var rl=class n{constructor(e,t,r,i,o=ve.min(),s=ve.min(),a=rn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var T8=class{constructor(e){this.ct=e}};function kQ(n,e){let t;if(e.document)t=kx(n.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let r=ee.fromSegments(e.noDocument.path),i=Za(e.noDocument.readTime);t=un.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return se();{let r=ee.fromSegments(e.unknownDocument.path),i=Za(e.unknownDocument.version);t=un.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){let o=new Ut(i[0],i[1]);return ve.fromTimestamp(o)}(e.readTime)),t}function mS(n,e){let t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:I8(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,s){return{name:B2(o,s.key),fields:s.data.value.mapValue.fields,updateTime:nl(o,s.version.toTimestamp()),createTime:nl(o,s.createTime.toTimestamp())}}(n.ct,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Xa(e.version)};else{if(!e.isUnknownDocument())return se();r.unknownDocument={path:t.path.toArray(),version:Xa(e.version)}}return r}function I8(n){let e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Xa(n){let e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Za(n){let e=new Ut(n.seconds,n.nanoseconds);return ve.fromTimestamp(e)}function Ba(n,e){let t=(e.baseMutations||[]).map(o=>Lm(n.ct,o));for(let o=0;o<e.mutations.length-1;++o){let s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){let a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}let r=e.mutations.map(o=>Lm(n.ct,o)),i=Ut.fromMillis(e.localWriteTimeMs);return new k2(e.batchId,i,t,r)}function M2(n){let e=Za(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?Za(n.lastLimboFreeSnapshotVersion):ve.min(),r;return r=function(o){return o.documents!==void 0}(n.query)?function(o){return de(o.documents.length===1),ir(pl(Px(o.documents[0])))}(n.query):function(o){return ir(Hx(o))}(n.query),new rl(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,rn.fromBase64String(n.resumeToken))}function $x(n,e){let t=Xa(e.snapshotVersion),r=Xa(e.lastLimboFreeSnapshotVersion),i;i=w8(e.target)?Lx(n.ct,e.target):Fx(n.ct,e.target)._t;let o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Qa(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function dv(n){let e=Hx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?b8(e,e.limit,"L"):e}function Z9(n,e){return new L2(e.largestBatchId,Lm(n.ct,e.overlayMutation))}function gS(n,e){let t=e.path.lastSegment();return[n,rr(e.path.popLast()),t]}function vS(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Xa(r.readTime),documentKey:rr(r.documentKey.path),largestBatchId:r.largestBatchId}}var Fm=class{getBundleMetadata(e,t){return yS(e).get(t).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:Za(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,t){return yS(e).put(function(i){return{bundleId:i.id,createTime:Xa(nn(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return wS(e).get(t).next(r=>{if(r)return function(o){return{name:o.name,query:dv(o.bundledQuery),readTime:Za(o.readTime)}}(r)})}saveNamedQuery(e,t){return wS(e).put(function(i){return{name:i.name,readTime:Xa(nn(i.readTime)),bundledQuery:i.bundledQuery}}(t))}};function yS(n){return pn(n,"bundles")}function wS(n){return pn(n,"namedQueries")}var D8=class n{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){let r=t.uid||"";return new n(e,r)}getOverlay(e,t){return w2(e).get(gS(this.userId,t)).next(r=>r?Z9(this.serializer,r):null)}getOverlays(e,t){let r=Ui();return A.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){let i=[];return r.forEach((o,s)=>{let a=new L2(t,s);i.push(this.ht(e,a))}),A.waitFor(i)}removeOverlaysForBatchId(e,t,r){let i=new Set;t.forEach(s=>i.add(rr(s.getCollectionPath())));let o=[];return i.forEach(s=>{let a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(w2(e).j("collectionPathOverlayIndex",a))}),A.waitFor(o)}getOverlaysForCollection(e,t,r){let i=Ui(),o=rr(t),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return w2(e).U("collectionPathOverlayIndex",s).next(a=>{for(let c of a){let l=Z9(this.serializer,c);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,t,r,i){let o=Ui(),s,a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return w2(e).J({index:"collectionGroupOverlayIndex",range:a},(c,l,h)=>{let d=Z9(this.serializer,l);o.size()<i||d.largestBatchId===s?(o.set(d.getKey(),d),s=d.largestBatchId):h.done()}).next(()=>o)}ht(e,t){return w2(e).put(function(i,o,s){let[a,c,l]=gS(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:j2(i.ct,s.mutation)}}(this.serializer,this.userId,t))}};function w2(n){return pn(n,"documentOverlays")}var Hm=class{Pt(e){return pn(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(t=>{let r=t?.value;return r?rn.fromUint8Array(r):rn.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Pt(e).put({name:"sessionToken",value:t.toUint8Array()})}};var Po=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Nt(e.integerValue));else if("doubleValue"in e){let r=Nt(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),z2(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=ko(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Ns(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?sx(e)?this.dt(t,Number.MAX_SAFE_INTEGER):ch(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):se()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let o=e.fields||{};this.dt(t,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(Nt(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),ee.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};Po.vt=new Po;function LQ(n){if(n===0)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function _S(n){let e=64-function(r){let i=0;for(let o=0;o<8;++o){let s=LQ(255&r[o]);if(i+=s,s!==8)break}return i}(n);return Math.ceil(e/8)}var Bm=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){let t=e[Symbol.iterator](),r=t.next();for(;!r.done;)this.Ft(r.value),r=t.next();this.Mt()}xt(e){let t=e[Symbol.iterator](),r=t.next();for(;!r.done;)this.Ot(r.value),r=t.next();this.Nt()}Lt(e){for(let t of e){let r=t.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{let i=t.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(let t of e){let r=t.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{let i=t.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){let t=this.qt(e),r=_S(t);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Kt(e){let t=this.qt(e),r=_S(t);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){let t=function(o){let s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=(128&t[0])!=0;t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ft(e){let t=255&e;t===0?(this.Ut(0),this.Ut(255)):t===255?(this.Ut(255),this.Ut(0)):this.Ut(t)}Ot(e){let t=255&e;t===0?(this.Gt(0),this.Gt(255)):t===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){let t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);let i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}},jm=class{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}},Um=class{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}},ja=class{constructor(){this.jt=new Bm,this.Ht=new jm(this.jt),this.Jt=new Um(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}};var Ua=class n{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Zt(){let e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new n(this.indexId,this.documentKey,this.arrayValue,r)}};function Is(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=bS(n.arrayValue,e.arrayValue),t!==0?t:(t=bS(n.directionalValue,e.directionalValue),t!==0?t:ee.comparator(n.documentKey,e.documentKey)))}function bS(n,e){for(let t=0;t<n.length&&t<e.length;++t){let r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}var S8=class{constructor(e){this.Xt=new Ct((t,r)=>tn.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(let t of e.filters){let r=t;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(de(e.collectionGroup===this.collectionId),this.nn)return!1;let t=um(e);if(t!==void 0&&!this.sn(t))return!1;let r=Fa(e),i=new Set,o=0,s=0;for(;o<r.length&&this.sn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Xt.size>0){let a=this.Xt.getIterator().getNext();if(!i.has(a.field.canonicalString())){let c=r[o];if(!this.on(a,c)||!this._n(this.en[s++],c))return!1}++o}for(;o<r.length;++o){let a=r[o];if(s>=this.en.length||!this._n(this.en[s++],a))return!1}return!0}an(){if(this.nn)return null;let e=new Ct(tn.comparator),t=[];for(let r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new G1(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new G1(r.field,0))}for(let r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new G1(r.field,r.dir==="asc"?0:1)));return new X1(X1.UNKNOWN_ID,this.collectionId,t,A2.empty())}sn(e){for(let t of this.tn)if(this.on(t,e))return!0;return!1}on(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;let r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}_n(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}};function qx(n){var e,t;if(de(n instanceof Ue||n instanceof dt),n instanceof Ue){if(n instanceof y8){let i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(o=>Ue.create(n.field,"==",o)))||[];return dt.create(i,"or")}return n}let r=n.filters.map(i=>qx(i));return dt.create(r,n.op)}function FQ(n){if(n.getFilters().length===0)return[];let e=Wm(qx(n));return de(Wx(e)),$m(e)||qm(e)?[e]:e.getFilters()}function $m(n){return n instanceof Ue}function qm(n){return n instanceof dt&&av(n)}function Wx(n){return $m(n)||qm(n)||function(t){if(t instanceof dt&&ym(t)){for(let r of t.getFilters())if(!$m(r)&&!qm(r))return!1;return!0}return!1}(n)}function Wm(n){if(de(n instanceof Ue||n instanceof dt),n instanceof Ue)return n;if(n.filters.length===1)return Wm(n.filters[0]);let e=n.filters.map(r=>Wm(r)),t=dt.create(e,n.op);return t=x8(t),Wx(t)?t:(de(t instanceof dt),de(J1(t)),de(t.filters.length>1),t.filters.reduce((r,i)=>fv(r,i)))}function fv(n,e){let t;return de(n instanceof Ue||n instanceof dt),de(e instanceof Ue||e instanceof dt),t=n instanceof Ue?e instanceof Ue?function(i,o){return dt.create([i,o],"and")}(n,e):ES(n,e):e instanceof Ue?ES(e,n):function(i,o){if(de(i.filters.length>0&&o.filters.length>0),J1(i)&&J1(o))return hx(i,o.getFilters());let s=ym(i)?i:o,a=ym(i)?o:i,c=s.filters.map(l=>fv(l,a));return dt.create(c,"or")}(n,e),x8(t)}function ES(n,e){if(J1(e))return hx(e,n.getFilters());{let t=e.filters.map(r=>fv(n,r));return dt.create(t,"or")}}function x8(n){if(de(n instanceof Ue||n instanceof dt),n instanceof Ue)return n;let e=n.getFilters();if(e.length===1)return x8(e[0]);if(lx(n))return n;let t=e.map(i=>x8(i)),r=[];return t.forEach(i=>{i instanceof Ue?r.push(i):i instanceof dt&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:dt.create(r,n.op)}var Gm=class{constructor(){this.un=new U2}addToCollectionParentIndex(e,t){return this.un.add(t),A.resolve()}getCollectionParents(e,t){return A.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return A.resolve()}deleteFieldIndex(e,t){return A.resolve()}deleteAllFieldIndexes(e){return A.resolve()}createTargetIndexes(e,t){return A.resolve()}getDocumentsMatchingTarget(e,t){return A.resolve(null)}getIndexType(e,t){return A.resolve(0)}getFieldIndexes(e,t){return A.resolve([])}getNextCollectionGroupToUpdate(e){return A.resolve(null)}getMinOffset(e,t){return A.resolve(Yr.min())}getMinOffsetFromCollectionGroup(e,t){return A.resolve(Yr.min())}updateCollectionGroup(e,t,r){return A.resolve()}updateIndexEntries(e,t){return A.resolve()}},U2=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ct(Ye.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ct(Ye.comparator)).toArray()}};var t8=new Uint8Array(0),Ym=class{constructor(e,t){this.databaseId=t,this.cn=new U2,this.ln=new Qi(r=>Qa(r),(r,i)=>Z2(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.cn.has(t)){let r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.cn.add(t)});let o={collectionId:r,parent:rr(i)};return CS(e).put(o)}return A.resolve()}getCollectionParents(e,t){let r=[],i=IDBKeyRange.bound([t,""],[YS(t),""],!1,!0);return CS(e).U(i).next(o=>{for(let s of o){if(s.collectionId!==t)break;r.push(ji(s.parent))}return r})}addFieldIndex(e,t){let r=_2(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(t);delete i.indexId;let o=r.add(i);if(t.indexState){let s=F1(e);return o.next(a=>{s.put(vS(a,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){let r=_2(e),i=F1(e),o=L1(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let t=_2(e),r=L1(e),i=F1(e);return t.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,t){return A.forEach(this.hn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){let o=new S8(r).an();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){let r=L1(e),i=!0,o=new Map;return A.forEach(this.hn(t),s=>this.Pn(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=ze(),a=[];return A.forEach(o,(c,l)=>{U("IndexedDbIndexManager",`Using index ${function(P){return`id=${P.indexId}|cg=${P.collectionGroup}|f=${P.fields.map(Q=>`${Q.fieldPath}:${Q.kind}`).join(",")}`}(c)} to execute ${Qa(t)}`);let h=function(P,Q){let ne=um(Q);if(ne===void 0)return null;for(let K of _8(P,ne.fieldPath))switch(K.op){case"array-contains-any":return K.value.arrayValue.values||[];case"array-contains":return[K.value]}return null}(l,c),d=function(P,Q){let ne=new Map;for(let K of Fa(Q))for(let C of _8(P,K.fieldPath))switch(C.op){case"==":case"in":ne.set(K.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return ne.set(K.fieldPath.canonicalString(),C.value),Array.from(ne.values())}return null}(l,c),m=function(P,Q){let ne=[],K=!0;for(let C of Fa(Q)){let w=C.kind===0?nS(P,C.fieldPath,P.startAt):rS(P,C.fieldPath,P.startAt);ne.push(w.value),K&&(K=w.inclusive)}return new Yi(ne,K)}(l,c),g=function(P,Q){let ne=[],K=!0;for(let C of Fa(Q)){let w=C.kind===0?rS(P,C.fieldPath,P.endAt):nS(P,C.fieldPath,P.endAt);ne.push(w.value),K&&(K=w.inclusive)}return new Yi(ne,K)}(l,c),y=this.In(c,l,m),_=this.In(c,l,g),M=this.Tn(c,l,d),z=this.En(c.indexId,h,y,m.inclusive,_,g.inclusive,M);return A.forEach(z,F=>r.G(F,t.limit).next(P=>{P.forEach(Q=>{let ne=ee.fromSegments(Q.documentKey);s.has(ne)||(s=s.add(ne),a.push(ne))})}))}).next(()=>a)}return A.resolve(null)})}hn(e){let t=this.ln.get(e);return t||(e.filters.length===0?t=[e]:t=FQ(dt.create(e.filters,"and")).map(r=>Dm(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,t),t)}En(e,t,r,i,o,s,a){let c=(t!=null?t.length:1)*Math.max(r.length,o.length),l=c/(t!=null?t.length:1),h=[];for(let d=0;d<c;++d){let m=t?this.dn(t[d/l]):t8,g=this.An(e,m,r[d%l],i),y=this.Rn(e,m,o[d%l],s),_=a.map(M=>this.An(e,m,M,!0));h.push(...this.createRange(g,y,_))}return h}An(e,t,r,i){let o=new Ua(e,ee.empty(),t,r);return i?o:o.Zt()}Rn(e,t,r,i){let o=new Ua(e,ee.empty(),t,r);return i?o.Zt():o}Pn(e,t){let r=new S8(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(let a of o)r.rn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,t){let r=2,i=this.hn(t);return A.forEach(i,o=>this.Pn(e,o).next(s=>{s?r!==0&&s.fields.length<function(c){let l=new Ct(tn.comparator),h=!1;for(let d of c.filters)for(let m of d.getFlattenedFilters())m.field.isKeyField()||(m.op==="array-contains"||m.op==="array-contains-any"?h=!0:l=l.add(m.field));for(let d of c.orderBy)d.field.isKeyField()||(l=l.add(d.field));return l.size+(h?1:0)}(o)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(t)&&i.length>1&&r===2?1:r)}Vn(e,t){let r=new ja;for(let i of Fa(e)){let o=t.data.field(i.fieldPath);if(o==null)return null;let s=r.Yt(i.kind);Po.vt.It(o,s)}return r.zt()}dn(e){let t=new ja;return Po.vt.It(e,t.Yt(0)),t.zt()}mn(e,t){let r=new ja;return Po.vt.It(Ga(this.databaseId,t),r.Yt(function(o){let s=Fa(o);return s.length===0?0:s[s.length-1].kind}(e))),r.zt()}Tn(e,t,r){if(r===null)return[];let i=[];i.push(new ja);let o=0;for(let s of Fa(e)){let a=r[o++];for(let c of i)if(this.fn(t,s.fieldPath)&&P2(a))i=this.gn(i,s,a);else{let l=c.Yt(s.kind);Po.vt.It(a,l)}}return this.pn(i)}In(e,t,r){return this.Tn(e,t,r.position)}pn(e){let t=[];for(let r=0;r<e.length;++r)t[r]=e[r].zt();return t}gn(e,t,r){let i=[...e],o=[];for(let s of r.arrayValue.values||[])for(let a of i){let c=new ja;c.seed(a.zt()),Po.vt.It(s,c.Yt(t.kind)),o.push(c)}return o}fn(e,t){return!!e.filters.find(r=>r instanceof Ue&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){let r=_2(e),i=F1(e);return(t?r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.U()).next(o=>{let s=[];return A.forEach(o,a=>i.get([a.indexId,this.uid]).next(c=>{s.push(function(h,d){let m=d?new A2(d.sequenceNumber,new Yr(Za(d.readTime),new ee(ji(d.documentKey)),d.largestBatchId)):A2.empty(),g=h.fields.map(([y,_])=>new G1(tn.fromServerFormat(y),_));return new X1(h.indexId,h.collectionGroup,g,m)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{let o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:Se(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){let i=_2(e),o=F1(e);return this.yn(e).next(s=>i.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>A.forEach(a,c=>o.put(vS(c.indexId,this.uid,s,r)))))}updateIndexEntries(e,t){let r=new Map;return A.forEach(t,(i,o)=>{let s=r.get(i.collectionGroup);return(s?A.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),A.forEach(a,c=>this.wn(e,i,c).next(l=>{let h=this.Sn(o,c);return l.isEqual(h)?A.resolve():this.bn(e,o,c,l,h)}))))})}Dn(e,t,r,i){return L1(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,t.key),documentKey:t.key.path.toArray()})}vn(e,t,r,i){return L1(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,t.key),t.key.path.toArray()])}wn(e,t,r){let i=L1(e),o=new Ct(Is);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,t)])},(s,a)=>{o=o.add(new Ua(r.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>o)}Sn(e,t){let r=new Ct(Is),i=this.Vn(t,e);if(i==null)return r;let o=um(t);if(o!=null){let s=e.data.field(o.fieldPath);if(P2(s))for(let a of s.arrayValue.values||[])r=r.add(new Ua(t.indexId,e.key,this.dn(a),i))}else r=r.add(new Ua(t.indexId,e.key,t8,i));return r}bn(e,t,r,i,o){U("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);let s=[];return function(c,l,h,d,m){let g=c.getIterator(),y=l.getIterator(),_=k1(g),M=k1(y);for(;_||M;){let z=!1,F=!1;if(_&&M){let P=h(_,M);P<0?F=!0:P>0&&(z=!0)}else _!=null?F=!0:z=!0;z?(d(M),M=k1(y)):F?(m(_),_=k1(g)):(_=k1(g),M=k1(y))}}(i,o,Is,a=>{s.push(this.Dn(e,t,r,a))},a=>{s.push(this.vn(e,t,r,a))}),A.waitFor(s)}yn(e){let t=1;return F1(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((s,a)=>Is(s,a)).filter((s,a,c)=>!a||Is(s,c[a-1])!==0);let i=[];i.push(e);for(let s of r){let a=Is(s,e),c=Is(s,t);if(a===0)i[0]=e.Zt();else if(a>0&&c<0)i.push(s),i.push(s.Zt());else if(c>0)break}i.push(t);let o=[];for(let s=0;s<i.length;s+=2){if(this.Cn(i[s],i[s+1]))return[];let a=[i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,t8,[]],c=[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,t8,[]];o.push(IDBKeyRange.bound(a,c))}return o}Cn(e,t){return Is(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(MS)}getMinOffset(e,t){return A.mapArray(this.hn(t),r=>this.Pn(e,r).next(i=>i||se())).next(MS)}};function CS(n){return pn(n,"collectionParents")}function L1(n){return pn(n,"indexEntries")}function _2(n){return pn(n,"indexConfiguration")}function F1(n){return pn(n,"indexState")}function MS(n){de(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){let i=n[r].indexState.offset;rv(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Yr(e.readTime,e.documentKey,t)}var TS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Gr=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function Gx(n,e,t){let r=n.store("mutations"),i=n.store("documentMutations"),o=[],s=IDBKeyRange.only(t.batchId),a=0,c=r.J({range:s},(h,d,m)=>(a++,m.delete()));o.push(c.next(()=>{de(a===1)}));let l=[];for(let h of t.mutations){let d=ex(e,h.key.path,t.batchId);o.push(i.delete(d)),l.push(h.key)}return A.waitFor(o).next(()=>l)}function A8(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw se();e=n.noDocument}return JSON.stringify(e).length}Gr.DEFAULT_COLLECTION_PERCENTILE=10,Gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gr.DEFAULT=new Gr(41943040,Gr.DEFAULT_COLLECTION_PERCENTILE,Gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gr.DISABLED=new Gr(-1,0,0);var z8=class n{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,t,r,i){de(e.uid!=="");let o=e.isAuthenticated()?e.uid:"";return new n(o,t,r,i)}checkEmpty(e){let t=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ds(e).J({index:"userMutationsIndex",range:r},(i,o,s)=>{t=!1,s.done()}).next(()=>t)}addMutationBatch(e,t,r,i){let o=q1(e),s=Ds(e);return s.add({}).next(a=>{de(typeof a=="number");let c=new k2(a,t,r,i),l=function(g,y,_){let M=_.baseMutations.map(F=>j2(g.ct,F)),z=_.mutations.map(F=>j2(g.ct,F));return{userId:y,batchId:_.batchId,localWriteTimeMs:_.localWriteTime.toMillis(),baseMutations:M,mutations:z}}(this.serializer,this.userId,c),h=[],d=new Ct((m,g)=>Se(m.canonicalString(),g.canonicalString()));for(let m of i){let g=ex(this.userId,m.key.path,a);d=d.add(m.key.path.popLast()),h.push(s.put(l)),h.push(o.put(g,qY))}return d.forEach(m=>{h.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Fn[a]=c.keys()}),A.waitFor(h).next(()=>c)})}lookupMutationBatch(e,t){return Ds(e).get(t).next(r=>r?(de(r.userId===this.userId),Ba(this.serializer,r)):null)}Mn(e,t){return this.Fn[t]?A.resolve(this.Fn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){let i=r.keys();return this.Fn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Ds(e).J({index:"userMutationsIndex",range:i},(s,a,c)=>{a.userId===this.userId&&(de(a.batchId>=r),o=Ba(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){let t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Ds(e).J({index:"userMutationsIndex",range:t,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){let t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ds(e).U("userMutationsIndex",t).next(r=>r.map(i=>Ba(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){let r=o8(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return q1(e).J({range:i},(s,a,c)=>{let[l,h,d]=s,m=ji(h);if(l===this.userId&&t.path.isEqual(m))return Ds(e).get(d).next(g=>{if(!g)throw se();de(g.userId===this.userId),o.push(Ba(this.serializer,g))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ct(Se),i=[];return t.forEach(o=>{let s=o8(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=q1(e).J({range:a},(l,h,d)=>{let[m,g,y]=l,_=ji(g);m===this.userId&&o.path.isEqual(_)?r=r.add(y):d.done()});i.push(c)}),A.waitFor(i).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=o8(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Ct(Se);return q1(e).J({range:s},(c,l,h)=>{let[d,m,g]=c,y=ji(m);d===this.userId&&r.isPrefixOf(y)?y.length===i&&(a=a.add(g)):h.done()}).next(()=>this.xn(e,a))}xn(e,t){let r=[],i=[];return t.forEach(o=>{i.push(Ds(e).get(o).next(s=>{if(s===null)throw se();de(s.userId===this.userId),r.push(Ba(this.serializer,s))}))}),A.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return Gx(e._e,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.On(t.batchId)}),A.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return A.resolve();let r=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),i=[];return q1(e).J({range:r},(o,s,a)=>{if(o[0]===this.userId){let c=ji(o[1]);i.push(c)}else a.done()}).next(()=>{de(i.length===0)})})}containsKey(e,t){return Yx(e,this.userId,t)}Nn(e){return Qx(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function Yx(n,e,t){let r=o8(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return q1(n).J({range:o,H:!0},(a,c,l)=>{let[h,d,m]=a;h===e&&d===i&&(s=!0),l.done()}).next(()=>s)}function Ds(n){return pn(n,"mutations")}function q1(n){return pn(n,"documentMutations")}function Qx(n){return pn(n,"mutationQueues")}var il=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var Qm=class{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.qn(e).next(t=>{let r=new il(t.highestTargetId);return t.highestTargetId=r.next(),this.Qn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(t=>ve.fromTimestamp(new Ut(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.qn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Qn(e,i)))}addTargetData(e,t){return this.Kn(e,t).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(t,r),this.Qn(e,r))))}updateTargetData(e,t){return this.Kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>H1(e).delete(t.targetId)).next(()=>this.qn(e)).next(r=>(de(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,t,r){let i=0,o=[];return H1(e).J((s,a)=>{let c=M2(a);c.sequenceNumber<=t&&r.get(c.targetId)===null&&(i++,o.push(this.removeTargetData(e,c)))}).next(()=>A.waitFor(o)).next(()=>i)}forEachTarget(e,t){return H1(e).J((r,i)=>{let o=M2(i);t(o)})}qn(e){return IS(e).get("targetGlobalKey").next(t=>(de(t!==null),t))}Qn(e,t){return IS(e).put("targetGlobalKey",t)}Kn(e,t){return H1(e).put($x(this.serializer,t))}$n(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(t=>t.targetCount)}getTargetData(e,t){let r=Qa(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return H1(e).J({range:i,index:"queryTargetsIndex"},(s,a,c)=>{let l=M2(a);Z2(t,l.target)&&(o=l,c.done())}).next(()=>o)}addMatchingKeys(e,t,r){let i=[],o=Ss(e);return t.forEach(s=>{let a=rr(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),A.waitFor(i)}removeMatchingKeys(e,t,r){let i=Ss(e);return A.forEach(t,o=>{let s=rr(o.path);return A.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){let r=Ss(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){let r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Ss(e),o=ze();return i.J({range:r,H:!0},(s,a,c)=>{let l=ji(s[1]),h=new ee(l);o=o.add(h)}).next(()=>o)}containsKey(e,t){let r=rr(t.path),i=IDBKeyRange.bound([r],[YS(r)],!1,!0),o=0;return Ss(e).J({index:"documentTargetsIndex",H:!0,range:i},([s,a],c,l)=>{s!==0&&(o++,l.done())}).next(()=>o>0)}ot(e,t){return H1(e).get(t).next(r=>r?M2(r):null)}};function H1(n){return pn(n,"targets")}function IS(n){return pn(n,"targetGlobal")}function Ss(n){return pn(n,"targetDocuments")}function DS([n,e],[t,r]){let i=Se(n,t);return i===0?Se(e,r):i}var Km=class{constructor(e){this.Un=e,this.buffer=new Ct(DS),this.Wn=0}Gn(){return++this.Wn}zn(e){let t=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();DS(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},Xm=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){U("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>R(this,null,function*(){this.jn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Us(t)?U("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):yield js(t)}yield this.Hn(3e5)}))}},Zm=class{constructor(e,t){this.Jn=e,this.params=t}calculateTargetCount(e,t){return this.Jn.Yn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return A.resolve(kr.oe);let r=new Km(t);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Jn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(U("LruGarbageCollector","Garbage collection skipped; disabled"),A.resolve(TS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(U("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TS):this.Xn(e,t))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,t){let r,i,o,s,a,c,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(U("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,s=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,t))).next(d=>(o=d,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(l=Date.now(),B1()<=Ti.DEBUG&&U("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${d} documents in `+(l-c)+`ms
Total Duration: ${l-h}ms`),A.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:d})))}};function HQ(n,e){return new Zm(n,e)}var Jm=class{constructor(e,t){this.db=e,this.garbageCollector=HQ(this,t)}Yn(e){let t=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}er(e){let t=0;return this.Zn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Zn(e,t){return this.tr(e,(r,i)=>t(i))}addReference(e,t,r){return n8(e,r)}removeReference(e,t,r){return n8(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return n8(e,t)}nr(e,t){return function(i,o){let s=!1;return Qx(i).Y(a=>Yx(i,a,o).next(c=>(c&&(s=!0),A.resolve(!c)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){let r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.tr(e,(s,a)=>{if(a<=t){let c=this.nr(e,s).next(l=>{if(!l)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,ve.min()),Ss(e).delete(function(d){return[0,rr(d.path)]}(s))))});i.push(c)}}).next(()=>A.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return n8(e,t)}tr(e,t){let r=Ss(e),i,o=kr.oe;return r.J({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:l})=>{s===0?(o!==kr.oe&&t(new ee(ji(i)),o),o=l,i=c):o=kr.oe}).next(()=>{o!==kr.oe&&t(new ee(ji(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function n8(n,e){return Ss(n).put(function(r,i){return{targetId:0,path:rr(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}var R8=class{constructor(){this.changes=new Qi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?A.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var eg=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return La(e).put(r)}removeEntry(e,t,r){return La(e).delete(function(o,s){let a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],I8(s),a[a.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.rr(e,r)))}getEntry(e,t){let r=un.newInvalidDocument(t);return La(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(b2(t))},(i,o)=>{r=this.ir(t,o)}).next(()=>r)}sr(e,t){let r={size:0,document:un.newInvalidDocument(t)};return La(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(b2(t))},(i,o)=>{r={document:this.ir(t,o),size:A8(o)}}).next(()=>r)}getEntries(e,t){let r=gr();return this._r(e,t,(i,o)=>{let s=this.ir(i,o);r=r.insert(i,s)}).next(()=>r)}ar(e,t){let r=gr(),i=new At(ee.comparator);return this._r(e,t,(o,s)=>{let a=this.ir(o,s);r=r.insert(o,a),i=i.insert(o,A8(s))}).next(()=>({documents:r,ur:i}))}_r(e,t,r){if(t.isEmpty())return A.resolve();let i=new Ct(AS);t.forEach(c=>i=i.add(c));let o=IDBKeyRange.bound(b2(i.first()),b2(i.last())),s=i.getIterator(),a=s.getNext();return La(e).J({index:"documentKeyIndex",range:o},(c,l,h)=>{let d=ee.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&AS(a,d)<0;)r(a,null),a=s.getNext();a&&a.isEqual(d)&&(r(a,l),a=s.hasNext()?s.getNext():null),a?h.$(b2(a)):h.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,o){let s=t.path,a=[s.popLast().toArray(),s.lastSegment(),I8(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return La(e).U(IDBKeyRange.bound(a,c,!0)).next(l=>{o?.incrementDocumentReadCount(l.length);let h=gr();for(let d of l){let m=this.ir(ee.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);m.isFoundDocument()&&(e3(t,m)||i.has(m.key))&&(h=h.insert(m.key,m))}return h})}getAllFromCollectionGroup(e,t,r,i){let o=gr(),s=xS(t,r),a=xS(t,Yr.max());return La(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,l,h)=>{let d=this.ir(ee.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(d.key,d),o.size===i&&h.done()}).next(()=>o)}newChangeBuffer(e){return new tg(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return SS(e).get("remoteDocumentGlobalKey").next(t=>(de(!!t),t))}rr(e,t){return SS(e).put("remoteDocumentGlobalKey",t)}ir(e,t){if(t){let r=kQ(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(ve.min())))return r}return un.newInvalidDocument(e)}};function Kx(n){return new eg(n)}var tg=class extends R8{constructor(e,t){super(),this.cr=e,this.trackRemovals=t,this.lr=new Qi(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){let t=[],r=0,i=new Ct((o,s)=>Se(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{let a=this.lr.get(o);if(t.push(this.cr.removeEntry(e,o,a.readTime)),s.isValidDocument()){let c=mS(this.cr.serializer,s);i=i.add(o.path.popLast());let l=A8(c);r+=l-a.size,t.push(this.cr.addEntry(e,o,c))}else if(r-=a.size,this.trackRemovals){let c=mS(this.cr.serializer,s.convertToNoDocument(ve.min()));t.push(this.cr.addEntry(e,o,c))}}),i.forEach(o=>{t.push(this.cr.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.cr.updateMetadata(e,r)),A.waitFor(t)}getFromCache(e,t){return this.cr.sr(e,t).next(r=>(this.lr.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.cr.ar(e,t).next(({documents:r,ur:i})=>(i.forEach((o,s)=>{this.lr.set(o,{size:s,readTime:r.get(o).readTime})}),r))}};function SS(n){return pn(n,"remoteDocumentGlobal")}function La(n){return pn(n,"remoteDocumentsV14")}function b2(n){let e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function xS(n,e){let t=e.documentKey.path.toArray();return[n,I8(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function AS(n,e){let t=n.path.toArray(),r=e.path.toArray(),i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=Se(t[o],r[o]),i)return i;return i=Se(t.length,r.length),i||(i=Se(t[t.length-2],r[r.length-2]),i||Se(t[t.length-1],r[r.length-1]))}var ng=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var O8=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&D2(r.mutation,i,Lr.empty(),Ut.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ze()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ze()){let i=Ui();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=C2();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Ui();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ze()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=gr(),s=I2(),a=function(){return I2()}();return t.forEach((c,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof _i)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),D2(h.mutation,l,h.mutation.getFieldMask(),Ut.now())):s.set(l.key,Lr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var d;return a.set(l,new ng(h,(d=s.get(l))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,t){let r=I2(),i=new At((s,a)=>s-a),o=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=t.get(c);if(l===null)return;let h=r.get(c)||Lr.empty();h=a.applyToLocalView(l,h),r.set(c,h);let d=(i.get(a.batchId)||ze()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,h=c.value,d=_x();h.forEach(m=>{if(!o.has(m)){let g=Dx(t.get(m),r.get(m));g!==null&&d.set(m,g),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,d))}return A.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):cv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):A.resolve(Ui()),a=-1,c=o;return s.next(l=>A.forEach(l,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(h)?A.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,ze())).next(h=>({batchId:a,changes:wx(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ee(t)).next(r=>{let i=C2();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=C2();return this.indexManager.getCollectionParents(e,o).next(a=>A.forEach(a,c=>{let l=function(d,m){return new wi(m,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((d,m)=>{s=s.insert(d,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,un.newInvalidDocument(h)))});let a=C2();return s.forEach((c,l)=>{let h=o.get(c);h!==void 0&&D2(h.mutation,l,Lr.empty(),Ut.now()),e3(t,l)&&(a=a.insert(c,l))}),a})}};var rg=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return A.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:nn(i.createTime)}}(t)),A.resolve()}getNamedQuery(e,t){return A.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:dv(i.bundledQuery),readTime:nn(i.readTime)}}(t)),A.resolve()}};var ig=class{constructor(){this.overlays=new At(ee.comparator),this.Ir=new Map}getOverlay(e,t){return A.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Ui();return A.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),A.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),A.resolve()}getOverlaysForCollection(e,t,r){let i=Ui(),o=t.length+1,s=new ee(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return A.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new At((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Ui(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Ui(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return A.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new L2(t,r));let o=this.Ir.get(t);o===void 0&&(o=ze(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}};var og=class{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return A.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,A.resolve()}};var $2=class{constructor(){this.Tr=new Ct(cn.Er),this.dr=new Ct(cn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new cn(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new cn(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new ee(new Ye([])),r=new cn(t,e),i=new cn(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new ee(new Ye([])),r=new cn(t,e),i=new cn(t,e+1),o=ze();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new cn(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},cn=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ee.comparator(e.key,t.key)||Se(e.wr,t.wr)}static Ar(e,t){return Se(e.wr,t.wr)||ee.comparator(e.key,t.key)}};var sg=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Ct(cn.Er)}checkEmpty(e){return A.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new k2(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new cn(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return A.resolve(s)}lookupMutationBatch(e,t){return A.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),o=i<0?0:i;return A.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return A.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return A.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new cn(t,0),i=new cn(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),A.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ct(Se);return t.forEach(i=>{let o=new cn(i,0),s=new cn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),A.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;ee.isDocumentKey(o)||(o=o.child(""));let s=new cn(new ee(o),0),a=new Ct(Se);return this.br.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.wr)),!0)},s),A.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){de(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return A.forEach(t.mutations,i=>{let o=new cn(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new cn(t,0),i=this.br.firstAfterOrEqual(r);return A.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,A.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var ag=class{constructor(e){this.Mr=e,this.docs=function(){return new At(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return A.resolve(r?r.document.mutableCopy():un.newInvalidDocument(t))}getEntries(e,t){let r=gr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():un.newInvalidDocument(i))}),A.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=gr(),s=t.path,a=new ee(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:h}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||rv(KS(h),r)<=0||(i.has(h.key)||e3(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return A.resolve(o)}getAllFromCollectionGroup(e,t,r,i){se()}Or(e,t){return A.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new cg(this)}getSize(e){return A.resolve(this.size)}},cg=class extends R8{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),A.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var lg=class{constructor(e){this.persistence=e,this.Nr=new Qi(t=>Qa(t),Z2),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.Lr=0,this.Br=new $2,this.targetCount=0,this.kr=il.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),A.resolve()}getLastRemoteSnapshotVersion(e){return A.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return A.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),A.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),A.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new il(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,A.resolve()}updateTargetData(e,t){return this.Kn(t),A.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,A.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),A.waitFor(o).next(()=>i)}getTargetCount(e){return A.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return A.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),A.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),A.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),A.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return A.resolve(r)}containsKey(e,t){return A.resolve(this.Br.containsKey(t))}};var N8=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new kr(0),this.Kr=!1,this.Kr=!0,this.$r=new og,this.referenceDelegate=e(this),this.Ur=new lg(this),this.indexManager=new Gm,this.remoteDocumentCache=function(i){return new ag(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new T8(t),this.Gr=new rg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ig,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new sg(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){U("MemoryPersistence","Starting transaction:",e);let i=new ug(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return A.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},ug=class extends f8{constructor(e){super(),this.currentSequenceNumber=e}},P8=class n{constructor(e){this.persistence=e,this.Jr=new $2,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw se()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),A.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),A.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),A.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return A.forEach(this.Xr,r=>{let i=ee.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,ve.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return A.or([()=>A.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var hg=class{constructor(e){this.serializer=e}O(e,t,r,i){let o=new p8("createOrUpgrade",t);r<1&&i>=1&&(function(c){c.createObjectStore("owner")}(e),function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",WD,{unique:!0}),c.createObjectStore("documentMutations")}(e),zS(e),function(c){c.createObjectStore("remoteDocuments")}(e));let s=A.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),zS(e)),s=s.next(()=>function(c){let l=c.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ve.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",h)}(o))),r<4&&i>=4&&(r!==0&&(s=s.next(()=>function(c,l){return l.store("mutations").U().next(h=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",WD,{unique:!0});let d=l.store("mutations"),m=h.map(g=>d.put(g));return A.waitFor(m)})}(e,o))),s=s.next(()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(s=s.next(()=>this.ni(o))),r<6&&i>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.ri(o)))),r<7&&i>=7&&(s=s.next(()=>this.ii(o))),r<8&&i>=8&&(s=s.next(()=>this.si(e,o))),r<9&&i>=9&&(s=s.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(s=s.next(()=>this.oi(o))),r<11&&i>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{(function(c){let l=c.createObjectStore("documentOverlays",{keyPath:rQ});l.createIndex("collectionPathOverlayIndex",iQ,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",oQ,{unique:!1})})(e)})),r<13&&i>=13&&(s=s.next(()=>function(c){let l=c.createObjectStore("remoteDocumentsV14",{keyPath:WY});l.createIndex("documentKeyIndex",GY),l.createIndex("collectionGroupIndex",YY)}(e)).next(()=>this._i(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.ai(e,o))),r<15&&i>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:JY}).createIndex("sequenceNumberIndex",eQ,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:tQ}).createIndex("documentKeyIndex",nQ,{unique:!1})}(e))),r<16&&i>=16&&(s=s.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),r<17&&i>=17&&(s=s.next(()=>{(function(c){c.createObjectStore("globals",{keyPath:"name"})})(e)})),s}ri(e){let t=0;return e.store("remoteDocuments").J((r,i)=>{t+=A8(i)}).next(()=>{let r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){let t=e.store("mutationQueues"),r=e.store("mutations");return t.U().next(i=>A.forEach(i,o=>{let s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",s).next(a=>A.forEach(a,c=>{de(c.userId===o.userId);let l=Ba(this.serializer,c);return Gx(e,o.userId,l).next(()=>{})}))}))}ii(e){let t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{let o=[];return r.J((s,a)=>{let c=new Ye(s),l=function(d){return[0,rr(d)]}(c);o.push(t.get(l).next(h=>h?A.resolve():(d=>t.put({targetId:0,path:rr(d),sequenceNumber:i.highestListenSequenceNumber}))(c)))}).next(()=>A.waitFor(o))})}si(e,t){e.createObjectStore("collectionParents",{keyPath:ZY});let r=t.store("collectionParents"),i=new U2,o=s=>{if(i.add(s)){let a=s.lastSegment(),c=s.popLast();return r.put({collectionId:a,parent:rr(c)})}};return t.store("remoteDocuments").J({H:!0},(s,a)=>{let c=new Ye(s);return o(c.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([s,a,c],l)=>{let h=ji(a);return o(h.popLast())}))}oi(e){let t=e.store("targets");return t.J((r,i)=>{let o=M2(i),s=$x(this.serializer,o);return t.put(s)})}_i(e,t){let r=t.store("remoteDocuments"),i=[];return r.J((o,s)=>{let a=t.store("remoteDocumentsV14"),c=function(d){return d.document?new ee(Ye.fromString(d.document.name).popFirst(5)):d.noDocument?ee.fromSegments(d.noDocument.path):d.unknownDocument?ee.fromSegments(d.unknownDocument.path):se()}(s).path.toArray(),l={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(a.put(l))}).next(()=>A.waitFor(i))}ai(e,t){let r=t.store("mutations"),i=Kx(this.serializer),o=new N8(P8.Zr,this.serializer.ct);return r.U().next(s=>{let a=new Map;return s.forEach(c=>{var l;let h=(l=a.get(c.userId))!==null&&l!==void 0?l:ze();Ba(this.serializer,c).keys().forEach(d=>h=h.add(d)),a.set(c.userId,h)}),A.forEach(a,(c,l)=>{let h=new ln(l),d=D8.lt(this.serializer,h),m=o.getIndexManager(h),g=z8.lt(h,this.serializer,m,o.referenceDelegate);return new O8(i,g,d,m).recalculateAndSaveOverlaysForDocumentKeys(new R2(t,kr.oe),c).next()})})}};function zS(n){n.createObjectStore("targetDocuments",{keyPath:KY}).createIndex("documentTargetsIndex",XY,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",QY,{unique:!0}),n.createObjectStore("targetGlobal")}var J9="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",dg=class n{constructor(e,t,r,i,o,s,a,c,l,h,d=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ui=o,this.window=s,this.document=a,this.ci=l,this.li=h,this.hi=d,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=m=>Promise.resolve(),!n.D())throw new j(N.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Jm(this,i),this.Ai=t+"main",this.serializer=new T8(c),this.Ri=new Os(this.Ai,this.hi,new hg(this.serializer)),this.$r=new Hm,this.Ur=new Qm(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Kx(this.serializer),this.Gr=new Fm,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,h===!1&&en("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new j(N.FAILED_PRECONDITION,J9);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new kr(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=t=>R(this,null,function*(){if(this.started)return e(t)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(t=>R(this,null,function*(){t.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(()=>R(this,null,function*(){this.started&&(yield this.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>r8(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(t=>{t||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(t=>this.isPrimary&&!t?this.bi(e).next(()=>!1):!!t&&this.Di(e).next(()=>!0))).catch(e=>{if(Us(e))return U("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return U("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return E2(e).get("owner").next(t=>A.resolve(this.vi(t)))}Ci(e){return r8(e).delete(this.clientId)}Fi(){return R(this,null,function*(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{let r=pn(t,"clientMetadata");return r.U().next(i=>{let o=this.xi(i,18e5),s=i.filter(a=>o.indexOf(a)===-1);return A.forEach(s,a=>r.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.Vi)for(let t of e)this.Vi.removeItem(this.Oi(t.clientId))}})}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?A.resolve(!0):E2(e).get("owner").next(t=>{if(t!==null&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)){if(this.vi(t)&&this.networkEnabled)return!0;if(!this.vi(t)){if(!t.allowTabSynchronization)throw new j(N.FAILED_PRECONDITION,J9);return!1}}return!(!this.networkEnabled||!this.inForeground)||r8(e).U().next(r=>this.xi(r,5e3).find(i=>{if(this.clientId!==i.clientId){let o=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&U("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){return R(this,null,function*(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),yield this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let t=new R2(e,kr.oe);return this.bi(t).next(()=>this.Ci(t))}),this.Ri.close(),this.qi()})}xi(e,t){return e.filter(r=>this.Mi(r.updateTimeMs,t)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>r8(e).U().next(t=>this.xi(t,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,t){return z8.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Ym(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return D8.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,t,r){U("IndexedDbPersistence","Starting transaction:",e);let i=t==="readonly"?"readonly":"readwrite",o=function(c){return c===17?cQ:c===16?aQ:c===15?ov:c===14?rx:c===13?nx:c===12?sQ:c===11?tx:void se()}(this.hi),s;return this.Ri.runTransaction(e,i,o,a=>(s=new R2(a,this.Qr?this.Qr.next():kr.oe),t==="readwrite-primary"?this.wi(s).next(c=>!!c||this.Si(s)).next(c=>{if(!c)throw en(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new j(N.FAILED_PRECONDITION,XS);return r(s)}).next(c=>this.Di(s).next(()=>c)):this.Ki(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Ki(e){return E2(e).get("owner").next(t=>{if(t!==null&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)&&!this.vi(t)&&!(this.li||this.allowTabSynchronization&&t.allowTabSynchronization))throw new j(N.FAILED_PRECONDITION,J9)})}Di(e){let t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return E2(e).put("owner",t)}static D(){return Os.D()}bi(e){let t=E2(e);return t.get("owner").next(r=>this.vi(r)?(U("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):A.resolve())}Mi(e,t){let r=Date.now();return!(e<r-t)&&(!(e>r)||(en(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();let t=/(?:Version|Mobile)\/1[456]/;Jd()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var t;try{let r=((t=this.Vi)===null||t===void 0?void 0:t.getItem(this.Oi(e)))!==null;return U("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return en("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){en("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function E2(n){return pn(n,"owner")}function r8(n){return pn(n,"clientMetadata")}function pv(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}var fg=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=ze(),i=ze();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var pg=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var V8=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Jd()?8:ZS(Ql())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new pg;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(B1()<=Ti.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",j1(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),A.resolve()):(B1()<=Ti.DEBUG&&U("QueryEngine","Query:",j1(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(B1()<=Ti.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",j1(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ir(t))):A.resolve())}Yi(e,t){if(iS(t))return A.resolve(null);let r=ir(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=b8(t,null,"F"),r=ir(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ze(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.ts(t,a);return this.ns(t,l,s,c.readTime)?this.Yi(e,b8(t,null,"F")):this.rs(e,l,t,c)}))})))}Zi(e,t,r,i){return iS(t)||i.isEqual(ve.min())?A.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(t,o);return this.ns(t,s,r,i)?A.resolve(null):(B1()<=Ti.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),j1(t)),this.rs(e,s,t,QS(i,-1)).next(a=>a))})}ts(e,t){let r=new Ct(vx(e));return t.forEach((i,o)=>{e3(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return B1()<=Ti.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",j1(t)),this.Ji.getDocumentsMatchingQuery(e,t,Yr.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var mg=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new At(Se),this._s=new Qi(o=>Qa(o),Z2),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new O8(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function Xx(n,e,t,r){return new mg(n,e,t,r)}function Zx(n,e){return R(this,null,function*(){let t=J(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=ze();for(let l of i){s.push(l.batchId);for(let h of l.mutations)c=c.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)c=c.add(h.key)}return t.localDocuments.getDocuments(r,c).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function BQ(n,e){let t=J(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,l,h){let d=l.batch,m=d.keys(),g=A.resolve();return m.forEach(y=>{g=g.next(()=>h.getEntry(c,y)).next(_=>{let M=l.docVersions.get(y);de(M!==null),_.version.compareTo(M)<0&&(d.applyToRemoteDocument(_,l),_.isValidDocument()&&(_.setReadTime(l.commitVersion),h.addEntry(_)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=ze();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Jx(n){let e=J(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function jQ(n,e){let t=J(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((h,d)=>{let m=i.get(d);if(!m)return;a.push(t.Ur.removeMatchingKeys(o,h.removedDocuments,d).next(()=>t.Ur.addMatchingKeys(o,h.addedDocuments,d)));let g=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(rn.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),i=i.insert(d,g),function(_,M,z){return _.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(m,g,h)&&a.push(t.Ur.updateTargetData(o,g))});let c=gr(),l=ze();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(eA(o,s,e.documentUpdates).next(h=>{c=h.Ps,l=h.Is})),!r.isEqual(ve.min())){let h=t.Ur.getLastRemoteSnapshotVersion(o).next(d=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return A.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(t.os=i,o))}function eA(n,e,t){let r=ze(),i=ze();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=gr();return t.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ve.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):U("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{Ps:s,Is:i}})}function UQ(n,e){let t=J(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ol(n,e){let t=J(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,A.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new rl(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function sl(n,e,t){return R(this,null,function*(){let r=J(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Us(s))throw s;U("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function k8(n,e,t){let r=J(n),i=ve.min(),o=ze();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,h){let d=J(c),m=d._s.get(h);return m!==void 0?A.resolve(d.os.get(m)):d.Ur.getTargetData(l,h)}(r,s,ir(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:ve.min(),t?o:ze())).next(a=>(rA(r,gx(e),a),{documents:a,Ts:o})))}function tA(n,e){let t=J(n),r=J(t.Ur),i=t.os.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>r.ot(o,e).next(s=>s?s.target:null))}function nA(n,e){let t=J(n),r=t.us.get(e)||ve.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.cs.getAllFromCollectionGroup(i,e,QS(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(rA(t,e,i),i))}function rA(n,e,t){let r=n.us.get(e)||ve.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}function $Q(n,e,t,r){return R(this,null,function*(){let i=J(n),o=ze(),s=gr();for(let l of t){let h=e.Es(l.metadata.name);l.document&&(o=o.add(h));let d=e.ds(l);d.setReadTime(e.As(l.metadata.readTime)),s=s.insert(h,d)}let a=i.cs.newChangeBuffer({trackRemovals:!0}),c=yield ol(i,function(h){return ir(pl(Ye.fromString(`__bundle__/docs/${h}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>eA(l,a,s).next(h=>(a.apply(l),h)).next(h=>i.Ur.removeMatchingKeysForTargetId(l,c.targetId).next(()=>i.Ur.addMatchingKeys(l,o,c.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,h.Ps,h.Is)).next(()=>h.Ps)))})}function qQ(r,i){return R(this,arguments,function*(n,e,t=ze()){let o=yield ol(n,ir(dv(e.bundledQuery))),s=J(n);return s.persistence.runTransaction("Save named query","readwrite",a=>{let c=nn(e.readTime);if(o.snapshotVersion.compareTo(c)>=0)return s.Gr.saveNamedQuery(a,e);let l=o.withResumeToken(rn.EMPTY_BYTE_STRING,c);return s.os=s.os.insert(l.targetId,l),s.Ur.updateTargetData(a,l).next(()=>s.Ur.removeMatchingKeysForTargetId(a,o.targetId)).next(()=>s.Ur.addMatchingKeys(a,t,o.targetId)).next(()=>s.Gr.saveNamedQuery(a,e))})})}function RS(n,e){return`firestore_clients_${n}_${e}`}function OS(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function em(n,e){return`firestore_targets_${n}_${e}`}var L8=class n{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Rs(e,t,r){let i=JSON.parse(r),o,s=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string",s&&(o=new j(i.error.code,i.error.message))),s?new n(e,t,i.state,o):(en("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Vs(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},S2=class n{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Rs(e,t){let r=JSON.parse(t),i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new j(r.error.code,r.error.message))),o?new n(e,r.state,i):(en("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Vs(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},F8=class n{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Rs(e,t){let r=JSON.parse(t),i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=lv();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=JS(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new n(e,o):(en("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}},gg=class n{constructor(e,t){this.clientId=e,this.onlineState=t}static Rs(e){let t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new n(t.clientId,t.onlineState):(en("SharedClientState",`Failed to parse online state: ${e}`),null)}},q2=class{constructor(){this.activeTargetIds=lv()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},x2=class{constructor(e,t,r,i,o){this.window=e,this.ui=t,this.persistenceKey=r,this.ps=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new At(Se),this.started=!1,this.bs=[];let s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Ds=RS(this.persistenceKey,this.ps),this.vs=function(c){return`firestore_sequence_number_${c}`}(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new q2),this.Cs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.xs=function(c){return`firestore_online_state_${c}`}(this.persistenceKey),this.Os=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){return R(this,null,function*(){let e=yield this.syncEngine.Qi();for(let r of e){if(r===this.ps)continue;let i=this.getItem(RS(this.persistenceKey,r));if(i){let o=F8.Rs(r,i);o&&(this.Ss=this.Ss.insert(o.clientId,o))}}this.Ns();let t=this.storage.getItem(this.xs);if(t){let r=this.Ls(t);r&&this.Bs(r)}for(let r of this.bs)this.ws(r);this.bs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let t=!1;return this.Ss.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,t,r){this.qs(e,t,r),this.Qs(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){let i=this.storage.getItem(em(this.persistenceKey,e));if(i){let o=S2.Rs(e,i);o&&(r=o.state)}}return t&&this.Ks.fs(e),this.Ns(),r}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(em(this.persistenceKey,e))}updateQueryState(e,t,r){this.$s(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Qs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){let t=this.storage.getItem(e);return U("SharedClientState","READ",e,t),t}setItem(e,t){U("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){U("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){let t=e;if(t.storageArea===this.storage){if(U("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Ds)return void en("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable(()=>R(this,null,function*(){if(this.started){if(t.key!==null){if(this.Cs.test(t.key)){if(t.newValue==null){let r=this.Gs(t.key);return this.zs(r,null)}{let r=this.js(t.key,t.newValue);if(r)return this.zs(r.clientId,r)}}else if(this.Fs.test(t.key)){if(t.newValue!==null){let r=this.Hs(t.key,t.newValue);if(r)return this.Js(r)}}else if(this.Ms.test(t.key)){if(t.newValue!==null){let r=this.Ys(t.key,t.newValue);if(r)return this.Zs(r)}}else if(t.key===this.xs){if(t.newValue!==null){let r=this.Ls(t.newValue);if(r)return this.Bs(r)}}else if(t.key===this.vs){let r=function(o){let s=kr.oe;if(o!=null)try{let a=JSON.parse(o);de(typeof a=="number"),s=a}catch(a){en("SharedClientState","Failed to read sequence number from WebStorage",a)}return s}(t.newValue);r!==kr.oe&&this.sequenceNumberHandler(r)}else if(t.key===this.Os){let r=this.Xs(t.newValue);yield Promise.all(r.map(i=>this.syncEngine.eo(i)))}}}else this.bs.push(t)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,t,r){let i=new L8(this.currentUser,e,t,r),o=OS(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Vs())}Qs(e){let t=OS(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Us(e){let t={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(t))}$s(e,t,r){let i=em(this.persistenceKey,e),o=new S2(e,t,r);this.setItem(i,o.Vs())}Ws(e){let t=JSON.stringify(Array.from(e));this.setItem(this.Os,t)}Gs(e){let t=this.Cs.exec(e);return t?t[1]:null}js(e,t){let r=this.Gs(e);return F8.Rs(r,t)}Hs(e,t){let r=this.Fs.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return L8.Rs(new ln(o),i,t)}Ys(e,t){let r=this.Ms.exec(e),i=Number(r[1]);return S2.Rs(i,t)}Ls(e){return gg.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){return R(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);U("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,t){let r=t?this.Ss.insert(e,t):this.Ss.remove(e),i=this.ks(this.Ss),o=this.ks(r),s=[],a=[];return o.forEach(c=>{i.has(c)||s.push(c)}),i.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.io(s,a).then(()=>{this.Ss=r})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let t=lv();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}},H8=class{constructor(){this.so=new q2,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new q2,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var vg=class{_o(e){}shutdown(){}};var B8=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var i8=null;function tm(){return i8===null?i8=function(){return 268435456+Math.round(2147483648*Math.random())}():i8++,"0x"+i8.toString(16)}var WQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var yg=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Bn="WebChannelConnection",wg=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){let a=tm(),c=this.xo(t,r.toUriEncodedString());U("RestConnection",`Sending RPC '${t}' ${a}:`,c,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(t,c,l,i).then(h=>(U("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw yi("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",c,"request:",i),h})}Lo(t,r,i,o,s,a){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){let i=WQ[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let o=tm();return new Promise((s,a)=>{let c=new G9;c.setWithCredentials(!0),c.listenOnce(Y9.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case y2.NO_ERROR:let h=c.getResponseJson();U(Bn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case y2.TIMEOUT:U(Bn,`RPC '${e}' ${o} timed out`),a(new j(N.DEADLINE_EXCEEDED,"Request time out"));break;case y2.HTTP_ERROR:let d=c.getStatus();if(U(Bn,`RPC '${e}' ${o} failed with status:`,d,"response text:",c.getResponseText()),d>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);let g=m?.error;if(g&&g.status&&g.message){let y=function(M){let z=M.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(z)>=0?z:N.UNKNOWN}(g.status);a(new j(y,g.message))}else a(new j(N.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new j(N.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{U(Bn,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);U(Bn,`RPC '${e}' ${o} sending request:`,i),c.send(t,"POST",l,r,15)})}Bo(e,t,r){let i=tm(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=X9(),a=K9(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let h=o.join("");U(Bn,`Creating RPC '${e}' stream ${i}: ${h}`,c);let d=s.createWebChannel(h,c),m=!1,g=!1,y=new yg({Io:M=>{g?U(Bn,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(m||(U(Bn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),m=!0),U(Bn,`RPC '${e}' stream ${i} sending:`,M),d.send(M))},To:()=>d.close()}),_=(M,z,F)=>{M.listen(z,P=>{try{F(P)}catch(Q){setTimeout(()=>{throw Q},0)}})};return _(d,V1.EventType.OPEN,()=>{g||(U(Bn,`RPC '${e}' stream ${i} transport opened.`),y.yo())}),_(d,V1.EventType.CLOSE,()=>{g||(g=!0,U(Bn,`RPC '${e}' stream ${i} transport closed`),y.So())}),_(d,V1.EventType.ERROR,M=>{g||(g=!0,yi(Bn,`RPC '${e}' stream ${i} transport errored:`,M),y.So(new j(N.UNAVAILABLE,"The operation could not be completed")))}),_(d,V1.EventType.MESSAGE,M=>{var z;if(!g){let F=M.data[0];de(!!F);let P=F,Q=P.error||((z=P[0])===null||z===void 0?void 0:z.error);if(Q){U(Bn,`RPC '${e}' stream ${i} received error:`,Q);let ne=Q.status,K=function(b){let T=an[b];if(T!==void 0)return Ax(T)}(ne),C=Q.message;K===void 0&&(K=N.INTERNAL,C="Unknown error status: "+ne+" with message "+Q.message),g=!0,y.So(new j(K,C)),d.close()}else U(Bn,`RPC '${e}' stream ${i} received:`,F),y.bo(F)}}),_(a,Q9.STAT_EVENT,M=>{M.stat===e8.PROXY?U(Bn,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===e8.NOPROXY&&U(Bn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}};function iA(){return typeof window<"u"?window:null}function l8(){return typeof document<"u"?document:null}function t3(n){return new Nm(n,!0)}var W2=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var j8=class{constructor(e,t,r,i,o,s,a,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new W2(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return R(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return R(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return R(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===N.RESOURCE_EXHAUSTED?(en(t.toString()),en("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new j(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>R(this,null,function*(){this.state=0,this.start()}))}I_(e){return U("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},_g=class extends j8{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=AQ(this.serializer,e),r=function(o){if(!("targetChange"in o))return ve.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ve.min():s.readTime?nn(s.readTime):ve.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=km(this.serializer),t.addTarget=function(o,s){let a,c=s.target;if(a=w8(c)?{documents:Lx(o,c)}:{query:Fx(o,c)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Rx(o,s.resumeToken);let l=Pm(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ve.min())>0){a.readTime=nl(o,s.snapshotVersion.toTimestamp());let l=Pm(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=RQ(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=km(this.serializer),t.removeTarget=e,this.a_(t)}},bg=class extends j8{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return de(!!e.streamToken),this.lastStreamToken=e.streamToken,de(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){de(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=zQ(e.writeResults,e.commitTime),r=nn(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=km(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>j2(this.serializer,r))};this.a_(t)}};var Eg=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new j(N.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Vm(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new j(N.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,Vm(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new j(N.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Cg=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(en(t),this.D_=!1):U("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Mg=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>R(this,null,function*(){$s(this)&&(U("RemoteStore","Restarting streams for network reachability change."),yield function(c){return R(this,null,function*(){let l=J(c);l.L_.add(4),yield ml(l),l.q_.set("Unknown"),l.L_.delete(4),yield n3(l)})}(this))}))}),this.q_=new Cg(r,i)}};function n3(n){return R(this,null,function*(){if($s(n))for(let e of n.B_)yield e(!0)})}function ml(n){return R(this,null,function*(){for(let e of n.B_)yield e(!1)})}function lh(n,e){let t=J(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),vv(t)?gv(t):vl(t).r_()&&mv(t,e))}function al(n,e){let t=J(n),r=vl(t);t.N_.delete(e),r.r_()&&oA(t,e),t.N_.size===0&&(r.r_()?r.o_():$s(t)&&t.q_.set("Unknown"))}function mv(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}vl(n).A_(e)}function oA(n,e){n.Q_.xe(e),vl(n).R_(e)}function gv(n){n.Q_=new Om({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),vl(n).start(),n.q_.v_()}function vv(n){return $s(n)&&!vl(n).n_()&&n.N_.size>0}function $s(n){return J(n).L_.size===0}function sA(n){n.Q_=void 0}function GQ(n){return R(this,null,function*(){n.q_.set("Online")})}function YQ(n){return R(this,null,function*(){n.N_.forEach((e,t)=>{mv(n,e)})})}function QQ(n,e){return R(this,null,function*(){sA(n),vv(n)?(n.q_.M_(e),gv(n)):n.q_.set("Unknown")})}function KQ(n,e,t){return R(this,null,function*(){if(n.q_.set("Online"),e instanceof C8&&e.state===2&&e.cause)try{yield function(i,o){return R(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){U("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield U8(n,r)}else if(e instanceof Q1?n.Q_.Ke(e):e instanceof E8?n.Q_.He(e):n.Q_.We(e),!t.isEqual(ve.min()))try{let r=yield Jx(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let h=o.N_.get(c);if(!h)return;o.N_.set(c,h.withResumeToken(rn.EMPTY_BYTE_STRING,h.snapshotVersion)),oA(o,c);let d=new rl(h.target,c,l,h.sequenceNumber);mv(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){U("RemoteStore","Failed to raise snapshot:",r),yield U8(n,r)}})}function U8(n,e,t){return R(this,null,function*(){if(!Us(e))throw e;n.L_.add(1),yield ml(n),n.q_.set("Offline"),t||(t=()=>Jx(n.localStore)),n.asyncQueue.enqueueRetryable(()=>R(this,null,function*(){U("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield n3(n)}))})}function aA(n,e){return e().catch(t=>U8(n,t,e))}function gl(n){return R(this,null,function*(){let e=J(n),t=Bs(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;XQ(e);)try{let i=yield UQ(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,ZQ(e,i)}catch(i){yield U8(e,i)}cA(e)&&lA(e)})}function XQ(n){return $s(n)&&n.O_.length<10}function ZQ(n,e){n.O_.push(e);let t=Bs(n);t.r_()&&t.V_&&t.m_(e.mutations)}function cA(n){return $s(n)&&!Bs(n).n_()&&n.O_.length>0}function lA(n){Bs(n).start()}function JQ(n){return R(this,null,function*(){Bs(n).p_()})}function eK(n){return R(this,null,function*(){let e=Bs(n);for(let t of n.O_)e.m_(t.mutations)})}function tK(n,e,t){return R(this,null,function*(){let r=n.O_.shift(),i=Am.from(r,e,t);yield aA(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield gl(n)})}function nK(n,e){return R(this,null,function*(){e&&Bs(n).V_&&(yield function(r,i){return R(this,null,function*(){if(function(s){return xx(s)&&s!==N.ABORTED}(i.code)){let o=r.O_.shift();Bs(r).s_(),yield aA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield gl(r)}})}(n,e)),cA(n)&&lA(n)})}function NS(n,e){return R(this,null,function*(){let t=J(n);t.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");let r=$s(t);t.L_.add(3),yield ml(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield n3(t)})}function Tg(n,e){return R(this,null,function*(){let t=J(n);e?(t.L_.delete(2),yield n3(t)):e||(t.L_.add(2),yield ml(t),t.q_.set("Unknown"))})}function vl(n){return n.K_||(n.K_=function(t,r,i){let o=J(t);return o.w_(),new _g(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:GQ.bind(null,n),Ro:YQ.bind(null,n),mo:QQ.bind(null,n),d_:KQ.bind(null,n)}),n.B_.push(e=>R(this,null,function*(){e?(n.K_.s_(),vv(n)?gv(n):n.q_.set("Unknown")):(yield n.K_.stop(),sA(n))}))),n.K_}function Bs(n){return n.U_||(n.U_=function(t,r,i){let o=J(t);return o.w_(),new bg(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:JQ.bind(null,n),mo:nK.bind(null,n),f_:eK.bind(null,n),g_:tK.bind(null,n)}),n.B_.push(e=>R(this,null,function*(){e?(n.U_.s_(),yield gl(n)):(yield n.U_.stop(),n.O_.length>0&&(U("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var Ig=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new fn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new j(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function yl(n,e){if(en("AsyncQueue",`${e}: ${n}`),Us(n))return new j(N.UNAVAILABLE,`${e}: ${n}`);throw n}var $8=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ee.comparator(t.key,r.key):(t,r)=>ee.comparator(t.key,r.key),this.keyedMap=C2(),this.sortedSet=new At(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var q8=class{constructor(){this.W_=new At(ee.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):se():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},cl=class n{constructor(e,t,r,i,o,s,a,c,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,$8.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&J2(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var Dg=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Sg=class{constructor(){this.queries=PS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=J(t),o=i.queries;i.queries=PS(),o.forEach((s,a)=>{for(let c of a.j_)c.onError(r)})})(this,new j(N.ABORTED,"Firestore shutting down"))}};function PS(){return new Qi(n=>mx(n),J2)}function yv(n,e){return R(this,null,function*(){let t=J(n),r=3,i=e.query,o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new Dg,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=yl(s,`Initialization of query '${j1(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&_v(t)})}function wv(n,e){return R(this,null,function*(){let t=J(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function rK(n,e){let t=J(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&_v(t)}function iK(n,e,t){let r=J(n),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(t);r.queries.delete(e)}function _v(n){n.Y_.forEach(e=>{e.next()})}var xg,VS;(VS=xg||(xg={})).ea="default",VS.Cache="cache";var G2=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new cl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=cl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==xg.Cache}};var Ag=class{constructor(e,t){this.aa=e,this.byteLength=t}ua(){return"metadata"in this.aa}};var W8=class{constructor(e){this.serializer=e}Es(e){return qi(this.serializer,e)}ds(e){return e.metadata.exists?kx(this.serializer,e.document,!1):un.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return nn(e)}},zg=class{constructor(e,t,r){this.ca=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=uA(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++t;let r=Ye.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ha(e){let t=new Map,r=new W8(this.serializer);for(let i of e)if(i.metadata.queries){let o=r.Es(i.metadata.name);for(let s of i.metadata.queries){let a=(t.get(s)||ze()).add(o);t.set(s,a)}}return t}complete(){return R(this,null,function*(){let e=yield $Q(this.localStore,new W8(this.serializer),this.documents,this.ca.id),t=this.ha(this.documents);for(let r of this.queries)yield qQ(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Pa:this.collectionGroups,Ia:e}})}};function uA(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}var G8=class{constructor(e){this.key=e}},Y8=class{constructor(e){this.key=e}},Q8=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ze(),this.mutatedKeys=ze(),this.Aa=vx(e),this.Ra=new $8(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new q8,i=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{let m=i.get(h),g=e3(this.query,d)?d:null,y=!!m&&this.mutatedKeys.has(m.key),_=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations),M=!1;m&&g?m.data.isEqual(g.data)?y!==_&&(r.track({type:3,doc:g}),M=!0):this.ga(m,g)||(r.track({type:2,doc:g}),M=!0,(c&&this.Aa(g,c)>0||l&&this.Aa(g,l)<0)&&(a=!0)):!m&&g?(r.track({type:0,doc:g}),M=!0):m&&!g&&(r.track({type:1,doc:m}),M=!0,(c||l)&&(a=!0)),M&&(g?(s=s.add(g),o=_?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,d)=>function(g,y){let _=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return _(g)-_(y)}(h.type,d.type)||this.Aa(h.doc,d.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,l=c!==this.Ea;return this.Ea=c,s.length!==0||l?{snapshot:new cl(this.query,e.Ra,o,s,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new q8,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ze(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new Y8(r))}),this.da.forEach(r=>{e.has(r)||t.push(new G8(r))}),t}ba(e){this.Ta=e.Ts,this.da=ze();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return cl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},Rg=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},Og=class{constructor(e){this.key=e,this.va=!1}},Ng=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Qi(a=>mx(a),J2),this.Ma=new Map,this.xa=new Set,this.Oa=new At(ee.comparator),this.Na=new Map,this.La=new $2,this.Ba={},this.ka=new Map,this.qa=il.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function oK(n,e,t=!0){return R(this,null,function*(){let r=uh(n),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield hA(r,e,t,!0),i})}function sK(n,e){return R(this,null,function*(){let t=uh(n);yield hA(t,e,!0,!1)})}function hA(n,e,t,r){return R(this,null,function*(){let i=yield ol(n.localStore,ir(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield bv(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&lh(n.remoteStore,i),a})}function bv(n,e,t,r,i){return R(this,null,function*(){n.Ka=(d,m,g)=>function(_,M,z,F){return R(this,null,function*(){let P=M.view.ma(z);P.ns&&(P=yield k8(_.localStore,M.query,!1).then(({documents:C})=>M.view.ma(C,P)));let Q=F&&F.targetChanges.get(M.targetId),ne=F&&F.targetMismatches.get(M.targetId)!=null,K=M.view.applyChanges(P,_.isPrimaryClient,Q,ne);return Pg(_,M.targetId,K.wa),K.snapshot})}(n,d,m,g);let o=yield k8(n.localStore,e,!0),s=new Q8(e,o.Ts),a=s.ma(o.documents),c=H2.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,c);Pg(n,t,l.wa);let h=new Rg(e,t,s);return n.Fa.set(e,h),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),l.snapshot})}function aK(n,e,t){return R(this,null,function*(){let r=J(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!J2(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield sl(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&al(r.remoteStore,i.targetId),ll(r,i.targetId)}).catch(js))):(ll(r,i.targetId),yield sl(r.localStore,i.targetId,!0))})}function cK(n,e){return R(this,null,function*(){let t=J(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),al(t.remoteStore,r.targetId))})}function lK(n,e,t){return R(this,null,function*(){let r=Tv(n);try{let i=yield function(s,a){let c=J(s),l=Ut.now(),h=a.reduce((g,y)=>g.add(y.key),ze()),d,m;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let y=gr(),_=ze();return c.cs.getEntries(g,h).next(M=>{y=M,y.forEach((z,F)=>{F.isValidDocument()||(_=_.add(z))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,y)).next(M=>{d=M;let z=[];for(let F of a){let P=CQ(F,d.get(F.key).overlayedDocument);P!=null&&z.push(new _i(F.key,P,cx(P.value.mapValue),Kt.exists(!0)))}return c.mutationQueue.addMutationBatch(g,l,z,a)}).next(M=>{m=M;let z=M.applyToLocalDocumentSet(d,_);return c.documentOverlayCache.saveOverlays(g,M.batchId,z)})}).then(()=>({batchId:m.batchId,changes:wx(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let l=s.Ba[s.currentUser.toKey()];l||(l=new At(Se)),l=l.insert(a,c),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,t),yield jo(r,i.changes),yield gl(r.remoteStore)}catch(i){let o=yl(i,"Failed to persist write");t.reject(o)}})}function dA(n,e){return R(this,null,function*(){let t=J(n);try{let r=yield jQ(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Na.get(o);s&&(de(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?de(s.va):i.removedDocuments.size>0&&(de(s.va),s.va=!1))}),yield jo(t,r,e)}catch(r){yield js(r)}})}function kS(n,e,t){let r=J(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=J(s);c.onlineState=a;let l=!1;c.queries.forEach((h,d)=>{for(let m of d.j_)m.Z_(a)&&(l=!0)}),l&&_v(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function uK(n,e,t){return R(this,null,function*(){let r=J(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new At(ee.comparator);s=s.insert(o,un.newNoDocument(o,ve.min()));let a=ze().add(o),c=new F2(ve.min(),new Map,new At(Se),s,a);yield dA(r,c),r.Oa=r.Oa.remove(o),r.Na.delete(e),Mv(r)}else yield sl(r.localStore,e,!1).then(()=>ll(r,e,t)).catch(js)})}function hK(n,e){return R(this,null,function*(){let t=J(n),r=e.batch.batchId;try{let i=yield BQ(t.localStore,e);Cv(t,r,null),Ev(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield jo(t,i)}catch(i){yield js(i)}})}function dK(n,e,t){return R(this,null,function*(){let r=J(n);try{let i=yield function(s,a){let c=J(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return c.mutationQueue.lookupMutationBatch(l,a).next(d=>(de(d!==null),h=d.keys(),c.mutationQueue.removeMutationBatch(l,d))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>c.localDocuments.getDocuments(l,h))})}(r.localStore,e);Cv(r,e,t),Ev(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield jo(r,i)}catch(i){yield js(i)}})}function fK(n,e){return R(this,null,function*(){let t=J(n);$s(t.remoteStore)||U("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let r=yield function(s){let a=J(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(t.localStore);if(r===-1)return void e.resolve();let i=t.ka.get(r)||[];i.push(e),t.ka.set(r,i)}catch(r){let i=yl(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}})}function Ev(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function Cv(n,e,t){let r=J(n),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function ll(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||fA(n,r)})}function fA(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(al(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),Mv(n))}function Pg(n,e,t){for(let r of t)r instanceof G8?(n.La.addReference(r.key,e),pK(n,r)):r instanceof Y8?(U("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||fA(n,r.key)):se()}function pK(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(U("SyncEngine","New document in limbo: "+t),n.xa.add(r),Mv(n))}function Mv(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new ee(Ye.fromString(e)),r=n.qa.next();n.Na.set(r,new Og(t)),n.Oa=n.Oa.insert(t,r),lh(n.remoteStore,new rl(ir(pl(t.path)),r,"TargetPurposeLimboResolution",kr.oe))}}function jo(n,e,t){return R(this,null,function*(){let r=J(n),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,c)=>{s.push(r.Ka(c,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let d=l?!l.fromCache:(h=t?.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(l){i.push(l);let d=fg.Wi(c.targetId,l);o.push(d)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(c,l){return R(this,null,function*(){let h=J(c);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>A.forEach(l,m=>A.forEach(m.$i,g=>h.persistence.referenceDelegate.addReference(d,m.targetId,g)).next(()=>A.forEach(m.Ui,g=>h.persistence.referenceDelegate.removeReference(d,m.targetId,g)))))}catch(d){if(!Us(d))throw d;U("LocalStore","Failed to update sequence numbers: "+d)}for(let d of l){let m=d.targetId;if(!d.fromCache){let g=h.os.get(m),y=g.snapshotVersion,_=g.withLastLimboFreeSnapshotVersion(y);h.os=h.os.insert(m,_)}}})}(r.localStore,o))})}function mK(n,e){return R(this,null,function*(){let t=J(n);if(!t.currentUser.isEqual(e)){U("SyncEngine","User change. New user:",e.toKey());let r=yield Zx(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(c=>{c.reject(new j(N.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield jo(t,r.hs)}})}function gK(n,e){let t=J(n),r=t.Na.get(e);if(r&&r.va)return ze().add(r.key);{let i=ze(),o=t.Ma.get(e);if(!o)return i;for(let s of o){let a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function vK(n,e){return R(this,null,function*(){let t=J(n),r=yield k8(t.localStore,e.query,!0),i=e.view.ba(r);return t.isPrimaryClient&&Pg(t,e.targetId,i.wa),i})}function yK(n,e){return R(this,null,function*(){let t=J(n);return nA(t.localStore,e).then(r=>jo(t,r))})}function wK(n,e,t,r){return R(this,null,function*(){let i=J(n),o=yield function(a,c){let l=J(a),h=J(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",d=>h.Mn(d,c).next(m=>m?l.localDocuments.getDocuments(d,m):A.resolve(null)))}(i.localStore,e);o!==null?(t==="pending"?yield gl(i.remoteStore):t==="acknowledged"||t==="rejected"?(Cv(i,e,r||null),Ev(i,e),function(a,c){J(J(a).mutationQueue).On(c)}(i.localStore,e)):se(),yield jo(i,o)):U("SyncEngine","Cannot apply mutation batch with id: "+e)})}function _K(n,e){return R(this,null,function*(){let t=J(n);if(uh(t),Tv(t),e===!0&&t.Qa!==!0){let r=t.sharedClientState.getAllActiveQueryTargets(),i=yield LS(t,r.toArray());t.Qa=!0,yield Tg(t.remoteStore,!0);for(let o of i)lh(t.remoteStore,o)}else if(e===!1&&t.Qa!==!1){let r=[],i=Promise.resolve();t.Ma.forEach((o,s)=>{t.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(ll(t,s),sl(t.localStore,s,!0))),al(t.remoteStore,s)}),yield i,yield LS(t,r),function(s){let a=J(s);a.Na.forEach((c,l)=>{al(a.remoteStore,l)}),a.La.pr(),a.Na=new Map,a.Oa=new At(ee.comparator)}(t),t.Qa=!1,yield Tg(t.remoteStore,!1)}})}function LS(n,e,t){return R(this,null,function*(){let r=J(n),i=[],o=[];for(let s of e){let a,c=r.Ma.get(s);if(c&&c.length!==0){a=yield ol(r.localStore,ir(c[0]));for(let l of c){let h=r.Fa.get(l),d=yield vK(r,h);d.snapshot&&o.push(d.snapshot)}}else{let l=yield tA(r.localStore,s);a=yield ol(r.localStore,l),yield bv(r,pA(l),s,!1,a.resumeToken)}i.push(a)}return r.Ca.d_(o),i})}function pA(n){return px(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function bK(n){return function(t){return J(J(t).persistence).Qi()}(J(n).localStore)}function EK(n,e,t,r){return R(this,null,function*(){let i=J(n);if(i.Qa)return void U("SyncEngine","Ignoring unexpected query state notification.");let o=i.Ma.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{let s=yield nA(i.localStore,gx(o[0])),a=F2.createSynthesizedRemoteEventForCurrentChange(e,t==="current",rn.EMPTY_BYTE_STRING);yield jo(i,s,a);break}case"rejected":yield sl(i.localStore,e,!0),ll(i,e,r);break;default:se()}})}function CK(n,e,t){return R(this,null,function*(){let r=uh(n);if(r.Qa){for(let i of e){if(r.Ma.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){U("SyncEngine","Adding an already active target "+i);continue}let o=yield tA(r.localStore,i),s=yield ol(r.localStore,o);yield bv(r,pA(o),s.targetId,!1,s.resumeToken),lh(r.remoteStore,s)}for(let i of t)r.Ma.has(i)&&(yield sl(r.localStore,i,!1).then(()=>{al(r.remoteStore,i),ll(r,i)}).catch(js))}})}function uh(n){let e=J(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=dA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uK.bind(null,e),e.Ca.d_=rK.bind(null,e.eventManager),e.Ca.$a=iK.bind(null,e.eventManager),e}function Tv(n){let e=J(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dK.bind(null,e),e}function MK(n,e,t){let r=J(n);(function(o,s,a){return R(this,null,function*(){try{let c=yield s.getMetadata();if(yield function(g,y){let _=J(g),M=nn(y.createTime);return _.persistence.runTransaction("hasNewerBundle","readonly",z=>_.Gr.getBundleMetadata(z,y.id)).then(z=>!!z&&z.createTime.compareTo(M)>=0)}(o.localStore,c))return yield s.close(),a._completeWith(function(g){return{taskState:"Success",documentsLoaded:g.totalDocuments,bytesLoaded:g.totalBytes,totalDocuments:g.totalDocuments,totalBytes:g.totalBytes}}(c)),Promise.resolve(new Set);a._updateProgress(uA(c));let l=new zg(c,o.localStore,s.serializer),h=yield s.Ua();for(;h;){let m=yield l.la(h);m&&a._updateProgress(m),h=yield s.Ua()}let d=yield l.complete();return yield jo(o,d.Ia,void 0),yield function(g,y){let _=J(g);return _.persistence.runTransaction("Save bundle","readwrite",M=>_.Gr.saveBundleMetadata(M,y))}(o.localStore,c),a._completeWith(d.progress),Promise.resolve(d.Pa)}catch(c){return yi("SyncEngine",`Loading bundle failed with ${c}`),a._failWith(c),Promise.resolve(new Set)}})})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}var Vg=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return R(this,null,function*(){this.serializer=t3(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return Xx(this.persistence,new V8,t.initialUser,this.serializer)}Ga(t){return new N8(P8.Zr,this.serializer)}Wa(t){return new H8}terminate(){return R(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var K8=class n extends Vg{constructor(e,t,r){super(),this.Ja=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){return R(this,null,function*(){yield Xd(n.prototype,this,"initialize").call(this,e),yield this.Ja.initialize(this,e),yield Tv(this.Ja.syncEngine),yield gl(this.Ja.remoteStore),yield this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}za(e){return Xx(this.persistence,new V8,e.initialUser,this.serializer)}ja(e,t){let r=this.persistence.referenceDelegate.garbageCollector;return new Xm(r,e.asyncQueue,t)}Ha(e,t){let r=new pm(t,this.persistence);return new fm(e.asyncQueue,r)}Ga(e){let t=pv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Gr.withCacheSize(this.cacheSizeBytes):Gr.DEFAULT;return new dg(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,iA(),l8(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new H8}},kg=class n extends K8{constructor(e,t){super(e,t,!1),this.Ja=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){return R(this,null,function*(){yield Xd(n.prototype,this,"initialize").call(this,e);let t=this.Ja.syncEngine;this.sharedClientState instanceof x2&&(this.sharedClientState.syncEngine={no:wK.bind(null,t),ro:EK.bind(null,t),io:CK.bind(null,t),Qi:bK.bind(null,t),eo:yK.bind(null,t)},yield this.sharedClientState.start()),yield this.persistence.yi(r=>R(this,null,function*(){yield _K(this.Ja.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))})}Wa(e){let t=iA();if(!x2.D(t))throw new j(N.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let r=pv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new x2(t,e.asyncQueue,r,e.clientId,e.initialUser)}},Iv=(()=>{class n{initialize(t,r){return R(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>kS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=mK.bind(null,this.syncEngine),yield Tg(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new Sg}()}createDatastore(t){let r=t3(t.databaseInfo.databaseId),i=function(s){return new wg(s)}(t.databaseInfo);return function(s,a,c,l){return new Eg(s,a,c,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,c){return new Mg(i,o,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,r=>kS(this.syncEngine,r,0),function(){return B8.D()?new B8:new vg}())}createSyncEngine(t,r){return function(o,s,a,c,l,h,d){let m=new Ng(o,s,a,c,l,h);return d&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return R(this,null,function*(){var t,r;yield function(o){return R(this,null,function*(){let s=J(o);U("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield ml(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();function FS(n,e=10240){let t=0;return{read(){return R(this,null,function*(){if(t<n.byteLength){let i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})},cancel(){return R(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}var ul=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):en("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Lg=class{constructor(e,t){this.Xa=e,this.serializer=t,this.metadata=new fn,this.buffer=new Uint8Array,this.eu=function(){return new TextDecoder("utf-8")}(),this.tu().then(r=>{r&&r.ua()?this.metadata.resolve(r.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.aa)}`))},r=>this.metadata.reject(r))}close(){return this.Xa.cancel()}getMetadata(){return R(this,null,function*(){return this.metadata.promise})}Ua(){return R(this,null,function*(){return yield this.getMetadata(),this.tu()})}tu(){return R(this,null,function*(){let e=yield this.nu();if(e===null)return null;let t=this.eu.decode(e),r=Number(t);isNaN(r)&&this.ru(`length string (${t}) is not valid number`);let i=yield this.iu(r);return new Ag(JSON.parse(i),e.length+r)})}su(){return this.buffer.findIndex(e=>e===123)}nu(){return R(this,null,function*(){for(;this.su()<0&&!(yield this.ou()););if(this.buffer.length===0)return null;let e=this.su();e<0&&this.ru("Reached the end of bundle when a length string is expected.");let t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t})}iu(e){return R(this,null,function*(){for(;this.buffer.length<e;)(yield this.ou())&&this.ru("Reached the end of bundle when more is expected.");let t=this.eu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t})}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}ou(){return R(this,null,function*(){let e=yield this.Xa.read();if(!e.done){let t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done})}};var Fg=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){return R(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new j(N.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let t=yield function(i,o){return R(this,null,function*(){let s=J(i),a={documents:o.map(d=>B2(s.serializer,d))},c=yield s.Lo("BatchGetDocuments",s.serializer.databaseId,Ye.emptyPath(),a,o.length),l=new Map;c.forEach(d=>{let m=xQ(s.serializer,d);l.set(m.key.toString(),m)});let h=[];return o.forEach(d=>{let m=l.get(d.toString());de(!!m),h.push(m)}),h})}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t})}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Hs(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return R(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{let i=ee.fromPath(r);this.mutations.push(new V2(i,this.precondition(i)))}),yield function(r,i){return R(this,null,function*(){let o=J(r),s={writes:i.map(a=>j2(o.serializer,a))};yield o.Mo("Commit",o.serializer.databaseId,Ye.emptyPath(),s)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw se();t=ve.min()}let r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new j(N.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){let t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ve.min())?Kt.exists(!1):Kt.updateTime(t):Kt.none()}preconditionForUpdate(e){let t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ve.min()))throw new j(N.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Kt.updateTime(t)}return Kt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var Hg=class{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this._u=r.maxAttempts,this.t_=new W2(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(()=>R(this,null,function*(){let e=new Fg(this.datastore),t=this.cu(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.lu(i)}))}).catch(r=>{this.lu(r)})}))}cu(e){try{let t=this.updateFunction(e);return!X2(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){let t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!xx(t)}return!1}};var Bg=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ln.UNAUTHENTICATED,this.clientId=h8.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>R(this,null,function*(){U("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(U("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new fn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>R(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=yl(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function nm(n,e){return R(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>R(this,null,function*(){r.isEqual(i)||(yield Zx(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function HS(n,e){return R(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield Dv(n);U("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>NS(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>NS(e.remoteStore,i)),n._onlineComponents=e})}function Dv(n){return R(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{yield nm(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;yi("Error using user provided cache. Falling back to memory cache: "+t),yield nm(n,new Vg)}}else U("FirestoreClient","Using default OfflineComponentProvider"),yield nm(n,new Vg);return n._offlineComponents})}function hh(n){return R(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),yield HS(n,n._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),yield HS(n,new Iv))),n._onlineComponents})}function mA(n){return Dv(n).then(e=>e.persistence)}function Sv(n){return Dv(n).then(e=>e.localStore)}function gA(n){return hh(n).then(e=>e.remoteStore)}function xv(n){return hh(n).then(e=>e.syncEngine)}function TK(n){return hh(n).then(e=>e.datastore)}function hl(n){return R(this,null,function*(){let e=yield hh(n),t=e.eventManager;return t.onListen=oK.bind(null,e.syncEngine),t.onUnlisten=aK.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=sK.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=cK.bind(null,e.syncEngine),t})}function IK(n){return n.asyncQueue.enqueue(()=>R(this,null,function*(){let e=yield mA(n),t=yield gA(n);return e.setNetworkEnabled(!0),function(i){let o=J(i);return o.L_.delete(0),n3(o)}(t)}))}function DK(n){return n.asyncQueue.enqueue(()=>R(this,null,function*(){let e=yield mA(n),t=yield gA(n);return e.setNetworkEnabled(!1),function(i){return R(this,null,function*(){let o=J(i);o.L_.add(0),yield ml(o),o.q_.set("Offline")})}(t)}))}function SK(n,e){let t=new fn;return n.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return function(i,o,s){return R(this,null,function*(){try{let a=yield function(l,h){let d=J(l);return d.persistence.runTransaction("read document","readonly",m=>d.localDocuments.getDocument(m,h))}(i,o);a.isFoundDocument()?s.resolve(a):a.isNoDocument()?s.resolve(null):s.reject(new j(N.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){let c=yl(a,`Failed to get document '${o} from cache`);s.reject(c)}})}(yield Sv(n),e,t)})),t.promise}function vA(n,e,t={}){let r=new fn;return n.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return function(o,s,a,c,l){let h=new ul({next:m=>{h.Za(),s.enqueueAndForget(()=>wv(o,d));let g=m.docs.has(a);!g&&m.fromCache?l.reject(new j(N.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&c&&c.source==="server"?l.reject(new j(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),d=new G2(pl(a.path),h,{includeMetadataChanges:!0,_a:!0});return yv(o,d)}(yield hl(n),n.asyncQueue,e,t,r)})),r.promise}function xK(n,e){let t=new fn;return n.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return function(i,o,s){return R(this,null,function*(){try{let a=yield k8(i,o,!0),c=new Q8(o,a.Ts),l=c.ma(a.documents),h=c.applyChanges(l,!1);s.resolve(h.snapshot)}catch(a){let c=yl(a,`Failed to execute query '${o} against cache`);s.reject(c)}})}(yield Sv(n),e,t)})),t.promise}function yA(n,e,t={}){let r=new fn;return n.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return function(o,s,a,c,l){let h=new ul({next:m=>{h.Za(),s.enqueueAndForget(()=>wv(o,d)),m.fromCache&&c.source==="server"?l.reject(new j(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),d=new G2(a,h,{includeMetadataChanges:!0,_a:!0});return yv(o,d)}(yield hl(n),n.asyncQueue,e,t,r)})),r.promise}function AK(n,e){let t=new ul(e);return n.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return function(i,o){J(i).Y_.add(o),o.next()}(yield hl(n),t)})),()=>{t.Za(),n.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return function(i,o){J(i).Y_.delete(o)}(yield hl(n),t)}))}}function zK(n,e,t,r){let i=function(s,a){let c;return c=typeof s=="string"?zx().encode(s):s,function(h,d){return new Lg(h,d)}(function(h,d){if(h instanceof Uint8Array)return FS(h,d);if(h instanceof ArrayBuffer)return FS(new Uint8Array(h),d);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),a)}(t,t3(e));n.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){MK(yield xv(n),i,r)}))}function RK(n,e){return n.asyncQueue.enqueue(()=>R(this,null,function*(){return function(r,i){let o=J(r);return o.persistence.runTransaction("Get named query","readonly",s=>o.Gr.getNamedQuery(s,i))}(yield Sv(n),e)}))}function wA(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var BS=new Map;function Av(n,e,t){if(!t)throw new j(N.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function zv(n,e,t,r){if(e===!0&&r===!0)throw new j(N.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function jS(n){if(!ee.isDocumentKey(n))throw new j(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function US(n){if(ee.isDocumentKey(n))throw new j(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function dh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":se()}function Xe(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new j(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=dh(n);throw new j(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function _A(n,e){if(e<=0)throw new j(N.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}var X8=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new j(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new j(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zv("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new j(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new j(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new j(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ja=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new X8({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new j(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new j(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new X8(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new rm;switch(r.type){case"firstParty":return new am(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new j(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return R(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=BS.get(t);r&&(U("ComponentProvider","Removing Datastore"),BS.delete(t),r.terminate())}(this),Promise.resolve()}};function bA(n,e,t,r={}){var i;let o=(n=Xe(n,Ja))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&yi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=ln.MOCK_USER;else{a=B_(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new j(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new ln(l)}n._authCredentials=new im(new u8(a,c))}}var zn=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},St=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Wi=class n extends zn{constructor(e,t,r){super(e,t,pl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new ee(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function Rv(n,e,...t){if(n=kt(n),Av("collection","path",e),n instanceof Ja){let r=Ye.fromString(e,...t);return US(r),new Wi(n,null,r)}{if(!(n instanceof St||n instanceof Wi))throw new j(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ye.fromString(e,...t));return US(r),new Wi(n.firestore,null,r)}}function EA(n,e){if(n=Xe(n,Ja),Av("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new j(N.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new zn(n,null,function(r){return new wi(Ye.emptyPath(),r)}(e))}function r3(n,e,...t){if(n=kt(n),arguments.length===1&&(e=h8.newId()),Av("doc","path",e),n instanceof Ja){let r=Ye.fromString(e,...t);return jS(r),new St(n,null,new ee(r))}{if(!(n instanceof St||n instanceof Wi))throw new j(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ye.fromString(e,...t));return jS(r),new St(n.firestore,n instanceof Wi?n.converter:null,new ee(r))}}function Ov(n,e){return n=kt(n),e=kt(e),(n instanceof St||n instanceof Wi)&&(e instanceof St||e instanceof Wi)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Nv(n,e){return n=kt(n),e=kt(e),n instanceof zn&&e instanceof zn&&n.firestore===e.firestore&&J2(n._query,e._query)&&n.converter===e.converter}var Z8=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new W2(this,"async_queue_retry"),this.Vu=()=>{let r=l8();r&&U("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=l8();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=l8();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new fn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return R(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Us(e))throw e;U("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw en("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=Ig.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&se()}verifyOperationInProgress(){}wu(){return R(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function jg(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var Ug=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new fn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}};var CA=-1,$t=class extends Ja{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Z8,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return R(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Z8(e),this._firestoreClient=void 0,yield e}})}};function Rn(n){if(n._terminated)throw new j(N.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||MA(n),n._firestoreClient}function MA(n){var e,t,r;let i=n._freezeSettings(),o=function(a,c,l,h){return new mm(a,c,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,wA(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Bg(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}function TA(n,e){yi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let t=n._freezeSettings();return DA(n,Iv.provider,{build:r=>new K8(r,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function IA(n){return R(this,null,function*(){yi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let e=n._freezeSettings();DA(n,Iv.provider,{build:t=>new kg(t,e.cacheSizeBytes)})})}function DA(n,e,t){if((n=Xe(n,$t))._firestoreClient||n._terminated)throw new j(N.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new j(N.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},MA(n)}function SA(n){if(n._initialized&&!n._terminated)throw new j(N.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let e=new fn;return n._queue.enqueueAndForgetEvenWhileRestricted(()=>R(this,null,function*(){try{yield function(r){return R(this,null,function*(){if(!Os.D())return Promise.resolve();let i=r+"main";yield Os.delete(i)})}(pv(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function xA(n){return function(t){let r=new fn;return t.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return fK(yield xv(t),r)})),r.promise}(Rn(n=Xe(n,$t)))}function AA(n){return IK(Rn(n=Xe(n,$t)))}function zA(n){return DK(Rn(n=Xe(n,$t)))}function RA(n,e){let t=Rn(n=Xe(n,$t)),r=new Ug;return zK(t,n._databaseId,e,r),r}function OA(n,e){return RK(Rn(n=Xe(n,$t)),e).then(t=>t?new zn(n,null,t.query):null)}var Ki=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(rn.fromBase64String(e))}catch(t){throw new j(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var bi=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new j(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ho=class{constructor(e){this._methodName=e}};var ec=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new j(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new j(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}};var Y2=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var OK=/^__.*__$/,$g=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new _i(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fs(e,this.data,t,this.fieldTransforms)}},J8=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new _i(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function NA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}var eh=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return th(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(NA(this.Cu)&&OK.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},qg=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||t3(e)}Qu(e,t,r,i=!1){return new eh({Cu:e,methodName:t,qu:r,path:tn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function ic(n){let e=n._freezeSettings(),t=t3(n._databaseId);return new qg(n._databaseId,!!e.ignoreUndefinedProperties,t)}function fh(n,e,t,r,i,o={}){let s=n.Qu(o.merge||o.mergeFields?2:0,e,t,i);kv("Data must be an object, but it was:",s,r);let a=kA(r,s),c,l;if(o.merge)c=new Lr(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let d of o.mergeFields){let m=Kg(e,d,t);if(!s.contains(m))throw new j(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);FA(h,m)||h.push(m)}c=new Lr(h),l=s.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=s.fieldTransforms;return new $g(new jn(a),c,l)}var Q2=class n extends Ho{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function PA(n,e,t){return new eh({Cu:3,qu:e.settings.qu,methodName:n._methodName,xu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var Wg=class n extends Ho{_toFieldTransform(e){return new Ka(e.path,new ks)}isEqual(e){return e instanceof n}},Gg=class n extends Ho{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){let t=PA(this,e,!0),r=this.Ku.map(o=>oc(o,t)),i=new Lo(r);return new Ka(e.path,i)}isEqual(e){return e instanceof n&&ef(this.Ku,e.Ku)}},Yg=class n extends Ho{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){let t=PA(this,e,!0),r=this.Ku.map(o=>oc(o,t)),i=new Fo(r);return new Ka(e.path,i)}isEqual(e){return e instanceof n&&ef(this.Ku,e.Ku)}},Qg=class n extends Ho{constructor(e,t){super(e),this.$u=t}_toFieldTransform(e){let t=new Ls(e.serializer,Ex(e.serializer,this.$u));return new Ka(e.path,t)}isEqual(e){return e instanceof n&&this.$u===e.$u}};function Pv(n,e,t,r){let i=n.Qu(1,e,t);kv("Data must be an object, but it was:",i,r);let o=[],s=jn.empty();rc(r,(c,l)=>{let h=Lv(e,c,t);l=kt(l);let d=i.Nu(h);if(l instanceof Q2)o.push(h);else{let m=oc(l,d);m!=null&&(o.push(h),s.set(h,m))}});let a=new Lr(o);return new J8(s,a,i.fieldTransforms)}function Vv(n,e,t,r,i,o){let s=n.Qu(1,e,t),a=[Kg(e,r,t)],c=[i];if(o.length%2!=0)throw new j(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(Kg(e,o[m])),c.push(o[m+1]);let l=[],h=jn.empty();for(let m=a.length-1;m>=0;--m)if(!FA(l,a[m])){let g=a[m],y=c[m];y=kt(y);let _=s.Nu(g);if(y instanceof Q2)l.push(g);else{let M=oc(y,_);M!=null&&(l.push(g),h.set(g,M))}}let d=new Lr(l);return new J8(h,d,s.fieldTransforms)}function VA(n,e,t,r=!1){return oc(t,n.Qu(r?4:3,e))}function oc(n,e){if(LA(n=kt(n)))return kv("Unsupported field value:",e,n),kA(n,e);if(n instanceof Ho)return function(r,i){if(!NA(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=oc(a,i.Lu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Ex(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ut.fromDate(r);return{timestampValue:nl(i.serializer,o)}}if(r instanceof Ut){let o=new Ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nl(i.serializer,o)}}if(r instanceof ec)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ki)return{bytesValue:Rx(i.serializer,r._byteString)};if(r instanceof St){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:hv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Y2)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return uv(a.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${dh(r)}`)}(n,e)}function kA(n,e){let t={};return ix(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rc(n,(r,i)=>{let o=oc(i,e.Mu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function LA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ut||n instanceof ec||n instanceof Ki||n instanceof St||n instanceof Ho||n instanceof Y2)}function kv(n,e,t){if(!LA(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=dh(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function Kg(n,e,t){if((e=kt(e))instanceof bi)return e._internalPath;if(typeof e=="string")return Lv(n,e);throw th("Field path arguments must be of type string or ",n,!1,void 0,t)}var NK=new RegExp("[~\\*/\\[\\]]");function Lv(n,e,t){if(e.search(NK)>=0)throw th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new bi(...e.split("."))._internalPath}catch{throw th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function th(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new j(N.INVALID_ARGUMENT,a+n+c)}function FA(n,e){return n.some(t=>t.isEqual(e))}var tc=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Xg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(ph("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Xg=class extends tc{data(){return super.data()}};function ph(n,e){return typeof e=="string"?Lv(n,e):e instanceof bi?e._internalPath:e._delegate._internalPath}function HA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new j(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var K2=class{},nc=class extends K2{};function Uo(n,e,...t){let r=[];e instanceof K2&&r.push(e),r=r.concat(t),function(o){let s=o.filter(c=>c instanceof Zg).length,a=o.filter(c=>c instanceof nh).length;if(s>1||s>0&&a>0)throw new j(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var nh=class n extends nc{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return KA(e._query,t),new zn(e.firestore,e.converter,Sm(e._query,t))}_parse(e){let t=ic(e.firestore);return function(o,s,a,c,l,h,d){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new j(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){qS(d,h);let g=[];for(let y of d)g.push($S(c,o,y));m={arrayValue:{values:g}}}else m=$S(c,o,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||qS(d,h),m=VA(a,s,d,h==="in"||h==="not-in");return Ue.create(l,h,m)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function BA(n,e,t){let r=e,i=ph("where",n);return nh._create(i,r,t)}var Zg=class n extends K2{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:dt.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)KA(s,c),s=Sm(s,c)}(e._query,t),new zn(e.firestore,e.converter,Sm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Jg=class n extends nc{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,o,s){if(i.startAt!==null)throw new j(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new j(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ya(o,s)}(e._query,this._field,this._direction);return new zn(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new wi(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function jA(n,e="asc"){let t=e,r=ph("orderBy",n);return Jg._create(r,t)}var rh=class n extends nc{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new n(e,t,r)}_apply(e){return new zn(e.firestore,e.converter,b8(e._query,this._limit,this._limitType))}};function UA(n){return _A("limit",n),rh._create("limit",n,"F")}function $A(n){return _A("limitToLast",n),rh._create("limitToLast",n,"L")}var ih=class n extends nc{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=QA(e,this.type,this._docOrFields,this._inclusive);return new zn(e.firestore,e.converter,function(i,o){return new wi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,t))}};function qA(...n){return ih._create("startAt",n,!0)}function WA(...n){return ih._create("startAfter",n,!1)}var oh=class n extends nc{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=QA(e,this.type,this._docOrFields,this._inclusive);return new zn(e.firestore,e.converter,function(i,o){return new wi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(e._query,t))}};function GA(...n){return oh._create("endBefore",n,!1)}function YA(...n){return oh._create("endAt",n,!0)}function QA(n,e,t,r){if(t[0]=kt(t[0]),t[0]instanceof tc)return function(o,s,a,c,l){if(!c)throw new j(N.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let h=[];for(let d of Y1(o))if(d.field.isKeyField())h.push(Ga(s,c.key));else{let m=c.data.field(d.field);if(ah(m))throw new j(N.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(m===null){let g=d.field.canonicalString();throw new j(N.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${g}' (used as the orderBy) does not exist.`)}h.push(m)}return new Yi(h,l)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{let i=ic(n.firestore);return function(s,a,c,l,h,d){let m=s.explicitOrderBy;if(h.length>m.length)throw new j(N.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let g=[];for(let y=0;y<h.length;y++){let _=h[y];if(m[y].field.isKeyField()){if(typeof _!="string")throw new j(N.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof _}`);if(!cv(s)&&_.indexOf("/")!==-1)throw new j(N.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${_}' contains a slash.`);let M=s.path.child(Ye.fromString(_));if(!ee.isDocumentKey(M))throw new j(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${M}' is not because it contains an odd number of segments.`);let z=new ee(M);g.push(Ga(a,z))}else{let M=VA(c,l,_);g.push(M)}}return new Yi(g,d)}(n._query,n.firestore._databaseId,i,e,t,r)}}function $S(n,e,t){if(typeof(t=kt(t))=="string"){if(t==="")throw new j(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cv(e)&&t.indexOf("/")!==-1)throw new j(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Ye.fromString(t));if(!ee.isDocumentKey(r))throw new j(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ga(n,new ee(r))}if(t instanceof St)return Ga(n,t._key);throw new j(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dh(t)}.`)}function qS(n,e){if(!Array.isArray(n)||n.length===0)throw new j(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KA(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new j(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new j(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var dl=class{convertValue(e,t="none"){switch(Wa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw se()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return rc(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Nt(s.doubleValue));return new Y2(o)}convertGeoPoint(e){return new ec(Nt(e.latitude),Nt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=sv(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(O2(e));default:return null}}convertTimestamp(e){let t=ko(e);return new Ut(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Ye.fromString(e);de(Ux(r));let i=new Ps(r.get(1),r.get(3)),o=new ee(r.popFirst(5));return i.isEqual(t)||en(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function mh(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var ev=class extends dl{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ki(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,t)}};var Vo=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Qr=class extends tc{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new zs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(ph("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},zs=class extends Qr{data(e={}){return super.data(e)}},Ei=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Vo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new zs(this._firestore,this._userDataWriter,r.key,r,new Vo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new j(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new zs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Vo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new zs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Vo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:PK(a.type),doc:c,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function PK(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}function Fv(n,e){return n instanceof Qr&&e instanceof Qr?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Ei&&e instanceof Ei&&n._firestore===e._firestore&&Nv(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function XA(n){n=Xe(n,St);let e=Xe(n.firestore,$t);return vA(Rn(e),n._key).then(t=>Uv(e,n,t))}var Bo=class extends dl{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ki(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,t)}};function ZA(n){n=Xe(n,St);let e=Xe(n.firestore,$t),t=Rn(e),r=new Bo(e);return SK(t,n._key).then(i=>new Qr(e,r,n._key,i,new Vo(i!==null&&i.hasLocalMutations,!0),n.converter))}function JA(n){n=Xe(n,St);let e=Xe(n.firestore,$t);return vA(Rn(e),n._key,{source:"server"}).then(t=>Uv(e,n,t))}function ez(n){n=Xe(n,zn);let e=Xe(n.firestore,$t),t=Rn(e),r=new Bo(e);return HA(n._query),yA(t,n._query).then(i=>new Ei(e,r,n,i))}function tz(n){n=Xe(n,zn);let e=Xe(n.firestore,$t),t=Rn(e),r=new Bo(e);return xK(t,n._query).then(i=>new Ei(e,r,n,i))}function nz(n){n=Xe(n,zn);let e=Xe(n.firestore,$t),t=Rn(e),r=new Bo(e);return yA(t,n._query,{source:"server"}).then(i=>new Ei(e,r,n,i))}function Hv(n,e,t){n=Xe(n,St);let r=Xe(n.firestore,$t),i=mh(n.converter,e,t);return wl(r,[fh(ic(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Kt.none())])}function Bv(n,e,t,...r){n=Xe(n,St);let i=Xe(n.firestore,$t),o=ic(i),s;return s=typeof(e=kt(e))=="string"||e instanceof bi?Vv(o,"updateDoc",n._key,e,t,r):Pv(o,"updateDoc",n._key,e),wl(i,[s.toMutation(n._key,Kt.exists(!0))])}function rz(n){return wl(Xe(n.firestore,$t),[new Hs(n._key,Kt.none())])}function iz(n,e){let t=Xe(n.firestore,$t),r=r3(n),i=mh(n.converter,e);return wl(t,[fh(ic(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Kt.exists(!1))]).then(()=>r)}function jv(n,...e){var t,r,i;n=kt(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||jg(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(jg(e[s])){let d=e[s];e[s]=(t=d.next)===null||t===void 0?void 0:t.bind(d),e[s+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[s+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let c,l,h;if(n instanceof St)l=Xe(n.firestore,$t),h=pl(n._key.path),c={next:d=>{e[s]&&e[s](Uv(l,n,d))},error:e[s+1],complete:e[s+2]};else{let d=Xe(n,zn);l=Xe(d.firestore,$t),h=d._query;let m=new Bo(l);c={next:g=>{e[s]&&e[s](new Ei(l,m,d,g))},error:e[s+1],complete:e[s+2]},HA(n._query)}return function(m,g,y,_){let M=new ul(_),z=new G2(g,M,y);return m.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return yv(yield hl(m),z)})),()=>{M.Za(),m.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return wv(yield hl(m),z)}))}}(Rn(l),h,a,c)}function oz(n,e){return AK(Rn(n=Xe(n,$t)),jg(e)?e:{next:e})}function wl(n,e){return function(r,i){let o=new fn;return r.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return lK(yield xv(r),i,o)})),o.promise}(Rn(n),e)}function Uv(n,e,t){let r=t.docs.get(e._key),i=new Bo(n);return new Qr(n,i,e._key,r,new Vo(t.hasPendingWrites,t.fromCache),e.converter)}var VK={maxAttempts:5};var sh=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ic(e)}set(e,t,r){this._verifyNotCommitted();let i=xs(e,this._firestore),o=mh(i.converter,t,r),s=fh(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Kt.none())),this}update(e,t,r,...i){this._verifyNotCommitted();let o=xs(e,this._firestore),s;return s=typeof(t=kt(t))=="string"||t instanceof bi?Vv(this._dataReader,"WriteBatch.update",o._key,t,r,i):Pv(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(s.toMutation(o._key,Kt.exists(!0))),this}delete(e){this._verifyNotCommitted();let t=xs(e,this._firestore);return this._mutations=this._mutations.concat(new Hs(t._key,Kt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new j(N.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function xs(n,e){if((n=kt(n)).firestore!==e)throw new j(N.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}var tv=class extends class{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=ic(t)}get(t){let r=xs(t,this._firestore),i=new ev(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||o.length!==1)return se();let s=o[0];if(s.isFoundDocument())return new tc(this._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new tc(this._firestore,i,r._key,null,r.converter);throw se()})}set(t,r,i){let o=xs(t,this._firestore),s=mh(o.converter,r,i),a=fh(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,i);return this._transaction.set(o._key,a),this}update(t,r,i,...o){let s=xs(t,this._firestore),a;return a=typeof(r=kt(r))=="string"||r instanceof bi?Vv(this._dataReader,"Transaction.update",s._key,r,i,o):Pv(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(t){let r=xs(t,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){let t=xs(e,this._firestore),r=new Bo(this._firestore);return super.get(e).then(i=>new Qr(this._firestore,r,t._key,i._document,new Vo(!1,!1),t.converter))}};function sz(n,e,t){n=Xe(n,$t);let r=Object.assign(Object.assign({},VK),t);return function(o){if(o.maxAttempts<1)throw new j(N.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){let c=new fn;return o.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){let l=yield TK(o);new Hg(o.asyncQueue,l,a,s,c).au()})),c.promise}(Rn(n),i=>e(new tv(n,i)),r)}function az(){return new Q2("deleteField")}function cz(){return new Wg("serverTimestamp")}function lz(...n){return new Gg("arrayUnion",n)}function uz(...n){return new Yg("arrayRemove",n)}function hz(n){return new Qg("increment",n)}(function(e,t=!0){(function(i){fl=i})($_),Kl(new oa("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new $t(new om(r.getProvider("auth-internal")),new lm(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new j(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ps(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Xo(UD,"4.7.3",e),Xo(UD,"4.7.3","esm2017")})();var kK="@firebase/firestore-compat",LK="0.3.38";function Qv(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new j("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function dz(){if(typeof Uint8Array>"u")throw new j("unimplemented","Uint8Arrays are not available in this environment.")}function fz(){if(!ox())throw new j("unimplemented","Blobs are unavailable in Firestore in this environment.")}var gh=class n{constructor(e){this._delegate=e}static fromBase64String(e){return fz(),new n(Ki.fromBase64String(e))}static fromUint8Array(e){return dz(),new n(Ki.fromUint8Array(e))}toBase64(){return fz(),this._delegate.toBase64()}toUint8Array(){return dz(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function $v(n){return FK(n,["next","error","complete"])}function FK(n,e){if(typeof n!="object"||n===null)return!1;let t=n;for(let r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}var qv=class{enableIndexedDbPersistence(e,t){return TA(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return IA(e._delegate)}clearIndexedDbPersistence(e){return SA(e._delegate)}},vh=class{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ps||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&yi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){bA(this._delegate,e,t,r)}enableNetwork(){return AA(this._delegate)}disableNetwork(){return zA(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,zv("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return xA(this._delegate)}onSnapshotsInSync(e){return oz(this._delegate,e)}get app(){if(!this._appCompat)throw new j("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new El(this,Rv(this._delegate,e))}catch(t){throw or(t,"collection()","Firestore.collection()")}}doc(e){try{return new Xi(this,r3(this._delegate,e))}catch(t){throw or(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new lc(this,EA(this._delegate,e))}catch(t){throw or(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return sz(this._delegate,t=>e(new yh(this,t)))}batch(){return Rn(this._delegate),new wh(new sh(this._delegate,e=>wl(this._delegate,e)))}loadBundle(e){return RA(this._delegate,e)}namedQuery(e){return OA(this._delegate,e).then(t=>t?new lc(this,t):null)}},_l=class extends dl{constructor(e){super(),this.firestore=e}convertBytes(e){return new gh(new Ki(e))}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return Xi.forKey(t,this.firestore,null)}};function HK(n){WS(n)}var yh=class{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new _l(e)}get(e){let t=sc(e);return this._delegate.get(t).then(r=>new ac(this._firestore,new Qr(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){let i=sc(e);return r?(Qv("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){let o=sc(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){let t=sc(e);return this._delegate.delete(t),this}},wh=class{constructor(e){this._delegate=e}set(e,t,r){let i=sc(e);return r?(Qv("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){let o=sc(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){let t=sc(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}},bl=class n{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){let r=new zs(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new cc(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){let r=n.INSTANCES,i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new n(e,new _l(e),t),i.set(t,o)),o}};bl.INSTANCES=new WeakMap;var Xi=class n{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new _l(e)}static forPath(e,t,r){if(e.length%2!==0)throw new j("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new n(t,new St(t._delegate,r,new ee(e)))}static forKey(e,t,r){return new n(t,new St(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new El(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new El(this.firestore,Rv(this._delegate,e))}catch(t){throw or(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=kt(e),e instanceof St?Ov(this._delegate,e):!1}set(e,t){t=Qv("DocumentReference.set",t);try{return t?Hv(this._delegate,e,t):Hv(this._delegate,e)}catch(r){throw or(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?Bv(this._delegate,e):Bv(this._delegate,e,t,...r)}catch(i){throw or(i,"updateDoc()","DocumentReference.update()")}}delete(){return rz(this._delegate)}onSnapshot(...e){let t=pz(e),r=mz(e,i=>new ac(this.firestore,new Qr(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return jv(this._delegate,t,r)}get(e){let t;return e?.source==="cache"?t=ZA(this._delegate):e?.source==="server"?t=JA(this._delegate):t=XA(this._delegate),t.then(r=>new ac(this.firestore,new Qr(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(bl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function or(n,e,t){return n.message=n.message.replace(e,t),n}function pz(n){for(let e of n)if(typeof e=="object"&&!$v(e))return e;return{}}function mz(n,e){var t,r;let i;return $v(n[0])?i=n[0]:$v(n[1])?i=n[1]:typeof n[0]=="function"?i={next:n[0],error:n[1],complete:n[2]}:i={next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:(t=i.error)===null||t===void 0?void 0:t.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var ac=class{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Xi(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Fv(this._delegate,e._delegate)}},cc=class extends ac{data(e){let t=this._delegate.data(e);return this._delegate._converter||GS(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}},lc=class n{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new _l(e)}where(e,t,r){try{return new n(this.firestore,Uo(this._delegate,BA(e,t,r)))}catch(i){throw or(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new n(this.firestore,Uo(this._delegate,jA(e,t)))}catch(r){throw or(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new n(this.firestore,Uo(this._delegate,UA(e)))}catch(t){throw or(t,"limit()","Query.limit()")}}limitToLast(e){try{return new n(this.firestore,Uo(this._delegate,$A(e)))}catch(t){throw or(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new n(this.firestore,Uo(this._delegate,qA(...e)))}catch(t){throw or(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new n(this.firestore,Uo(this._delegate,WA(...e)))}catch(t){throw or(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new n(this.firestore,Uo(this._delegate,GA(...e)))}catch(t){throw or(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new n(this.firestore,Uo(this._delegate,YA(...e)))}catch(t){throw or(t,"endAt()","Query.endAt()")}}isEqual(e){return Nv(this._delegate,e._delegate)}get(e){let t;return e?.source==="cache"?t=tz(this._delegate):e?.source==="server"?t=nz(this._delegate):t=ez(this._delegate),t.then(r=>new i3(this.firestore,new Ei(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){let t=pz(e),r=mz(e,i=>new i3(this.firestore,new Ei(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return jv(this._delegate,t,r)}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(bl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},Wv=class{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new cc(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},i3=class{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new lc(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new cc(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Wv(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new cc(this._firestore,r))})}isEqual(e){return Fv(this._delegate,e._delegate)}},El=class n extends lc{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new Xi(this.firestore,e):null}doc(e){try{return e===void 0?new Xi(this.firestore,r3(this._delegate)):new Xi(this.firestore,r3(this._delegate,e))}catch(t){throw or(t,"doc()","CollectionReference.doc()")}}add(e){return iz(this._delegate,e).then(t=>new Xi(this.firestore,t))}isEqual(e){return Ov(this._delegate,e._delegate)}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(bl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function sc(n){return Xe(n,St)}var Gv=class n{constructor(...e){this._delegate=new bi(...e)}static documentId(){return new n(tn.keyField().canonicalString())}isEqual(e){return e=kt(e),e instanceof bi?this._delegate._internalPath.isEqual(e._internalPath):!1}};var Yv=class n{constructor(e){this._delegate=e}static serverTimestamp(){let e=cz();return e._methodName="FieldValue.serverTimestamp",new n(e)}static delete(){let e=az();return e._methodName="FieldValue.delete",new n(e)}static arrayUnion(...e){let t=lz(...e);return t._methodName="FieldValue.arrayUnion",new n(t)}static arrayRemove(...e){let t=uz(...e);return t._methodName="FieldValue.arrayRemove",new n(t)}static increment(e){let t=hz(e);return t._methodName="FieldValue.increment",new n(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var BK={Firestore:vh,GeoPoint:ec,Timestamp:Ut,Blob:gh,Transaction:yh,WriteBatch:wh,DocumentReference:Xi,DocumentSnapshot:ac,Query:lc,QueryDocumentSnapshot:cc,QuerySnapshot:i3,CollectionReference:El,FieldPath:Gv,FieldValue:Yv,setLogLevel:HK,CACHE_SIZE_UNLIMITED:CA};function jK(n,e){n.INTERNAL.registerComponent(new oa("firestore-compat",t=>{let r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},BK)))}function UK(n){jK(n,(e,t)=>new vh(e,t,new qv)),n.registerVersion(kK,LK)}UK(Yn);function $K(n,e=ar){return new Ee(t=>{let r;return e!=null?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}function gz(n,e){return $K(n,e)}function qK(n,e){return gz(n,e).pipe(Cn(void 0),da(),ce(t=>{let[r,i]=t;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}function Zv(n,e){return gz(n,e).pipe(ce(t=>({payload:t,type:"query"})))}var _h=class{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){let r=this.ref.collection(e),{ref:i,query:o}=bz(r,t);return new Eh(i,o,this.afs)}snapshotChanges(){return qK(this.ref,this.afs.schedulers.outsideAngular).pipe(mr)}valueChanges(e={}){return this.snapshotChanges().pipe(ce(({payload:t})=>e.idField?qe(q({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return Le(this.ref.get(e)).pipe(mr)}};function bh(n,e){return Zv(n,e).pipe(Cn(void 0),da(),ce(t=>{let[r,i]=t,o=i.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,c)=>{let l=o.find(d=>d.doc.ref.isEqual(a.ref)),h=r?.payload.docs.find(d=>d.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function vz(n,e,t){return bh(n,t).pipe(fa((r,i)=>WK(r,i.map(o=>o.payload),e),[]),ns(),ce(r=>r.map(i=>({type:i.type,payload:i}))))}function WK(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=GK(n,r))}),n}function Kv(n,e,t,...r){let i=n.slice();return i.splice(e,t,...r),i}function GK(n,e){switch(e.type){case"added":if(!(n[e.newIndex]&&n[e.newIndex].doc.ref.isEqual(e.doc.ref)))return Kv(n,e.newIndex,0,e);break;case"modified":if(n[e.oldIndex]==null||n[e.oldIndex].doc.ref.isEqual(e.doc.ref))if(e.oldIndex!==e.newIndex){let t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}else return Kv(n,e.newIndex,1,e);break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Kv(n,e.oldIndex,1);break}return n}function yz(n){return(!n||n.length===0)&&(n=["added","removed","modified"]),n}var Eh=class{ref;query;afs;constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=bh(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(ce(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Cn(void 0),da(),We(([r,i])=>i.length>0||!r),ce(([,r])=>r),mr)}auditTrail(e){return this.stateChanges(e).pipe(fa((t,r)=>[...t,...r],[]))}snapshotChanges(e){let t=yz(e);return vz(this.query,t,this.afs.schedulers.outsideAngular).pipe(mr)}valueChanges(e={}){return Zv(this.query,this.afs.schedulers.outsideAngular).pipe(ce(t=>t.payload.docs.map(r=>e.idField?qe(q({},r.data()),{[e.idField]:r.id}):r.data())),mr)}get(e){return Le(this.query.get(e)).pipe(mr)}add(e){return this.ref.add(e)}doc(e){return new _h(this.ref.doc(e),this.afs)}},Xv=class{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return!e||e.length===0?bh(this.query,this.afs.schedulers.outsideAngular).pipe(mr):bh(this.query,this.afs.schedulers.outsideAngular).pipe(ce(t=>t.filter(r=>e.indexOf(r.type)>-1)),We(t=>t.length>0),mr)}auditTrail(e){return this.stateChanges(e).pipe(fa((t,r)=>[...t,...r],[]))}snapshotChanges(e){let t=yz(e);return vz(this.query,t,this.afs.schedulers.outsideAngular).pipe(mr)}valueChanges(e={}){return Zv(this.query,this.afs.schedulers.outsideAngular).pipe(ce(r=>r.payload.docs.map(i=>e.idField?q({[e.idField]:i.id},i.data()):i.data())),mr)}get(e){return Le(this.query.get(e)).pipe(mr)}},wz=new G("angularfire2.enableFirestorePersistence"),_z=new G("angularfire2.firestore.persistenceSettings"),YK=new G("angularfire2.firestore.settings"),QK=new G("angularfire2.firestore.use-emulator");function bz(n,e=t=>t){return{query:e(n),ref:n}}var Jv=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,r,i,o,s,a,c,l,h,d,m,g,y,_,M,z,F){this.schedulers=c;let P=m2(t,a,r),Q=h;d&&q9(P,a,m,y,_,M,g,z),[this.firestore,this.persistenceEnabled$]=X6(`${P.name}.firestore`,"AngularFirestore",P.name,()=>{let ne=a.runOutsideAngular(()=>P.firestore());if(o&&ne.settings(o),Q&&ne.useEmulator(...Q),i&&!Oo(s)){let K=()=>{try{return Le(ne.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(C){return typeof console<"u"&&console.warn(C),te(!1)}};return[ne,a.runOutsideAngular(K)]}else return[ne,te(!1)]},[o,Q,i])}collection(t,r){let i;typeof t=="string"?i=this.firestore.collection(t):i=t;let{ref:o,query:s}=bz(i,r),a=this.schedulers.ngZone.run(()=>o);return new Eh(a,s,this)}collectionGroup(t,r){let i=r||(s=>s),o=this.firestore.collectionGroup(t);return new Xv(i(o),this)}doc(t){let r;typeof t=="string"?r=this.firestore.doc(t):r=t;let i=this.schedulers.ngZone.run(()=>r);return new _h(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||n)(D(N1),D(P1,8),D(wz,8),D(YK,8),D(Yt),D(he),D(Q6),D(_z,8),D(QK,8),D(v2,8),D(F9,8),D(H9,8),D(B9,8),D(j9,8),D(U9,8),D($9,8),D(Va,8))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),I0e=(()=>{class n{constructor(){Yn.registerVersion("angularfire",ka.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:wz,useValue:!0},{provide:_z,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Te({type:n});static \u0275inj=Me({providers:[Jv]})}return n})();var _n=Math.round;function ey(n,e){let t=n.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=t.map(i=>parseFloat(i));for(let i=0;i<3;i+=1)r[i]=e(r[i]||0,t[i]||"",i);return t[3]?r[3]=t[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}var Ez=(n,e,t)=>t===0?n:n/100;function o3(n,e){let t=e||255;return n>t?t:n<0?0:n}var uc=class n{constructor(e){L(this,"isValid",!0),L(this,"r",0),L(this,"g",0),L(this,"b",0),L(this,"a",1),L(this,"_h",void 0),L(this,"_s",void 0),L(this,"_l",void 0),L(this,"_v",void 0),L(this,"_max",void 0),L(this,"_min",void 0),L(this,"_brightness",void 0);function t(i){return i[0]in e&&i[1]in e&&i[2]in e}if(e)if(typeof e=="string"){let o=function(s){return i.startsWith(s)};var r=o;let i=e.trim();/^#?[A-F\d]{3,8}$/i.test(i)?this.fromHexString(i):o("rgb")?this.fromRgbString(i):o("hsl")?this.fromHslString(i):(o("hsv")||o("hsb"))&&this.fromHsvString(i)}else if(e instanceof n)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(t("rgb"))this.r=o3(e.r),this.g=o3(e.g),this.b=o3(e.b),this.a=typeof e.a=="number"?o3(e.a,1):1;else if(t("hsl"))this.fromHsl(e);else if(t("hsv"))this.fromHsv(e);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e))}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){let t=this.toHsv();return t.h=e,this._c(t)}getLuminance(){function e(o){let s=o/255;return s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4)}let t=e(this.r),r=e(this.g),i=e(this.b);return .2126*t+.7152*r+.0722*i}getHue(){if(typeof this._h>"u"){let e=this.getMax()-this.getMin();e===0?this._h=0:this._h=_n(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if(typeof this._s>"u"){let e=this.getMax()-this.getMin();e===0?this._s=0:this._s=e/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(e=10){let t=this.getHue(),r=this.getSaturation(),i=this.getLightness()-e/100;return i<0&&(i=0),this._c({h:t,s:r,l:i,a:this.a})}lighten(e=10){let t=this.getHue(),r=this.getSaturation(),i=this.getLightness()+e/100;return i>1&&(i=1),this._c({h:t,s:r,l:i,a:this.a})}mix(e,t=50){let r=this._c(e),i=t/100,o=a=>(r[a]-this[a])*i+this[a],s={r:_n(o("r")),g:_n(o("g")),b:_n(o("b")),a:_n(o("a")*100)/100};return this._c(s)}tint(e=10){return this.mix({r:255,g:255,b:255,a:1},e)}shade(e=10){return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){let t=this._c(e),r=this.a+t.a*(1-this.a),i=o=>_n((this[o]*this.a+t[o]*t.a*(1-this.a))/r);return this._c({r:i("r"),g:i("g"),b:i("b"),a:r})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#",t=(this.r||0).toString(16);e+=t.length===2?t:"0"+t;let r=(this.g||0).toString(16);e+=r.length===2?r:"0"+r;let i=(this.b||0).toString(16);if(e+=i.length===2?i:"0"+i,typeof this.a=="number"&&this.a>=0&&this.a<1){let o=_n(this.a*255).toString(16);e+=o.length===2?o:"0"+o}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){let e=this.getHue(),t=_n(this.getSaturation()*100),r=_n(this.getLightness()*100);return this.a!==1?`hsla(${e},${t}%,${r}%,${this.a})`:`hsl(${e},${t}%,${r}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,t,r){let i=this.clone();return i[e]=o3(t,r),i}_c(e){return new this.constructor(e)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){let t=e.replace("#","");function r(i,o){return parseInt(t[i]+t[o||i],16)}t.length<6?(this.r=r(0),this.g=r(1),this.b=r(2),this.a=t[3]?r(3)/255:1):(this.r=r(0,1),this.g=r(2,3),this.b=r(4,5),this.a=t[6]?r(6,7)/255:1)}fromHsl({h:e,s:t,l:r,a:i}){if(this._h=e%360,this._s=t,this._l=r,this.a=typeof i=="number"?i:1,t<=0){let m=_n(r*255);this.r=m,this.g=m,this.b=m}let o=0,s=0,a=0,c=e/60,l=(1-Math.abs(2*r-1))*t,h=l*(1-Math.abs(c%2-1));c>=0&&c<1?(o=l,s=h):c>=1&&c<2?(o=h,s=l):c>=2&&c<3?(s=l,a=h):c>=3&&c<4?(s=h,a=l):c>=4&&c<5?(o=h,a=l):c>=5&&c<6&&(o=l,a=h);let d=r-l/2;this.r=_n((o+d)*255),this.g=_n((s+d)*255),this.b=_n((a+d)*255)}fromHsv({h:e,s:t,v:r,a:i}){this._h=e%360,this._s=t,this._v=r,this.a=typeof i=="number"?i:1;let o=_n(r*255);if(this.r=o,this.g=o,this.b=o,t<=0)return;let s=e/60,a=Math.floor(s),c=s-a,l=_n(r*(1-t)*255),h=_n(r*(1-t*c)*255),d=_n(r*(1-t*(1-c))*255);switch(a){case 0:this.g=d,this.b=l;break;case 1:this.r=h,this.b=l;break;case 2:this.r=l,this.b=d;break;case 3:this.r=l,this.g=h;break;case 4:this.r=d,this.g=l;break;case 5:default:this.g=l,this.b=h;break}}fromHsvString(e){let t=ey(e,Ez);this.fromHsv({h:t[0],s:t[1],v:t[2],a:t[3]})}fromHslString(e){let t=ey(e,Ez);this.fromHsl({h:t[0],s:t[1],l:t[2],a:t[3]})}fromRgbString(e){let t=ey(e,(r,i)=>i.includes("%")?_n(r/100*255):r);this.r=t[0],this.g=t[1],this.b=t[2],this.a=t[3]}};var Ch=2,Cz=.16,XK=.05,ZK=.05,JK=.15,Dz=5,Sz=4,eX=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function Mz(n,e,t){var r;return Math.round(n.h)>=60&&Math.round(n.h)<=240?r=t?Math.round(n.h)-Ch*e:Math.round(n.h)+Ch*e:r=t?Math.round(n.h)+Ch*e:Math.round(n.h)-Ch*e,r<0?r+=360:r>=360&&(r-=360),r}function Tz(n,e,t){if(n.h===0&&n.s===0)return n.s;var r;return t?r=n.s-Cz*e:e===Sz?r=n.s+Cz:r=n.s+XK*e,r>1&&(r=1),t&&e===Dz&&r>.1&&(r=.1),r<.06&&(r=.06),Math.round(r*100)/100}function Iz(n,e,t){var r;return t?r=n.v+ZK*e:r=n.v-JK*e,r=Math.max(0,Math.min(1,r)),Math.round(r*100)/100}function Mh(n){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],r=new uc(n),i=r.toHsv(),o=Dz;o>0;o-=1){var s=new uc({h:Mz(i,o,!0),s:Tz(i,o,!0),v:Iz(i,o,!0)});t.push(s)}t.push(r);for(var a=1;a<=Sz;a+=1){var c=new uc({h:Mz(i,a),s:Tz(i,a),v:Iz(i,a)});t.push(c)}return e.theme==="dark"?eX.map(function(l){var h=l.index,d=l.amount;return new uc(e.backgroundColor||"#141414").mix(t[h],d).toHexString()}):t.map(function(l){return l.toHexString()})}var xz=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];xz.primary=xz[5];var Az=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];Az.primary=Az[5];var zz=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];zz.primary=zz[5];var Rz=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];Rz.primary=Rz[5];var Oz=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];Oz.primary=Oz[5];var Nz=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];Nz.primary=Nz[5];var Pz=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];Pz.primary=Pz[5];var Vz=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];Vz.primary=Vz[5];var kz=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];kz.primary=kz[5];var Lz=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];Lz.primary=Lz[5];var Fz=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];Fz.primary=Fz[5];var Hz=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];Hz.primary=Hz[5];var Bz=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];Bz.primary=Bz[5];var jz=["#2a1215","#431418","#58181c","#791a1f","#a61d24","#d32029","#e84749","#f37370","#f89f9a","#fac8c3"];jz.primary=jz[5];var Uz=["#2b1611","#441d12","#592716","#7c3118","#aa3e19","#d84a1b","#e87040","#f3956a","#f8b692","#fad4bc"];Uz.primary=Uz[5];var $z=["#2b1d11","#442a11","#593815","#7c4a15","#aa6215","#d87a16","#e89a3c","#f3b765","#f8cf8d","#fae3b7"];$z.primary=$z[5];var qz=["#2b2111","#443111","#594214","#7c5914","#aa7714","#d89614","#e8b339","#f3cc62","#f8df8b","#faedb5"];qz.primary=qz[5];var Wz=["#2b2611","#443b11","#595014","#7c6e14","#aa9514","#d8bd14","#e8d639","#f3ea62","#f8f48b","#fafab5"];Wz.primary=Wz[5];var Gz=["#1f2611","#2e3c10","#3e4f13","#536d13","#6f9412","#8bbb11","#a9d134","#c9e75d","#e4f88b","#f0fab5"];Gz.primary=Gz[5];var Yz=["#162312","#1d3712","#274916","#306317","#3c8618","#49aa19","#6abe39","#8fd460","#b2e58b","#d5f2bb"];Yz.primary=Yz[5];var Qz=["#112123","#113536","#144848","#146262","#138585","#13a8a8","#33bcb7","#58d1c9","#84e2d8","#b2f1e8"];Qz.primary=Qz[5];var Kz=["#111a2c","#112545","#15325b","#15417e","#1554ad","#1668dc","#3c89e8","#65a9f3","#8dc5f8","#b7dcfa"];Kz.primary=Kz[5];var Xz=["#131629","#161d40","#1c2755","#203175","#263ea0","#2b4acb","#5273e0","#7f9ef3","#a8c1f8","#d2e0fa"];Xz.primary=Xz[5];var Zz=["#1a1325","#24163a","#301c4d","#3e2069","#51258f","#642ab5","#854eca","#ab7ae0","#cda8f0","#ebd7fa"];Zz.primary=Zz[5];var Jz=["#291321","#40162f","#551c3b","#75204f","#a02669","#cb2b83","#e0529c","#f37fb7","#f8a8cc","#fad2e3"];Jz.primary=Jz[5];var eR=["#151515","#1f1f1f","#2d2d2d","#393939","#494949","#5a5a5a","#6a6a6a","#7b7b7b","#888888","#969696"];eR.primary=eR[5];var $o="[@ant-design/icons-angular]:";function tX(n){console.error(`${$o} ${n}.`)}function rR(n){za()&&console.warn(`${$o} ${n}.`)}function tR(n){return Mh(n)[0]}function Th(n,e){switch(e){case"fill":return`${n}-fill`;case"outline":return`${n}-o`;case"twotone":return`${n}-twotone`;case void 0:return n;default:throw new Error(`${$o}Theme "${e}" is not a recognized theme!`)}}function nX(n,e,t,r){return`${Th(n,e)}-${t}-${r}`}function rX(n){return n==="o"?"outline":n}function iX(n){return n.endsWith("-fill")||n.endsWith("-o")||n.endsWith("-twotone")}function iR(n){return typeof n=="object"&&typeof n.name=="string"&&(typeof n.theme=="string"||n.theme===void 0)&&typeof n.icon=="string"}function oX(n){let e=n.split("-"),t=rX(e.splice(e.length-1,1)[0]);return{name:e.join("-"),theme:t,icon:""}}function sX(n){return n.cloneNode(!0)}function aX(n){return n.replace(/['"]#333['"]/g,'"primaryColor"').replace(/['"]#E6E6E6['"]/g,'"secondaryColor"').replace(/['"]#D9D9D9['"]/g,'"secondaryColor"').replace(/['"]#D8D8D8['"]/g,'"secondaryColor"')}function Ih(n){let e=n.split(":");switch(e.length){case 1:return[n,""];case 2:return[e[1],e[0]];default:throw new Error(`${$o}The icon type ${n} is not valid!`)}}function cX(n){return Ih(n)[1]!==""}function lX(){return new Error(`${$o}Type should have a namespace. Try "namespace:${name}".`)}function nR(n){return new Error(`${$o}the icon ${n} does not exist or is not registered.`)}function uX(){return tX('you need to import "HttpClientModule" to use dynamic importing.'),null}function hX(n){return new Error(`${$o}The url "${n}" is unsafe.`)}function dX(){return new Error(`${$o}<svg> tag not found.`)}function fX(){return new Error(`${$o}Importing timeout error.`)}var pX="__ant_icon_load",mX=new G("ant_icons"),ty=(()=>{class n{set twoToneColor({primaryColor:t,secondaryColor:r}){this._twoToneColorPalette.primaryColor=t,this._twoToneColorPalette.secondaryColor=r||tR(t)}get twoToneColor(){return q({},this._twoToneColorPalette)}get _disableDynamicLoading(){return!1}constructor(t,r,i,o,s){this._rendererFactory=t,this._handler=r,this._document=i,this.sanitizer=o,this._antIcons=s,this.defaultTheme="outline",this._svgDefinitions=new Map,this._svgRenderedDefinitions=new Map,this._inProgressFetches=new Map,this._assetsUrlRoot="",this._twoToneColorPalette={primaryColor:"#333333",secondaryColor:"#E6E6E6"},this._enableJsonpLoading=!1,this._jsonpIconLoad$=new oe,this._renderer=this._rendererFactory.createRenderer(null,null),this._handler&&(this._http=new Pp(this._handler)),this._antIcons&&this.addIcon(...this._antIcons)}useJsonpLoading(){this._enableJsonpLoading?rR("You are already using jsonp loading."):(this._enableJsonpLoading=!0,window[pX]=t=>{this._jsonpIconLoad$.next(t)})}changeAssetsSource(t){this._assetsUrlRoot=t.endsWith("/")?t:t+"/"}addIcon(...t){t.forEach(r=>{this._svgDefinitions.set(Th(r.name,r.theme),r)})}addIconLiteral(t,r){let[i,o]=Ih(t);if(!o)throw lX();this.addIcon({name:t,icon:r})}clear(){this._svgDefinitions.clear(),this._svgRenderedDefinitions.clear()}getRenderedContent(t,r){let i=iR(t)?t:this._svgDefinitions.get(t)||null;if(!i&&this._disableDynamicLoading)throw nR(t);return(i?te(i):this._loadIconDynamically(t)).pipe(ce(s=>{if(!s)throw nR(t);return this._loadSVGFromCacheOrCreateNew(s,r)}))}getCachedIcons(){return this._svgDefinitions}_loadIconDynamically(t){if(!this._http&&!this._enableJsonpLoading)return te(uX());let r=this._inProgressFetches.get(t);if(!r){let[i,o]=Ih(t),s=o?{name:t,icon:""}:oX(i),a=this._enableJsonpLoading?".js":".svg",c=(o?`${this._assetsUrlRoot}assets/${o}/${i}`:`${this._assetsUrlRoot}assets/${s.theme}/${s.name}`)+a,l=this.sanitizer.sanitize(zr.URL,c);if(!l)throw hX(c);r=(this._enableJsonpLoading?this._loadIconDynamicallyWithJsonp(s,l):this._http.get(l,{responseType:"text"}).pipe(ce(d=>qe(q({},s),{icon:d})))).pipe(Rt(d=>this.addIcon(d)),Cr(()=>this._inProgressFetches.delete(t)),si(()=>te(null)),i4()),this._inProgressFetches.set(t,r)}return r}_loadIconDynamicallyWithJsonp(t,r){return new Ee(i=>{let o=this._document.createElement("script"),s=setTimeout(()=>{a(),i.error(fX())},6e3);o.src=r;function a(){o.parentNode.removeChild(o),clearTimeout(s)}this._document.body.appendChild(o),this._jsonpIconLoad$.pipe(We(c=>c.name===t.name&&c.theme===t.theme),Lt(1)).subscribe(c=>{i.next(c),a()})})}_loadSVGFromCacheOrCreateNew(t,r){let i,o=r||this._twoToneColorPalette.primaryColor,s=tR(o)||this._twoToneColorPalette.secondaryColor,a=t.theme==="twotone"?nX(t.name,t.theme,o,s):t.theme===void 0?t.name:Th(t.name,t.theme),c=this._svgRenderedDefinitions.get(a);return c?i=c.icon:(i=this._setSVGAttribute(this._colorizeSVGIcon(this._createSVGElementFromString(cX(t.name)?t.icon:aX(t.icon)),t.theme==="twotone",o,s)),this._svgRenderedDefinitions.set(a,qe(q({},t),{icon:i}))),sX(i)}_createSVGElementFromString(t){let r=this._document.createElement("div");r.innerHTML=t;let i=r.querySelector("svg");if(!i)throw dX;return i}_setSVGAttribute(t){return this._renderer.setAttribute(t,"width","1em"),this._renderer.setAttribute(t,"height","1em"),t}_colorizeSVGIcon(t,r,i,o){if(r){let s=t.childNodes,a=s.length;for(let c=0;c<a;c++){let l=s[c];l.getAttribute("fill")==="secondaryColor"?this._renderer.setAttribute(l,"fill",o):this._renderer.setAttribute(l,"fill",i)}}return this._renderer.setAttribute(t,"fill","currentColor"),t}static{this.\u0275fac=function(r){return new(r||n)(D(Ir),D(ys,8),D(Ve,8),D(G4),D(mX,8))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})();function gX(n,e){return n.type===e.type&&n.theme===e.theme&&n.twoToneColor===e.twoToneColor}var oR=(()=>{class n{constructor(t,r,i){this._iconService=t,this._elementRef=r,this._renderer=i}ngOnChanges(t){(t.type||t.theme||t.twoToneColor)&&this._changeIcon()}_changeIcon(){return new Promise(t=>{if(!this.type){this._clearSVGElement(),t(null);return}let r=this._getSelfRenderMeta();this._iconService.getRenderedContent(this._parseIconType(this.type,this.theme),this.twoToneColor).subscribe(i=>{let o=this._getSelfRenderMeta();gX(r,o)?(this._setSVGElement(i),t(i)):t(null)})})}_getSelfRenderMeta(){return{type:this.type,theme:this.theme,twoToneColor:this.twoToneColor}}_parseIconType(t,r){if(iR(t))return t;{let[i,o]=Ih(t);return o?t:iX(i)?(r&&rR(`'type' ${i} already gets a theme inside so 'theme' ${r} would be ignored`),i):Th(i,r||this._iconService.defaultTheme)}}_setSVGElement(t){this._clearSVGElement(),this._renderer.appendChild(this._elementRef.nativeElement,t)}_clearSVGElement(){let t=this._elementRef.nativeElement,r=t.childNodes,i=r.length;for(let o=i-1;o>=0;o--){let s=r[o];s.tagName?.toLowerCase()==="svg"&&this._renderer.removeChild(t,s)}}static{this.\u0275fac=function(r){return new(r||n)(H(ty),H(ke),H(Jn))}}static{this.\u0275dir=He({type:n,selectors:[["","antIcon",""]],inputs:{type:"type",theme:"theme",twoToneColor:"twoToneColor"},features:[Jt]})}}return n})();var Dh={isTestMode:!1};var sR={},vX="[NG-ZORRO]:";function yX(...n){let e=n.reduce((t,r)=>t+r.toString(),"");return sR[e]?!1:(sR[e]=!0,!0)}function wX(n,...e){(Dh.isTestMode||za()&&yX(...e))&&n(...e)}var s3=(...n)=>wX((...e)=>console.warn(vX,...e),...n);var aR={name:"bars",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'};var cR={name:"calendar",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z" /></svg>'};var lR={name:"caret-down",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},uR={name:"caret-down",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'};var hR={name:"caret-up",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},dR={name:"caret-up",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'};var fR={name:"check-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z" /></svg>'},pR={name:"check-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z" /><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'};var mR={name:"close-circle",theme:"outline",icon:'<svg fill-rule="evenodd" viewBox="64 64 896 896" focusable="false"><path d="M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z" /></svg>'};var gR={name:"close",theme:"outline",icon:'<svg fill-rule="evenodd" viewBox="64 64 896 896" focusable="false"><path d="M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z" /></svg>'};var vR={name:"check",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z" /></svg>'},yR={name:"clock-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z" /></svg>'};var wR={name:"copy",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z" /></svg>'};var _R={name:"delete",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z" /></svg>'};var bR={name:"double-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z" /></svg>'},ER={name:"double-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z" /></svg>'};var CR={name:"down",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z" /></svg>'};var MR={name:"close-circle",theme:"fill",icon:'<svg fill-rule="evenodd" viewBox="64 64 896 896" focusable="false"><path d="M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z" /></svg>'};var TR={name:"ellipsis",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'};var IR={name:"edit",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z" /></svg>'};var DR={name:"exclamation-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'};var SR={name:"eye",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z" /></svg>'};var xR={name:"file",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2z" /></svg>'};var AR={name:"file",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z" /></svg>'};var zR={name:"filter",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z" /></svg>'};var RR={name:"info-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'};var OR={name:"exclamation-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z" /></svg>'};var NR={name:"info-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z" /></svg>'};var PR={name:"left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z" /></svg>'};var VR={name:"loading",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z" /></svg>'};var kR={name:"paper-clip",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z" /></svg>'};var LR={name:"question-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z" /></svg>'};var FR={name:"rotate-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z" /><path d="M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z" /></svg>'};var HR={name:"right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z" /></svg>'};var BR={name:"search",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z" /></svg>'};var ny={name:"star",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z" /></svg>'};var jR={name:"swap",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z" /></svg>'},UR={name:"swap-right",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z" /></svg>'};var $R={name:"up",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z" /></svg>'};var qR={name:"rotate-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z" /><path d="M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z" /></svg>'};var WR={name:"vertical-align-top",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z" /></svg>'};var GR={name:"zoom-in",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'};var YR={name:"zoom-out",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'},QR={name:"upload",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z" /></svg>'};function mn(n,e){_X(n)&&(n="100%");let t=bX(n);return n=e===360?n:Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(String(n*e),10)/100),Math.abs(n-e)<1e-6?1:(e===360?n=(n<0?n%e+e:n%e)/parseFloat(String(e)):n=n%e/parseFloat(String(e)),n)}function a3(n){return Math.min(1,Math.max(0,n))}function _X(n){return typeof n=="string"&&n.indexOf(".")!==-1&&parseFloat(n)===1}function bX(n){return typeof n=="string"&&n.indexOf("%")!==-1}function Sh(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function c3(n){return Number(n)<=1?`${Number(n)*100}%`:n}function qs(n){return n.length===1?"0"+n:String(n)}function KR(n,e,t){return{r:mn(n,255)*255,g:mn(e,255)*255,b:mn(t,255)*255}}function iy(n,e,t){n=mn(n,255),e=mn(e,255),t=mn(t,255);let r=Math.max(n,e,t),i=Math.min(n,e,t),o=0,s=0,a=(r+i)/2;if(r===i)s=0,o=0;else{let c=r-i;switch(s=a>.5?c/(2-r-i):c/(r+i),r){case n:o=(e-t)/c+(e<t?6:0);break;case e:o=(t-n)/c+2;break;case t:o=(n-e)/c+4;break;default:break}o/=6}return{h:o,s,l:a}}function ry(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*(6*t):t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function XR(n,e,t){let r,i,o;if(n=mn(n,360),e=mn(e,100),t=mn(t,100),e===0)i=t,o=t,r=t;else{let s=t<.5?t*(1+e):t+e-t*e,a=2*t-s;r=ry(a,s,n+1/3),i=ry(a,s,n),o=ry(a,s,n-1/3)}return{r:r*255,g:i*255,b:o*255}}function l3(n,e,t){n=mn(n,255),e=mn(e,255),t=mn(t,255);let r=Math.max(n,e,t),i=Math.min(n,e,t),o=0,s=r,a=r-i,c=r===0?0:a/r;if(r===i)o=0;else{switch(r){case n:o=(e-t)/a+(e<t?6:0);break;case e:o=(t-n)/a+2;break;case t:o=(n-e)/a+4;break;default:break}o/=6}return{h:o,s:c,v:s}}function ZR(n,e,t){n=mn(n,360)*6,e=mn(e,100),t=mn(t,100);let r=Math.floor(n),i=n-r,o=t*(1-e),s=t*(1-i*e),a=t*(1-(1-i)*e),c=r%6,l=[t,s,o,o,a,t][c],h=[a,t,t,s,o,o][c],d=[o,o,a,t,t,s][c];return{r:l*255,g:h*255,b:d*255}}function u3(n,e,t,r){let i=[qs(Math.round(n).toString(16)),qs(Math.round(e).toString(16)),qs(Math.round(t).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function JR(n,e,t,r,i){let o=[qs(Math.round(n).toString(16)),qs(Math.round(e).toString(16)),qs(Math.round(t).toString(16)),qs(EX(r))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function eO(n,e,t,r){let i=n/100,o=e/100,s=t/100,a=r/100,c=255*(1-i)*(1-a),l=255*(1-o)*(1-a),h=255*(1-s)*(1-a);return{r:c,g:l,b:h}}function oy(n,e,t){let r=1-n/255,i=1-e/255,o=1-t/255,s=Math.min(r,i,o);return s===1?(r=0,i=0,o=0):(r=(r-s)/(1-s)*100,i=(i-s)/(1-s)*100,o=(o-s)/(1-s)*100),s*=100,{c:Math.round(r),m:Math.round(i),y:Math.round(o),k:Math.round(s)}}function EX(n){return Math.round(parseFloat(n)*255).toString(16)}function sy(n){return vr(n)/255}function vr(n){return parseInt(n,16)}function tO(n){return{r:n>>16,g:(n&65280)>>8,b:n&255}}var h3={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Gs(n){let e={r:0,g:0,b:0},t=1,r=null,i=null,o=null,s=!1,a=!1;return typeof n=="string"&&(n=TX(n)),typeof n=="object"&&(Fr(n.r)&&Fr(n.g)&&Fr(n.b)?(e=KR(n.r,n.g,n.b),s=!0,a=String(n.r).substr(-1)==="%"?"prgb":"rgb"):Fr(n.h)&&Fr(n.s)&&Fr(n.v)?(r=c3(n.s),i=c3(n.v),e=ZR(n.h,r,i),s=!0,a="hsv"):Fr(n.h)&&Fr(n.s)&&Fr(n.l)?(r=c3(n.s),o=c3(n.l),e=XR(n.h,r,o),s=!0,a="hsl"):Fr(n.c)&&Fr(n.m)&&Fr(n.y)&&Fr(n.k)&&(e=eO(n.c,n.m,n.y,n.k),s=!0,a="cmyk"),Object.prototype.hasOwnProperty.call(n,"a")&&(t=n.a)),t=Sh(t),{ok:s,format:n.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}var CX="[-\\+]?\\d+%?",MX="[-\\+]?\\d*\\.\\d+%?",Ws="(?:"+MX+")|(?:"+CX+")",ay="[\\s|\\(]+("+Ws+")[,|\\s]+("+Ws+")[,|\\s]+("+Ws+")\\s*\\)?",xh="[\\s|\\(]+("+Ws+")[,|\\s]+("+Ws+")[,|\\s]+("+Ws+")[,|\\s]+("+Ws+")\\s*\\)?",Kr={CSS_UNIT:new RegExp(Ws),rgb:new RegExp("rgb"+ay),rgba:new RegExp("rgba"+xh),hsl:new RegExp("hsl"+ay),hsla:new RegExp("hsla"+xh),hsv:new RegExp("hsv"+ay),hsva:new RegExp("hsva"+xh),cmyk:new RegExp("cmyk"+xh),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function TX(n){if(n=n.trim().toLowerCase(),n.length===0)return!1;let e=!1;if(h3[n])n=h3[n],e=!0;else if(n==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};let t=Kr.rgb.exec(n);return t?{r:t[1],g:t[2],b:t[3]}:(t=Kr.rgba.exec(n),t?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=Kr.hsl.exec(n),t?{h:t[1],s:t[2],l:t[3]}:(t=Kr.hsla.exec(n),t?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=Kr.hsv.exec(n),t?{h:t[1],s:t[2],v:t[3]}:(t=Kr.hsva.exec(n),t?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=Kr.cmyk.exec(n),t?{c:t[1],m:t[2],y:t[3],k:t[4]}:(t=Kr.hex8.exec(n),t?{r:vr(t[1]),g:vr(t[2]),b:vr(t[3]),a:sy(t[4]),format:e?"name":"hex8"}:(t=Kr.hex6.exec(n),t?{r:vr(t[1]),g:vr(t[2]),b:vr(t[3]),format:e?"name":"hex"}:(t=Kr.hex4.exec(n),t?{r:vr(t[1]+t[1]),g:vr(t[2]+t[2]),b:vr(t[3]+t[3]),a:sy(t[4]+t[4]),format:e?"name":"hex8"}:(t=Kr.hex3.exec(n),t?{r:vr(t[1]+t[1]),g:vr(t[2]+t[2]),b:vr(t[3]+t[3]),format:e?"name":"hex"}:!1))))))))))}function Fr(n){return typeof n=="number"?!Number.isNaN(n):Kr.CSS_UNIT.test(n)}var Cl=class n{constructor(e="",t={}){if(e instanceof n)return e;typeof e=="number"&&(e=tO(e)),this.originalInput=e;let r=Gs(e);this.originalInput=e,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=t.format??r.format,this.gradientType=t.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}isDark(){return this.getBrightness()<128}isLight(){return!this.isDark()}getBrightness(){let e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3}getLuminance(){let e=this.toRgb(),t,r,i,o=e.r/255,s=e.g/255,a=e.b/255;return o<=.03928?t=o/12.92:t=Math.pow((o+.055)/1.055,2.4),s<=.03928?r=s/12.92:r=Math.pow((s+.055)/1.055,2.4),a<=.03928?i=a/12.92:i=Math.pow((a+.055)/1.055,2.4),.2126*t+.7152*r+.0722*i}getAlpha(){return this.a}setAlpha(e){return this.a=Sh(e),this.roundA=Math.round(100*this.a)/100,this}isMonochrome(){let{s:e}=this.toHsl();return e===0}toHsv(){let e=l3(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}}toHsvString(){let e=l3(this.r,this.g,this.b),t=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this.a===1?`hsv(${t}, ${r}%, ${i}%)`:`hsva(${t}, ${r}%, ${i}%, ${this.roundA})`}toHsl(){let e=iy(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}}toHslString(){let e=iy(this.r,this.g,this.b),t=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this.a===1?`hsl(${t}, ${r}%, ${i}%)`:`hsla(${t}, ${r}%, ${i}%, ${this.roundA})`}toHex(e=!1){return u3(this.r,this.g,this.b,e)}toHexString(e=!1){return"#"+this.toHex(e)}toHex8(e=!1){return JR(this.r,this.g,this.b,this.a,e)}toHex8String(e=!1){return"#"+this.toHex8(e)}toHexShortString(e=!1){return this.a===1?this.toHexString(e):this.toHex8String(e)}toRgb(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}}toRgbString(){let e=Math.round(this.r),t=Math.round(this.g),r=Math.round(this.b);return this.a===1?`rgb(${e}, ${t}, ${r})`:`rgba(${e}, ${t}, ${r}, ${this.roundA})`}toPercentageRgb(){let e=t=>`${Math.round(mn(t,255)*100)}%`;return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}}toPercentageRgbString(){let e=t=>Math.round(mn(t,255)*100);return this.a===1?`rgb(${e(this.r)}%, ${e(this.g)}%, ${e(this.b)}%)`:`rgba(${e(this.r)}%, ${e(this.g)}%, ${e(this.b)}%, ${this.roundA})`}toCmyk(){return q({},oy(this.r,this.g,this.b))}toCmykString(){let{c:e,m:t,y:r,k:i}=oy(this.r,this.g,this.b);return`cmyk(${e}, ${t}, ${r}, ${i})`}toName(){if(this.a===0)return"transparent";if(this.a<1)return!1;let e="#"+u3(this.r,this.g,this.b,!1);for(let[t,r]of Object.entries(h3))if(e===r)return t;return!1}toString(e){let t=!!e;e=e??this.format;let r=!1,i=this.a<1&&this.a>=0;return!t&&i&&(e.startsWith("hex")||e==="name")?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),e==="cmyk"&&(r=this.toCmykString()),r||this.toHexString())}toNumber(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)}clone(){return new n(this.toString())}lighten(e=10){let t=this.toHsl();return t.l+=e/100,t.l=a3(t.l),new n(t)}brighten(e=10){let t=this.toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(e/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(e/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(e/100)))),new n(t)}darken(e=10){let t=this.toHsl();return t.l-=e/100,t.l=a3(t.l),new n(t)}tint(e=10){return this.mix("white",e)}shade(e=10){return this.mix("black",e)}desaturate(e=10){let t=this.toHsl();return t.s-=e/100,t.s=a3(t.s),new n(t)}saturate(e=10){let t=this.toHsl();return t.s+=e/100,t.s=a3(t.s),new n(t)}greyscale(){return this.desaturate(100)}spin(e){let t=this.toHsl(),r=(t.h+e)%360;return t.h=r<0?360+r:r,new n(t)}mix(e,t=50){let r=this.toRgb(),i=new n(e).toRgb(),o=t/100,s={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return new n(s)}analogous(e=6,t=30){let r=this.toHsl(),i=360/t,o=[this];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(new n(r));return o}complement(){let e=this.toHsl();return e.h=(e.h+180)%360,new n(e)}monochromatic(e=6){let t=this.toHsv(),{h:r}=t,{s:i}=t,{v:o}=t,s=[],a=1/e;for(;e--;)s.push(new n({h:r,s:i,v:o})),o=(o+a)%1;return s}splitcomplement(){let e=this.toHsl(),{h:t}=e;return[this,new n({h:(t+72)%360,s:e.s,l:e.l}),new n({h:(t+216)%360,s:e.s,l:e.l})]}onBackground(e){let t=this.toRgb(),r=new n(e).toRgb(),i=t.a+r.a*(1-t.a);return new n({r:(t.r*t.a+r.r*r.a*(1-t.a))/i,g:(t.g*t.a+r.g*r.a*(1-t.a))/i,b:(t.b*t.a+r.b*r.a*(1-t.a))/i,a:i})}triad(){return this.polyad(3)}tetrad(){return this.polyad(4)}polyad(e){let t=this.toHsl(),{h:r}=t,i=[this],o=360/e;for(let s=1;s<e;s++)i.push(new n({h:(r+s*o)%360,s:t.s,l:t.l}));return i}equals(e){let t=new n(e);return this.format==="cmyk"||t.format==="cmyk"?this.toCmykString()===t.toCmykString():this.toRgbString()===t.toRgbString()}};var IX=["success","processing","error","default","warning"],DX=["pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"];function _ue(n){return DX.indexOf(n)!==-1}function bue(n){return IX.indexOf(n)!==-1}var Ah=2,nO=.16,SX=.05,xX=.05,AX=.15,aO=5,cO=4,zX=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function rO({r:n,g:e,b:t}){let r=l3(n,e,t);return{h:r.h*360,s:r.s,v:r.v}}function zh({r:n,g:e,b:t}){return`#${u3(n,e,t,!1)}`}function RX(n,e,t){let r=t/100;return{r:(e.r-n.r)*r+n.r,g:(e.g-n.g)*r+n.g,b:(e.b-n.b)*r+n.b}}function iO(n,e,t){let r;return Math.round(n.h)>=60&&Math.round(n.h)<=240?r=t?Math.round(n.h)-Ah*e:Math.round(n.h)+Ah*e:r=t?Math.round(n.h)+Ah*e:Math.round(n.h)-Ah*e,r<0?r+=360:r>=360&&(r-=360),r}function oO(n,e,t){if(n.h===0&&n.s===0)return n.s;let r;return t?r=n.s-nO*e:e===cO?r=n.s+nO:r=n.s+SX*e,r>1&&(r=1),t&&e===aO&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2))}function sO(n,e,t){let r;return t?r=n.v+xX*e:r=n.v-AX*e,r>1&&(r=1),Number(r.toFixed(2))}function cy(n,e={}){let t=[],r=Gs(n);for(let i=aO;i>0;i-=1){let o=rO(r),s=zh(Gs({h:iO(o,i,!0),s:oO(o,i,!0),v:sO(o,i,!0)}));t.push(s)}t.push(zh(r));for(let i=1;i<=cO;i+=1){let o=rO(r),s=zh(Gs({h:iO(o,i),s:oO(o,i),v:sO(o,i)}));t.push(s)}return e.theme==="dark"?zX.map(({index:i,opacity:o})=>zh(RX(Gs(e.backgroundColor||"#141414"),Gs(t[i]),o*100))):t}function lO(n){return n!=null&&`${n}`!="false"}function hc(n,e=0){return OX(n)?Number(n):arguments.length===2?e:0}function OX(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function Ml(n){return Array.isArray(n)?n:[n]}function qt(n){return n==null?"":typeof n=="string"?n:`${n}px`}function uO(n){return n instanceof ke?n.nativeElement:n}function xue(n){let e;return n==null?e=[]:Array.isArray(n)?e=n:e=[n],e}function Aue(n,e){if(!n||!e||n.length!==e.length)return!1;let t=n.length;for(let r=0;r<t;r++)if(n[r]!==e[r])return!1;return!0}function zue(n){return typeof n<"u"&&n!==null}function Rue(n){return typeof n>"u"||n===null}function Oue(n){return typeof n=="string"&&n!==""}function Nue(n){return n instanceof Zt}function Pue(n){return lO(n)}function Vue(n){return k4(n,0)}function kue(n,e=0){return hc(n,e)}function d3(n){return qt(n)}function Lue(n,...e){return typeof n=="function"?n(...e):n}function Fue(n){if(!n.getClientRects().length)return{top:0,left:0};let e=n.getBoundingClientRect(),t=n.ownerDocument.defaultView;return{top:e.top+t.pageYOffset,left:e.left+t.pageXOffset}}function Hue(n,e,t){if(n.length>e)return n;let r=`${NX(e,t)}${n}`;return r.slice(r.length-e,r.length)}function NX(n,e){return Array(n).fill(e).join("")}function PX(n){return!!n&&typeof n.then=="function"&&typeof n.catch=="function"}function Bue(n){return typeof n=="number"&&isFinite(n)}function jue(n,e){return Math.round(n*Math.pow(10,e))/Math.pow(10,e)}var VX=typeof window<"u",Uue=VX&&window.mozInnerScreenX!=null;var ly,uy,hO={position:"absolute",top:"-9999px",width:"50px",height:"50px"};function $ue(n="vertical",e="ant"){if(typeof document>"u"||typeof window>"u")return 0;let t=n==="vertical";if(t&&ly)return ly;if(!t&&uy)return uy;let r=document.createElement("div");Object.keys(hO).forEach(o=>{r.style[o]=hO[o]}),r.className=`${e}-hide-scrollbar scroll-div-append-to-body`,t?r.style.overflowY="scroll":r.style.overflowX="scroll",document.body.appendChild(r);let i=0;return t?(i=r.offsetWidth-r.clientWidth,ly=i):(i=r.offsetHeight-r.clientHeight,uy=i),document.body.removeChild(r),i}function que(){let n=new oe;return Promise.resolve().then(()=>n.next()),n.pipe(Lt(1))}function Wue(n){return oo(n)?n:PX(n)?Le(Promise.resolve(n)):te(n)}function dy(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var kX="rc-util-key";function fO({mark:n}={}){return n?n.startsWith("data-")?n:`data-${n}`:kX}function fy(n){return n.attachTo?n.attachTo:document.querySelector("head")||document.body}function dO(n,e={}){if(!dy())return null;let t=document.createElement("style");e.cspNonce&&(t.nonce=e.cspNonce),t.innerHTML=n;let r=fy(e),{firstChild:i}=r;return e.prepend&&r.prepend?r.prepend(t):e.prepend&&i?r.insertBefore(t,i):r.appendChild(t),t}var hy=new Map;function LX(n,e={}){let t=fy(e);return Array.from(hy.get(t)?.children||[]).find(r=>r.tagName==="STYLE"&&r.getAttribute(fO(e))===n)}function pO(n,e,t={}){let r=fy(t);if(!hy.has(r)){let s=dO("",t),{parentNode:a}=s;hy.set(r,a),a.removeChild(s)}let i=LX(e,t);if(i)return t.cspNonce&&i.nonce!==t.cspNonce&&(i.nonce=t.cspNonce),i.innerHTML!==n&&(i.innerHTML=n),i;let o=dO(n,t);return o?.setAttribute(fO(t),e),o}function Gue(n,e,t){return{[`${n}-status-success`]:e==="success",[`${n}-status-warning`]:e==="warning",[`${n}-status-error`]:e==="error",[`${n}-status-validating`]:e==="validating",[`${n}-has-feedback`]:t}}var FX=new G("nz-config");var HX=`-ant-${Date.now()}-${Math.random()}`;function BX(n,e){let t={},r=(s,a)=>{let c=s.clone();return c=a?.(c)||c,c.toRgbString()},i=(s,a)=>{let c=new Cl(s),l=cy(c.toRgbString());t[`${a}-color`]=r(c),t[`${a}-color-disabled`]=l[1],t[`${a}-color-hover`]=l[4],t[`${a}-color-active`]=l[7],t[`${a}-color-outline`]=c.clone().setAlpha(.2).toRgbString(),t[`${a}-color-deprecated-bg`]=l[1],t[`${a}-color-deprecated-border`]=l[3]};if(e.primaryColor){i(e.primaryColor,"primary");let s=new Cl(e.primaryColor),a=cy(s.toRgbString());a.forEach((l,h)=>{t[`primary-${h+1}`]=l}),t["primary-color-deprecated-l-35"]=r(s,l=>l.lighten(35)),t["primary-color-deprecated-l-20"]=r(s,l=>l.lighten(20)),t["primary-color-deprecated-t-20"]=r(s,l=>l.tint(20)),t["primary-color-deprecated-t-50"]=r(s,l=>l.tint(50)),t["primary-color-deprecated-f-12"]=r(s,l=>l.setAlpha(l.getAlpha()*.12));let c=new Cl(a[0]);t["primary-color-active-deprecated-f-30"]=r(c,l=>l.setAlpha(l.getAlpha()*.3)),t["primary-color-active-deprecated-d-02"]=r(c,l=>l.darken(2))}return e.successColor&&i(e.successColor,"success"),e.warningColor&&i(e.warningColor,"warning"),e.errorColor&&i(e.errorColor,"error"),e.infoColor&&i(e.infoColor,"info"),`
  :root {
    ${Object.keys(t).map(s=>`--${n}-${s}: ${t[s]};`).join(`
`)}
  }
  `.trim()}function mO(n,e,t){let r=BX(n,e);dy()?pO(r,`${HX}-dynamic-theme`,{cspNonce:t}):s3("NzConfigService: SSR do not support dynamic theme with css variables.")}var gO=function(n){return n!==void 0},vO="ant",qo=(()=>{class n{constructor(){this.configUpdated$=new oe,this.config=V(FX,{optional:!0})||{},this.cspNonce=V(bo,{optional:!0}),this.config.theme&&mO(this.getConfig().prefixCls?.prefixCls||vO,this.config.theme,this.cspNonce)}getConfig(){return this.config}getConfigForComponent(t){return this.config[t]}getConfigChangeEventForComponent(t){return this.configUpdated$.pipe(We(r=>r===t),ha(void 0))}set(t,r){this.config[t]=q(q({},this.config[t]),r),t==="theme"&&this.config.theme&&mO(this.getConfig().prefixCls?.prefixCls||vO,this.config.theme,this.cspNonce),this.configUpdated$.next(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function yO(){return function(e,t,r){let i=`$$__zorroConfigDecorator__${t}`;return Object.defineProperty(e,i,{configurable:!0,writable:!0,enumerable:!1}),{get(){let o=r?.get?r.get.bind(this)():this[i],s=(this.propertyAssignCounter?.[t]||0)>1,a=this.nzConfigService.getConfigForComponent(this._nzModuleName)?.[t];return s&&gO(o)?o:gO(a)?a:o},set(o){this.propertyAssignCounter=this.propertyAssignCounter||{},this.propertyAssignCounter[t]=(this.propertyAssignCounter[t]||0)+1,r?.set?r.set.bind(this)(o):this[i]=o},configurable:!0,enumerable:!0}}}var my;try{my=typeof Intl<"u"&&Intl.v8BreakIterator}catch{my=!1}var sr=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?xp(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||my)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(r){return new(r||n)(D(Yt))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),l6e=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Me({})}}return n})();var f3;function jX(){if(f3==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>f3=!0}))}finally{f3=f3||!1}return f3}function u6e(n){return jX()?n:!!n.capture}var Ci=function(n){return n[n.NORMAL=0]="NORMAL",n[n.NEGATED=1]="NEGATED",n[n.INVERTED=2]="INVERTED",n}(Ci||{}),Oh,dc;function Nh(){if(dc==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return dc=!1,dc;if("scrollBehavior"in document.documentElement.style)dc=!0;else{let n=Element.prototype.scrollTo;n?dc=!/\{\s*\[native code\]\s*\}/.test(n.toString()):dc=!1}}return dc}function Tl(){if(typeof document!="object"||!document)return Ci.NORMAL;if(Oh==null){let n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";let t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",n.appendChild(t),document.body.appendChild(n),Oh=Ci.NORMAL,n.scrollLeft===0&&(n.scrollLeft=1,Oh=n.scrollLeft===0?Ci.NEGATED:Ci.INVERTED),n.remove()}return Oh}var py;function UX(){if(py==null){let n=typeof document<"u"?document.head:null;py=!!(n&&(n.createShadowRoot||n.attachShadow))}return py}function h6e(n){if(UX()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function d6e(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){let e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Ph(n){return n.composedPath?n.composedPath()[0]:n.target}function gy(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var $X=[aR,cR,hR,dR,lR,uR,fR,pR,vR,yR,mR,MR,gR,wR,_R,bR,ER,CR,IR,TR,DR,OR,SR,xR,AR,zR,RR,NR,PR,VR,kR,LR,HR,FR,qR,ny,BR,ny,QR,WR,$R,jR,UR,GR,YR],_O=new G("nz_icons"),T6e=new G("nz_icon_default_twotone_color"),wO="#1890ff",bO=(()=>{class n extends ty{get _disableDynamicLoading(){return!this.platform.isBrowser}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}normalizeSvgElement(t){t.getAttribute("viewBox")||this._renderer.setAttribute(t,"viewBox","0 0 1024 1024"),(!t.getAttribute("width")||!t.getAttribute("height"))&&(this._renderer.setAttribute(t,"width","1em"),this._renderer.setAttribute(t,"height","1em")),t.getAttribute("fill")||this._renderer.setAttribute(t,"fill","currentColor")}fetchFromIconfont(t){let{scriptUrl:r}=t;if(this._document&&!this.iconfontCache.has(r)){let i=this._renderer.createElement("script");this._renderer.setAttribute(i,"src",r),this._renderer.setAttribute(i,"data-namespace",r.replace(/^(https?|http):/g,"")),this._renderer.appendChild(this._document.body,i),this.iconfontCache.add(r)}}createIconfontIcon(t){return this._createSVGElementFromString(`<svg><use xlink:href="${t}"></svg>`)}constructor(t,r,i,o){super(t,V(ys,{optional:!0}),V(Ve),r,[...$X,...V(_O,{optional:!0})||[]]),this.nzConfigService=i,this.platform=o,this.configUpdated$=new oe,this.iconfontCache=new Set,this.subscription=null,this.onConfigChange(),this.configDefaultTwotoneColor(),this.configDefaultTheme()}onConfigChange(){this.subscription=this.nzConfigService.getConfigChangeEventForComponent("icon").subscribe(()=>{this.configDefaultTwotoneColor(),this.configDefaultTheme(),this.configUpdated$.next()})}configDefaultTheme(){let t=this.getConfig();this.defaultTheme=t.nzTheme||"outline"}configDefaultTwotoneColor(){let r=this.getConfig().nzTwotoneColor||wO,i=wO;r&&(r.startsWith("#")?i=r:s3("Twotone color must be a hex color!")),this.twoToneColor={primaryColor:i}}getConfig(){return this.nzConfigService.getConfigForComponent("icon")||{}}static{this.\u0275fac=function(r){return new(r||n)(D(Ir),D(G4),D(qo),D(sr))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),EO=new G("nz_icons_patch"),CO=(()=>{class n{constructor(t){this.rootIconService=t,this.patched=!1,this.extraIcons=V(EO,{self:!0})}doPatch(){this.patched||(this.extraIcons.forEach(t=>this.rootIconService.addIcon(t)),this.patched=!0)}static{this.\u0275fac=function(r){return new(r||n)(D(bO))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),Ys=(()=>{class n extends oR{set nzSpin(t){this.spin=t}set nzType(t){this.type=t}set nzTheme(t){this.theme=t}set nzTwotoneColor(t){this.twoToneColor=t}set nzIconfont(t){this.iconfont=t}constructor(t,r,i,o,s){super(o,i,s),this.ngZone=t,this.changeDetectorRef=r,this.iconService=o,this.renderer=s,this.cacheClassName=null,this.nzRotate=0,this.spin=!1,this.destroy$=new oe;let a=V(CO,{optional:!0});a&&a.doPatch(),this.el=i.nativeElement}ngOnChanges(t){let{nzType:r,nzTwotoneColor:i,nzSpin:o,nzTheme:s,nzRotate:a}=t;r||i||o||s?this.changeIcon2():a?this.handleRotate(this.el.firstChild):this._setSVGElement(this.iconService.createIconfontIcon(`#${this.iconfont}`))}ngOnInit(){this.renderer.setAttribute(this.el,"class",`anticon ${this.el.className}`.trim())}ngAfterContentChecked(){if(!this.type){let t=this.el.children,r=t.length;if(!this.type&&t.length)for(;r--;){let i=t[r];i.tagName.toLowerCase()==="svg"&&this.iconService.normalizeSvgElement(i)}}}ngOnDestroy(){this.destroy$.next()}changeIcon2(){this.setClassName(),this.ngZone.runOutsideAngular(()=>{Le(this._changeIcon()).pipe(lt(this.destroy$)).subscribe({next:t=>{this.ngZone.run(()=>{this.changeDetectorRef.detectChanges(),t&&(this.setSVGData(t),this.handleSpin(t),this.handleRotate(t))})},error:s3})})}handleSpin(t){this.spin||this.type==="loading"?this.renderer.addClass(t,"anticon-spin"):this.renderer.removeClass(t,"anticon-spin")}handleRotate(t){this.nzRotate?this.renderer.setAttribute(t,"style",`transform: rotate(${this.nzRotate}deg)`):this.renderer.removeAttribute(t,"style")}setClassName(){this.cacheClassName&&this.renderer.removeClass(this.el,this.cacheClassName),this.cacheClassName=`anticon-${this.type}`,this.renderer.addClass(this.el,this.cacheClassName)}setSVGData(t){this.renderer.setAttribute(t,"data-icon",this.type),this.renderer.setAttribute(t,"aria-hidden","true")}static{this.\u0275fac=function(r){return new(r||n)(H(he),H(Qt),H(ke),H(bO),H(Jn))}}static{this.\u0275dir=He({type:n,selectors:[["","nz-icon",""]],hostVars:2,hostBindings:function(r,i){r&2&&on("anticon",!0)},inputs:{nzSpin:[be.HasDecoratorInputTransform,"nzSpin","nzSpin",bt],nzRotate:[be.HasDecoratorInputTransform,"nzRotate","nzRotate",k4],nzType:"nzType",nzTheme:"nzTheme",nzTwotoneColor:"nzTwotoneColor",nzIconfont:"nzIconfont"},exportAs:["nzIcon"],standalone:!0,features:[er,fr,Jt]})}}return n})(),qX=n=>di([{provide:_O,useValue:n}]),WX=n=>[CO,{provide:EO,useValue:n}],Il=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[qX(t)]}}static forChild(t){return{ngModule:n,providers:[WX(t)]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Me({})}}return n})();var p3=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},m3=class extends p3{constructor(e,t,r,i,o){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=o}},g3=class extends p3{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},yy=class extends p3{constructor(e){super(),this.element=e instanceof ke?e.nativeElement:e}},kh=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof m3)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof g3)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof yy)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Lh=class extends kh{constructor(e,t,r,i,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(e){let r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||Ft.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);i!==-1&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var O6e=(()=>{class n extends kh{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new Ke,this.attachDomPortal=o=>{this._document;let s=o.element;s.parentNode;let a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);let r=t.viewContainerRef!=null?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),s=r.createComponent(o,r.length,t.injector||r.injector,t.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=t,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(t){t.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){let t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static{this.\u0275fac=function(r){return new(r||n)(H(us),H(An),H(Ve))}}static{this.\u0275dir=He({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[be.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[fr]})}}return n})();var MO=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Me({})}}return n})();var xe=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(xe||{}),Zi="*";function yr(n,e){return{type:xe.Trigger,name:n,definitions:e,options:{}}}function at(n,e=null){return{type:xe.Animate,styles:e,timings:n}}function TO(n,e=null){return{type:xe.Sequence,steps:n,options:e}}function ye(n){return{type:xe.Style,styles:n,offset:null}}function wr(n,e,t){return{type:xe.State,name:n,styles:e,options:t}}function ft(n,e,t=null){return{type:xe.Transition,expr:n,animation:e,options:t}}function wy(n,e,t=null){return{type:xe.Query,selector:n,animation:e,options:t}}function _y(n,e){return{type:xe.Stagger,timings:n,animation:e}}var Qs=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},v3=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Fh="!";var On=(()=>{class n{static{this.SLOW="0.3s"}static{this.BASE="0.2s"}static{this.FAST="0.1s"}}return n})(),Un=(()=>{class n{static{this.EASE_BASE_OUT="cubic-bezier(0.7, 0.3, 0.1, 1)"}static{this.EASE_BASE_IN="cubic-bezier(0.9, 0, 0.3, 0.7)"}static{this.EASE_OUT="cubic-bezier(0.215, 0.61, 0.355, 1)"}static{this.EASE_IN="cubic-bezier(0.55, 0.055, 0.675, 0.19)"}static{this.EASE_IN_OUT="cubic-bezier(0.645, 0.045, 0.355, 1)"}static{this.EASE_OUT_BACK="cubic-bezier(0.12, 0.4, 0.29, 1.46)"}static{this.EASE_IN_BACK="cubic-bezier(0.71, -0.46, 0.88, 0.6)"}static{this.EASE_IN_OUT_BACK="cubic-bezier(0.71, -0.46, 0.29, 1.46)"}static{this.EASE_OUT_CIRC="cubic-bezier(0.08, 0.82, 0.17, 1)"}static{this.EASE_IN_CIRC="cubic-bezier(0.6, 0.04, 0.98, 0.34)"}static{this.EASE_IN_OUT_CIRC="cubic-bezier(0.78, 0.14, 0.15, 0.86)"}static{this.EASE_OUT_QUINT="cubic-bezier(0.23, 1, 0.32, 1)"}static{this.EASE_IN_QUINT="cubic-bezier(0.755, 0.05, 0.855, 0.06)"}static{this.EASE_IN_OUT_QUINT="cubic-bezier(0.86, 0, 0.07, 1)"}}return n})(),k6e=yr("collapseMotion",[wr("expanded",ye({height:"*"})),wr("collapsed",ye({height:0,overflow:"hidden"})),wr("hidden",ye({height:0,overflow:"hidden",borderTopWidth:"0"})),ft("expanded => collapsed",at(`150ms ${Un.EASE_IN_OUT}`)),ft("expanded => hidden",at(`150ms ${Un.EASE_IN_OUT}`)),ft("collapsed => expanded",at(`150ms ${Un.EASE_IN_OUT}`)),ft("hidden => expanded",at(`150ms ${Un.EASE_IN_OUT}`))]),L6e=yr("treeCollapseMotion",[ft("* => *",[wy("nz-tree-node:leave,nz-tree-builtin-node:leave",[ye({overflow:"hidden"}),_y(0,[at(`150ms ${Un.EASE_IN_OUT}`,ye({height:0,opacity:0,"padding-bottom":0}))])],{optional:!0}),wy("nz-tree-node:enter,nz-tree-builtin-node:enter",[ye({overflow:"hidden",height:0,opacity:0,"padding-bottom":0}),_y(0,[at(`150ms ${Un.EASE_IN_OUT}`,ye({overflow:"hidden",height:"*",opacity:"*","padding-bottom":"*"}))])],{optional:!0})])]),F6e=yr("drawerMaskMotion",[ft(":enter",[ye({opacity:0}),at(`${On.SLOW}`,ye({opacity:1}))]),ft(":leave",[ye({opacity:1}),at(`${On.SLOW}`,ye({opacity:0}))])]),H6e=yr("fadeMotion",[ft("* => enter",[ye({opacity:0}),at(`${On.BASE}`,ye({opacity:1}))]),ft("* => leave, :leave",[ye({opacity:1}),at(`${On.BASE}`,ye({opacity:0}))])]),B6e=yr("helpMotion",[ft(":enter",[ye({opacity:0,transform:"translateY(-5px)"}),at(`${On.SLOW} ${Un.EASE_IN_OUT}`,ye({opacity:1,transform:"translateY(0)"}))]),ft(":leave",[ye({opacity:1,transform:"translateY(0)"}),at(`${On.SLOW} ${Un.EASE_IN_OUT}`,ye({opacity:0,transform:"translateY(-5px)"}))])]),IO=yr("moveUpMotion",[ft("* => enter",[ye({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}),at(`${On.BASE}`,ye({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}))]),ft("* => leave",[ye({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}),at(`${On.BASE}`,ye({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}))])]),DO=yr("notificationMotion",[wr("enterRight",ye({opacity:1,transform:"translateX(0)"})),ft("* => enterRight",[ye({opacity:0,transform:"translateX(5%)"}),at("100ms linear")]),wr("enterLeft",ye({opacity:1,transform:"translateX(0)"})),ft("* => enterLeft",[ye({opacity:0,transform:"translateX(-5%)"}),at("100ms linear")]),wr("enterTop",ye({opacity:1,transform:"translateY(0)"})),ft("* => enterTop",[ye({opacity:0,transform:"translateY(-5%)"}),at("100ms linear")]),wr("enterBottom",ye({opacity:1,transform:"translateY(0)"})),ft("* => enterBottom",[ye({opacity:0,transform:"translateY(5%)"}),at("100ms linear")]),wr("leave",ye({opacity:0,transform:"scaleY(0.8)",transformOrigin:"0% 0%"})),ft("* => leave",[ye({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),at("100ms linear")])]),GX=`${On.BASE} ${Un.EASE_OUT_QUINT}`,YX=`${On.BASE} ${Un.EASE_IN_QUINT}`,j6e=yr("slideMotion",[wr("void",ye({opacity:0,transform:"scaleY(0.8)"})),wr("enter",ye({opacity:1,transform:"scaleY(1)"})),ft("void => *",[at(GX)]),ft("* => void",[at(YX)])]),U6e=yr("slideAlertMotion",[ft(":leave",[ye({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),at(`${On.SLOW} ${Un.EASE_IN_OUT_CIRC}`,ye({opacity:0,transform:"scaleY(0)",transformOrigin:"0% 0%"}))])]),$6e=yr("tabSwitchMotion",[wr("leave",ye({display:"none"})),ft("* => enter",[ye({display:"block",opacity:0}),at(On.SLOW)]),ft("* => leave, :leave",[ye({position:"absolute",top:0,left:0,width:"100%"}),at(On.SLOW,ye({opacity:0})),ye({display:"none"})])]),q6e=yr("thumbMotion",[wr("from",ye({transform:"translateX({{ transform }}px)",width:"{{ width }}px"}),{params:{transform:0,width:0}}),wr("to",ye({transform:"translateX({{ transform }}px)",width:"{{ width }}px"}),{params:{transform:100,width:0}}),ft("from => to",at(`300ms ${Un.EASE_IN_OUT}`))]),W6e=yr("zoomBigMotion",[ft("void => active",[ye({opacity:0,transform:"scale(0.8)"}),at(`${On.BASE} ${Un.EASE_OUT_CIRC}`,ye({opacity:1,transform:"scale(1)"}))]),ft("active => void",[ye({opacity:1,transform:"scale(1)"}),at(`${On.BASE} ${Un.EASE_IN_OUT_CIRC}`,ye({opacity:0,transform:"scale(0.8)"}))])]),G6e=yr("zoomBadgeMotion",[ft(":enter",[ye({opacity:0,transform:"scale(0) translate(50%, -50%)"}),at(`${On.SLOW} ${Un.EASE_OUT_BACK}`,ye({opacity:1,transform:"scale(1) translate(50%, -50%)"}))]),ft(":leave",[ye({opacity:1,transform:"scale(1) translate(50%, -50%)"}),at(`${On.SLOW} ${Un.EASE_IN_BACK}`,ye({opacity:0,transform:"scale(0) translate(50%, -50%)"}))])]);var Hh=(()=>{class n{static ngTemplateContextGuard(t,r){return!0}recreateView(){this.viewContainer.clear();let t=this.nzStringTemplateOutlet instanceof Zt,r=t?this.nzStringTemplateOutlet:this.templateRef;this.embeddedViewRef=this.viewContainer.createEmbeddedView(r,t?this.nzStringTemplateOutletContext:this.context)}updateContext(){let r=this.nzStringTemplateOutlet instanceof Zt?this.nzStringTemplateOutletContext:this.context,i=this.embeddedViewRef.context;if(r)for(let o of Object.keys(r))i[o]=r[o]}constructor(t,r){this.viewContainer=t,this.templateRef=r,this.embeddedViewRef=null,this.context=new by,this.nzStringTemplateOutletContext=null,this.nzStringTemplateOutlet=null}ngOnChanges(t){let{nzStringTemplateOutletContext:r,nzStringTemplateOutlet:i}=t,o=()=>{let a=!1;if(i)if(i.firstChange)a=!0;else{let h=i.previousValue instanceof Zt,d=i.currentValue instanceof Zt;a=h||d}return r&&(h=>{let d=Object.keys(h.previousValue||{}),m=Object.keys(h.currentValue||{});if(d.length===m.length){for(let g of m)if(d.indexOf(g)===-1)return!0;return!1}else return!0})(r)||a};i&&(this.context.$implicit=i.currentValue),o()?this.recreateView():this.updateContext()}static{this.\u0275fac=function(r){return new(r||n)(H(An),H(Zt))}}static{this.\u0275dir=He({type:n,selectors:[["","nzStringTemplateOutlet",""]],inputs:{nzStringTemplateOutletContext:"nzStringTemplateOutletContext",nzStringTemplateOutlet:"nzStringTemplateOutlet"},exportAs:["nzStringTemplateOutlet"],standalone:!0,features:[Jt]})}}return n})(),by=class{},Bh=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Me({})}}return n})();var xO=["moz","ms","webkit"];function QX(){let n=0;return function(e){let t=new Date().getTime(),r=Math.max(0,16-(t-n)),i=window.setTimeout(()=>{e(t+r)},r);return n=t+r,i}}function KX(){if(typeof window>"u")return()=>0;if(window.requestAnimationFrame)return window.requestAnimationFrame.bind(window);let n=xO.filter(e=>`${e}RequestAnimationFrame`in window)[0];return n?window[`${n}RequestAnimationFrame`]:QX()}function J6e(n){if(typeof window>"u")return null;if(window.cancelAnimationFrame)return window.cancelAnimationFrame(n);let e=xO.filter(t=>`${t}CancelAnimationFrame`in window||`${t}CancelRequestAnimationFrame`in window)[0];return e?(window[`${e}CancelAnimationFrame`]||window[`${e}CancelRequestAnimationFrame`]).call(this,n):clearTimeout(n)}var Ey=KX();var AO=new Set,fc,Cy=(()=>{class n{constructor(t,r){this._platform=t,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ZX}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&XX(t,this._nonce),this._matchMedia(t)}static{this.\u0275fac=function(r){return new(r||n)(D(sr),D(bo,8))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function XX(n,e){if(!AO.has(n))try{fc||(fc=document.createElement("style"),e&&fc.setAttribute("nonce",e),fc.setAttribute("type","text/css"),document.head.appendChild(fc)),fc.sheet&&(fc.sheet.insertRule(`@media ${n} {body{ }}`,0),AO.add(n))}catch(t){console.error(t)}}function ZX(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var l8e=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new oe}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return zO(Ml(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let i=zO(Ml(t)).map(s=>this._registerQuery(s).observable),o=la(i);return o=Ai(o.pipe(Lt(1)),o.pipe(Af(1),If(0))),o.pipe(ce(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let r=this._mediaMatcher.matchMedia(t),o={observable:new Ee(s=>{let a=c=>this._zone.run(()=>s.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(Cn(r),ce(({matches:s})=>({query:t,matches:s})),lt(this._destroySubject)),mql:r};return this._queries.set(t,o),o}static{this.\u0275fac=function(r){return new(r||n)(D(Cy),D(he))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function zO(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}var My=()=>{},eZ=(()=>{class n{constructor(t,r){this.ngZone=t,this.rendererFactory2=r,this.resizeSource$=new oe,this.listeners=0,this.disposeHandle=My,this.handler=()=>{this.ngZone.run(()=>{this.resizeSource$.next()})},this.renderer=this.rendererFactory2.createRenderer(null,null)}ngOnDestroy(){this.handler=My}subscribe(){return this.registerListener(),this.resizeSource$.pipe(ua(16),Cr(()=>this.unregisterListener()))}unsubscribe(){this.unregisterListener()}registerListener(){this.listeners===0&&this.ngZone.runOutsideAngular(()=>{this.disposeHandle=this.renderer.listen("window","resize",this.handler)}),this.listeners+=1}unregisterListener(){this.listeners-=1,this.listeners===0&&(this.disposeHandle(),this.disposeHandle=My)}static{this.\u0275fac=function(r){return new(r||n)(D(he),D(Ir))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),tZ=new Map,jh=(()=>{class n{constructor(){this._singletonRegistry=new Map}get singletonRegistry(){return Dh.isTestMode?tZ:this._singletonRegistry}registerSingletonWithKey(t,r){let i=this.singletonRegistry.has(t),o=i?this.singletonRegistry.get(t):this.withNewTarget(r);i||this.singletonRegistry.set(t,o)}unregisterSingletonWithKey(t){this.singletonRegistry.has(t)&&this.singletonRegistry.delete(t)}getSingletonWithKey(t){return this.singletonRegistry.has(t)?this.singletonRegistry.get(t).target:null}withNewTarget(t){return{target:t}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function nZ(n,e,t,r){let i=t-e,o=n/(r/2);return o<1?i/2*o*o*o+e:i/2*((o-=2)*o*o+2)+e}var v8e=(()=>{class n{constructor(t){this.ngZone=t,this.doc=V(Ve)}setScrollTop(t,r=0){t===window?(this.doc.body.scrollTop=r,this.doc.documentElement.scrollTop=r):t.scrollTop=r}getOffset(t){let r={top:0,left:0};if(!t||!t.getClientRects().length)return r;let i=t.getBoundingClientRect();if(i.width||i.height){let o=t.ownerDocument.documentElement;r.top=i.top-o.clientTop,r.left=i.left-o.clientLeft}else r.top=i.top,r.left=i.left;return r}getScroll(t,r=!0){if(typeof window>"u")return 0;let i=r?"scrollTop":"scrollLeft",o=0;return this.isWindow(t)?o=t[r?"pageYOffset":"pageXOffset"]:t instanceof Document?o=t.documentElement[i]:t&&(o=t[i]),t&&!this.isWindow(t)&&typeof o!="number"&&(o=(t.ownerDocument||t).documentElement[i]),o}isWindow(t){return t!=null&&t===t.window}scrollTo(t,r=0,i={}){let o=t||window,s=this.getScroll(o),a=Date.now(),{easing:c,callback:l,duration:h=450}=i,d=()=>{let g=Date.now()-a,y=(c||nZ)(g>h?h:g,s,r,h);this.isWindow(o)?o.scrollTo(window.pageXOffset,y):o instanceof HTMLDocument||o.constructor.name==="HTMLDocument"?o.documentElement.scrollTop=y:o.scrollTop=y,g<h?Ey(d):typeof l=="function"&&this.ngZone.run(l)};this.ngZone.runOutsideAngular(()=>Ey(d))}static{this.\u0275fac=function(r){return new(r||n)(D(he))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),RO=function(n){return n.xxl="xxl",n.xl="xl",n.lg="lg",n.md="md",n.sm="sm",n.xs="xs",n}(RO||{}),rZ={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},y8e={xs:"(max-width: 479.98px)",sm:"(max-width: 575.98px)",md:"(max-width: 767.98px)",lg:"(max-width: 991.98px)",xl:"(max-width: 1199.98px)",xxl:"(max-width: 1599.98px)"},w8e=(()=>{class n{constructor(t,r){this.resizeService=t,this.mediaMatcher=r,this.destroy$=new oe,this.resizeService.subscribe().pipe(lt(this.destroy$)).subscribe(()=>{})}ngOnDestroy(){this.destroy$.next()}subscribe(t,r){if(r){let i=()=>this.matchMedia(t,!0);return this.resizeService.subscribe().pipe(ce(i),Cn(i()),ns((o,s)=>o[0]===s[0]),ce(o=>o[1]))}else{let i=()=>this.matchMedia(t);return this.resizeService.subscribe().pipe(ce(i),Cn(i()),ns())}}matchMedia(t,r){let i=RO.md,o={};return Object.keys(t).map(s=>{let a=s,c=this.mediaMatcher.matchMedia(rZ[a]).matches;o[s]=c,c&&(i=a)}),r?[i,o]:i}static{this.\u0275fac=function(r){return new(r||n)(D(eZ),D(Cy))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Uh=(()=>{class n extends oe{ngOnDestroy(){this.next(),this.complete()}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=h1(n)))(i||n)}})()}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})();var iZ=new G("cdk-dir-doc",{providedIn:"root",factory:oZ});function oZ(){return V(Ve)}var sZ=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function aZ(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?sZ.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Ji=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new Ke,t){let r=t.body?t.body.dir:null,i=t.documentElement?t.documentElement.dir:null;this.value=aZ(r||i||"ltr")}}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(r){return new(r||n)(D(iZ,8))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var y3=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Me({})}}return n})();var Dy=class{};function OO(n){return n&&typeof n.connect=="function"&&!(n instanceof Jo)}var $h=class extends Dy{constructor(e){super(),this._data=e}connect(){return oo(this._data)?this._data:te(this._data)}disconnect(){}},w3=function(n){return n[n.REPLACED=0]="REPLACED",n[n.INSERTED=1]="INSERTED",n[n.MOVED=2]="MOVED",n[n.REMOVED=3]="REMOVED",n}(w3||{}),Sy=new G("_ViewRepeater");var qh=class{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(e,t,r,i,o){e.forEachOperation((s,a,c)=>{let l,h;if(s.previousIndex==null){let d=()=>r(s,a,c);l=this._insertView(d,c,t,i(s)),h=l?w3.INSERTED:w3.REPLACED}else c==null?(this._detachAndCacheView(a,t),h=w3.REMOVED):(l=this._moveView(a,c,t,i(s)),h=w3.MOVED);o&&o({context:l?.context,operation:h,record:s})})}detach(){for(let e of this._viewCache)e.destroy();this._viewCache=[]}_insertView(e,t,r,i){let o=this._insertViewFromCache(t,r);if(o){o.context.$implicit=i;return}let s=e();return r.createEmbeddedView(s.templateRef,s.context,s.index)}_detachAndCacheView(e,t){let r=t.detach(e);this._maybeCacheView(r,t)}_moveView(e,t,r,i){let o=r.get(e);return r.move(o,t),o.context.$implicit=i,o}_maybeCacheView(e,t){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(e);else{let r=t.indexOf(e);r===-1?e.destroy():t.remove(r)}}_insertViewFromCache(e,t){let r=this._viewCache.pop();return r&&t.insert(r,e),r||null}};var cZ=["contentWrapper"],lZ=["*"],kO=new G("VIRTUAL_SCROLL_STRATEGY"),xy=class{constructor(e,t,r){this._scrolledIndexChange=new oe,this.scrolledIndexChange=this._scrolledIndexChange.pipe(ns()),this._viewport=null,this._itemSize=e,this._minBufferPx=t,this._maxBufferPx=r}attach(e){this._viewport=e,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(e,t,r){r<t,this._itemSize=e,this._minBufferPx=t,this._maxBufferPx=r,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(e,t){this._viewport&&this._viewport.scrollToOffset(e*this._itemSize,t)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;let e=this._viewport.getRenderedRange(),t={start:e.start,end:e.end},r=this._viewport.getViewportSize(),i=this._viewport.getDataLength(),o=this._viewport.measureScrollOffset(),s=this._itemSize>0?o/this._itemSize:0;if(t.end>i){let c=Math.ceil(r/this._itemSize),l=Math.max(0,Math.min(s,i-c));s!=l&&(s=l,o=l*this._itemSize,t.start=Math.floor(s)),t.end=Math.max(0,Math.min(i,t.start+c))}let a=o-t.start*this._itemSize;if(a<this._minBufferPx&&t.start!=0){let c=Math.ceil((this._maxBufferPx-a)/this._itemSize);t.start=Math.max(0,t.start-c),t.end=Math.min(i,Math.ceil(s+(r+this._minBufferPx)/this._itemSize))}else{let c=t.end*this._itemSize-(o+r);if(c<this._minBufferPx&&t.end!=i){let l=Math.ceil((this._maxBufferPx-c)/this._itemSize);l>0&&(t.end=Math.min(i,t.end+l),t.start=Math.max(0,Math.floor(s-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(t),this._viewport.setRenderedContentOffset(this._itemSize*t.start),this._scrolledIndexChange.next(Math.floor(s))}};function uZ(n){return n._scrollStrategy}var X8e=(()=>{class n{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new xy(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=hc(t)}get minBufferPx(){return this._minBufferPx}set minBufferPx(t){this._minBufferPx=hc(t)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(t){this._maxBufferPx=hc(t)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=He({type:n,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},standalone:!0,features:[ms([{provide:kO,useFactory:uZ,deps:[Tu(()=>n)]}]),Jt]})}}return n})(),hZ=20,Dl=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new oe,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=hZ){return this._platform.isBrowser?new Ee(r=>{this._globalSubscription||this._addGlobalListener();let i=t>0?this._scrolled.pipe(ua(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):te()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){let i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(We(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){let r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=uO(r),o=t.getElementRef().nativeElement;do if(i==o)return!0;while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let t=this._getWindow();return es(t.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(r){return new(r||n)(D(he),D(sr),D(Ve,8))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ay=(()=>{class n{constructor(t,r,i,o){this.elementRef=t,this.scrollDispatcher=r,this.ngZone=i,this.dir=o,this._destroyed=new oe,this._elementScrolled=new Ee(s=>this.ngZone.runOutsideAngular(()=>es(this.elementRef.nativeElement,"scroll").pipe(lt(this._destroyed)).subscribe(s)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){let r=this.elementRef.nativeElement,i=this.dir&&this.dir.value=="rtl";t.left==null&&(t.left=i?t.end:t.start),t.right==null&&(t.right=i?t.start:t.end),t.bottom!=null&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),i&&Tl()!=Ci.NORMAL?(t.left!=null&&(t.right=r.scrollWidth-r.clientWidth-t.left),Tl()==Ci.INVERTED?t.left=t.right:Tl()==Ci.NEGATED&&(t.left=t.right?-t.right:t.right)):t.right!=null&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){let r=this.elementRef.nativeElement;Nh()?r.scrollTo(t):(t.top!=null&&(r.scrollTop=t.top),t.left!=null&&(r.scrollLeft=t.left))}measureScrollOffset(t){let r="left",i="right",o=this.elementRef.nativeElement;if(t=="top")return o.scrollTop;if(t=="bottom")return o.scrollHeight-o.clientHeight-o.scrollTop;let s=this.dir&&this.dir.value=="rtl";return t=="start"?t=s?i:r:t=="end"&&(t=s?r:i),s&&Tl()==Ci.INVERTED?t==r?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&Tl()==Ci.NEGATED?t==r?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==r?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static{this.\u0275fac=function(r){return new(r||n)(H(ke),H(Dl),H(he),H(Ji,8))}}static{this.\u0275dir=He({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}}return n})(),dZ=20,_3=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new oe,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect(),s=-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,a=-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0;return{top:s,left:a}}change(t=dZ){return t>0?this._change.pipe(ua(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(r){return new(r||n)(D(sr),D(he),D(Ve,8))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),NO=new G("VIRTUAL_SCROLLABLE"),fZ=(()=>{class n extends Ay{constructor(t,r,i,o){super(t,r,i,o)}measureViewportSize(t){let r=this.elementRef.nativeElement;return t==="horizontal"?r.clientWidth:r.clientHeight}static{this.\u0275fac=function(r){return new(r||n)(H(ke),H(Dl),H(he),H(Ji,8))}}static{this.\u0275dir=He({type:n,features:[fr]})}}return n})();function pZ(n,e){return n.start==e.start&&n.end==e.end}var mZ=typeof requestAnimationFrame<"u"?Mf:bf,gZ=(()=>{class n extends fZ{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}constructor(t,r,i,o,s,a,c,l){super(t,a,i,s),this.elementRef=t,this._changeDetectorRef=r,this._scrollStrategy=o,this.scrollable=l,this._platform=V(sr),this._detachedSubject=new oe,this._renderedRangeSubject=new oe,this._orientation="vertical",this.appendOnly=!1,this.scrolledIndexChange=new Ee(h=>this._scrollStrategy.scrolledIndexChange.subscribe(d=>Promise.resolve().then(()=>this.ngZone.run(()=>h.next(d))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Je.EMPTY,this._injector=V(Ft),this._isDestroyed=!1,this._viewportChanges=c.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(Cn(null),ua(0,mZ),lt(this._destroyed)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),this._isDestroyed=!0,super.ngOnDestroy()}attach(t){this._forOf,this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(lt(this._detachedSubject)).subscribe(r=>{let i=r.length;i!==this._dataLength&&(this._dataLength=i,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){pZ(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,r="to-start"){t=this.appendOnly&&r==="to-start"?0:t;let i=this.dir&&this.dir.value=="rtl",o=this.orientation=="horizontal",s=o?"X":"Y",c=`translate${s}(${Number((o&&i?-1:1)*t)}px)`;this._renderedContentOffset=t,r==="to-end"&&(c+=` translate${s}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=c&&(this._renderedContentTransform=c,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,r="auto"){let i={behavior:r};this.orientation==="horizontal"?i.start=t:i.top=t,this.scrollable.scrollTo(i)}scrollToIndex(t,r="auto"){this._scrollStrategy.scrollToIndex(t,r)}measureScrollOffset(t){let r;return this.scrollable==this?r=i=>super.measureScrollOffset(i):r=i=>this.scrollable.measureScrollOffset(i),Math.max(0,r(t??(this.orientation==="horizontal"?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let r,i="left",o="right",s=this.dir?.value=="rtl";t=="start"?r=s?o:i:t=="end"?r=s?i:o:t?r=t:r=this.orientation==="horizontal"?"left":"top";let a=this.scrollable.measureBoundingClientRectWithScrollOffset(r);return this.elementRef.nativeElement.getBoundingClientRect()[r]-a}measureRenderedContentSize(){let t=this._contentWrapper.nativeElement;return this.orientation==="horizontal"?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isDestroyed||this.ngZone.run(()=>{this._changeDetectorRef.markForCheck(),this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,hs(()=>{this._isChangeDetectionPending=!1;let t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(let r of t)r()},{injector:this._injector})})}_calculateSpacerSize(){this._totalContentHeight=this.orientation==="horizontal"?"":`${this._totalContentSize}px`,this._totalContentWidth=this.orientation==="horizontal"?`${this._totalContentSize}px`:""}static{this.\u0275fac=function(r){return new(r||n)(H(ke),H(Qt),H(he),H(kO,8),H(Ji,8),H(Dl),H(_3),H(NO,8))}}static{this.\u0275cmp=Dr({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(r,i){if(r&1&&pT(cZ,7),r&2){let o;v1(o=y1())&&(i._contentWrapper=o.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(r,i){r&2&&on("cdk-virtual-scroll-orientation-horizontal",i.orientation==="horizontal")("cdk-virtual-scroll-orientation-vertical",i.orientation!=="horizontal")},inputs:{orientation:"orientation",appendOnly:[be.HasDecoratorInputTransform,"appendOnly","appendOnly",bt]},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[ms([{provide:Ay,useFactory:(t,r)=>t||r,deps:[[new vo,new OE(NO)],n]}]),er,fr,Or],ngContentSelectors:lZ,decls:4,vars:4,consts:[["contentWrapper",""],[1,"cdk-virtual-scroll-content-wrapper"],[1,"cdk-virtual-scroll-spacer"]],template:function(r,i){r&1&&(O4(),ut(0,"div",1,0),N4(2),It(),Bt(3,"div",2)),r&2&&(nt(3),Rr("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0})}}return n})();function PO(n,e,t){let r=t;if(!r.getBoundingClientRect)return 0;let i=r.getBoundingClientRect();return n==="horizontal"?e==="start"?i.left:i.right:e==="start"?i.top:i.bottom}var Z8e=(()=>{class n{get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(t){this._cdkVirtualForOf=t,OO(t)?this._dataSourceChanges.next(t):this._dataSourceChanges.next(new $h(oo(t)?t:Array.from(t||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(t){this._needsUpdate=!0,this._cdkVirtualForTrackBy=t?(r,i)=>t(r+(this._renderedRange?this._renderedRange.start:0),i):void 0}set cdkVirtualForTemplate(t){t&&(this._needsUpdate=!0,this._template=t)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(t){this._viewRepeater.viewCacheSize=hc(t)}constructor(t,r,i,o,s,a){this._viewContainerRef=t,this._template=r,this._differs=i,this._viewRepeater=o,this._viewport=s,this.viewChange=new oe,this._dataSourceChanges=new oe,this.dataStream=this._dataSourceChanges.pipe(Cn(null),da(),ct(([c,l])=>this._changeDataSource(c,l)),Yc(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new oe,this.dataStream.subscribe(c=>{this._data=c,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(lt(this._destroyed)).subscribe(c=>{this._renderedRange=c,this.viewChange.observers.length&&a.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}measureRangeSize(t,r){if(t.start>=t.end)return 0;t.start<this._renderedRange.start||t.end>this._renderedRange.end;let i=t.start-this._renderedRange.start,o=t.end-t.start,s,a;for(let c=0;c<o;c++){let l=this._viewContainerRef.get(c+i);if(l&&l.rootNodes.length){s=a=l.rootNodes[0];break}}for(let c=o-1;c>-1;c--){let l=this._viewContainerRef.get(c+i);if(l&&l.rootNodes.length){a=l.rootNodes[l.rootNodes.length-1];break}}return s&&a?PO(r,"end",a)-PO(r,"start",s):0}ngDoCheck(){if(this._differ&&this._needsUpdate){let t=this._differ.diff(this._renderedItems);t?this._applyChanges(t):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((t,r)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(t,r):r)),this._needsUpdate=!0)}_changeDataSource(t,r){return t&&t.disconnect(this),this._needsUpdate=!0,r?r.connect(this):te()}_updateContext(){let t=this._data.length,r=this._viewContainerRef.length;for(;r--;){let i=this._viewContainerRef.get(r);i.context.index=this._renderedRange.start+r,i.context.count=t,this._updateComputedContextProperties(i.context),i.detectChanges()}}_applyChanges(t){this._viewRepeater.applyChanges(t,this._viewContainerRef,(o,s,a)=>this._getEmbeddedViewArgs(o,a),o=>o.item),t.forEachIdentityChange(o=>{let s=this._viewContainerRef.get(o.currentIndex);s.context.$implicit=o.item});let r=this._data.length,i=this._viewContainerRef.length;for(;i--;){let o=this._viewContainerRef.get(i);o.context.index=this._renderedRange.start+i,o.context.count=r,this._updateComputedContextProperties(o.context)}}_updateComputedContextProperties(t){t.first=t.index===0,t.last=t.index===t.count-1,t.even=t.index%2===0,t.odd=!t.even}_getEmbeddedViewArgs(t,r){return{templateRef:this._template,context:{$implicit:t.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:r}}static{this.\u0275fac=function(r){return new(r||n)(H(An),H(Zt),H(V4),H(Sy),H(gZ,4),H(he))}}static{this.\u0275dir=He({type:n,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},standalone:!0,features:[ms([{provide:Sy,useClass:qh}])]})}}return n})();var VO=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Me({})}}return n})(),zy=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Me({imports:[y3,VO,y3,VO]})}}return n})();function LO(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var FO=Nh(),Ry=class{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=qt(-this._previousScrollPosition.left),e.style.top=qt(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,t=this._document.body,r=e.style,i=t.style,o=r.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),FO&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),FO&&(r.scrollBehavior=o,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}};var Oy=class{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(We(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Wh=class{enable(){}disable(){}attach(){}};function Ny(n,e){return e.some(t=>{let r=n.bottom<t.top,i=n.top>t.bottom,o=n.right<t.left,s=n.left>t.right;return r||i||o||s})}function HO(n,e){return e.some(t=>{let r=n.top<t.top,i=n.bottom>t.bottom,o=n.left<t.left,s=n.right>t.right;return r||i||o||s})}var Py=class{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();Ny(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},wZ=(()=>{class n{constructor(t,r,i,o){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new Wh,this.close=s=>new Oy(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new Ry(this._viewportRuler,this._document),this.reposition=s=>new Py(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static{this.\u0275fac=function(r){return new(r||n)(D(Dl),D(_3),D(he),D(Ve))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Gh=class{constructor(e){if(this.scrollStrategy=new Wh,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let t=Object.keys(e);for(let r of t)e[r]!==void 0&&(this[r]=e[r])}}},Pt=class{constructor(e,t,r,i,o){this.offsetX=r,this.offsetY=i,this.panelClass=o,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}};var Vy=class{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}};var WO=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}static{this.\u0275fac=function(r){return new(r||n)(D(Ve))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_Z=(()=>{class n extends WO{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{let o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){let a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(r){return new(r||n)(D(Ve),D(he,8))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),bZ=(()=>{class n extends WO{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Ph(o)},this._clickListener=o=>{let s=Ph(o),a=o.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;let c=this._attachedOverlays.slice();for(let l=c.length-1;l>-1;l--){let h=c[l];if(h._outsidePointerEvents.observers.length<1||!h.hasAttached())continue;if(BO(h.overlayElement,s)||BO(h.overlayElement,a))break;let d=h._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(o)):d.next(o)}}}add(t){if(super.add(t),!this._isAttached){let r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(r){return new(r||n)(D(Ve),D(sr),D(he,8))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function BO(n,e){let t=typeof ShadowRoot<"u"&&ShadowRoot,r=e;for(;r;){if(r===n)return!0;r=t&&r instanceof ShadowRoot?r.host:r.parentNode}return!1}var GO=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||gy()){let i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}let r=this._document.createElement("div");r.classList.add(t),gy()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}static{this.\u0275fac=function(r){return new(r||n)(D(Ve),D(sr))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ky=class{constructor(e,t,r,i,o,s,a,c,l,h=!1,d){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=h,this._injector=d,this._backdropElement=null,this._backdropClick=new oe,this._attachments=new oe,this._detachments=new oe,this._locationChanges=Je.EMPTY,this._backdropClickHandler=m=>this._backdropClick.next(m),this._backdropTransitionendHandler=m=>{this._disposeBackdrop(m.target)},this._keydownEvents=new oe,this._outsidePointerEvents=new oe,this._renders=new oe,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy,this._afterRenderRef=L4(()=>J7(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=hs(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=q(q({},this._config),e),this._updateElementSize()}setDirection(e){this._config=qe(q({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=qt(this._config.width),e.height=qt(this._config.height),e.minWidth=qt(this._config.minWidth),e.minHeight=qt(this._config.minHeight),e.maxWidth=qt(this._config.maxWidth),e.maxHeight=qt(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){let i=Ml(t||[]).filter(o=>!!o);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let e=this._renders.pipe(lt(r4(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},jO="cdk-overlay-connected-position-bounding-box",EZ=/([A-Za-z%]+)$/,Ly=class{get positions(){return this._preferredPositions}constructor(e,t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new oe,this._resizeSubscription=Je.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(jO),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[],s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,i,a),l=this._getOverlayPoint(c,t,a),h=this._getOverlayFit(l,t,r,a);if(h.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,c);return}if(this._canFitWithFlexibleDimensions(h,l,r)){o.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)});continue}(!s||s.overlayFit.visibleArea<h.visibleArea)&&(s={overlayFit:h,overlayPoint:l,originPoint:c,position:a,overlayRect:t})}if(o.length){let a=null,c=-1;for(let l of o){let h=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);h>c&&(c=h,a=l)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&pc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(jO),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i;if(r.originX=="center")i=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i=r.originX=="start"?s:a}t.left<0&&(i-=t.left);let o;return r.originY=="center"?o=e.top+e.height/2:o=r.originY=="top"?e.top:e.bottom,t.top<0&&(o-=t.top),{x:i,y:o}}_getOverlayPoint(e,t,r){let i;r.overlayX=="center"?i=-t.width/2:r.overlayX==="start"?i=this._isRtl()?-t.width:0:i=this._isRtl()?0:-t.width;let o;return r.overlayY=="center"?o=-t.height/2:o=r.overlayY=="top"?0:-t.height,{x:e.x+i,y:e.y+o}}_getOverlayFit(e,t,r,i){let o=$O(t),{x:s,y:a}=e,c=this._getOffset(i,"x"),l=this._getOffset(i,"y");c&&(s+=c),l&&(a+=l);let h=0-s,d=s+o.width-r.width,m=0-a,g=a+o.height-r.height,y=this._subtractOverflows(o.width,h,d),_=this._subtractOverflows(o.height,m,g),M=y*_;return{visibleArea:M,isCompletelyWithinViewport:o.width*o.height===M,fitsInViewportVertically:_===o.height,fitsInViewportHorizontally:y==o.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){let i=r.bottom-t.y,o=r.right-t.x,s=UO(this._overlayRef.getConfig().minHeight),a=UO(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportVertically||s!=null&&s<=i,l=e.fitsInViewportHorizontally||a!=null&&a<=o;return c&&l}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let i=$O(t),o=this._viewportRect,s=Math.max(e.x+i.width-o.width,0),a=Math.max(e.y+i.height-o.height,0),c=Math.max(o.top-r.top-e.y,0),l=Math.max(o.left-r.left-e.x,0),h=0,d=0;return i.width<=o.width?h=l||-s:h=e.x<this._viewportMargin?o.left-r.left-e.x:0,i.height<=o.height?d=c||-a:d=e.y<this._viewportMargin?o.top-r.top-e.y:0,this._previousPushAmount={x:h,y:d},{x:e.x+h,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let r=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!CZ(this._lastScrollVisibility,r)){let i=new Vy(e,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),r,i=e.overlayY;e.overlayX==="center"?r="center":this._isRtl()?r=e.overlayX==="start"?"right":"left":r=e.overlayX==="start"?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){let r=this._viewportRect,i=this._isRtl(),o,s,a;if(t.overlayY==="top")s=e.y,o=r.height-s+this._viewportMargin;else if(t.overlayY==="bottom")a=r.height-e.y+this._viewportMargin*2,o=r.height-a+this._viewportMargin;else{let g=Math.min(r.bottom-e.y+r.top,e.y),y=this._lastBoundingBoxSize.height;o=g*2,s=e.y-g,o>y&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-y/2)}let c=t.overlayX==="start"&&!i||t.overlayX==="end"&&i,l=t.overlayX==="end"&&!i||t.overlayX==="start"&&i,h,d,m;if(l)m=r.width-e.x+this._viewportMargin*2,h=e.x-this._viewportMargin;else if(c)d=e.x,h=r.right-e.x;else{let g=Math.min(r.right-e.x+r.left,e.x),y=this._lastBoundingBoxSize.width;h=g*2,d=e.x-g,h>y&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-y/2)}return{top:s,left:d,bottom:a,right:m,width:h,height:o}}_setBoundingBoxStyles(e,t){let r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));let i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.height=qt(r.height),i.top=qt(r.top),i.bottom=qt(r.bottom),i.width=qt(r.width),i.left=qt(r.left),i.right=qt(r.right),t.overlayX==="center"?i.alignItems="center":i.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?i.justifyContent="center":i.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",o&&(i.maxHeight=qt(o)),s&&(i.maxWidth=qt(s))}this._lastBoundingBoxSize=r,pc(this._boundingBox.style,i)}_resetBoundingBoxStyles(){pc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){pc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){let r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){let h=this._viewportRuler.getViewportScrollPosition();pc(r,this._getExactOverlayY(t,e,h)),pc(r,this._getExactOverlayX(t,e,h))}else r.position="static";let a="",c=this._getOffset(t,"x"),l=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),r.transform=a.trim(),s.maxHeight&&(i?r.maxHeight=qt(s.maxHeight):o&&(r.maxHeight="")),s.maxWidth&&(i?r.maxWidth=qt(s.maxWidth):o&&(r.maxWidth="")),pc(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;i.bottom=`${s-(o.y+this._overlayRect.height)}px`}else i.top=qt(o.y);return i}_getExactOverlayX(e,t,r){let i={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;i.right=`${a-(o.x+this._overlayRect.width)}px`}else i.left=qt(o.x);return i}_getScrollVisibility(){let e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:HO(e,r),isOriginOutsideView:Ny(e,r),isOverlayClipped:HO(t,r),isOverlayOutsideView:Ny(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return t==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Ml(e).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof ke)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}};function pc(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function UO(n){if(typeof n!="number"&&n!=null){let[e,t]=n.split(EZ);return!t||t==="px"?parseFloat(e):null}return n||null}function $O(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function CZ(n,e){return n===e?!0:n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}var qO="cdk-global-overlay-wrapper",Fy=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(qO),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:s,maxHeight:a}=r,c=(i==="100%"||i==="100vw")&&(!s||s==="100%"||s==="100vw"),l=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),h=this._xPosition,d=this._xOffset,m=this._overlayRef.getConfig().direction==="rtl",g="",y="",_="";c?_="flex-start":h==="center"?(_="center",m?y=d:g=d):m?h==="left"||h==="end"?(_="flex-end",g=d):(h==="right"||h==="start")&&(_="flex-start",y=d):h==="left"||h==="start"?(_="flex-start",g=d):(h==="right"||h==="end")&&(_="flex-end",y=d),e.position=this._cssPosition,e.marginLeft=c?"0":g,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":y,t.justifyContent=_,t.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(qO),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},MZ=(()=>{class n{constructor(t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o}global(){return new Fy}flexibleConnectedTo(t){return new Ly(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(r){return new(r||n)(D(_3),D(Ve),D(sr),D(GO))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),TZ=0,Ks=(()=>{class n{constructor(t,r,i,o,s,a,c,l,h,d,m,g){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=c,this._document=l,this._directionality=h,this._location=d,this._outsideClickDispatcher=m,this._animationsModuleType=g}create(t){let r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),s=new Gh(t);return s.direction=s.direction||this._directionality.value,new ky(o,r,i,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(vn))}position(){return this._positionBuilder}_createPaneElement(t){let r=this._document.createElement("div");return r.id=`cdk-overlay-${TZ++}`,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){let t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(fi)),new Lh(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(r){return new(r||n)(D(wZ),D(GO),D(us),D(MZ),D(_Z),D(Ft),D(he),D(Ve),D(Ji),D(gs),D(bZ),D(Li,8))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),IZ=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],YO=new G("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let n=V(Ks);return()=>n.scrollStrategies.reposition()}}),Yh=(()=>{class n{constructor(t){this.elementRef=t}static{this.\u0275fac=function(r){return new(r||n)(H(ke))}}static{this.\u0275dir=He({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}}return n})(),QO=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(t){this._disposeOnNavigation=t}constructor(t,r,i,o,s){this._overlay=t,this._dir=s,this._backdropSubscription=Je.EMPTY,this._attachSubscription=Je.EMPTY,this._detachSubscription=Je.EMPTY,this._positionSubscription=Je.EMPTY,this._disposeOnNavigation=!1,this._ngZone=V(he),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new Ke,this.positionChange=new Ke,this.attach=new Ke,this.detach=new Ke,this.overlayKeydown=new Ke,this.overlayOutsideClick=new Ke,this._templatePortal=new g3(r,i),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=IZ);let t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),r.keyCode===27&&!this.disableClose&&!LO(r)&&(r.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{let i=this._getOriginElement(),o=Ph(r);(!i||i!==o&&!i.contains(o))&&this.overlayOutsideClick.next(r)})}_buildConfig(){let t=this._position=this.positionStrategy||this._createPositionStrategy(),r=new Gh({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(r.width=this.width),(this.height||this.height===0)&&(r.height=this.height),(this.minWidth||this.minWidth===0)&&(r.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(t){let r=this.positions.map(i=>({originX:i.originX,originY:i.originY,overlayX:i.overlayX,overlayY:i.overlayY,offsetX:i.offsetX||this.offsetX,offsetY:i.offsetY||this.offsetY,panelClass:i.panelClass||void 0}));return t.setOrigin(this._getOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let t=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(t),t}_getOrigin(){return this.origin instanceof Yh?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof Yh?this.origin.elementRef.nativeElement:this.origin instanceof ke?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(zf(()=>this.positionChange.observers.length>0)).subscribe(t=>{this._ngZone.run(()=>this.positionChange.emit(t)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)(H(Ks),H(Zt),H(An),H(YO),H(Ji,8))}}static{this.\u0275dir=He({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[be.None,"cdkConnectedOverlayOrigin","origin"],positions:[be.None,"cdkConnectedOverlayPositions","positions"],positionStrategy:[be.None,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[be.None,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[be.None,"cdkConnectedOverlayOffsetY","offsetY"],width:[be.None,"cdkConnectedOverlayWidth","width"],height:[be.None,"cdkConnectedOverlayHeight","height"],minWidth:[be.None,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[be.None,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[be.None,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[be.None,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[be.None,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[be.None,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[be.None,"cdkConnectedOverlayOpen","open"],disableClose:[be.None,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[be.None,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[be.HasDecoratorInputTransform,"cdkConnectedOverlayHasBackdrop","hasBackdrop",bt],lockPosition:[be.HasDecoratorInputTransform,"cdkConnectedOverlayLockPosition","lockPosition",bt],flexibleDimensions:[be.HasDecoratorInputTransform,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",bt],growAfterOpen:[be.HasDecoratorInputTransform,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",bt],push:[be.HasDecoratorInputTransform,"cdkConnectedOverlayPush","push",bt],disposeOnNavigation:[be.HasDecoratorInputTransform,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",bt]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[er,Jt]})}}return n})();function DZ(n){return()=>n.scrollStrategies.reposition()}var SZ={provide:YO,deps:[Ks],useFactory:DZ},vhe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Me({providers:[Ks,SZ],imports:[y3,MO,zy,zy]})}}return n})();function xZ(n,e){n&1&&Bt(0,"span",4)}function AZ(n,e){n&1&&Bt(0,"span",5)}function zZ(n,e){n&1&&Bt(0,"span",6)}function RZ(n,e){n&1&&Bt(0,"span",7)}function OZ(n,e){n&1&&Bt(0,"span",8)}function NZ(n,e){if(n&1&&(fs(0),Bt(1,"span",9),ps()),n&2){let t=Fn();nt(),Ht("innerHTML",t.instance.content,A4)}}function PZ(n,e){if(n&1){let t=So();ut(0,"nz-message",2),tr("destroyed",function(i){yo(t);let o=Fn();return wo(o.remove(i.id,i.userAction))}),It()}if(n&2){let t=e.$implicit;Ht("instance",t)}}var VZ=0,b3=class{constructor(e,t,r){this.nzSingletonService=e,this.overlay=t,this.injector=r}remove(e){this.container&&(e?this.container.remove(e):this.container.removeAll())}getInstanceId(){return`${this.componentPrefix}-${VZ++}`}withContainer(e){let t=this.nzSingletonService.getSingletonWithKey(this.componentPrefix);if(t)return t;let r=this.overlay.create({hasBackdrop:!1,scrollStrategy:this.overlay.scrollStrategies.noop(),positionStrategy:this.overlay.position().global()}),i=new m3(e,null,this.injector),o=r.attach(i),s=r.hostElement;return s.style.zIndex="1010",t||(this.container=t=o.instance,this.nzSingletonService.registerSingletonWithKey(this.componentPrefix,t),this.container.afterAllInstancesRemoved.subscribe(()=>{this.container=void 0,this.nzSingletonService.unregisterSingletonWithKey(this.componentPrefix),r.dispose()})),t}},By=(()=>{class n{constructor(t,r){this.cdr=t,this.nzConfigService=r,this.instances=[],this._afterAllInstancesRemoved=new oe,this.afterAllInstancesRemoved=this._afterAllInstancesRemoved.asObservable(),this.destroy$=new oe,this.updateConfig()}ngOnInit(){this.subscribeConfigChange()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}create(t){let r=this.onCreate(t);return this.instances.length>=this.config.nzMaxStack&&(this.instances=this.instances.slice(1)),this.instances=[...this.instances,r],this.readyInstances(),r}remove(t,r=!1){this.instances.map((i,o)=>({index:o,instance:i})).filter(({instance:i})=>i.messageId===t).forEach(({index:i,instance:o})=>{this.instances.splice(i,1),this.instances=[...this.instances],this.onRemove(o,r),this.readyInstances()}),this.instances.length||this.onAllInstancesRemoved()}removeAll(){this.instances.forEach(t=>this.onRemove(t,!1)),this.instances=[],this.readyInstances(),this.onAllInstancesRemoved()}onCreate(t){return t.options=this.mergeOptions(t.options),t.onClose=new oe,t}onRemove(t,r){t.onClose.next(r),t.onClose.complete()}onAllInstancesRemoved(){this._afterAllInstancesRemoved.next(),this._afterAllInstancesRemoved.complete()}readyInstances(){this.cdr.detectChanges()}mergeOptions(t){let{nzDuration:r,nzAnimate:i,nzPauseOnHover:o}=this.config;return q({nzDuration:r,nzAnimate:i,nzPauseOnHover:o},t)}static{this.\u0275fac=function(r){return new(r||n)(H(Qt),H(qo))}}static{this.\u0275dir=He({type:n})}}return n})(),jy=(()=>{class n{constructor(t){this.cdr=t,this.destroyed=new Ke,this.animationStateChanged=new oe,this.userAction=!1}ngOnInit(){this.options=this.instance.options,this.options.nzAnimate&&(this.instance.state="enter",this.animationStateChanged.pipe(We(t=>t.phaseName==="done"&&t.toState==="leave"),Lt(1)).subscribe(()=>{clearTimeout(this.closeTimer),this.destroyed.next({id:this.instance.messageId,userAction:this.userAction})})),this.autoClose=this.options.nzDuration>0,this.autoClose&&(this.initErase(),this.startEraseTimeout())}ngOnDestroy(){this.autoClose&&this.clearEraseTimeout(),this.animationStateChanged.complete()}onEnter(){this.autoClose&&this.options.nzPauseOnHover&&(this.clearEraseTimeout(),this.updateTTL())}onLeave(){this.autoClose&&this.options.nzPauseOnHover&&this.startEraseTimeout()}destroy(t=!1){this.userAction=t,this.options.nzAnimate?(this.instance.state="leave",this.cdr.detectChanges(),this.closeTimer=setTimeout(()=>{this.closeTimer=void 0,this.destroyed.next({id:this.instance.messageId,userAction:t})},200)):this.destroyed.next({id:this.instance.messageId,userAction:t})}initErase(){this.eraseTTL=this.options.nzDuration,this.eraseTimingStart=Date.now()}updateTTL(){this.autoClose&&(this.eraseTTL-=Date.now()-this.eraseTimingStart)}startEraseTimeout(){this.eraseTTL>0?(this.clearEraseTimeout(),this.eraseTimer=setTimeout(()=>this.destroy(),this.eraseTTL),this.eraseTimingStart=Date.now()):this.destroy()}clearEraseTimeout(){this.eraseTimer!==null&&(clearTimeout(this.eraseTimer),this.eraseTimer=void 0)}static{this.\u0275fac=function(r){return new(r||n)(H(Qt))}}static{this.\u0275dir=He({type:n})}}return n})(),KO=(()=>{class n extends jy{constructor(t){super(t),this.destroyed=new Ke}static{this.\u0275fac=function(r){return new(r||n)(H(Qt))}}static{this.\u0275cmp=Dr({type:n,selectors:[["nz-message"]],inputs:{instance:"instance"},outputs:{destroyed:"destroyed"},exportAs:["nzMessage"],standalone:!0,features:[fr,Or],decls:9,vars:4,consts:[[1,"ant-message-notice",3,"mouseenter","mouseleave"],[1,"ant-message-notice-content"],[1,"ant-message-custom-content",3,"ngClass"],[4,"nzStringTemplateOutlet"],["nz-icon","","nzType","check-circle"],["nz-icon","","nzType","info-circle"],["nz-icon","","nzType","exclamation-circle"],["nz-icon","","nzType","close-circle"],["nz-icon","","nzType","loading"],[3,"innerHTML"]],template:function(r,i){if(r&1&&(ut(0,"div",0),tr("@moveUpMotion.done",function(s){return i.animationStateChanged.next(s)})("mouseenter",function(){return i.onEnter()})("mouseleave",function(){return i.onLeave()}),ut(1,"div",1)(2,"div",2),Dn(3,xZ,1,0)(4,AZ,1,0)(5,zZ,1,0)(6,RZ,1,0)(7,OZ,1,0)(8,NZ,2,1,"ng-container",3),It()()()),r&2){let o;Ht("@moveUpMotion",i.instance.state),nt(2),Ht("ngClass","ant-message-"+i.instance.type),nt(),Mo(3,(o=i.instance.type)==="success"?3:o==="info"?4:o==="warning"?5:o==="error"?6:o==="loading"?7:-1),nt(5),Ht("nzStringTemplateOutlet",i.instance.content)}},dependencies:[_6,Il,Ys,Bh,Hh],encapsulation:2,data:{animation:[IO]},changeDetection:0})}}return n})(),Qh="message",kZ={nzAnimate:!0,nzDuration:3e3,nzMaxStack:7,nzPauseOnHover:!0,nzTop:24,nzDirection:"ltr"},XO=(()=>{class n extends By{constructor(t,r){super(t,r),this.dir="ltr";let i=this.nzConfigService.getConfigForComponent(Qh);this.dir=i?.nzDirection||"ltr"}subscribeConfigChange(){this.nzConfigService.getConfigChangeEventForComponent(Qh).pipe(lt(this.destroy$)).subscribe(()=>{this.updateConfig();let t=this.nzConfigService.getConfigForComponent(Qh);if(t){let{nzDirection:r}=t;this.dir=r||this.dir}})}updateConfig(){this.config=q(q(q({},kZ),this.config),this.nzConfigService.getConfigForComponent(Qh)),this.top=d3(this.config.nzTop),this.cdr.markForCheck()}static{this.\u0275fac=function(r){return new(r||n)(H(Qt),H(qo))}}static{this.\u0275cmp=Dr({type:n,selectors:[["nz-message-container"]],exportAs:["nzMessageContainer"],standalone:!0,features:[fr,Or],decls:3,vars:4,consts:[[1,"ant-message"],[3,"instance"],[3,"destroyed","instance"]],template:function(r,i){r&1&&(ut(0,"div",0),Io(1,PZ,1,1,"nz-message",1,To),It()),r&2&&(Rr("top",i.top),on("ant-message-rtl",i.dir==="rtl"),nt(),Do(i.instances))},dependencies:[KO],encapsulation:2,changeDetection:0})}}return n})(),khe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Me({imports:[XO,KO]})}}return n})(),Lhe=(()=>{class n extends b3{constructor(t,r,i){super(t,r,i),this.componentPrefix="message-"}success(t,r){return this.createInstance({type:"success",content:t},r)}error(t,r){return this.createInstance({type:"error",content:t},r)}info(t,r){return this.createInstance({type:"info",content:t},r)}warning(t,r){return this.createInstance({type:"warning",content:t},r)}loading(t,r){return this.createInstance({type:"loading",content:t},r)}create(t,r,i){return this.createInstance({type:t,content:r},i)}createInstance(t,r){return this.container=this.withContainer(XO),this.container.create(qe(q({},t),{createdAt:new Date,messageId:this.getInstanceId(),options:r}))}static{this.\u0275fac=function(r){return new(r||n)(D(jh),D(Ks),D(Ft))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var LZ=(n,e)=>({$implicit:n,data:e}),FZ=n=>({$implicit:n});function HZ(n,e){}function BZ(n,e){if(n&1&&Dn(0,HZ,0,0,"ng-template",1),n&2){let t=Fn();Ht("ngTemplateOutlet",t.instance.template)("ngTemplateOutletContext",wT(2,LZ,t,t.instance.options==null?null:t.instance.options.nzData))}}function jZ(n,e){n&1&&Bt(0,"span",9)}function UZ(n,e){n&1&&Bt(0,"span",10)}function $Z(n,e){n&1&&Bt(0,"span",11)}function qZ(n,e){n&1&&Bt(0,"span",12)}function WZ(n,e){if(n&1&&(fs(0),Bt(1,"div",13),ps()),n&2){let t=Fn(2);nt(),Ht("innerHTML",t.instance.title,A4)}}function GZ(n,e){if(n&1&&(fs(0),Bt(1,"div",13),ps()),n&2){let t=Fn(2);nt(),Ht("innerHTML",t.instance.content,A4)}}function YZ(n,e){}function QZ(n,e){if(n&1&&(ut(0,"span",8),Dn(1,YZ,0,0,"ng-template",1),It()),n&2){let t=Fn(2);nt(),Ht("ngTemplateOutlet",e)("ngTemplateOutletContext",yT(2,FZ,t))}}function KZ(n,e){if(n&1&&(ut(0,"div",4)(1,"div",4)(2,"div"),Dn(3,jZ,1,0)(4,UZ,1,0)(5,$Z,1,0)(6,qZ,1,0),ut(7,"div",5),Dn(8,WZ,2,1,"ng-container",6),It(),ut(9,"div",7),Dn(10,GZ,2,1,"ng-container",6),It(),Dn(11,QZ,2,4,"span",8),It()()()),n&2){let t,r,i=Fn();nt(2),on("ant-notification-notice-with-icon",i.instance.type!=="blank"),nt(),Mo(3,(t=i.instance.type)==="success"?3:t==="info"?4:t==="warning"?5:t==="error"?6:-1),nt(5),Ht("nzStringTemplateOutlet",i.instance.title),nt(2),Ht("nzStringTemplateOutlet",i.instance.content),nt(),Mo(11,(r=i.instance.options==null?null:i.instance.options.nzButton)?11:-1,r)}}function XZ(n,e){if(n&1&&(fs(0),Bt(1,"span",14),ps()),n&2){let t=e.$implicit;nt(),Ht("nzType",t)}}function ZZ(n,e){if(n&1&&Dn(0,XZ,2,1,"ng-container",6),n&2){let t=Fn();Ht("nzStringTemplateOutlet",t.instance.options==null?null:t.instance.options.nzCloseIcon)}}function JZ(n,e){n&1&&Bt(0,"span",15)}function eJ(n,e){if(n&1){let t=So();ut(0,"nz-notification",7),tr("destroyed",function(i){yo(t);let o=Fn();return wo(o.remove(i.id,i.userAction))}),It()}if(n&2){let t=e.$implicit;Ht("instance",t)("placement","topLeft")}}function tJ(n,e){if(n&1){let t=So();ut(0,"nz-notification",7),tr("destroyed",function(i){yo(t);let o=Fn();return wo(o.remove(i.id,i.userAction))}),It()}if(n&2){let t=e.$implicit;Ht("instance",t)("placement","topRight")}}function nJ(n,e){if(n&1){let t=So();ut(0,"nz-notification",7),tr("destroyed",function(i){yo(t);let o=Fn();return wo(o.remove(i.id,i.userAction))}),It()}if(n&2){let t=e.$implicit;Ht("instance",t)("placement","bottomLeft")}}function rJ(n,e){if(n&1){let t=So();ut(0,"nz-notification",7),tr("destroyed",function(i){yo(t);let o=Fn();return wo(o.remove(i.id,i.userAction))}),It()}if(n&2){let t=e.$implicit;Ht("instance",t)("placement","bottomRight")}}function iJ(n,e){if(n&1){let t=So();ut(0,"nz-notification",7),tr("destroyed",function(i){yo(t);let o=Fn();return wo(o.remove(i.id,i.userAction))}),It()}if(n&2){let t=e.$implicit;Ht("instance",t)("placement","top")}}function oJ(n,e){if(n&1){let t=So();ut(0,"nz-notification",7),tr("destroyed",function(i){yo(t);let o=Fn();return wo(o.remove(i.id,i.userAction))}),It()}if(n&2){let t=e.$implicit;Ht("instance",t)("placement","bottom")}}var ZO=(()=>{class n extends jy{constructor(t){super(t),this.destroyed=new Ke}ngOnDestroy(){super.ngOnDestroy(),this.instance.onClick.complete()}onClick(t){this.instance.onClick.next(t)}close(){this.destroy(!0)}get state(){if(this.instance.state==="enter")switch(this.placement){case"topLeft":case"bottomLeft":return"enterLeft";case"topRight":case"bottomRight":return"enterRight";case"top":return"enterTop";case"bottom":return"enterBottom";default:return"enterRight"}else return this.instance.state}static{this.\u0275fac=function(r){return new(r||n)(H(Qt))}}static{this.\u0275cmp=Dr({type:n,selectors:[["nz-notification"]],inputs:{instance:"instance",index:"index",placement:"placement"},outputs:{destroyed:"destroyed"},exportAs:["nzNotification"],standalone:!0,features:[fr,Or],decls:7,vars:5,consts:[[1,"ant-notification-notice","ant-notification-notice-closable",3,"click","mouseenter","mouseleave","ngStyle","ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0",1,"ant-notification-notice-close",3,"click"],[1,"ant-notification-notice-close-x"],[1,"ant-notification-notice-content"],[1,"ant-notification-notice-message"],[4,"nzStringTemplateOutlet"],[1,"ant-notification-notice-description"],[1,"ant-notification-notice-btn"],["nz-icon","","nzType","check-circle",1,"ant-notification-notice-icon","ant-notification-notice-icon-success"],["nz-icon","","nzType","info-circle",1,"ant-notification-notice-icon","ant-notification-notice-icon-info"],["nz-icon","","nzType","exclamation-circle",1,"ant-notification-notice-icon","ant-notification-notice-icon-warning"],["nz-icon","","nzType","close-circle",1,"ant-notification-notice-icon","ant-notification-notice-icon-error"],[3,"innerHTML"],["nz-icon","",3,"nzType"],["nz-icon","","nzType","close",1,"ant-notification-close-icon"]],template:function(r,i){r&1&&(ut(0,"div",0),tr("@notificationMotion.done",function(s){return i.animationStateChanged.next(s)})("click",function(s){return i.onClick(s)})("mouseenter",function(){return i.onEnter()})("mouseleave",function(){return i.onLeave()}),Dn(1,BZ,1,5,null,1)(2,KZ,12,6),ut(3,"a",2),tr("click",function(){return i.close()}),ut(4,"span",3),Dn(5,ZZ,1,1,"ng-container")(6,JZ,1,0),It()()()),r&2&&(Ht("ngStyle",(i.instance.options==null?null:i.instance.options.nzStyle)||null)("ngClass",(i.instance.options==null?null:i.instance.options.nzClass)||"")("@notificationMotion",i.state),nt(),Mo(1,i.instance.template?1:2),nt(4),Mo(5,i.instance.options!=null&&i.instance.options.nzCloseIcon?5:6))},dependencies:[nI,_6,Il,Ys,Bh,Hh,rI],encapsulation:2,data:{animation:[DO]}})}}return n})(),Kh="notification",sJ={nzTop:"24px",nzBottom:"24px",nzPlacement:"topRight",nzDuration:4500,nzMaxStack:8,nzPauseOnHover:!0,nzAnimate:!0,nzDirection:"ltr"},JO=(()=>{class n extends By{constructor(t,r){super(t,r),this.dir="ltr",this.instances=[],this.topLeftInstances=[],this.topRightInstances=[],this.bottomLeftInstances=[],this.bottomRightInstances=[],this.topInstances=[],this.bottomInstances=[];let i=this.nzConfigService.getConfigForComponent(Kh);this.dir=i?.nzDirection||"ltr"}create(t){let r=this.onCreate(t),i=r.options.nzKey,o=this.instances.find(s=>s.options.nzKey===t.options.nzKey);return i&&o?this.replaceNotification(o,r):(this.instances.length>=this.config.nzMaxStack&&(this.instances=this.instances.slice(1)),this.instances=[...this.instances,r]),this.readyInstances(),r}onCreate(t){return t.options=this.mergeOptions(t.options),t.onClose=new oe,t.onClick=new oe,t}subscribeConfigChange(){this.nzConfigService.getConfigChangeEventForComponent(Kh).pipe(lt(this.destroy$)).subscribe(()=>{this.updateConfig();let t=this.nzConfigService.getConfigForComponent(Kh);if(t){let{nzDirection:r}=t;this.dir=r||this.dir}})}updateConfig(){this.config=q(q(q({},sJ),this.config),this.nzConfigService.getConfigForComponent(Kh)),this.top=d3(this.config.nzTop),this.bottom=d3(this.config.nzBottom),this.cdr.markForCheck()}replaceNotification(t,r){t.title=r.title,t.content=r.content,t.template=r.template,t.type=r.type,t.options=r.options}readyInstances(){let t={topLeft:[],topRight:[],bottomLeft:[],bottomRight:[],top:[],bottom:[]};this.instances.forEach(r=>{switch(r.options.nzPlacement){case"topLeft":t.topLeft.unshift(r);break;case"topRight":t.topRight.unshift(r);break;case"bottomLeft":t.bottomLeft.unshift(r);break;case"bottomRight":t.bottomRight.unshift(r);break;case"top":t.top.unshift(r);break;case"bottom":t.bottom.unshift(r);break;default:t.topRight.unshift(r)}}),this.topLeftInstances=t.topLeft,this.topRightInstances=t.topRight,this.bottomLeftInstances=t.bottomLeft,this.bottomRightInstances=t.bottomRight,this.topInstances=t.top,this.bottomInstances=t.bottom,this.cdr.detectChanges()}mergeOptions(t){let{nzDuration:r,nzAnimate:i,nzPauseOnHover:o,nzPlacement:s}=this.config;return q({nzDuration:r,nzAnimate:i,nzPauseOnHover:o,nzPlacement:s},t)}static{this.\u0275fac=function(r){return new(r||n)(H(Qt),H(qo))}}static{this.\u0275cmp=Dr({type:n,selectors:[["nz-notification-container"]],exportAs:["nzNotificationContainer"],standalone:!0,features:[fr,Or],decls:18,vars:40,consts:[[1,"ant-notification","ant-notification-topLeft"],[3,"instance","placement"],[1,"ant-notification","ant-notification-topRight"],[1,"ant-notification","ant-notification-bottomLeft"],[1,"ant-notification","ant-notification-bottomRight"],[1,"ant-notification","ant-notification-top"],[1,"ant-notification","ant-notification-bottom"],[3,"destroyed","instance","placement"]],template:function(r,i){r&1&&(ut(0,"div",0),Io(1,eJ,1,2,"nz-notification",1,To),It(),ut(3,"div",2),Io(4,tJ,1,2,"nz-notification",1,To),It(),ut(6,"div",3),Io(7,nJ,1,2,"nz-notification",1,To),It(),ut(9,"div",4),Io(10,rJ,1,2,"nz-notification",1,To),It(),ut(12,"div",5),Io(13,iJ,1,2,"nz-notification",1,To),It(),ut(15,"div",6),Io(16,oJ,1,2,"nz-notification",1,To),It()),r&2&&(Rr("top",i.top)("left","0px"),on("ant-notification-rtl",i.dir==="rtl"),nt(),Do(i.topLeftInstances),nt(2),Rr("top",i.top)("right","0px"),on("ant-notification-rtl",i.dir==="rtl"),nt(),Do(i.topRightInstances),nt(2),Rr("bottom",i.bottom)("left","0px"),on("ant-notification-rtl",i.dir==="rtl"),nt(),Do(i.bottomLeftInstances),nt(2),Rr("bottom",i.bottom)("right","0px"),on("ant-notification-rtl",i.dir==="rtl"),nt(),Do(i.bottomRightInstances),nt(2),Rr("top",i.top)("left","50%")("transform","translateX(-50%)"),on("ant-notification-rtl",i.dir==="rtl"),nt(),Do(i.topInstances),nt(2),Rr("bottom",i.bottom)("left","50%")("transform","translateX(-50%)"),on("ant-notification-rtl",i.dir==="rtl"),nt(),Do(i.bottomInstances))},dependencies:[ZO],encapsulation:2,changeDetection:0})}}return n})(),rde=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Me({imports:[ZO,JO]})}}return n})(),aJ=0,eN=(()=>{class n extends b3{constructor(t,r,i){super(t,r,i),this.componentPrefix="notification-"}success(t,r,i){return this.create("success",t,r,i)}error(t,r,i){return this.create("error",t,r,i)}info(t,r,i){return this.create("info",t,r,i)}warning(t,r,i){return this.create("warning",t,r,i)}blank(t,r,i){return this.create("blank",t,r,i)}create(t,r,i,o){return this.createInstance({type:t,title:r,content:i},o)}template(t,r){return this.createInstance({template:t},r)}generateMessageId(){return`${this.componentPrefix}-${aJ++}`}createInstance(t,r){return this.container=this.withContainer(JO),this.container.create(qe(q({},t),{createdAt:new Date,messageId:r?.nzKey||this.generateMessageId(),options:r}))}static{this.\u0275fac=function(r){return new(r||n)(D(jh),D(Ks),D(Ft))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Uy=function(n){return n.user="user",n.student="student",n.manager="manager",n.admin="admin",n}(Uy||{}),$y=function(n){return n.canRead="canRead",n.canList="canList",n.canUpdate="canUpdate",n.canWrite="canWrite",n.canCreate="canCreate",n.canDelete="canDelete",n}($y||{});var Wfe=(()=>{class n{constructor(t,r,i,o,s){this.afAuth=t,this.afs=r,this.router=i,this.ngZone=o,this.notification=s,this.user=this.afAuth.authState.pipe(ct(a=>a?(localStorage.setItem("user",JSON.stringify(a)),this.afs.doc(`users/${a.uid}`).valueChanges()):(typeof localStorage<"u"&&localStorage.removeItem("user"),te(null))))}getUser(){return this.user}signIn(t,r){return this.afAuth.signInWithEmailAndPassword(t,r).then(i=>{this.ngZone.run(()=>{i.user.emailVerified?this.getAccessLevel(i.user.uid):this.notification.create("warning","\xA1Oops!, su cuenta no ha sido verificada","Para continuar es necesario verificar su cuenta de correo electr\xF3nico.")})}).catch(i=>{this.notification.create("error","Error..",i.message)})}getAccessLevel(t){return R(this,null,function*(){(yield this.afs.collection("users").doc(t)).snapshotChanges().pipe(Lt(1),ce(i=>{let o=i.payload.id,s=i.payload.data();return q({id:o},s)})).subscribe(i=>{let o=["admin","student","user"],s=["admin","user"],a=i.roles.some(c=>o.includes(c));Array.isArray(i)&&(i.some(l=>l.hasOwnProperty("idSegment"))||this.afs.collection("users").doc(t).update({idSegment:"JvgynF0jaP7n1S1oC7pX"})),a?this.router.navigate(["/dashboard/admin"]):(this.notification.create("warning","\xA1Oops!, su cuenta no tiene acceso a este sistema","Si esto es un error, por favor contacte al administrador del sitio."),this.signOut())})})}signUp(t){let r=t.email,i=t.password;return this.afAuth.createUserWithEmailAndPassword(r,i).then(o=>{this.setUserData(o.user,t),this.sendVerificationMail()}).catch(o=>{this.notification.create("error","Error de creaci\xF3n de Usuario",o)})}sendVerificationMail(){return R(this,null,function*(){try{let t=yield this.afAuth.currentUser;t?(yield t.sendEmailVerification(),this.router.navigate(["authentication/verify-email"]),this.notification.create("info","\xA1Perfecto!","El correo ha sido enviado")):this.notification.create("error","Error de verificaci\xF3n de correo","No hay usuario registrado")}catch(t){this.notification.create("error","Error de verificaci\xF3n de correo",t.message)}})}forgotPassword(t){return this.afAuth.sendPasswordResetEmail(t).then(()=>{this.notification.create("info","\xA1Listo!","Se ha enviado un correo electr\xF3nico a su cuenta con la informaci\xF3n necesaria para recuperar su contrase\xF1a.")}).catch(r=>{this.notification.create("error","\xA1Oops!, algo sali\xF3 mal ...",r)})}get isLoggedIn(){return!!this.user}googleAuth(){return this.AuthLogin(new r0)}AuthLogin(t){return this.afAuth.signInWithPopup(t).then(r=>{this.ngZone.run(()=>{this.router.navigate(["dashboard"])}),this.setUserData(r.user)}).catch(r=>{this.notification.create("error","\xA1Oops!, algo sali\xF3 mal ...",r)})}setUserData(t,r){let i=this.afs.doc(`users/${t.uid}`),o={uid:t.uid,email:t.email,phoneNumber:r&&r.phoneNumber?r.phoneNumber:null,displayName:r.firstName+" "+r.lastName,studentId:r&&r.studentId?r.studentId:null,photoURL:t.photoURL,roles:[Uy.admin],permissions:[$y.canRead],emailVerified:t.emailVerified,name:r.firstName,firstName:r.firstName,lastName:r.lastName,customerName:r.customerName,customerId:r.customerId,round:r.round,status:r&&r.status!==void 0?r.status:"active",rolId:r&&r.rolId!==void 0?r.rolId:"54YNS3xlSLPc6UzNq2HJ",roundTrip:r.roundTrip,turno:r.turno,idSegment:"JvgynF0jaP7n1S1oC7pX",defaultRouteName:r.defaultRouteName,defaultRoute:r.defaultRoute,defaultRound:r.defaultRound};return i.set(o,{merge:!0}).then(s=>{this.updateUserProfile(r)}).catch(s=>this.notification.create("error","Error..",s))}getUserFromDatabase(t){this.afs.doc(`users/${t.uid}`).snapshotChanges().subscribe(i=>i.payload.data())}updateUserData(t){let r=this.afs.doc(`users/${t.uid}`),i={emailVerified:t.emailVerified};return r.set(i,{merge:!0}).then(o=>this.notification.create("sucess","Resultado..",o)).catch(o=>this.notification.create("error","Error..",o))}updateUserProfile(t){let i=nf().currentUser;i?tf(i,{displayName:t&&t.fullName?t.fullName:null,photoURL:"https://example.com/jane-q-user/profile.jpg"}).then(()=>{this.notification.create("sucess","Info ..","Actualizacion correcta")}).catch(o=>{this.notification.create("error","Error ..",o)}):this.notification.create("error","Error ..","No Existe un usuario loggeado en la aplicaci\xF3n")}googleLogin(){let t=new r0;return this.oAuthLogin(t)}oAuthLogin(t){return this.afAuth.signInWithPopup(t).then(r=>{this.updateUserData(r.user)})}signOut(){this.afAuth.signOut().then(()=>{this.router.navigate(["/authentication/login"])})}static{this.\u0275fac=function(r){return new(r||n)(D(v2),D(Jv),D(gi),D(he),D(eN))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function k(n,e){if(e.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+e.length+" present")}function Y(n){k(1,arguments);var e=Object.prototype.toString.call(n);return n instanceof Date||Nc(n)==="object"&&e==="[object Date]"?new Date(n.getTime()):typeof n=="number"||e==="[object Number]"?new Date(n):((typeof n=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function eo(n){k(1,arguments);var e=Y(n);return e.setHours(0,0,0,0),e}function E3(n){k(1,arguments);var e=Y(n);return e.setHours(23,59,59,999),e}function tN(){return E3(Date.now())}function qy(n){return k(1,arguments),n instanceof Date||Nc(n)==="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Xh(n){if(k(1,arguments),!qy(n)&&typeof n!="number")return!1;var e=Y(n);return!isNaN(Number(e))}function Ie(n){if(n===null||n===!0||n===!1)return NaN;var e=Number(n);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function C3(n,e){k(2,arguments);var t=Y(n).getTime(),r=Ie(e);return new Date(t+r)}function M3(n,e){k(2,arguments);var t=Ie(e);return C3(n,-t)}var lJ=864e5;function Wy(n){k(1,arguments);var e=Y(n),t=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=t-r;return Math.floor(i/lJ)+1}function Xr(n){k(1,arguments);var e=1,t=Y(n),r=t.getUTCDay(),i=(r<e?7:0)+r-e;return t.setUTCDate(t.getUTCDate()-i),t.setUTCHours(0,0,0,0),t}function T3(n){k(1,arguments);var e=Y(n),t=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(t+1,0,4),r.setUTCHours(0,0,0,0);var i=Xr(r),o=new Date(0);o.setUTCFullYear(t,0,4),o.setUTCHours(0,0,0,0);var s=Xr(o);return e.getTime()>=i.getTime()?t+1:e.getTime()>=s.getTime()?t:t-1}function Gy(n){k(1,arguments);var e=T3(n),t=new Date(0);t.setUTCFullYear(e,0,4),t.setUTCHours(0,0,0,0);var r=Xr(t);return r}var uJ=6048e5;function I3(n){k(1,arguments);var e=Y(n),t=Xr(e).getTime()-Gy(e).getTime();return Math.round(t/uJ)+1}var hJ={};function $n(){return hJ}function Hr(n,e){var t,r,i,o,s,a,c,l;k(1,arguments);var h=$n(),d=Ie((t=(r=(i=(o=e?.weekStartsOn)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:h.weekStartsOn)!==null&&r!==void 0?r:(c=h.locale)===null||c===void 0||(l=c.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&t!==void 0?t:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=Y(n),g=m.getUTCDay(),y=(g<d?7:0)+g-d;return m.setUTCDate(m.getUTCDate()-y),m.setUTCHours(0,0,0,0),m}function mc(n,e){var t,r,i,o,s,a,c,l;k(1,arguments);var h=Y(n),d=h.getUTCFullYear(),m=$n(),g=Ie((t=(r=(i=(o=e?.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:m.firstWeekContainsDate)!==null&&r!==void 0?r:(c=m.locale)===null||c===void 0||(l=c.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&t!==void 0?t:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=new Date(0);y.setUTCFullYear(d+1,0,g),y.setUTCHours(0,0,0,0);var _=Hr(y,e),M=new Date(0);M.setUTCFullYear(d,0,g),M.setUTCHours(0,0,0,0);var z=Hr(M,e);return h.getTime()>=_.getTime()?d+1:h.getTime()>=z.getTime()?d:d-1}function Yy(n,e){var t,r,i,o,s,a,c,l;k(1,arguments);var h=$n(),d=Ie((t=(r=(i=(o=e?.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(c=h.locale)===null||c===void 0||(l=c.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&t!==void 0?t:1),m=mc(n,e),g=new Date(0);g.setUTCFullYear(m,0,d),g.setUTCHours(0,0,0,0);var y=Hr(g,e);return y}var dJ=6048e5;function D3(n,e){k(1,arguments);var t=Y(n),r=Hr(t,e).getTime()-Yy(t,e).getTime();return Math.round(r/dJ)+1}function et(n,e){for(var t=n<0?"-":"",r=Math.abs(n).toString();r.length<e;)r="0"+r;return t+r}var fJ={y:function(e,t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return et(t==="yy"?i%100:i,t.length)},M:function(e,t){var r=e.getUTCMonth();return t==="M"?String(r+1):et(r+1,2)},d:function(e,t){return et(e.getUTCDate(),t.length)},a:function(e,t){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,t){return et(e.getUTCHours()%12||12,t.length)},H:function(e,t){return et(e.getUTCHours(),t.length)},m:function(e,t){return et(e.getUTCMinutes(),t.length)},s:function(e,t){return et(e.getUTCSeconds(),t.length)},S:function(e,t){var r=t.length,i=e.getUTCMilliseconds(),o=Math.floor(i*Math.pow(10,r-3));return et(o,t.length)}},Wo=fJ;var Sl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},pJ={G:function(e,t,r){var i=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){var i=e.getUTCFullYear(),o=i>0?i:1-i;return r.ordinalNumber(o,{unit:"year"})}return Wo.y(e,t)},Y:function(e,t,r,i){var o=mc(e,i),s=o>0?o:1-o;if(t==="YY"){var a=s%100;return et(a,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):et(s,t.length)},R:function(e,t){var r=T3(e);return et(r,t.length)},u:function(e,t){var r=e.getUTCFullYear();return et(r,t.length)},Q:function(e,t,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return et(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return et(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,r){var i=e.getUTCMonth();switch(t){case"M":case"MM":return Wo.M(e,t);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,r){var i=e.getUTCMonth();switch(t){case"L":return String(i+1);case"LL":return et(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,r,i){var o=D3(e,i);return t==="wo"?r.ordinalNumber(o,{unit:"week"}):et(o,t.length)},I:function(e,t,r){var i=I3(e);return t==="Io"?r.ordinalNumber(i,{unit:"week"}):et(i,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Wo.d(e,t)},D:function(e,t,r){var i=Wy(e);return t==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):et(i,t.length)},E:function(e,t,r){var i=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,r,i){var o=e.getUTCDay(),s=(o-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return et(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,r,i){var o=e.getUTCDay(),s=(o-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return et(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,r){var i=e.getUTCDay(),o=i===0?7:i;switch(t){case"i":return String(o);case"ii":return et(o,t.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,r){var i=e.getUTCHours(),o=i/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,r){var i=e.getUTCHours(),o;switch(i===12?o=Sl.noon:i===0?o=Sl.midnight:o=i/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,r){var i=e.getUTCHours(),o;switch(i>=17?o=Sl.evening:i>=12?o=Sl.afternoon:i>=4?o=Sl.morning:o=Sl.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Wo.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Wo.H(e,t)},K:function(e,t,r){var i=e.getUTCHours()%12;return t==="Ko"?r.ordinalNumber(i,{unit:"hour"}):et(i,t.length)},k:function(e,t,r){var i=e.getUTCHours();return i===0&&(i=24),t==="ko"?r.ordinalNumber(i,{unit:"hour"}):et(i,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Wo.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Wo.s(e,t)},S:function(e,t){return Wo.S(e,t)},X:function(e,t,r,i){var o=i._originalDate||e,s=o.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return rN(s);case"XXXX":case"XX":return gc(s);case"XXXXX":case"XXX":default:return gc(s,":")}},x:function(e,t,r,i){var o=i._originalDate||e,s=o.getTimezoneOffset();switch(t){case"x":return rN(s);case"xxxx":case"xx":return gc(s);case"xxxxx":case"xxx":default:return gc(s,":")}},O:function(e,t,r,i){var o=i._originalDate||e,s=o.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+nN(s,":");case"OOOO":default:return"GMT"+gc(s,":")}},z:function(e,t,r,i){var o=i._originalDate||e,s=o.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+nN(s,":");case"zzzz":default:return"GMT"+gc(s,":")}},t:function(e,t,r,i){var o=i._originalDate||e,s=Math.floor(o.getTime()/1e3);return et(s,t.length)},T:function(e,t,r,i){var o=i._originalDate||e,s=o.getTime();return et(s,t.length)}};function nN(n,e){var t=n>0?"-":"+",r=Math.abs(n),i=Math.floor(r/60),o=r%60;if(o===0)return t+String(i);var s=e||"";return t+String(i)+s+et(o,2)}function rN(n,e){if(n%60===0){var t=n>0?"-":"+";return t+et(Math.abs(n)/60,2)}return gc(n,e)}function gc(n,e){var t=e||"",r=n>0?"-":"+",i=Math.abs(n),o=et(Math.floor(i/60),2),s=et(i%60,2);return r+o+t+s}var iN=pJ;var oN=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},sN=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},mJ=function(e,t){var r=e.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return oN(e,t);var s;switch(i){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",oN(i,t)).replace("{{time}}",sN(o,t))},gJ={p:sN,P:mJ},S3=gJ;function Xs(n){var e=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return e.setUTCFullYear(n.getFullYear()),n.getTime()-e.getTime()}var vJ=["D","DD"],yJ=["YY","YYYY"];function Zh(n){return vJ.indexOf(n)!==-1}function Jh(n){return yJ.indexOf(n)!==-1}function xl(n,e,t){if(n==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var wJ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},_J=function(e,t,r){var i,o=wJ[e];return typeof o=="string"?i=o:t===1?i=o.one:i=o.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i},aN=_J;function x3(n){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.width?String(e.width):n.defaultWidth,r=n.formats[t]||n.formats[n.defaultWidth];return r}}var bJ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},EJ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},CJ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},MJ={date:x3({formats:bJ,defaultWidth:"full"}),time:x3({formats:EJ,defaultWidth:"full"}),dateTime:x3({formats:CJ,defaultWidth:"full"})},cN=MJ;var TJ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},IJ=function(e,t,r,i){return TJ[e]},lN=IJ;function vc(n){return function(e,t){var r=t!=null&&t.context?String(t.context):"standalone",i;if(r==="formatting"&&n.formattingValues){var o=n.defaultFormattingWidth||n.defaultWidth,s=t!=null&&t.width?String(t.width):o;i=n.formattingValues[s]||n.formattingValues[o]}else{var a=n.defaultWidth,c=t!=null&&t.width?String(t.width):n.defaultWidth;i=n.values[c]||n.values[a]}var l=n.argumentCallback?n.argumentCallback(e):e;return i[l]}}var DJ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},SJ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},xJ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},AJ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},zJ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},RJ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},OJ=function(e,t){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},NJ={ordinalNumber:OJ,era:vc({values:DJ,defaultWidth:"wide"}),quarter:vc({values:SJ,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:vc({values:xJ,defaultWidth:"wide"}),day:vc({values:AJ,defaultWidth:"wide"}),dayPeriod:vc({values:zJ,defaultWidth:"wide",formattingValues:RJ,defaultFormattingWidth:"wide"})},uN=NJ;function yc(n){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],o=e.match(i);if(!o)return null;var s=o[0],a=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],c=Array.isArray(a)?VJ(a,function(d){return d.test(s)}):PJ(a,function(d){return d.test(s)}),l;l=n.valueCallback?n.valueCallback(c):c,l=t.valueCallback?t.valueCallback(l):l;var h=e.slice(s.length);return{value:l,rest:h}}}function PJ(n,e){for(var t in n)if(n.hasOwnProperty(t)&&e(n[t]))return t}function VJ(n,e){for(var t=0;t<n.length;t++)if(e(n[t]))return t}function Qy(n){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(n.matchPattern);if(!r)return null;var i=r[0],o=e.match(n.parsePattern);if(!o)return null;var s=n.valueCallback?n.valueCallback(o[0]):o[0];s=t.valueCallback?t.valueCallback(s):s;var a=e.slice(i.length);return{value:s,rest:a}}}var kJ=/^(\d+)(th|st|nd|rd)?/i,LJ=/\d+/i,FJ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},HJ={any:[/^b/i,/^(a|c)/i]},BJ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},jJ={any:[/1/i,/2/i,/3/i,/4/i]},UJ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$J={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},qJ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},WJ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},GJ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},YJ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},QJ={ordinalNumber:Qy({matchPattern:kJ,parsePattern:LJ,valueCallback:function(e){return parseInt(e,10)}}),era:yc({matchPatterns:FJ,defaultMatchWidth:"wide",parsePatterns:HJ,defaultParseWidth:"any"}),quarter:yc({matchPatterns:BJ,defaultMatchWidth:"wide",parsePatterns:jJ,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:yc({matchPatterns:UJ,defaultMatchWidth:"wide",parsePatterns:$J,defaultParseWidth:"any"}),day:yc({matchPatterns:qJ,defaultMatchWidth:"wide",parsePatterns:WJ,defaultParseWidth:"any"}),dayPeriod:yc({matchPatterns:GJ,defaultMatchWidth:"any",parsePatterns:YJ,defaultParseWidth:"any"})},hN=QJ;var KJ={code:"en-US",formatDistance:aN,formatLong:cN,formatRelative:lN,localize:uN,match:hN,options:{weekStartsOn:0,firstWeekContainsDate:1}},dN=KJ;var ed=dN;var XJ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ZJ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,JJ=/^'([^]*?)'?$/,eee=/''/g,tee=/[a-zA-Z]/;function fN(n,e,t){var r,i,o,s,a,c,l,h,d,m,g,y,_,M,z,F,P,Q;k(2,arguments);var ne=String(e),K=$n(),C=(r=(i=t?.locale)!==null&&i!==void 0?i:K.locale)!==null&&r!==void 0?r:ed,w=Ie((o=(s=(a=(c=t?.firstWeekContainsDate)!==null&&c!==void 0?c:t==null||(l=t.locale)===null||l===void 0||(h=l.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&a!==void 0?a:K.firstWeekContainsDate)!==null&&s!==void 0?s:(d=K.locale)===null||d===void 0||(m=d.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(w>=1&&w<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=Ie((g=(y=(_=(M=t?.weekStartsOn)!==null&&M!==void 0?M:t==null||(z=t.locale)===null||z===void 0||(F=z.options)===null||F===void 0?void 0:F.weekStartsOn)!==null&&_!==void 0?_:K.weekStartsOn)!==null&&y!==void 0?y:(P=K.locale)===null||P===void 0||(Q=P.options)===null||Q===void 0?void 0:Q.weekStartsOn)!==null&&g!==void 0?g:0);if(!(b>=0&&b<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!C.localize)throw new RangeError("locale must contain localize property");if(!C.formatLong)throw new RangeError("locale must contain formatLong property");var T=Y(n);if(!Xh(T))throw new RangeError("Invalid time value");var I=Xs(T),S=M3(T,I),E={firstWeekContainsDate:w,weekStartsOn:b,locale:C,_originalDate:T},Nn=ne.match(ZJ).map(function(Mt){var Z=Mt[0];if(Z==="p"||Z==="P"){var ae=S3[Z];return ae(Mt,C.formatLong)}return Mt}).join("").match(XJ).map(function(Mt){if(Mt==="''")return"'";var Z=Mt[0];if(Z==="'")return nee(Mt);var ae=iN[Z];if(ae)return!(t!=null&&t.useAdditionalWeekYearTokens)&&Jh(Mt)&&xl(Mt,e,String(n)),!(t!=null&&t.useAdditionalDayOfYearTokens)&&Zh(Mt)&&xl(Mt,e,String(n)),ae(S,Mt,C.localize,E);if(Z.match(tee))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Z+"`");return Mt}).join("");return Nn}function nee(n){var e=n.match(JJ);return e?e[1].replace(eee,"'"):n}function pN(n){k(1,arguments);var e=Ie(n);return Y(e*1e3)}function mN(){return eo(Date.now())}function td(n,e){k(2,arguments);var t=Y(n),r=Ie(e);return isNaN(r)?new Date(NaN):(r&&t.setDate(t.getDate()+r),t)}function nd(n,e){k(2,arguments);var t=Y(n),r=Ie(e);if(isNaN(r))return new Date(NaN);if(!r)return t;var i=t.getDate(),o=new Date(t.getTime());o.setMonth(t.getMonth()+r+1,0);var s=o.getDate();return i>=s?o:(t.setFullYear(o.getFullYear(),o.getMonth(),i),t)}function rd(n,e){var t,r,i,o,s,a,c,l;k(1,arguments);var h=$n(),d=Ie((t=(r=(i=(o=e?.weekStartsOn)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:h.weekStartsOn)!==null&&r!==void 0?r:(c=h.locale)===null||c===void 0||(l=c.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&t!==void 0?t:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=Y(n),g=m.getDay(),y=(g<d?7:0)+g-d;return m.setDate(m.getDate()-y),m.setHours(0,0,0,0),m}function Zs(n){return k(1,arguments),rd(n,{weekStartsOn:1})}function Ky(n){k(1,arguments);var e=Y(n),t=e.getFullYear(),r=new Date(0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);var i=Zs(r),o=new Date(0);o.setFullYear(t,0,4),o.setHours(0,0,0,0);var s=Zs(o);return e.getTime()>=i.getTime()?t+1:e.getTime()>=s.getTime()?t:t-1}function Xy(n){k(1,arguments);var e=Ky(n),t=new Date(0);t.setFullYear(e,0,4),t.setHours(0,0,0,0);var r=Zs(t);return r}var ree=864e5;function gN(n,e){k(2,arguments);var t=eo(n),r=eo(e),i=t.getTime()-Xs(t),o=r.getTime()-Xs(r);return Math.round((i-o)/ree)}var iee=6e4;function vN(n,e){k(2,arguments);var t=Ie(e);return C3(n,t*iee)}function yN(n,e){k(2,arguments);var t=Ie(e);return nd(n,t*12)}var oee=365.2425,see=Math.pow(10,8)*24*60*60*1e3,id=6e4,od=36e5,wN=1e3,Wpe=-see;var aee=3600;var _N=aee*24,Gpe=_N*7,cee=_N*oee,lee=cee/12,Ype=lee*3;function sd(n,e){k(2,arguments);var t=eo(n),r=eo(e);return t.getTime()===r.getTime()}function bN(n,e){k(2,arguments);var t=Y(n),r=Y(e),i=t.getFullYear()-r.getFullYear(),o=t.getMonth()-r.getMonth();return i*12+o}function A3(n){k(1,arguments);var e=Y(n),t=Math.floor(e.getMonth()/3)+1;return t}function EN(n,e){k(2,arguments);var t=Y(n),r=Y(e),i=t.getFullYear()-r.getFullYear(),o=A3(t)-A3(r);return i*4+o}function CN(n,e){k(2,arguments);var t=Y(n),r=Y(e);return t.getFullYear()-r.getFullYear()}function wc(n,e){return k(2,arguments),Y(n).getTime()-Y(e).getTime()}var MN={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},uee="trunc";function Al(n){return n?MN[n]:MN[uee]}function TN(n,e,t){k(2,arguments);var r=wc(n,e)/od;return Al(t?.roundingMethod)(r)}function IN(n,e,t){k(2,arguments);var r=wc(n,e)/id;return Al(t?.roundingMethod)(r)}function Zy(n){k(1,arguments);var e=Y(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function DN(n){k(1,arguments);var e=Y(n);return E3(e).getTime()===Zy(e).getTime()}function SN(n,e,t){k(2,arguments);var r=wc(n,e)/1e3;return Al(t?.roundingMethod)(r)}function ad(n){k(1,arguments);var e=Y(n);return e.setSeconds(0,0),e}function z3(n){k(1,arguments);var e=Y(n),t=e.getMonth(),r=t-t%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function xN(n){k(1,arguments);var e=Y(n);return e.setDate(1),e.setHours(0,0,0,0),e}function Jy(n,e){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n}function ew(n){k(1,arguments);var e=Y(n),t=e.getFullYear(),r=e.getMonth(),i=new Date(0);return i.setFullYear(t,r+1,0),i.setHours(0,0,0,0),i.getDate()}var hee=6048e5;function AN(n){k(1,arguments);var e=Y(n),t=Zs(e).getTime()-Xy(e).getTime();return Math.round(t/hee)+1}function zN(n){return k(1,arguments),Y(n).getDate()===1}function tw(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=W_(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,a=!1;return{s:function(){t=t.call(n)},n:function(){var l=t.next();return s=l.done,l},e:function(l){a=!0,o=l},f:function(){try{s||t.return==null||t.return()}finally{if(a)throw o}}}}function nw(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nw=function(){return!!n})()}function ue(n){var e=nw();return function(){var t,r=rf(n);if(e){var i=rf(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return G_(this,t)}}var dee=10,RN=function(){function n(){re(this,n),L(this,"priority",void 0),L(this,"subPriority",0)}return ie(n,[{key:"validate",value:function(t,r){return!0}}]),n}(),ON=function(n){le(t,n);var e=ue(t);function t(r,i,o,s,a){var c;return re(this,t),c=e.call(this),c.value=r,c.validateValue=i,c.setValue=o,c.priority=s,a&&(c.subPriority=a),c}return ie(t,[{key:"validate",value:function(i,o){return this.validateValue(i,this.value,o)}},{key:"set",value:function(i,o,s){return this.setValue(i,o,this.value,s)}}]),t}(RN),NN=function(n){le(t,n);var e=ue(t);function t(){var r;re(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),L($(r),"priority",dee),L($(r),"subPriority",-1),r}return ie(t,[{key:"set",value:function(i,o){if(o.timestampIsSet)return i;var s=new Date(0);return s.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),s.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),s}}]),t}(RN);var fe=function(){function n(){re(this,n),L(this,"incompatibleTokens",void 0),L(this,"priority",void 0),L(this,"subPriority",void 0)}return ie(n,[{key:"run",value:function(t,r,i,o){var s=this.parse(t,r,i,o);return s?{setter:new ON(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}},{key:"validate",value:function(t,r,i){return!0}}]),n}();var PN=function(n){le(t,n);var e=ue(t);function t(){var r;re(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),L($(r),"priority",140),L($(r),"incompatibleTokens",["R","u","t","T"]),r}return ie(t,[{key:"parse",value:function(i,o,s){switch(o){case"G":case"GG":case"GGG":return s.era(i,{width:"abbreviated"})||s.era(i,{width:"narrow"});case"GGGGG":return s.era(i,{width:"narrow"});case"GGGG":default:return s.era(i,{width:"wide"})||s.era(i,{width:"abbreviated"})||s.era(i,{width:"narrow"})}}},{key:"set",value:function(i,o,s){return o.era=s,i.setUTCFullYear(s,0,1),i.setUTCHours(0,0,0,0),i}}]),t}(fe);var Qe={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Zr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function pt(n,e){return n&&{value:e(n.value),rest:n.rest}}function $e(n,e){var t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function Jr(n,e){var t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};var r=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,s=t[5]?parseInt(t[5],10):0;return{value:r*(i*od+o*id+s*wN),rest:e.slice(t[0].length)}}function cd(n){return $e(Qe.anyDigitsSigned,n)}function Re(n,e){switch(n){case 1:return $e(Qe.singleDigit,e);case 2:return $e(Qe.twoDigits,e);case 3:return $e(Qe.threeDigits,e);case 4:return $e(Qe.fourDigits,e);default:return $e(new RegExp("^\\d{1,"+n+"}"),e)}}function zl(n,e){switch(n){case 1:return $e(Qe.singleDigitSigned,e);case 2:return $e(Qe.twoDigitsSigned,e);case 3:return $e(Qe.threeDigitsSigned,e);case 4:return $e(Qe.fourDigitsSigned,e);default:return $e(new RegExp("^-?\\d{1,"+n+"}"),e)}}function Rl(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function ld(n,e){var t=e>0,r=t?e:1-e,i;if(r<=50)i=n||100;else{var o=r+50,s=Math.floor(o/100)*100,a=n>=o%100;i=n+s-(a?100:0)}return t?i:1-i}function ud(n){return n%400===0||n%4===0&&n%100!==0}var VN=function(n){le(t,n);var e=ue(t);function t(){var r;re(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),L($(r),"priority",130),L($(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return ie(t,[{key:"parse",value:function(i,o,s){var a=function(l){return{year:l,isTwoDigitYear:o==="yy"}};switch(o){case"y":return pt(Re(4,i),a);case"yo":return pt(s.ordinalNumber(i,{unit:"year"}),a);default:return pt(Re(o.length,i),a)}}},{key:"validate",value:function(i,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(i,o,s){var a=i.getUTCFullYear();if(s.isTwoDigitYear){var c=ld(s.year,a);return i.setUTCFullYear(c,0,1),i.setUTCHours(0,0,0,0),i}var l=!("era"in o)||o.era===1?s.year:1-s.year;return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}}]),t}(fe);var kN=function(n){le(t,n);var e=ue(t);function t(){var r;re(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),L($(r),"priority",130),L($(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return ie(t,[{key:"parse",value:function(i,o,s){var a=function(l){return{year:l,isTwoDigitYear:o==="YY"}};switch(o){case"Y":return pt(Re(4,i),a);case"Yo":return pt(s.ordinalNumber(i,{unit:"year"}),a);default:return pt(Re(o.length,i),a)}}},{key:"validate",value:function(i,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(i,o,s,a){var c=mc(i,a);if(s.isTwoDigitYear){var l=ld(s.year,c);return i.setUTCFullYear(l,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Hr(i,a)}var h=!("era"in o)||o.era===1?s.year:1-s.year;return i.setUTCFullYear(h,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Hr(i,a)}}]),t}(fe);var LN=function(n){le(t,n);var e=ue(t);function t(){var r;re(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),L($(r),"priority",130),L($(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return ie(t,[{key:"parse",value:function(i,o){return o==="R"?zl(4,i):zl(o.length,i)}},{key:"set",value:function(i,o,s){var a=new Date(0);return a.setUTCFullYear(s,0,4),a.setUTCHours(0,0,0,0),Xr(a)}}]),t}(fe);var FN=function(n){le(t,n);var e=ue(t);function t(){var r;re(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),L($(r),"priority",130),L($(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return ie(t,[{key:"parse",value:function(i,o){return o==="u"?zl(4,i):zl(o.length,i)}},{key:"set",value:function(i,o,s){return i.setUTCFullYear(s,0,1),i.setUTCHours(0,0,0,0),i}}]),t}(fe);var HN=function(n){le(t,n);var e=ue(t);function t(){var r;re(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),L($(r),"priority",120),L($(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return ie(t,[{key:"parse",value:function(i,o,s){switch(o){case"Q":case"QQ":return Re(o.length,i);case"Qo":return s.ordinalNumber(i,{unit:"quarter"});case"QQQ":return s.quarter(i,{width:"abbreviated",context:"formatting"})||s.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(i,{width:"wide",context:"formatting"})||s.quarter(i,{width:"abbreviated",context:"formatting"})||s.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=1&&o<=4}},{key:"set",value:function(i,o,s){return i.setUTCMonth((s-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),t}(fe);var BN=function(n){le(t,n);var e=ue(t);function t(){var r;re(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),L($(r),"priority",120),L($(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return ie(t,[{key:"parse",value:function(i,o,s){switch(o){case"q":case"qq":return Re(o.length,i);case"qo":return s.ordinalNumber(i,{unit:"quarter"});case"qqq":return s.quarter(i,{width:"abbreviated",context:"standalone"})||s.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(i,{width:"wide",context:"standalone"})||s.quarter(i,{width:"abbreviated",context:"standalone"})||s.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=1&&o<=4}},{key:"set",value:function(i,o,s){return i.setUTCMonth((s-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),t}(fe);var jN=function(n){le(t,n);var e=ue(t);function t(){var r;re(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),L($(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),L($(r),"priority",110),r}return ie(t,[{key:"parse",value:function(i,o,s){var a=function(l){return l-1};switch(o){case"M":return pt($e(Qe.month,i),a);case"MM":return pt(Re(2,i),a);case"Mo":return pt(s.ordinalNumber(i,{unit:"month"}),a);case"MMM":return s.month(i,{width:"abbreviated",context:"formatting"})||s.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(i,{width:"wide",context:"formatting"})||s.month(i,{width:"abbreviated",context:"formatting"})||s.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,s){return i.setUTCMonth(s,1),i.setUTCHours(0,0,0,0),i}}]),t}(fe);var UN=function(n){le(t,n);var e=ue(t);function t(){var r;re(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),L($(r),"priority",110),L($(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return ie(t,[{key:"parse",value:function(i,o,s){var a=function(l){return l-1};switch(o){case"L":return pt($e(Qe.month,i),a);case"LL":return pt(Re(2,i),a);case"Lo":return pt(s.ordinalNumber(i,{unit:"month"}),a);case"LLL":return s.month(i,{width:"abbreviated",context:"standalone"})||s.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(i,{width:"wide",context:"standalone"})||s.month(i,{width:"abbreviated",context:"standalone"})||s.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,s){return i.setUTCMonth(s,1),i.setUTCHours(0,0,0,0),i}}]),t}(fe);function rw(n,e,t){k(2,arguments);var r=Y(n),i=Ie(e),o=D3(r,t)-i;return r.setUTCDate(r.getUTCDate()-o*7),r}var $N=function(n){le(t,n);var e=ue(t);function t(){var r;re(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),L($(r),"priority",100),L($(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return ie(t,[{key:"parse",value:function(i,o,s){switch(o){case"w":return $e(Qe.week,i);case"wo":return s.ordinalNumber(i,{unit:"week"});default:return Re(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=53}},{key:"set",value:function(i,o,s,a){return Hr(rw(i,s,a),a)}}]),t}(fe);function iw(n,e){k(2,arguments);var t=Y(n),r=Ie(e),i=I3(t)-r;return t.setUTCDate(t.getUTCDate()-i*7),t}var qN=function(n){le(t,n);var e=ue(t);function t(){var r;re(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),L($(r),"priority",100),L($(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return ie(t,[{key:"parse",value:function(i,o,s){switch(o){case"I":return $e(Qe.week,i);case"Io":return s.ordinalNumber(i,{unit:"week"});default:return Re(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=53}},{key:"set",value:function(i,o,s){return Xr(iw(i,s))}}]),t}(fe);var fee=[31,28,31,30,31,30,31,31,30,31,30,31],pee=[31,29,31,30,31,30,31,31,30,31,30,31],WN=function(n){le(t,n);var e=ue(t);function t(){var r;re(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),L($(r),"priority",90),L($(r),"subPriority",1),L($(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return ie(t,[{key:"parse",value:function(i,o,s){switch(o){case"d":return $e(Qe.date,i);case"do":return s.ordinalNumber(i,{unit:"date"});default:return Re(o.length,i)}}},{key:"validate",value:function(i,o){var s=i.getUTCFullYear(),a=ud(s),c=i.getUTCMonth();return a?o>=1&&o<=pee[c]:o>=1&&o<=fee[c]}},{key:"set",value:function(i,o,s){return i.setUTCDate(s),i.setUTCHours(0,0,0,0),i}}]),t}(fe);var GN=function(n){le(t,n);var e=ue(t);function t(){var r;re(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),L($(r),"priority",90),L($(r),"subpriority",1),L($(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return ie(t,[{key:"parse",value:function(i,o,s){switch(o){case"D":case"DD":return $e(Qe.dayOfYear,i);case"Do":return s.ordinalNumber(i,{unit:"date"});default:return Re(o.length,i)}}},{key:"validate",value:function(i,o){var s=i.getUTCFullYear(),a=ud(s);return a?o>=1&&o<=366:o>=1&&o<=365}},{key:"set",value:function(i,o,s){return i.setUTCMonth(0,s),i.setUTCHours(0,0,0,0),i}}]),t}(fe);function _c(n,e,t){var r,i,o,s,a,c,l,h;k(2,arguments);var d=$n(),m=Ie((r=(i=(o=(s=t?.weekStartsOn)!==null&&s!==void 0?s:t==null||(a=t.locale)===null||a===void 0||(c=a.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&o!==void 0?o:d.weekStartsOn)!==null&&i!==void 0?i:(l=d.locale)===null||l===void 0||(h=l.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&r!==void 0?r:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=Y(n),y=Ie(e),_=g.getUTCDay(),M=y%7,z=(M+7)%7,F=(z<m?7:0)+y-_;return g.setUTCDate(g.getUTCDate()+F),g}var YN=function(n){le(t,n);var e=ue(t);function t(){var r;re(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),L($(r),"priority",90),L($(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return ie(t,[{key:"parse",value:function(i,o,s){switch(o){case"E":case"EE":case"EEE":return s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,s,a){return i=_c(i,s,a),i.setUTCHours(0,0,0,0),i}}]),t}(fe);var QN=function(n){le(t,n);var e=ue(t);function t(){var r;re(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),L($(r),"priority",90),L($(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return ie(t,[{key:"parse",value:function(i,o,s,a){var c=function(h){var d=Math.floor((h-1)/7)*7;return(h+a.weekStartsOn+6)%7+d};switch(o){case"e":case"ee":return pt(Re(o.length,i),c);case"eo":return pt(s.ordinalNumber(i,{unit:"day"}),c);case"eee":return s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,s,a){return i=_c(i,s,a),i.setUTCHours(0,0,0,0),i}}]),t}(fe);var KN=function(n){le(t,n);var e=ue(t);function t(){var r;re(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),L($(r),"priority",90),L($(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return ie(t,[{key:"parse",value:function(i,o,s,a){var c=function(h){var d=Math.floor((h-1)/7)*7;return(h+a.weekStartsOn+6)%7+d};switch(o){case"c":case"cc":return pt(Re(o.length,i),c);case"co":return pt(s.ordinalNumber(i,{unit:"day"}),c);case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"})||s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})||s.day(i,{width:"abbreviated",context:"standalone"})||s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,s,a){return i=_c(i,s,a),i.setUTCHours(0,0,0,0),i}}]),t}(fe);function ow(n,e){k(2,arguments);var t=Ie(e);t%7===0&&(t=t-7);var r=1,i=Y(n),o=i.getUTCDay(),s=t%7,a=(s+7)%7,c=(a<r?7:0)+t-o;return i.setUTCDate(i.getUTCDate()+c),i}var XN=function(n){le(t,n);var e=ue(t);function t(){var r;re(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),L($(r),"priority",90),L($(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return ie(t,[{key:"parse",value:function(i,o,s){var a=function(l){return l===0?7:l};switch(o){case"i":case"ii":return Re(o.length,i);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return pt(s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),a);case"iiiii":return pt(s.day(i,{width:"narrow",context:"formatting"}),a);case"iiiiii":return pt(s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),a);case"iiii":default:return pt(s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(i,o){return o>=1&&o<=7}},{key:"set",value:function(i,o,s){return i=ow(i,s),i.setUTCHours(0,0,0,0),i}}]),t}(fe);var ZN=function(n){le(t,n);var e=ue(t);function t(){var r;re(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),L($(r),"priority",80),L($(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return ie(t,[{key:"parse",value:function(i,o,s){switch(o){case"a":case"aa":case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,s){return i.setUTCHours(Rl(s),0,0,0),i}}]),t}(fe);var JN=function(n){le(t,n);var e=ue(t);function t(){var r;re(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),L($(r),"priority",80),L($(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return ie(t,[{key:"parse",value:function(i,o,s){switch(o){case"b":case"bb":case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,s){return i.setUTCHours(Rl(s),0,0,0),i}}]),t}(fe);var eP=function(n){le(t,n);var e=ue(t);function t(){var r;re(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),L($(r),"priority",80),L($(r),"incompatibleTokens",["a","b","t","T"]),r}return ie(t,[{key:"parse",value:function(i,o,s){switch(o){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,s){return i.setUTCHours(Rl(s),0,0,0),i}}]),t}(fe);var tP=function(n){le(t,n);var e=ue(t);function t(){var r;re(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),L($(r),"priority",70),L($(r),"incompatibleTokens",["H","K","k","t","T"]),r}return ie(t,[{key:"parse",value:function(i,o,s){switch(o){case"h":return $e(Qe.hour12h,i);case"ho":return s.ordinalNumber(i,{unit:"hour"});default:return Re(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=12}},{key:"set",value:function(i,o,s){var a=i.getUTCHours()>=12;return a&&s<12?i.setUTCHours(s+12,0,0,0):!a&&s===12?i.setUTCHours(0,0,0,0):i.setUTCHours(s,0,0,0),i}}]),t}(fe);var nP=function(n){le(t,n);var e=ue(t);function t(){var r;re(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),L($(r),"priority",70),L($(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return ie(t,[{key:"parse",value:function(i,o,s){switch(o){case"H":return $e(Qe.hour23h,i);case"Ho":return s.ordinalNumber(i,{unit:"hour"});default:return Re(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=23}},{key:"set",value:function(i,o,s){return i.setUTCHours(s,0,0,0),i}}]),t}(fe);var rP=function(n){le(t,n);var e=ue(t);function t(){var r;re(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),L($(r),"priority",70),L($(r),"incompatibleTokens",["h","H","k","t","T"]),r}return ie(t,[{key:"parse",value:function(i,o,s){switch(o){case"K":return $e(Qe.hour11h,i);case"Ko":return s.ordinalNumber(i,{unit:"hour"});default:return Re(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,s){var a=i.getUTCHours()>=12;return a&&s<12?i.setUTCHours(s+12,0,0,0):i.setUTCHours(s,0,0,0),i}}]),t}(fe);var iP=function(n){le(t,n);var e=ue(t);function t(){var r;re(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),L($(r),"priority",70),L($(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return ie(t,[{key:"parse",value:function(i,o,s){switch(o){case"k":return $e(Qe.hour24h,i);case"ko":return s.ordinalNumber(i,{unit:"hour"});default:return Re(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=24}},{key:"set",value:function(i,o,s){var a=s<=24?s%24:s;return i.setUTCHours(a,0,0,0),i}}]),t}(fe);var oP=function(n){le(t,n);var e=ue(t);function t(){var r;re(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),L($(r),"priority",60),L($(r),"incompatibleTokens",["t","T"]),r}return ie(t,[{key:"parse",value:function(i,o,s){switch(o){case"m":return $e(Qe.minute,i);case"mo":return s.ordinalNumber(i,{unit:"minute"});default:return Re(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=59}},{key:"set",value:function(i,o,s){return i.setUTCMinutes(s,0,0),i}}]),t}(fe);var sP=function(n){le(t,n);var e=ue(t);function t(){var r;re(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),L($(r),"priority",50),L($(r),"incompatibleTokens",["t","T"]),r}return ie(t,[{key:"parse",value:function(i,o,s){switch(o){case"s":return $e(Qe.second,i);case"so":return s.ordinalNumber(i,{unit:"second"});default:return Re(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=59}},{key:"set",value:function(i,o,s){return i.setUTCSeconds(s,0),i}}]),t}(fe);var aP=function(n){le(t,n);var e=ue(t);function t(){var r;re(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),L($(r),"priority",30),L($(r),"incompatibleTokens",["t","T"]),r}return ie(t,[{key:"parse",value:function(i,o){var s=function(c){return Math.floor(c*Math.pow(10,-o.length+3))};return pt(Re(o.length,i),s)}},{key:"set",value:function(i,o,s){return i.setUTCMilliseconds(s),i}}]),t}(fe);var cP=function(n){le(t,n);var e=ue(t);function t(){var r;re(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),L($(r),"priority",10),L($(r),"incompatibleTokens",["t","T","x"]),r}return ie(t,[{key:"parse",value:function(i,o){switch(o){case"X":return Jr(Zr.basicOptionalMinutes,i);case"XX":return Jr(Zr.basic,i);case"XXXX":return Jr(Zr.basicOptionalSeconds,i);case"XXXXX":return Jr(Zr.extendedOptionalSeconds,i);case"XXX":default:return Jr(Zr.extended,i)}}},{key:"set",value:function(i,o,s){return o.timestampIsSet?i:new Date(i.getTime()-s)}}]),t}(fe);var lP=function(n){le(t,n);var e=ue(t);function t(){var r;re(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),L($(r),"priority",10),L($(r),"incompatibleTokens",["t","T","X"]),r}return ie(t,[{key:"parse",value:function(i,o){switch(o){case"x":return Jr(Zr.basicOptionalMinutes,i);case"xx":return Jr(Zr.basic,i);case"xxxx":return Jr(Zr.basicOptionalSeconds,i);case"xxxxx":return Jr(Zr.extendedOptionalSeconds,i);case"xxx":default:return Jr(Zr.extended,i)}}},{key:"set",value:function(i,o,s){return o.timestampIsSet?i:new Date(i.getTime()-s)}}]),t}(fe);var uP=function(n){le(t,n);var e=ue(t);function t(){var r;re(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),L($(r),"priority",40),L($(r),"incompatibleTokens","*"),r}return ie(t,[{key:"parse",value:function(i){return cd(i)}},{key:"set",value:function(i,o,s){return[new Date(s*1e3),{timestampIsSet:!0}]}}]),t}(fe);var hP=function(n){le(t,n);var e=ue(t);function t(){var r;re(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),L($(r),"priority",20),L($(r),"incompatibleTokens","*"),r}return ie(t,[{key:"parse",value:function(i){return cd(i)}},{key:"set",value:function(i,o,s){return[new Date(s),{timestampIsSet:!0}]}}]),t}(fe);var dP={G:new PN,y:new VN,Y:new kN,R:new LN,u:new FN,Q:new HN,q:new BN,M:new jN,L:new UN,w:new $N,I:new qN,d:new WN,D:new GN,E:new YN,e:new QN,c:new KN,i:new XN,a:new ZN,b:new JN,B:new eP,h:new tP,H:new nP,K:new rP,k:new iP,m:new oP,s:new sP,S:new aP,X:new cP,x:new lP,t:new uP,T:new hP};var mee=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,gee=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,vee=/^'([^]*?)'?$/,yee=/''/g,wee=/\S/,_ee=/[a-zA-Z]/;function fP(n,e,t,r){var i,o,s,a,c,l,h,d,m,g,y,_,M,z,F,P,Q,ne;k(3,arguments);var K=String(n),C=String(e),w=$n(),b=(i=(o=r?.locale)!==null&&o!==void 0?o:w.locale)!==null&&i!==void 0?i:ed;if(!b.match)throw new RangeError("locale must contain match property");var T=Ie((s=(a=(c=(l=r?.firstWeekContainsDate)!==null&&l!==void 0?l:r==null||(h=r.locale)===null||h===void 0||(d=h.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&c!==void 0?c:w.firstWeekContainsDate)!==null&&a!==void 0?a:(m=w.locale)===null||m===void 0||(g=m.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var I=Ie((y=(_=(M=(z=r?.weekStartsOn)!==null&&z!==void 0?z:r==null||(F=r.locale)===null||F===void 0||(P=F.options)===null||P===void 0?void 0:P.weekStartsOn)!==null&&M!==void 0?M:w.weekStartsOn)!==null&&_!==void 0?_:(Q=w.locale)===null||Q===void 0||(ne=Q.options)===null||ne===void 0?void 0:ne.weekStartsOn)!==null&&y!==void 0?y:0);if(!(I>=0&&I<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(C==="")return K===""?Y(t):new Date(NaN);var S={firstWeekContainsDate:T,weekStartsOn:I,locale:b},E=[new NN],Nn=C.match(gee).map(function(vt){var Oe=vt[0];if(Oe in S3){var Wt=S3[Oe];return Wt(vt,b.formatLong)}return vt}).join("").match(mee),Mt=[],Z=tw(Nn),ae;try{var me=function(){var Oe=ae.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&Jh(Oe)&&xl(Oe,C,n),!(r!=null&&r.useAdditionalDayOfYearTokens)&&Zh(Oe)&&xl(Oe,C,n);var Wt=Oe[0],_r=dP[Wt];if(_r){var Dc=_r.incompatibleTokens;if(Array.isArray(Dc)){var Sc=Mt.find(function(xc){return Dc.includes(xc.token)||xc.token===Wt});if(Sc)throw new RangeError("The format string mustn't contain `".concat(Sc.fullToken,"` and `").concat(Oe,"` at the same time"))}else if(_r.incompatibleTokens==="*"&&Mt.length>0)throw new RangeError("The format string mustn't contain `".concat(Oe,"` and any other token at the same time"));Mt.push({token:Wt,fullToken:Oe});var ea=_r.run(K,Oe,b.match,S);if(!ea)return{v:new Date(NaN)};E.push(ea.setter),K=ea.rest}else{if(Wt.match(_ee))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Wt+"`");if(Oe==="''"?Oe="'":Wt==="'"&&(Oe=bee(Oe)),K.indexOf(Oe)===0)K=K.slice(Oe.length);else return{v:new Date(NaN)}}};for(Z.s();!(ae=Z.n()).done;){var Pe=me();if(Nc(Pe)==="object")return Pe.v}}catch(vt){Z.e(vt)}finally{Z.f()}if(K.length>0&&wee.test(K))return new Date(NaN);var Vt=E.map(function(vt){return vt.priority}).sort(function(vt,Oe){return Oe-vt}).filter(function(vt,Oe,Wt){return Wt.indexOf(vt)===Oe}).map(function(vt){return E.filter(function(Oe){return Oe.priority===vt}).sort(function(Oe,Wt){return Wt.subPriority-Oe.subPriority})}).map(function(vt){return vt[0]}),Pn=Y(t);if(isNaN(Pn.getTime()))return new Date(NaN);var mt=M3(Pn,Xs(Pn)),gt={},ot=tw(Vt),ti;try{for(ot.s();!(ti=ot.n()).done;){var Ic=ti.value;if(!Ic.validate(mt,S))return new Date(NaN);var yt=Ic.set(mt,gt,S);Array.isArray(yt)?(mt=yt[0],Jy(gt,yt[1])):mt=yt}}catch(vt){ot.e(vt)}finally{ot.f()}return mt}function bee(n){return n.match(vee)[1].replace(yee,"'")}function hd(n){k(1,arguments);var e=Y(n);return e.setMinutes(0,0,0),e}function pP(n,e){k(2,arguments);var t=hd(n),r=hd(e);return t.getTime()===r.getTime()}function mP(n,e){k(2,arguments);var t=ad(n),r=ad(e);return t.getTime()===r.getTime()}function gP(n,e){k(2,arguments);var t=Y(n),r=Y(e);return t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()}function vP(n,e){k(2,arguments);var t=z3(n),r=z3(e);return t.getTime()===r.getTime()}function dd(n){k(1,arguments);var e=Y(n);return e.setMilliseconds(0),e}function yP(n,e){k(2,arguments);var t=dd(n),r=dd(e);return t.getTime()===r.getTime()}function wP(n,e){k(2,arguments);var t=Y(n),r=Y(e);return t.getFullYear()===r.getFullYear()}function _P(n){return k(1,arguments),sd(n,Date.now())}function fd(n,e){k(2,arguments);var t=Y(n),r=Ie(e),i=t.getFullYear(),o=t.getDate(),s=new Date(0);s.setFullYear(i,r,15),s.setHours(0,0,0,0);var a=ew(s);return t.setMonth(r,Math.min(o,a)),t}function bP(n,e,t){var r,i,o,s,a,c,l,h;k(2,arguments);var d=$n(),m=Ie((r=(i=(o=(s=t?.weekStartsOn)!==null&&s!==void 0?s:t==null||(a=t.locale)===null||a===void 0||(c=a.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&o!==void 0?o:d.weekStartsOn)!==null&&i!==void 0?i:(l=d.locale)===null||l===void 0||(h=l.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&r!==void 0?r:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=Y(n),y=Ie(e),_=g.getDay(),M=y%7,z=(M+7)%7,F=7-m,P=y<0||y>6?y-(_+F)%7:(z+F)%7-(_+F)%7;return td(g,P)}function EP(n,e){k(2,arguments);var t=Y(n),r=Ie(e),i=Math.floor(t.getMonth()/3)+1,o=r-i;return fd(t,t.getMonth()+o*3)}function CP(n,e){k(2,arguments);var t=Y(n),r=Ie(e);return isNaN(t.getTime())?new Date(NaN):(t.setFullYear(r),t)}function MP(n){return new W(3e3,!1)}function Eee(){return new W(3100,!1)}function Cee(){return new W(3101,!1)}function Mee(n){return new W(3001,!1)}function Tee(n){return new W(3003,!1)}function Iee(n){return new W(3004,!1)}function Dee(n,e){return new W(3005,!1)}function See(){return new W(3006,!1)}function xee(){return new W(3007,!1)}function Aee(n,e){return new W(3008,!1)}function zee(n){return new W(3002,!1)}function Ree(n,e,t,r,i){return new W(3010,!1)}function Oee(){return new W(3011,!1)}function Nee(){return new W(3012,!1)}function Pee(){return new W(3200,!1)}function Vee(){return new W(3202,!1)}function kee(){return new W(3013,!1)}function Lee(n){return new W(3014,!1)}function Fee(n){return new W(3015,!1)}function Hee(n){return new W(3016,!1)}function Bee(n,e){return new W(3404,!1)}function jee(n){return new W(3502,!1)}function Uee(n){return new W(3503,!1)}function $ee(){return new W(3300,!1)}function qee(n){return new W(3504,!1)}function Wee(n){return new W(3301,!1)}function Gee(n,e){return new W(3302,!1)}function Yee(n){return new W(3303,!1)}function Qee(n,e){return new W(3400,!1)}function Kee(n){return new W(3401,!1)}function Xee(n){return new W(3402,!1)}function Zee(n,e){return new W(3505,!1)}function Js(n){switch(n.length){case 0:return new Qs;case 1:return n[0];default:return new v3(n)}}function LP(n,e,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),h=l==s,d=h&&a||new Map;c.forEach((m,g)=>{let y=g,_=m;if(g!=="offset")switch(y=n.normalizePropertyName(y,i),_){case Fh:_=t.get(g);break;case Zi:_=r.get(g);break;default:_=n.normalizeStyleValue(g,y,_,i);break}d.set(y,_)}),h||o.push(d),a=d,s=l}),i.length)throw jee(i);return o}function Sw(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&sw(t,"start",n)));break;case"done":n.onDone(()=>r(t&&sw(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&sw(t,"destroy",n)));break}}function sw(n,e,t){let r=t.totalTime,i=!!t.disabled,o=xw(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function xw(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function jr(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function TP(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var Jee=typeof document>"u"?null:document.documentElement;function Aw(n){let e=n.parentNode||n.host||null;return e===Jee?null:e}function ete(n){return n.substring(1,6)=="ebkit"}var bc=null,IP=!1;function tte(n){bc||(bc=nte()||{},IP=bc.style?"WebkitAppearance"in bc.style:!1);let e=!0;return bc.style&&!ete(n)&&(e=n in bc.style,!e&&IP&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in bc.style)),e}function nte(){return typeof document<"u"?document.body:null}function FP(n,e){for(;e;){if(e===n)return!0;e=Aw(e)}return!1}function HP(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var zw=(()=>{class n{validateStyleProperty(t){return tte(t)}matchesElement(t,r){return!1}containsElement(t,r){return FP(t,r)}getParentElement(t){return Aw(t)}query(t,r,i){return HP(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],c){return new Qs(i,o)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),Mc=class{static{this.NOOP=new zw}},Tc=class{};var rte=1e3,BP="{{",ite="}}",jP="ng-enter",dw="ng-leave",pd="ng-trigger",wd=".ng-trigger",DP="ng-animating",fw=".ng-animating";function Go(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:pw(parseFloat(e[1]),e[2])}function pw(n,e){switch(e){case"s":return n*rte;default:return n}}function _d(n,e,t){return n.hasOwnProperty("duration")?n:ote(n,e,t)}function ote(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(MP(n)),{duration:0,delay:0,easing:""};i=pw(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=pw(parseFloat(c),a[4]));let l=a[5];l&&(s=l)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(Eee()),a=!0),o<0&&(e.push(Cee()),a=!0),a&&e.splice(c,0,MP(n))}return{duration:i,delay:o,easing:s}}function ste(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function to(n,e,t){e.forEach((r,i)=>{let o=Rw(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function Cc(n,e){e.forEach((t,r)=>{let i=Rw(r);n.style[i]=""})}function R3(n){return Array.isArray(n)?n.length==1?n[0]:TO(n):n}function ate(n,e,t){let r=e.params||{},i=UP(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(Mee(o))})}var mw=new RegExp(`${BP}\\s*(.+?)\\s*${ite}`,"g");function UP(n){let e=[];if(typeof n=="string"){let t;for(;t=mw.exec(n);)e.push(t[1]);mw.lastIndex=0}return e}function N3(n,e,t){let r=`${n}`,i=r.replace(mw,(o,s)=>{let a=e[s];return a==null&&(t.push(Tee(s)),a=""),a.toString()});return i==r?n:i}var cte=/-+([a-z0-9])/g;function Rw(n){return n.replace(cte,(...e)=>e[1].toUpperCase())}function lte(n,e){return n===0||e===0}function ute(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,Ow(n,a)))}}return e}function Br(n,e,t){switch(e.type){case xe.Trigger:return n.visitTrigger(e,t);case xe.State:return n.visitState(e,t);case xe.Transition:return n.visitTransition(e,t);case xe.Sequence:return n.visitSequence(e,t);case xe.Group:return n.visitGroup(e,t);case xe.Animate:return n.visitAnimate(e,t);case xe.Keyframes:return n.visitKeyframes(e,t);case xe.Style:return n.visitStyle(e,t);case xe.Reference:return n.visitReference(e,t);case xe.AnimateChild:return n.visitAnimateChild(e,t);case xe.AnimateRef:return n.visitAnimateRef(e,t);case xe.Query:return n.visitQuery(e,t);case xe.Stagger:return n.visitStagger(e,t);default:throw Iee(e.type)}}function Ow(n,e){return window.getComputedStyle(n)[e]}var hte=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),bd=class extends Tc{normalizePropertyName(e,t){return Rw(e)}normalizeStyleValue(e,t,r,i){let o="",s=r.toString().trim();if(hte.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(Dee(e,r))}return s+o}};var Ed="*";function dte(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>fte(r,t,e)):t.push(n),t}function fte(n,e,t){if(n[0]==":"){let c=pte(n,t);if(typeof c=="function"){e.push(c);return}n=c}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(Fee(n)),e;let i=r[1],o=r[2],s=r[3];e.push(SP(i,s));let a=i==Ed&&s==Ed;o[0]=="<"&&!a&&e.push(SP(s,i))}function pte(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(Hee(n)),"* => *"}}var md=new Set(["true","1"]),gd=new Set(["false","0"]);function SP(n,e){let t=md.has(n)||gd.has(n),r=md.has(e)||gd.has(e);return(i,o)=>{let s=n==Ed||n==i,a=e==Ed||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?md.has(n):gd.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?md.has(e):gd.has(e)),s&&a}}var $P=":self",mte=new RegExp(`s*${$P}s*,?`,"g");function qP(n,e,t,r){return new gw(n).build(e,t,r)}var xP="",gw=class{constructor(e){this._driver=e}build(e,t,r){let i=new vw(t);return this._resetContextStyleTimingState(i),Br(this,R3(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=xP,e.collectedStyles=new Map,e.collectedStyles.set(xP,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(See()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==xe.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(h=>{c.name=h,o.push(this.visitState(c,t))}),c.name=l}else if(a.type==xe.Transition){let c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push(xee())}),{type:xe.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{UP(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&t.errors.push(Aee(e.name,[...o.values()]))}return{type:xe.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=Br(this,R3(e.animation),t),i=dte(e.expr,t.errors);return{type:xe.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Ec(e.options)}}visitSequence(e,t){return{type:xe.Sequence,steps:e.steps.map(r=>Br(this,r,t)),options:Ec(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=r;let a=Br(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:xe.Group,steps:o,options:Ec(e.options)}}visitAnimate(e,t){let r=wte(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:ye({});if(o.type==xe.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let l={};r.easing&&(l.easing=r.easing),s=ye(l)}t.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:xe.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===Zi?r.push(a):t.errors.push(zee(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(BP)>=0){o=!0;break}}}),{type:xe.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=t.collectedStyles.get(t.currentQuerySelector),h=l.get(c),d=!0;h&&(o!=i&&o>=h.startTime&&i<=h.endTime&&(t.errors.push(Ree(c,h.startTime,h.endTime,o,i)),d=!1),o=h.startTime),d&&l.set(c,{startTime:o,endTime:i}),t.options&&ate(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:xe.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(Oee()),r;let i=1,o=0,s=[],a=!1,c=!1,l=0,h=e.steps.map(z=>{let F=this._makeStyleAst(z,t),P=F.offset!=null?F.offset:yte(F.styles),Q=0;return P!=null&&(o++,Q=F.offset=P),c=c||Q<0||Q>1,a=a||Q<l,l=Q,s.push(Q),F});c&&t.errors.push(Nee()),a&&t.errors.push(Pee());let d=e.steps.length,m=0;o>0&&o<d?t.errors.push(Vee()):o==0&&(m=i/(d-1));let g=d-1,y=t.currentTime,_=t.currentAnimateTimings,M=_.duration;return h.forEach((z,F)=>{let P=m>0?F==g?1:m*F:s[F],Q=P*M;t.currentTime=y+_.delay+Q,_.duration=Q,this._validateStyleAst(z,t),z.offset=P,r.styles.push(z)}),r}visitReference(e,t){return{type:xe.Reference,animation:Br(this,R3(e.animation),t),options:Ec(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:xe.AnimateChild,options:Ec(e.options)}}visitAnimateRef(e,t){return{type:xe.AnimateRef,animation:this.visitReference(e.animation,t),options:Ec(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=gte(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,jr(t.collectedStyles,t.currentQuerySelector,new Map);let a=Br(this,R3(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:xe.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Ec(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(kee());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:_d(e.timings,t.errors,!0);return{type:xe.Stagger,animation:Br(this,R3(e.animation),t),timings:r,options:null}}};function gte(n){let e=!!n.split(/\s*,\s*/).find(t=>t==$P);return e&&(n=n.replace(mte,"")),n=n.replace(/@\*/g,wd).replace(/@\w+/g,t=>wd+"-"+t.slice(1)).replace(/:animating/g,fw),[n,e]}function vte(n){return n?q({},n):null}var vw=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function yte(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function wte(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=_d(n,e).duration;return aw(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=aw(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=_d(t,e);return aw(i.duration,i.delay,i.easing)}function Ec(n){return n?(n=q({},n),n.params&&(n.params=vte(n.params))):n={},n}function aw(n,e,t){return{duration:n,delay:e,easing:t}}function Nw(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var P3=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},_te=1,bte=":enter",Ete=new RegExp(bte,"g"),Cte=":leave",Mte=new RegExp(Cte,"g");function WP(n,e,t,r,i,o=new Map,s=new Map,a,c,l=[]){return new yw().buildKeyframes(n,e,t,r,i,o,s,a,c,l)}var yw=class{buildKeyframes(e,t,r,i,o,s,a,c,l,h=[]){l=l||new P3;let d=new ww(e,t,l,i,o,h,[]);d.options=c;let m=c.delay?Go(c.delay):0;d.currentTimeline.delayNextStep(m),d.currentTimeline.setStyles([s],null,d.errors,c),Br(this,r,d);let g=d.timelines.filter(y=>y.containsAnimation());if(g.length&&a.size){let y;for(let _=g.length-1;_>=0;_--){let M=g[_];if(M.element===t){y=M;break}}y&&!y.allowOnlyTimelineStyles()&&y.setStyles([a],null,d.errors,c)}return g.length?g.map(y=>y.buildKeyframes()):[Nw(t,[],[],[],0,m,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:Go(N3(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?Go(r.duration):null,a=r.delay!=null?Go(r.delay):null;return s!==0&&e.forEach(c=>{let l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Br(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==xe.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Cd);let s=Go(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Br(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?Go(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),Br(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?N3(r,t.params,t.errors):r;return _d(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==xe.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Go(i.delay):0;o&&(t.previousNode.type===xe.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Cd);let s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,h)=>{t.currentQueryIndex=h;let d=t.createSubContext(e.options,l);o&&d.delayNextStep(o),l===t.element&&(c=d.currentTimeline),Br(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let m=d.currentTimeline.currentTime;s=Math.max(s,m)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let h=t.currentTimeline;c&&h.delayNextStep(c);let d=h.currentTime;Br(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},Cd={},ww=class n{constructor(e,t,r,i,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Cd,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new Md(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=Go(r.duration)),r.delay!=null&&(i.delay=Go(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=N3(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Cd,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new _w(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(Ete,"."+this._enterClassName),e=e.replace(Mte,"."+this._leaveClassName);let c=r!=1,l=this._driver.query(this.element,e,c);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&a.length==0&&s.push(Lee(t)),a}},Md=class n{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=_te,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Zi),this._currentKeyframe.set(t,Zi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=Tte(e,this._globalTimelineStyles);for(let[a,c]of s){let l=N3(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Zi),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((h,d)=>{h===Fh?e.add(d):h===Zi&&t.add(d)}),r||l.set("offset",c/this.duration),i.push(l)});let o=[...e.values()],s=[...t.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return Nw(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},_w=class extends Md{constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let l=new Map(e[0]);l.set("offset",AP(a)),o.push(l);let h=e.length-1;for(let d=1;d<=h;d++){let m=new Map(e[d]),g=m.get("offset"),y=t+g*r;m.set("offset",AP(y/s)),o.push(m)}r=s,t=0,i="",e=o}return Nw(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function AP(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function Tte(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)t.set(o,Zi)}else for(let[o,s]of i)t.set(o,s)}),t}function zP(n,e,t,r,i,o,s,a,c,l,h,d,m){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:h,totalTime:d,errors:m}}var cw={},Td=class{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return Ite(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,c,l,h){let d=[],m=this.ast.options&&this.ast.options.params||cw,g=a&&a.params||cw,y=this.buildStyles(r,g,d),_=c&&c.params||cw,M=this.buildStyles(i,_,d),z=new Set,F=new Map,P=new Map,Q=i==="void",ne={params:GP(_,m),delay:this.ast.options?.delay},K=h?[]:WP(e,t,this.ast.animation,o,s,y,M,ne,l,d),C=0;return K.forEach(w=>{C=Math.max(w.duration+w.delay,C)}),d.length?zP(t,this._triggerName,r,i,Q,y,M,[],[],F,P,C,d):(K.forEach(w=>{let b=w.element,T=jr(F,b,new Set);w.preStyleProps.forEach(S=>T.add(S));let I=jr(P,b,new Set);w.postStyleProps.forEach(S=>I.add(S)),b!==t&&z.add(b)}),zP(t,this._triggerName,r,i,Q,y,M,K,[...z.values()],F,P,C))}};function Ite(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}function GP(n,e){let t=q({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var bw=class{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=GP(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=N3(s,i,t));let c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(a,s)})}),r}};function Dte(n,e,t){return new Ew(n,e,t)}var Ew=class{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new bw(i.style,o,r))}),RP(this.states,"true","1"),RP(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Td(e,i,this.states))}),this.fallbackTransition=Ste(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function Ste(n,e,t){let r=[(s,a)=>!0],i={type:xe.Sequence,steps:[],options:null},o={type:xe.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Td(n,o,e)}function RP(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var xte=new P3,Cw=class{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let r=[],i=[],o=qP(this._driver,t,r,i);if(r.length)throw Uee(r);i.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,t,r){let i=e.element,o=LP(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=WP(this._driver,t,o,jP,dw,new Map,new Map,r,xte,i),s.forEach(h=>{let d=jr(a,h.element,new Map);h.postStyleProps.forEach(m=>d.set(m,null))})):(i.push($ee()),s=[]),i.length)throw qee(i);a.forEach((h,d)=>{h.forEach((m,g)=>{h.set(g,this._driver.computeStyle(d,g,Zi))})});let c=s.map(h=>{let d=a.get(h.element);return this._buildPlayer(h,new Map,d)}),l=Js(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw Wee(e);return t}listen(e,t,r,i){let o=xw(t,"","","");return Sw(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},OP="ng-animate-queued",Ate=".ng-animate-queued",lw="ng-animate-disabled",zte=".ng-animate-disabled",Rte="ng-star-inserted",Ote=".ng-star-inserted",Nte=[],YP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Pte={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Mi="__ng_removed",V3=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=kte(i),r){let o=e,{value:s}=o,a=J3(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},O3="void",uw=new V3(O3),Mw=class{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ei(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw Gee(r,t);if(r==null||r.length==0)throw Yee(t);if(!Lte(r))throw Qee(r,t);let o=jr(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);let a=jr(this._engine.statesByElement,e,new Map);return a.has(t)||(ei(e,pd),ei(e,pd+"-"+t),a.set(t,uw)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw Kee(e);return t}trigger(e,t,r,i=!0){let o=this._getTrigger(t),s=new k3(this.id,t,e),a=this._engine.statesByElement.get(e);a||(ei(e,pd),ei(e,pd+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),l=new V3(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=uw),!(l.value===O3)&&c.value===l.value){if(!Bte(c.params,l.params)){let _=[],M=o.matchStyles(c.value,c.params,_),z=o.matchStyles(l.value,l.params,_);_.length?this._engine.reportError(_):this._engine.afterFlush(()=>{Cc(e,M),to(e,z)})}return}let m=jr(this._engine.playersByElement,e,[]);m.forEach(_=>{_.namespaceId==this.id&&_.triggerName==t&&_.queued&&_.destroy()});let g=o.matchTransition(c.value,l.value,e,l.params),y=!1;if(!g){if(!i)return;g=o.fallbackTransition,y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:g,fromState:c,toState:l,player:s,isFallbackTransition:y}),y||(ei(e,OP),s.onStart(()=>{Ol(e,OP)})),s.onDone(()=>{let _=this.players.indexOf(s);_>=0&&this.players.splice(_,1);let M=this._engine.playersByElement.get(e);if(M){let z=M.indexOf(s);z>=0&&M.splice(z,1)}}),this.players.push(s),m.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,wd,!0);r.forEach(i=>{if(i[Mi])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let h=this.trigger(e,l,O3,i);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&Js(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,l=r.get(s)||uw,h=new V3(O3),d=new k3(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:h,player:d,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[Mi];(!o||o===YP)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){ei(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=xw(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,Sw(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},Tw=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r,i){this.bodyNode=e,this.driver=t,this._normalizer=r,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new Mw(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let c=i.get(a);if(c){let l=r.indexOf(c);r.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,i){if(vd(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!vd(t))return;let o=t[Mi];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ei(e,lw)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ol(e,lw))}removeNode(e,t,r){if(vd(t)){this.scheduler?.notify();let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[Mi]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return vd(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,wd,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,fw,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Js(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Mi];if(t&&t.setForRemoval){if(e[Mi]=YP,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(lw)&&this.markElementAsDisabled(e,!1),this.driver.query(e,zte,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];ei(i,Rte)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?Js(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw Xee(e)}_flushAnimations(e,t){let r=new P3,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,h=new Set;this.disabledNodes.forEach(Z=>{h.add(Z);let ae=this.driver.query(Z,Ate,!0);for(let me=0;me<ae.length;me++)h.add(ae[me])});let d=this.bodyNode,m=Array.from(this.statesByElement.keys()),g=VP(m,this.collectedEnterElements),y=new Map,_=0;g.forEach((Z,ae)=>{let me=jP+_++;y.set(ae,me),Z.forEach(Pe=>ei(Pe,me))});let M=[],z=new Set,F=new Set;for(let Z=0;Z<this.collectedLeaveElements.length;Z++){let ae=this.collectedLeaveElements[Z],me=ae[Mi];me&&me.setForRemoval&&(M.push(ae),z.add(ae),me.hasAnimation?this.driver.query(ae,Ote,!0).forEach(Pe=>z.add(Pe)):F.add(ae))}let P=new Map,Q=VP(m,Array.from(z));Q.forEach((Z,ae)=>{let me=dw+_++;P.set(ae,me),Z.forEach(Pe=>ei(Pe,me))}),e.push(()=>{g.forEach((Z,ae)=>{let me=y.get(ae);Z.forEach(Pe=>Ol(Pe,me))}),Q.forEach((Z,ae)=>{let me=P.get(ae);Z.forEach(Pe=>Ol(Pe,me))}),M.forEach(Z=>{this.processLeaveNode(Z)})});let ne=[],K=[];for(let Z=this._namespaceList.length-1;Z>=0;Z--)this._namespaceList[Z].drainQueuedTransitions(t).forEach(me=>{let Pe=me.player,Vt=me.element;if(ne.push(Pe),this.collectedEnterElements.length){let yt=Vt[Mi];if(yt&&yt.setForMove){if(yt.previousTriggersValues&&yt.previousTriggersValues.has(me.triggerName)){let vt=yt.previousTriggersValues.get(me.triggerName),Oe=this.statesByElement.get(me.element);if(Oe&&Oe.has(me.triggerName)){let Wt=Oe.get(me.triggerName);Wt.value=vt,Oe.set(me.triggerName,Wt)}}Pe.destroy();return}}let Pn=!d||!this.driver.containsElement(d,Vt),mt=P.get(Vt),gt=y.get(Vt),ot=this._buildInstruction(me,r,gt,mt,Pn);if(ot.errors&&ot.errors.length){K.push(ot);return}if(Pn){Pe.onStart(()=>Cc(Vt,ot.fromStyles)),Pe.onDestroy(()=>to(Vt,ot.toStyles)),i.push(Pe);return}if(me.isFallbackTransition){Pe.onStart(()=>Cc(Vt,ot.fromStyles)),Pe.onDestroy(()=>to(Vt,ot.toStyles)),i.push(Pe);return}let ti=[];ot.timelines.forEach(yt=>{yt.stretchStartingKeyframe=!0,this.disabledNodes.has(yt.element)||ti.push(yt)}),ot.timelines=ti,r.append(Vt,ot.timelines);let Ic={instruction:ot,player:Pe,element:Vt};s.push(Ic),ot.queriedElements.forEach(yt=>jr(a,yt,[]).push(Pe)),ot.preStyleProps.forEach((yt,vt)=>{if(yt.size){let Oe=c.get(vt);Oe||c.set(vt,Oe=new Set),yt.forEach((Wt,_r)=>Oe.add(_r))}}),ot.postStyleProps.forEach((yt,vt)=>{let Oe=l.get(vt);Oe||l.set(vt,Oe=new Set),yt.forEach((Wt,_r)=>Oe.add(_r))})});if(K.length){let Z=[];K.forEach(ae=>{Z.push(Zee(ae.triggerName,ae.errors))}),ne.forEach(ae=>ae.destroy()),this.reportError(Z)}let C=new Map,w=new Map;s.forEach(Z=>{let ae=Z.element;r.has(ae)&&(w.set(ae,ae),this._beforeAnimationBuild(Z.player.namespaceId,Z.instruction,C))}),i.forEach(Z=>{let ae=Z.element;this._getPreviousPlayers(ae,!1,Z.namespaceId,Z.triggerName,null).forEach(Pe=>{jr(C,ae,[]).push(Pe),Pe.destroy()})});let b=M.filter(Z=>kP(Z,c,l)),T=new Map;PP(T,this.driver,F,l,Zi).forEach(Z=>{kP(Z,c,l)&&b.push(Z)});let S=new Map;g.forEach((Z,ae)=>{PP(S,this.driver,new Set(Z),c,Fh)}),b.forEach(Z=>{let ae=T.get(Z),me=S.get(Z);T.set(Z,new Map([...ae?.entries()??[],...me?.entries()??[]]))});let E=[],Nn=[],Mt={};s.forEach(Z=>{let{element:ae,player:me,instruction:Pe}=Z;if(r.has(ae)){if(h.has(ae)){me.onDestroy(()=>to(ae,Pe.toStyles)),me.disabled=!0,me.overrideTotalTime(Pe.totalTime),i.push(me);return}let Vt=Mt;if(w.size>1){let mt=ae,gt=[];for(;mt=mt.parentNode;){let ot=w.get(mt);if(ot){Vt=ot;break}gt.push(mt)}gt.forEach(ot=>w.set(ot,Vt))}let Pn=this._buildAnimation(me.namespaceId,Pe,C,o,S,T);if(me.setRealPlayer(Pn),Vt===Mt)E.push(me);else{let mt=this.playersByElement.get(Vt);mt&&mt.length&&(me.parentPlayer=Js(mt)),i.push(me)}}else Cc(ae,Pe.fromStyles),me.onDestroy(()=>to(ae,Pe.toStyles)),Nn.push(me),h.has(ae)&&i.push(me)}),Nn.forEach(Z=>{let ae=o.get(Z.element);if(ae&&ae.length){let me=Js(ae);Z.setRealPlayer(me)}}),i.forEach(Z=>{Z.parentPlayer?Z.syncPlayerEvents(Z.parentPlayer):Z.destroy()});for(let Z=0;Z<M.length;Z++){let ae=M[Z],me=ae[Mi];if(Ol(ae,dw),me&&me.hasAnimation)continue;let Pe=[];if(a.size){let Pn=a.get(ae);Pn&&Pn.length&&Pe.push(...Pn);let mt=this.driver.query(ae,fw,!0);for(let gt=0;gt<mt.length;gt++){let ot=a.get(mt[gt]);ot&&ot.length&&Pe.push(...ot)}}let Vt=Pe.filter(Pn=>!Pn.destroyed);Vt.length?Fte(this,ae,Vt):this.processLeaveNode(ae)}return M.length=0,E.forEach(Z=>{this.players.push(Z),Z.onDone(()=>{Z.destroy();let ae=this.players.indexOf(Z);this.players.splice(ae,1)}),Z.play()}),E}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==O3;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let c of t.timelines){let l=c.element,h=l!==o,d=jr(r,l,[]);this._getPreviousPlayers(l,h,s,a,t.toState).forEach(g=>{let y=g.getRealPlayer();y.beforeDestroy&&y.beforeDestroy(),g.destroy(),d.push(g)})}Cc(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){let a=t.triggerName,c=t.element,l=[],h=new Set,d=new Set,m=t.timelines.map(y=>{let _=y.element;h.add(_);let M=_[Mi];if(M&&M.removedBeforeQueried)return new Qs(y.duration,y.delay);let z=_!==c,F=Hte((r.get(_)||Nte).map(C=>C.getRealPlayer())).filter(C=>{let w=C;return w.element?w.element===_:!1}),P=o.get(_),Q=s.get(_),ne=LP(this._normalizer,y.keyframes,P,Q),K=this._buildPlayer(y,ne,F);if(y.subTimeline&&i&&d.add(_),z){let C=new k3(e,a,_);C.setRealPlayer(K),l.push(C)}return K});l.forEach(y=>{jr(this.playersByQueriedElement,y.element,[]).push(y),y.onDone(()=>Vte(this.playersByQueriedElement,y.element,y))}),h.forEach(y=>ei(y,DP));let g=Js(m);return g.onDestroy(()=>{h.forEach(y=>Ol(y,DP)),to(c,t.toStyles)}),d.forEach(y=>{jr(i,y,[]).push(g)}),g}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Qs(e.duration,e.delay)}},k3=class{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Qs,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Sw(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){jr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function Vte(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function kte(n){return n??null}function vd(n){return n&&n.nodeType===1}function Lte(n){return n=="start"||n=="done"}function NP(n,e){let t=n.style.display;return n.style.display=e??"none",t}function PP(n,e,t,r,i){let o=[];t.forEach(c=>o.push(NP(c)));let s=[];r.forEach((c,l)=>{let h=new Map;c.forEach(d=>{let m=e.computeStyle(l,d,i);h.set(d,m),(!m||m.length==0)&&(l[Mi]=Pte,s.push(l))}),n.set(l,h)});let a=0;return t.forEach(c=>NP(c,o[a++])),s}function VP(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let l=a.parentNode;return t.has(l)?c=l:i.has(l)?c=r:c=s(l),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&t.get(c).push(a)}),t}function ei(n,e){n.classList?.add(e)}function Ol(n,e){n.classList?.remove(e)}function Fte(n,e,t){Js(t).onDone(()=>n.processLeaveNode(e))}function Hte(n){let e=[];return QP(n,e),e}function QP(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof v3?QP(r.players,e):e.push(r)}}function Bte(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function kP(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}var Nl=class{constructor(e,t,r,i){this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new Tw(e.body,t,r,i),this._timelineEngine=new Cw(e.body,t,r),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(e,t,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],l=[],h=qP(this._driver,o,c,l);if(c.length)throw Bee(i,c);l.length&&void 0,a=Dte(i,h,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[o,s]=TP(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=TP(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function jte(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=hw(e[0]),e.length>1&&(r=hw(e[e.length-1]))):e instanceof Map&&(t=hw(e)),t||r?new Iw(n,t,r):null}var Iw=class n{static{this.initialStylesByElement=new WeakMap}constructor(e,t,r){this._element=e,this._startStyles=t,this._endStyles=r,this._state=0;let i=n.initialStylesByElement.get(e);i||n.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&to(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(to(this._element,this._initialStyles),this._endStyles&&(to(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Cc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Cc(this._element,this._endStyles),this._endStyles=null),to(this._element,this._initialStyles),this._state=3)}};function hw(n){let e=null;return n.forEach((t,r)=>{Ute(r)&&(e=e||new Map,e.set(r,t))}),e}function Ute(n){return n==="display"||n==="position"}var Id=class{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:Ow(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Dd=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return FP(e,t)}getParentElement(e){return Aw(e)}query(e,t,r){return HP(e,t,r)}computeStyle(e,t,r){return Ow(e,t)}animate(e,t,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let l=new Map,h=s.filter(g=>g instanceof Id);lte(r,i)&&h.forEach(g=>{g.currentSnapshot.forEach((y,_)=>l.set(_,y))});let d=ste(t).map(g=>new Map(g));d=ute(e,d,l);let m=jte(e,d);return new Id(e,d,c,m)}};var yd="@",KP="@.disabled",Sd=class{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==yd&&t==KP?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},Dw=class extends Sd{constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==yd?t.charAt(1)=="."&&t==KP?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if(t.charAt(0)==yd){let i=$te(e),o=t.slice(1),s="";return o.charAt(0)!=yd&&([o,s]=qte(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,r,a)})}return this.delegate.listen(e,t,r)}};function $te(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function qte(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var xd=class{constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(i,o)=>{let s=o?.parentNode(i);s&&o.removeChild(s,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let l=this._rendererCache,h=l.get(i);if(!h){let d=()=>l.delete(i);h=new Sd(r,i,this.engine,d),l.set(i,h)}return h}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return t.data.animation.forEach(a),new Dw(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var Gte=(()=>{class n extends Nl{constructor(t,r,i){super(t,r,i,V(o1,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(r){return new(r||n)(D(Ve),D(Mc),D(Tc))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})();function Yte(){return new bd}function Qte(n,e,t){return new xd(n,e,t)}var ZP=[{provide:Tc,useFactory:Yte},{provide:Nl,useClass:Gte},{provide:Ir,useFactory:Qte,deps:[D6,Nl,he]}],XP=[{provide:Mc,useFactory:()=>new Dd},{provide:Li,useValue:"BrowserAnimations"},...ZP],Kte=[{provide:Mc,useClass:zw},{provide:Li,useValue:"NoopAnimations"},...ZP],aMe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Kte:XP}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Me({providers:XP,imports:[OI]})}}return n})();var uMe=(()=>{class n{setHiddenAttribute(){this.hidden?typeof this.hidden=="string"?this.renderer.setAttribute(this.elementRef.nativeElement,"hidden",this.hidden):this.renderer.setAttribute(this.elementRef.nativeElement,"hidden",""):this.renderer.removeAttribute(this.elementRef.nativeElement,"hidden")}constructor(t,r){this.elementRef=t,this.renderer=r,this.hidden=null,this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","")}ngOnChanges(){this.setHiddenAttribute()}ngAfterViewInit(){this.setHiddenAttribute()}static{this.\u0275fac=function(r){return new(r||n)(H(ke),H(Jn))}}static{this.\u0275dir=He({type:n,selectors:[["","nz-button",""],["nz-button-group"],["","nz-icon",""],["","nz-menu-item",""],["","nz-submenu",""],["nz-select-top-control"],["nz-select-placeholder"],["nz-input-group"]],inputs:{hidden:"hidden"},standalone:!0,features:[Jt]})}}return n})(),JP=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Me({})}}return n})();var Pw=class{get waveAttributeName(){return this.insertExtraNode?"ant-click-animating":"ant-click-animating-without-extra-node"}constructor(e,t,r,i,o){this.triggerElement=e,this.ngZone=t,this.insertExtraNode=r,this.platformId=i,this.cspNonce=o,this.waveTransitionDuration=400,this.styleForPseudo=null,this.extraNode=null,this.lastTime=0,this.onClick=s=>{!this.triggerElement||!this.triggerElement.getAttribute||this.triggerElement.getAttribute("disabled")||s.target.tagName==="INPUT"||this.triggerElement.className.indexOf("disabled")>=0||this.fadeOutWave()},this.platform=new sr(this.platformId),this.clickHandler=this.onClick.bind(this),this.bindTriggerEvent()}bindTriggerEvent(){this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>{this.removeTriggerEvent(),this.triggerElement&&this.triggerElement.addEventListener("click",this.clickHandler,!0)})}removeTriggerEvent(){this.triggerElement&&this.triggerElement.removeEventListener("click",this.clickHandler,!0)}removeStyleAndExtraNode(){this.styleForPseudo&&document.body.contains(this.styleForPseudo)&&(document.body.removeChild(this.styleForPseudo),this.styleForPseudo=null),this.insertExtraNode&&this.triggerElement.contains(this.extraNode)&&this.triggerElement.removeChild(this.extraNode)}destroy(){this.removeTriggerEvent(),this.removeStyleAndExtraNode()}fadeOutWave(){let e=this.triggerElement,t=this.getWaveColor(e);e.setAttribute(this.waveAttributeName,"true"),!(Date.now()<this.lastTime+this.waveTransitionDuration)&&(this.isValidColor(t)&&(this.styleForPseudo||(this.styleForPseudo=document.createElement("style"),this.cspNonce&&(this.styleForPseudo.nonce=this.cspNonce)),this.styleForPseudo.innerHTML=`
      [ant-click-animating-without-extra-node='true']::after, .ant-click-animating-node {
        --antd-wave-shadow-color: ${t};
      }`,document.body.appendChild(this.styleForPseudo)),this.insertExtraNode&&(this.extraNode||(this.extraNode=document.createElement("div")),this.extraNode.className="ant-click-animating-node",e.appendChild(this.extraNode)),this.lastTime=Date.now(),this.runTimeoutOutsideZone(()=>{e.removeAttribute(this.waveAttributeName),this.removeStyleAndExtraNode()},this.waveTransitionDuration))}isValidColor(e){return!!e&&e!=="#ffffff"&&e!=="rgb(255, 255, 255)"&&this.isNotGrey(e)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(e)&&e!=="transparent"}isNotGrey(e){let t=e.match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return t&&t[1]&&t[2]&&t[3]?!(t[1]===t[2]&&t[2]===t[3]):!0}getWaveColor(e){let t=getComputedStyle(e);return t.getPropertyValue("border-top-color")||t.getPropertyValue("border-color")||t.getPropertyValue("background-color")}runTimeoutOutsideZone(e,t){this.ngZone.runOutsideAngular(()=>setTimeout(e,t))}},Xte={disabled:!1},eV=new G("nz-wave-global-options");function Zte(n){return di([{provide:eV,useValue:n}])}var yMe=(()=>{class n{get disabled(){return this.waveDisabled}get rendererRef(){return this.waveRenderer}constructor(t,r){this.ngZone=t,this.elementRef=r,this.nzWaveExtraNode=!1,this.waveDisabled=!1,this.cspNonce=V(bo,{optional:!0}),this.platformId=V(Yt),this.config=V(eV,{optional:!0}),this.animationType=V(Li,{optional:!0}),this.waveDisabled=this.isConfigDisabled()}isConfigDisabled(){let t=!1;return this.config&&typeof this.config.disabled=="boolean"&&(t=this.config.disabled),this.animationType==="NoopAnimations"&&(t=!0),t}ngOnDestroy(){this.waveRenderer&&this.waveRenderer.destroy()}ngOnInit(){this.renderWaveIfEnabled()}renderWaveIfEnabled(){!this.waveDisabled&&this.elementRef.nativeElement&&(this.waveRenderer=new Pw(this.elementRef.nativeElement,this.ngZone,this.nzWaveExtraNode,this.platformId,this.cspNonce))}disable(){this.waveDisabled=!0,this.waveRenderer&&(this.waveRenderer.removeTriggerEvent(),this.waveRenderer.removeStyleAndExtraNode())}enable(){this.waveDisabled=this.isConfigDisabled()||!1,this.waveRenderer&&this.waveRenderer.bindTriggerEvent()}static{this.\u0275fac=function(r){return new(r||n)(H(he),H(ke))}}static{this.\u0275dir=He({type:n,selectors:[["","nz-wave",""],["button","nz-button","",3,"nzType","link",3,"nzType","text"]],inputs:{nzWaveExtraNode:"nzWaveExtraNode"},exportAs:["nzWave"],standalone:!0})}}return n})(),tV=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Me({providers:[Zte(Xte)]})}}return n})();var Jte=["nz-button",""],rV=["*"];function ene(n,e){n&1&&Bt(0,"span",0)}var nV="button",tne=(()=>{class n{insertSpan(t,r){t.forEach(i=>{if(i.nodeName==="#text"){let o=r.createElement("span"),s=r.parentNode(i);r.insertBefore(s,o,i),r.appendChild(o,i)}})}get iconOnly(){let t=Array.from(this.elementRef?.nativeElement?.childNodes||[]),r=t.every(o=>o.nodeName!=="#text"),i=t.filter(o=>!(o.nodeName==="#comment"||o?.attributes?.getNamedItem("nz-icon"))).length==0;return!!this.nzIconDirectiveElement&&i&&r}constructor(t,r,i,o,s,a){this.ngZone=t,this.elementRef=r,this.cdr=i,this.renderer=o,this.nzConfigService=s,this.directionality=a,this._nzModuleName=nV,this.nzBlock=!1,this.nzGhost=!1,this.nzSearch=!1,this.nzLoading=!1,this.nzDanger=!1,this.disabled=!1,this.tabIndex=null,this.nzType=null,this.nzShape=null,this.nzSize="default",this.dir="ltr",this.destroy$=new oe,this.loading$=new oe,this.nzConfigService.getConfigChangeEventForComponent(nV).pipe(lt(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.directionality.change?.pipe(lt(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>{es(this.elementRef.nativeElement,"click",{capture:!0}).pipe(lt(this.destroy$)).subscribe(t=>{(this.disabled&&t.target?.tagName==="A"||this.nzLoading)&&(t.preventDefault(),t.stopImmediatePropagation())})})}ngOnChanges(t){let{nzLoading:r}=t;r&&this.loading$.next(this.nzLoading)}ngAfterViewInit(){this.insertSpan(this.elementRef.nativeElement.childNodes,this.renderer)}ngAfterContentInit(){this.loading$.pipe(Cn(this.nzLoading),We(()=>!!this.nzIconDirectiveElement),lt(this.destroy$)).subscribe(t=>{let r=this.nzIconDirectiveElement.nativeElement;t?this.renderer.setStyle(r,"display","none"):this.renderer.removeStyle(r,"display")})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(r){return new(r||n)(H(he),H(ke),H(Qt),H(Jn),H(qo),H(Ji))}}static{this.\u0275cmp=Dr({type:n,selectors:[["button","nz-button",""],["a","nz-button",""]],contentQueries:function(r,i,o){if(r&1&&Ju(o,Ys,5,ke),r&2){let s;v1(s=y1())&&(i.nzIconDirectiveElement=s.first)}},hostAttrs:[1,"ant-btn"],hostVars:34,hostBindings:function(r,i){r&2&&(g1("tabindex",i.disabled?-1:i.tabIndex===null?null:i.tabIndex)("disabled",i.disabled||null),on("ant-btn-default",i.nzType==="default")("ant-btn-primary",i.nzType==="primary")("ant-btn-dashed",i.nzType==="dashed")("ant-btn-link",i.nzType==="link")("ant-btn-text",i.nzType==="text")("ant-btn-circle",i.nzShape==="circle")("ant-btn-round",i.nzShape==="round")("ant-btn-lg",i.nzSize==="large")("ant-btn-sm",i.nzSize==="small")("ant-btn-dangerous",i.nzDanger)("ant-btn-loading",i.nzLoading)("ant-btn-background-ghost",i.nzGhost)("ant-btn-block",i.nzBlock)("ant-input-search-button",i.nzSearch)("ant-btn-rtl",i.dir==="rtl")("ant-btn-icon-only",i.iconOnly))},inputs:{nzBlock:[be.HasDecoratorInputTransform,"nzBlock","nzBlock",bt],nzGhost:[be.HasDecoratorInputTransform,"nzGhost","nzGhost",bt],nzSearch:[be.HasDecoratorInputTransform,"nzSearch","nzSearch",bt],nzLoading:[be.HasDecoratorInputTransform,"nzLoading","nzLoading",bt],nzDanger:[be.HasDecoratorInputTransform,"nzDanger","nzDanger",bt],disabled:[be.HasDecoratorInputTransform,"disabled","disabled",bt],tabIndex:"tabIndex",nzType:"nzType",nzShape:"nzShape",nzSize:"nzSize"},exportAs:["nzButton"],standalone:!0,features:[er,Jt,Or],attrs:Jte,ngContentSelectors:rV,decls:2,vars:1,consts:[["nz-icon","","nzType","loading"]],template:function(r,i){r&1&&(O4(),Dn(0,ene,1,0,"span",0),N4(1)),r&2&&Mo(0,i.nzLoading?0:-1)},dependencies:[Il,Ys],encapsulation:2,changeDetection:0})}}return V_([yO()],n.prototype,"nzSize",void 0),n})(),NMe=(()=>{class n{constructor(t){this.directionality=t,this.nzSize="default",this.dir="ltr",this.destroy$=new oe}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe(lt(this.destroy$)).subscribe(t=>{this.dir=t})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(r){return new(r||n)(H(Ji))}}static{this.\u0275cmp=Dr({type:n,selectors:[["nz-button-group"]],hostAttrs:[1,"ant-btn-group"],hostVars:6,hostBindings:function(r,i){r&2&&on("ant-btn-group-lg",i.nzSize==="large")("ant-btn-group-sm",i.nzSize==="small")("ant-btn-group-rtl",i.dir==="rtl")},inputs:{nzSize:"nzSize"},exportAs:["nzButtonGroup"],standalone:!0,features:[Or],ngContentSelectors:rV,decls:1,vars:0,template:function(r,i){r&1&&(O4(),N4(0))},encapsulation:2,changeDetection:0})}}return n})(),PMe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Me({imports:[tne,JP,tV]})}}return n})();var $Me=(()=>{class n{constructor(){this.animationType=V(Li,{optional:!0}),this.nzNoAnimation=!1}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=He({type:n,selectors:[["","nzNoAnimation",""]],hostVars:2,hostBindings:function(r,i){r&2&&on("nz-animate-disabled",i.nzNoAnimation||i.animationType==="NoopAnimations")},inputs:{nzNoAnimation:[be.HasDecoratorInputTransform,"nzNoAnimation","nzNoAnimation",bt]},exportAs:["nzNoAnimation"],standalone:!0,features:[er]})}}return n})();var qn={top:new Pt({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topCenter:new Pt({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topLeft:new Pt({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),topRight:new Pt({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"}),right:new Pt({originX:"end",originY:"center"},{overlayX:"start",overlayY:"center"}),rightTop:new Pt({originX:"end",originY:"top"},{overlayX:"start",overlayY:"top"}),rightBottom:new Pt({originX:"end",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),bottom:new Pt({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomCenter:new Pt({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomLeft:new Pt({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),bottomRight:new Pt({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"}),left:new Pt({originX:"start",originY:"center"},{overlayX:"end",overlayY:"center"}),leftTop:new Pt({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"}),leftBottom:new Pt({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"})},JMe=[qn.top,qn.right,qn.bottom,qn.left],eTe=[qn.bottomLeft,qn.bottomRight,qn.topLeft,qn.topRight,qn.topCenter,qn.bottomCenter],tTe=[new Pt({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),new Pt({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"})],nTe=[qn.bottomLeft,new Pt({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"top"})];function nne(n){for(let e in qn)if(n.connectionPair.originX===qn[e].originX&&n.connectionPair.originY===qn[e].originY&&n.connectionPair.overlayX===qn[e].overlayX&&n.connectionPair.overlayY===qn[e].overlayY)return e}var Ad={bottomLeft:new Pt({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"},void 0,2),topLeft:new Pt({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"},void 0,-2),bottomRight:new Pt({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"},void 0,2),topRight:new Pt({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"},void 0,-2)},rTe=[Ad.bottomLeft,Ad.topLeft,Ad.bottomRight,Ad.topRight],iTe=(()=>{class n{constructor(t,r){this.cdkConnectedOverlay=t,this.nzDestroyService=r,this.nzArrowPointAtCenter=!1,this.cdkConnectedOverlay.backdropClass="nz-overlay-transparent-backdrop",this.cdkConnectedOverlay.positionChange.pipe(lt(this.nzDestroyService)).subscribe(i=>{this.nzArrowPointAtCenter&&this.updateArrowPosition(i)})}updateArrowPosition(t){let r=this.getOriginRect(),i=nne(t),o=0,s=0;i==="topLeft"||i==="bottomLeft"?o=r.width/2-14:i==="topRight"||i==="bottomRight"?o=-(r.width/2-14):i==="leftTop"||i==="rightTop"?s=r.height/2-10:(i==="leftBottom"||i==="rightBottom")&&(s=-(r.height/2-10)),(this.cdkConnectedOverlay.offsetX!==o||this.cdkConnectedOverlay.offsetY!==s)&&(this.cdkConnectedOverlay.offsetY=s,this.cdkConnectedOverlay.offsetX=o,this.cdkConnectedOverlay.overlayRef.updatePosition())}getFlexibleConnectedPositionStrategyOrigin(){return this.cdkConnectedOverlay.origin instanceof Yh?this.cdkConnectedOverlay.origin.elementRef:this.cdkConnectedOverlay.origin}getOriginRect(){let t=this.getFlexibleConnectedPositionStrategyOrigin();if(t instanceof ke)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let r=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+r,height:i,width:r}}static{this.\u0275fac=function(r){return new(r||n)(H(QO),H(Uh))}}static{this.\u0275dir=He({type:n,selectors:[["","cdkConnectedOverlay","","nzConnectedOverlay",""]],inputs:{nzArrowPointAtCenter:[be.HasDecoratorInputTransform,"nzArrowPointAtCenter","nzArrowPointAtCenter",bt]},exportAs:["nzConnectedOverlay"],features:[ms([Uh]),er]})}}return n})(),oTe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Me({})}}return n})();function sTe(n,e){e&&(n._host.style.zIndex=`${e}`)}export{Je as a,Ee as b,oe as c,En as d,e4 as e,bf as f,Mf as g,Qn as h,Er as i,oi as j,Le as k,te as l,ce as m,la as n,zt as o,Ai as p,R0 as q,lk as r,es as s,ao as t,gk as u,r4 as v,We as w,ua as x,si as y,vk as z,If as A,ts as B,Lt as C,ha as D,yk as E,ns as F,Cr as G,Mr as H,bk as I,Yc as J,Af as K,Cn as L,ct as M,N0 as N,lt as O,zf as P,Rt as Q,Ek as R,W as S,Tu as T,B as U,Me as V,G as W,D as X,V as Y,be as Z,Dr as _,Te as $,He as aa,Da as ba,di as ca,vn as da,Jle as ea,Jt as fa,yo as ga,wo as ha,e4e as ia,h1 as ja,Ft as ka,ke as la,Ke as ma,h5 as na,Yt as oa,Li as pa,A4 as qa,nH as ra,nt as sa,H as ta,Zt as ua,Jn as va,he as wa,hs as xa,An as ya,lj as za,r4e as Aa,fr as Ba,i4e as Ca,er as Da,Dn as Ea,g1 as Fa,Ht as Ga,Rr as Ha,on as Ia,o4e as Ja,s4e as Ka,a4e as La,c4e as Ma,l4e as Na,u4e as Oa,Mo as Pa,h4e as Qa,To as Ra,Io as Sa,Do as Ta,ut as Ua,It as Va,Bt as Wa,fs as Xa,ps as Ya,oU as Za,So as _a,cU as $a,lU as ab,tr as bb,wU as cb,Fn as db,O4 as eb,N4 as fb,EU as gb,fT as hb,CU as ib,Ju as jb,pT as kb,v1 as lb,y1 as mb,d4e as nb,f4e as ob,DU as pb,gT as qb,SU as rb,xU as sb,AU as tb,p4e as ub,zU as vb,ms as wb,Or as xb,m4e as yb,yT as zb,wT as Ab,g4e as Bb,v4e as Cb,y4e as Db,w4e as Eb,_4e as Fb,b4e as Gb,E4e as Hb,C4e as Ib,w1 as Jb,fi as Kb,b1 as Lb,Qt as Mb,bt as Nb,k4 as Ob,f$ as Pb,M4e as Qb,Ra as Rb,Ve as Sb,gs as Tb,nr as Ub,Et as Vb,Hn as Wb,w$ as Xb,Fi as Yb,z$ as Zb,_6 as _b,j4e as $b,U4e as ac,nI as bc,rI as cc,$4e as dc,q4e as ec,W4e as fc,G4e as gc,Y4e as hc,Q4e as ic,sI as jc,xp as kc,ws as lc,B4 as mc,C1 as nc,M1 as oc,Pp as pc,s2e as qc,y2e as rc,OI as sc,w2e as tc,Ne as uc,mi as vc,Pa as wc,IW as xc,gi as yc,BI as zc,k2e as Ac,L2e as Bc,ka as Cc,Va as Dc,Q6 as Ec,Y2e as Fc,mr as Gc,DD as Hc,N1 as Ic,P1 as Jc,m2 as Kc,r3e as Lc,X6 as Mc,B3e as Nc,Ut as Oc,ec as Pc,cz as Qc,Jv as Rc,I0e as Sc,yr as Tc,at as Uc,ye as Vc,wr as Wc,ft as Xc,k6e as Yc,L6e as Zc,F6e as _c,H6e as $c,B6e as ad,j6e as bd,$6e as cd,W6e as dd,G6e as ed,Hh as fd,Bh as gd,vX as hd,s3 as id,IX as jd,DX as kd,_ue as ld,bue as md,hc as nd,uO as od,xue as pd,Aue as qd,zue as rd,Rue as sd,Oue as td,Nue as ud,Pue as vd,Vue as wd,kue as xd,d3 as yd,Lue as zd,Fue as Ad,Hue as Bd,PX as Cd,Bue as Dd,jue as Ed,$ue as Fd,que as Gd,Wue as Hd,Gue as Id,qo as Jd,yO as Kd,sr as Ld,l6e as Md,u6e as Nd,h6e as Od,d6e as Pd,Ph as Qd,_O as Rd,Ys as Sd,Il as Td,m3 as Ud,g3 as Vd,kh as Wd,O6e as Xd,MO as Yd,J6e as Zd,Ey as _d,Cy as $d,l8e as ae,eZ as be,v8e as ce,RO as de,rZ as ee,y8e as fe,w8e as ge,Uh as he,Ji as ie,y3 as je,X8e as ke,Ay as le,_3 as me,gZ as ne,Z8e as oe,zy as pe,LO as qe,Gh as re,Pt as se,_Z as te,ky as ue,Ks as ve,Yh as we,QO as xe,vhe as ye,khe as ze,Lhe as Ae,rde as Be,eN as Ce,Wfe as De,td as Ee,nd as Fe,rd as Ge,eo as He,gN as Ie,vN as Je,yN as Ke,sd as Le,Xh as Me,bN as Ne,A3 as Oe,EN as Pe,CN as Qe,TN as Re,IN as Se,DN as Te,SN as Ue,z3 as Ve,xN as We,tN as Xe,x3 as Ye,vc as Ze,yc as _e,Qy as $e,fN as af,pN as bf,AN as cf,zN as df,fP as ef,pP as ff,mP as gf,gP as hf,vP as if,yP as jf,wP as kf,_P as lf,fd as mf,bP as nf,EP as of,CP as pf,mN as qf,aMe as rf,$Me as sf,qn as tf,JMe as uf,nne as vf,Ad as wf,rTe as xf,iTe as yf,oTe as zf,sTe as Af,uMe as Bf,yMe as Cf,tV as Df,tne as Ef,NMe as Ff,PMe as Gf};
