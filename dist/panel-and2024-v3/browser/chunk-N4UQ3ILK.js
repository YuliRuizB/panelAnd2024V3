import{a as St,b as gt}from"./chunk-TEUENMHR.js";import{a as zt,b as ft}from"./chunk-4NYLJXOR.js";import{fa as ht}from"./chunk-HEDYHKE3.js";import{$ as R,$b as ot,Bb as X,Da as V,Db as tt,Ea as p,Fa as q,Fb as et,Ga as l,Ia as T,Ib as nt,L as Q,Mb as O,Nb as it,O as f,Pa as u,Ua as o,Ud as dt,V as U,Va as a,Vd as mt,Wa as S,Xa as _,Y as B,Ya as v,Z as H,_ as C,_b as st,a as $,c as x,db as d,eb as Y,ec as rt,fa as Z,fb as G,gc as at,hd as lt,id as ct,jb as J,je as g,kb as N,ke as ut,lb as I,m as A,ma as W,mb as y,nb as K,ob as c,pb as D,qb as h,s as M,sa as s,ta as z,ua as b,v as j,w as L,wa as P,wb as w,xb as E,xd as pt}from"./chunk-KAPUTOGI.js";import{a as k}from"./chunk-SIAVTO45.js";var vt=["processDotTemplate"],xt=["itemContainer"],It=(e,r,t)=>({$implicit:e,status:r,index:t});function yt(e,r){e&1&&S(0,"div",3)}function Dt(e,r){if(e&1&&(o(0,"div",11),S(1,"nz-progress",12),a()),e&2){let t=d(2);s(),l("nzPercent",t.nzPercentage)("nzWidth",t.nzSize==="small"?32:40)("nzFormat",t.nullProcessFormat)("nzStrokeWidth",4)}}function bt(e,r){e&1&&(o(0,"span",5),S(1,"span",13),a())}function Pt(e,r){e&1&&(o(0,"span",5),S(1,"span",14),a())}function Tt(e,r){if(e&1&&(o(0,"span",5),c(1),a()),e&2){let t=d(2);s(),h(" ",t.index+1," ")}}function Nt(e,r){if(e&1&&(_(0),S(1,"span",15),v()),e&2){let t=r.$implicit,n=d(3);s(),l("nzType",!n.oldAPIIcon&&t)("ngClass",n.oldAPIIcon&&t)}}function wt(e,r){if(e&1&&(o(0,"span",5),p(1,Nt,2,2,"ng-container",8),a()),e&2){let t=d(2);s(),l("nzStringTemplateOutlet",t.nzIcon)}}function Et(e,r){if(e&1&&p(0,Dt,2,4,"div",11)(1,bt,2,0,"span",5)(2,Pt,2,0,"span",5)(3,Tt,2,1,"span",5)(4,wt,2,1,"span",5),e&2){let t=d();u(0,t.showProgress?0:-1),s(),u(1,t.nzStatus==="finish"&&!t.nzIcon?1:-1),s(),u(2,t.nzStatus==="error"?2:-1),s(),u(3,(t.nzStatus==="process"||t.nzStatus==="wait")&&!t.nzIcon?3:-1),s(),u(4,t.nzIcon?4:-1)}}function Ot(e,r){e&1&&S(0,"span",17)}function Ft(e,r){}function kt(e,r){if(e&1&&(o(0,"span",5),p(1,Ot,1,0,"ng-template",null,1,nt)(3,Ft,0,0,"ng-template",16),a()),e&2){let t=K(2),n=d();s(3),l("ngTemplateOutlet",n.customProcessTemplate||t)("ngTemplateOutletContext",X(2,It,t,n.nzStatus,n.index))}}function $t(e,r){if(e&1&&(_(0),c(1),v()),e&2){let t=d();s(),D(t.nzTitle)}}function At(e,r){if(e&1&&(_(0),c(1),v()),e&2){let t=d(2);s(),D(t.nzSubtitle)}}function Mt(e,r){if(e&1&&(o(0,"div",9),p(1,At,2,1,"ng-container",8),a()),e&2){let t=d();s(),l("nzStringTemplateOutlet",t.nzSubtitle)}}function jt(e,r){if(e&1&&(_(0),c(1),v()),e&2){let t=d();s(),D(t.nzDescription)}}var Lt=["*"],Ct=(()=>{class e{get nzStatus(){return this._status}set nzStatus(t){this._status=t,this.isCustomStatus=!0}get nzIcon(){return this._icon}set nzIcon(t){t instanceof b||(this.oldAPIIcon=typeof t=="string"&&t.indexOf("anticon")>-1),this._icon=t}get showProgress(){return this.nzPercentage!==null&&!this.nzIcon&&this.nzStatus==="process"&&this.nzPercentage>=0&&this.nzPercentage<=100}get currentIndex(){return this._currentIndex}set currentIndex(t){this._currentIndex=t,this.isCustomStatus||(this._status=t>this.index?"finish":t===this.index?this.outStatus||"":"wait")}constructor(t,n,i){this.cdr=t,this.ngZone=n,this.destroy$=i,this.nzDisabled=!1,this.nzPercentage=null,this.nzSize="default",this.isCustomStatus=!1,this._status="wait",this.oldAPIIcon=!0,this.direction="horizontal",this.index=0,this.last=!1,this.outStatus="process",this.showProcessDot=!1,this.clickable=!1,this.clickOutsideAngular$=new x,this.nullProcessFormat=()=>null,this._currentIndex=0}ngOnInit(){this.ngZone.runOutsideAngular(()=>M(this.itemContainer.nativeElement,"click").pipe(L(()=>this.clickable&&this.currentIndex!==this.index&&!this.nzDisabled),f(this.destroy$)).subscribe(()=>{this.clickOutsideAngular$.next(this.index)}))}enable(){this.nzDisabled=!1,this.cdr.markForCheck()}disable(){this.nzDisabled=!0,this.cdr.markForCheck()}markForCheck(){this.cdr.markForCheck()}static{this.\u0275fac=function(n){return new(n||e)(z(O),z(P),z(g))}}static{this.\u0275cmp=C({type:e,selectors:[["nz-step"]],viewQuery:function(n,i){if(n&1&&(N(vt,5),N(xt,7)),n&2){let m;I(m=y())&&(i.processDotTemplate=m.first),I(m=y())&&(i.itemContainer=m.first)}},hostAttrs:[1,"ant-steps-item"],hostVars:16,hostBindings:function(n,i){n&2&&T("ant-steps-item-wait",i.nzStatus==="wait")("ant-steps-item-process",i.nzStatus==="process")("ant-steps-item-finish",i.nzStatus==="finish")("ant-steps-item-error",i.nzStatus==="error")("ant-steps-item-active",i.currentIndex===i.index)("ant-steps-item-disabled",i.nzDisabled)("ant-steps-item-custom",!!i.nzIcon)("ant-steps-next-error",i.outStatus==="error"&&i.currentIndex===i.index+1)},inputs:{nzTitle:"nzTitle",nzSubtitle:"nzSubtitle",nzDescription:"nzDescription",nzDisabled:[H.HasDecoratorInputTransform,"nzDisabled","nzDisabled",it],nzPercentage:"nzPercentage",nzSize:"nzSize",nzStatus:"nzStatus",nzIcon:"nzIcon"},exportAs:["nzStep"],standalone:!0,features:[w([g]),V,E],decls:12,vars:8,consts:[["itemContainer",""],["processDotTemplate",""],[1,"ant-steps-item-container",3,"tabindex"],[1,"ant-steps-item-tail"],[1,"ant-steps-item-icon"],[1,"ant-steps-icon"],[1,"ant-steps-item-content"],[1,"ant-steps-item-title"],[4,"nzStringTemplateOutlet"],[1,"ant-steps-item-subtitle"],[1,"ant-steps-item-description"],[1,"ant-steps-progress-icon"],["nzType","circle",3,"nzPercent","nzWidth","nzFormat","nzStrokeWidth"],["nz-icon","","nzType","check"],["nz-icon","","nzType","close"],["nz-icon","",3,"nzType","ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-steps-icon-dot"]],template:function(n,i){n&1&&(o(0,"div",2,0),p(2,yt,1,0,"div",3),o(3,"div",4),p(4,Et,5,5)(5,kt,4,6,"span",5),a(),o(6,"div",6)(7,"div",7),p(8,$t,2,1,"ng-container",8)(9,Mt,2,1,"div",9),a(),o(10,"div",10),p(11,jt,2,1,"ng-container",8),a()()()),n&2&&(l("tabindex",i.clickable&&!i.nzDisabled?0:null),q("role",i.clickable&&!i.nzDisabled?"button":null),s(2),u(2,i.last!==!0?2:-1),s(2),u(4,i.showProcessDot?-1:4),s(),u(5,i.showProcessDot?5:-1),s(3),l("nzStringTemplateOutlet",i.nzTitle),s(),u(9,i.nzSubtitle?9:-1),s(2),l("nzStringTemplateOutlet",i.nzDescription))},dependencies:[ft,zt,mt,dt,ct,lt,st,rt],encapsulation:2,changeDetection:0})}}return e})(),ce=(()=>{class e{set nzProgressDot(t){t instanceof b?(this.showProcessDot=!0,this.customProcessDotTemplate=t):this.showProcessDot=pt(t),this.updateChildrenSteps()}constructor(t,n,i,m){this.ngZone=t,this.cdr=n,this.directionality=i,this.destroy$=m,this.nzCurrent=0,this.nzDirection="horizontal",this.nzLabelPlacement="horizontal",this.nzType="default",this.nzSize="default",this.nzStartIndex=0,this.nzStatus="process",this.nzIndexChange=new W,this.indexChangeSubscription=$.EMPTY,this.showProcessDot=!1,this.showProgress=!1,this.dir="ltr"}ngOnChanges(t){(t.nzStartIndex||t.nzDirection||t.nzStatus||t.nzCurrent||t.nzSize)&&this.updateChildrenSteps()}ngOnInit(){this.directionality.change?.pipe(f(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.updateChildrenSteps()}ngAfterContentInit(){this.steps&&this.steps.changes.pipe(Q(null),f(this.destroy$)).subscribe(()=>{this.updateHostProgressClass(),this.updateChildrenSteps()})}updateHostProgressClass(){this.steps&&!this.showProcessDot&&(this.showProgress=!!this.steps.toArray().find(t=>t.nzPercentage!==null))}updateChildrenSteps(){if(this.steps){let t=this.steps.length;this.steps.toArray().forEach((n,i)=>{Promise.resolve().then(()=>{n.nzSize=this.nzSize,n.outStatus=this.nzStatus,n.showProcessDot=this.showProcessDot,this.customProcessDotTemplate&&(n.customProcessTemplate=this.customProcessDotTemplate),n.clickable=this.nzIndexChange.observers.length>0,n.direction=this.nzDirection,n.index=i+this.nzStartIndex,n.currentIndex=this.nzCurrent,n.last=t===i+1,n.markForCheck()})}),this.indexChangeSubscription.unsubscribe(),this.indexChangeSubscription=j(...this.steps.map(n=>n.clickOutsideAngular$)).pipe(f(this.destroy$)).subscribe(n=>{this.nzIndexChange.observers.length&&this.ngZone.run(()=>this.nzIndexChange.emit(n))})}}static{this.\u0275fac=function(n){return new(n||e)(z(P),z(O),z(ut),z(g))}}static{this.\u0275cmp=C({type:e,selectors:[["nz-steps"]],contentQueries:function(n,i,m){if(n&1&&J(m,Ct,4),n&2){let F;I(F=y())&&(i.steps=F)}},hostAttrs:[1,"ant-steps"],hostVars:18,hostBindings:function(n,i){n&2&&T("ant-steps-horizontal",i.nzDirection==="horizontal")("ant-steps-vertical",i.nzDirection==="vertical")("ant-steps-label-horizontal",i.nzDirection==="horizontal")("ant-steps-label-vertical",(i.showProcessDot||i.nzLabelPlacement==="vertical")&&i.nzDirection==="horizontal")("ant-steps-dot",i.showProcessDot)("ant-steps-small",i.nzSize==="small")("ant-steps-navigation",i.nzType==="navigation")("ant-steps-rtl",i.dir==="rtl")("ant-steps-with-progress",i.showProgress)},inputs:{nzCurrent:"nzCurrent",nzDirection:"nzDirection",nzLabelPlacement:"nzLabelPlacement",nzType:"nzType",nzSize:"nzSize",nzStartIndex:"nzStartIndex",nzStatus:"nzStatus",nzProgressDot:"nzProgressDot"},outputs:{nzIndexChange:"nzIndexChange"},exportAs:["nzSteps"],standalone:!0,features:[w([g]),Z,E],ngContentSelectors:Lt,decls:1,vars:0,template:function(n,i){n&1&&(Y(),G(0))},encapsulation:2,changeDetection:0})}}return e})(),pe=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=R({type:e})}static{this.\u0275inj=U({imports:[Ct]})}}return e})();function Qt(e,r){if(e&1&&(o(0,"nz-timeline-item",2),c(1),tt(2,"date"),o(3,"p"),c(4),a(),o(5,"p"),c(6),a(),o(7,"p"),c(8),a(),o(9,"p"),c(10),a(),o(11,"p"),c(12),a()()),e&2){let t=r.$implicit;l("nzColor",t.allowedOnBoard?"green":"red"),s(),h(" ",et(2,7,t.created.toDate(),"medium")," "),s(3),h("Programa: ",t.program==="S"?"Salida":"Entrada",""),s(2),h("Turno: ",t.round,""),s(2),h("Unidad: ",t.vehicle,""),s(2),h("PR: ",t.driver,""),s(2),h("Mensaje: ",t.description,"")}}var _e=(()=>{class e{constructor(){this.userId="",this.boardingPassId="",this.usersService=B(ht),this.stopSubscription$=new x,this.activityLogList=[],this.loading=!0}ngOnInit(){this.getSubscriptions()}ngOnDestroy(){this.stopSubscription$.next(void 0),this.stopSubscription$.complete()}getSubscriptions(){this.usersService.getBoardingPassActivityLog(this.userId,this.boardingPassId).pipe(f(this.stopSubscription$),A(t=>t.map(n=>{let i=n.payload.doc.id,m=n.payload.doc.data();return k({id:i},m)}))).subscribe(t=>{this.activityLogList=t})}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=C({type:e,selectors:[["app-shared-usage-history"]],inputs:{userId:"userId",boardingPassId:"boardingPassId"},decls:2,vars:1,consts:[["nzMode","alternate"],[3,"nzColor",4,"ngFor","ngForOf"],[3,"nzColor"]],template:function(n,i){n&1&&(o(0,"nz-timeline",0),p(1,Qt,13,10,"nz-timeline-item",1),a()),n&2&&(s(),l("ngForOf",i.activityLogList))},dependencies:[ot,St,gt,at]})}}return e})();export{Ct as a,ce as b,pe as c,_e as d};
