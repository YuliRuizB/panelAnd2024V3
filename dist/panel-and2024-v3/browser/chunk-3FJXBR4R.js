import{a as te,b as Re}from"./chunk-CK5DDPD7.js";import{A as $e,C as Ge,D as He,E as je,F as Be,a as Te,c as ke,d as Fe,g as Oe,k as qe,x as Ue}from"./chunk-52KDZ4QO.js";import{$ as xe,P as $,Q as G,R as H,S as j,_ as B,aa as W,b as M,c as p,d as L,e as V,fa as Ee,ga as we,ha as Ie,i as k,j as F,ja as Ne,k as O,m as q,q as A,sa as Ae,t as R,u as U}from"./chunk-HEDYHKE3.js";import{a as be,c as Pe,d as ye,g as De,h as Me,i as Le,j as Ve}from"./chunk-IDUACQZO.js";import{$b as ue,Ab as pe,Bc as he,C as K,Ce as _e,Df as Q,Ea as x,Ef as ve,Fe as ge,Ga as m,Gf as Ce,Ib as D,Ka as S,M as N,O as re,Q as ae,Tc as Se,Ua as t,Ud as ze,Va as i,Wa as s,Y as I,_ as T,_a as C,ac as fe,bb as g,c as ne,db as c,ga as z,ha as _,ib as le,kb as se,lb as de,m as E,mb as me,nb as P,ob as r,pb as v,qb as X,rb as ce,sa as l,ta as b,tb as Y,ub as Z,vb as ee,w as oe}from"./chunk-KAPUTOGI.js";import{a as Ke}from"./chunk-Z7P4GB6X.js";import{a as w,b as J,f as Je,h as ie}from"./chunk-SIAVTO45.js";var We=(()=>{class n{constructor(e,a){this.fb=e,this.modal=a}submitForm(){for(let e in this.validateForm.controls)this.validateForm.controls[e].markAsDirty(),this.validateForm.controls[e].updateValueAndValidity()}ngOnInit(){this.validateForm=this.fb.group({active:[!1,[p.required]],name:["",[p.required]],description:["",[p.required]],latitude:[1,[p.required]],longitude:[1,[p.required]],imageUrl:[""],kmzUrl:[""],order:[0,[p.required]],round1:["",[p.required]],round2:["",[p.required]],round3:["",[p.required]],round1MinutesSinceStart:["",[p.required]],round2MinutesSinceStart:["",[p.required]],round3MinutesSinceStart:["",[p.required]]})}ngOnDestroy(){}destroyModal(){this.modal.destroy({data:this.validateForm.value})}static{this.\u0275fac=function(a){return new(a||n)(b(A),b(we))}}static{this.\u0275cmp=T({type:n,selectors:[["app-shared-stoppoints-new"]],inputs:{stopPoint:"stopPoint"},decls:74,vars:2,consts:[["nz-form","",3,"ngSubmit","nzLayout","formGroup"],["nzErrorTip","Por favor escriba el nombre!"],["nzPrefixIcon","edit"],["formControlName","name","nz-input","","placeholder","nombre"],["nzErrorTip","Please input your Password!"],["formControlName","description","nz-input","","type","text","placeholder","Descripci\xF3n"],[1,"row"],[1,"col-md-6","col-sm-12"],["nzErrorTip","La geocerca no puede estar en blanco"],["formControlName","latitude","nz-input","","placeholder","geocerca"],["formControlName","longitude","nz-input","","placeholder","geocerca"],[1,"col-md-4","col-sm-12"],["nzErrorTip","Agregue horario"],["formControlName","round1","nz-input","","placeholder","00:00"],["formControlName","round2","nz-input","","placeholder","00:00"],["formControlName","round3","nz-input","","placeholder","00:00"],["type","number","formControlName","round1MinutesSinceStart","nz-input","","placeholder","00"],["type","number","formControlName","round2MinutesSinceStart","nz-input","","placeholder","00"],["type","number","formControlName","round3MinutesSinceStart","nz-input","","placeholder","00"],["nzErrorTip","Orden de ejecuci\xF3n de la Operaci\xF3n"],["formControlName","order","nz-input","","type","number","placeholder","num\xE9rico"]],template:function(a,o){a&1&&(t(0,"form",0),g("ngSubmit",function(){return o.submitForm()}),t(1,"nz-form-item")(2,"nz-form-control",1)(3,"nz-input-group",2),s(4,"input",3),i()()(),t(5,"nz-form-item")(6,"nz-form-control",4)(7,"nz-input-group",2),s(8,"input",5),i()()(),t(9,"div",6)(10,"div",7)(11,"nz-form-item")(12,"nz-form-label"),r(13,"Latitud"),i(),t(14,"nz-form-control",8)(15,"nz-input-group",2),s(16,"input",9),i()()()(),t(17,"div",7)(18,"nz-form-item")(19,"nz-form-label"),r(20,"Longitud"),i(),t(21,"nz-form-control",8)(22,"nz-input-group",2),s(23,"input",10),i()()()()(),t(24,"div",6)(25,"div",11)(26,"nz-form-item")(27,"nz-form-label"),r(28,"Horario d\xEDa"),i(),t(29,"nz-form-control",12)(30,"nz-input-group",2),s(31,"input",13),i()()()(),t(32,"div",11)(33,"nz-form-item")(34,"nz-form-label"),r(35,"Horario Tarde"),i(),t(36,"nz-form-control",12)(37,"nz-input-group",2),s(38,"input",14),i()()()(),t(39,"div",11)(40,"nz-form-item")(41,"nz-form-label"),r(42,"Horario Noche"),i(),t(43,"nz-form-control",12)(44,"nz-input-group",2),s(45,"input",15),i()()()()(),t(46,"div",6)(47,"div",11)(48,"nz-form-item")(49,"nz-form-label"),r(50,"Minutos d\xEDa"),i(),t(51,"nz-form-control",12)(52,"nz-input-group",2),s(53,"input",16),i()()()(),t(54,"div",11)(55,"nz-form-item")(56,"nz-form-label"),r(57,"Minutos Tarde"),i(),t(58,"nz-form-control",12)(59,"nz-input-group",2),s(60,"input",17),i()()()(),t(61,"div",11)(62,"nz-form-item")(63,"nz-form-label"),r(64,"Minutos Noche"),i(),t(65,"nz-form-control",12)(66,"nz-input-group",2),s(67,"input",18),i()()()()(),t(68,"nz-form-item")(69,"nz-form-label"),r(70,"Orden"),i(),t(71,"nz-form-control",19)(72,"nz-input-group",2),s(73,"input",20),i()()()()),a&2&&m("nzLayout","vertical")("formGroup",o.validateForm)},dependencies:[U,R,G,$,j,H,B,W,Q,k,M,F,L,V,O,q]})}}return n})();var Qe=Je(Ke());var ot=["download"],rt=(n,u)=>["/customers/routes/edit/",n,u];function at(n,u){if(n&1){let e=C();t(0,"li",27),g("click",function(){z(e);let o=c(2);return _(o.toggleActive(o.item))}),s(1,"i",36),t(2,"span",29),r(3,"Activar"),i()()}}function lt(n,u){if(n&1){let e=C();t(0,"li",27),g("click",function(){z(e);let o=c(2);return _(o.toggleActive(o.item))}),s(1,"i",36),t(2,"span",29),r(3,"Desactivar"),i()()}}function st(n,u){if(n&1){let e=C();t(0,"div",22)(1,"nz-page-header",23)(2,"nz-page-header-title"),r(3,"Detalles de la Operaci\xF3n"),i(),t(4,"nz-page-header-subtitle"),r(5,"Listado de las estaciones de esta Operaci\xF3n"),i(),t(6,"nz-page-header-extra")(7,"button",24),s(8,"i",25),i(),t(9,"nz-dropdown-menu",null,4)(11,"ul",26)(12,"li",27),g("click",function(){z(e);let o=c();return _(o.openPanelPDF(o.item))}),s(13,"i",28),t(14,"span",29),r(15,"Generar Documento"),i()(),x(16,at,4,0,"li",30)(17,lt,4,0,"li",30),t(18,"li",31)(19,"a",32),s(20,"i",33),t(21,"span",29),r(22,"Editar"),i()()(),s(23,"li",34),t(24,"li",27),g("click",function(){z(e);let o=c();return _(o.deleteRoute(o.item))}),s(25,"i",35),t(26,"span",29),r(27,"Eliminar"),i()()()()()()()}if(n&2){let e=P(10),a=c();l(),m("nzGhost",!1),l(6),m("nzDropdownMenu",e),l(9),m("ngIf",!a.item.active),l(),m("ngIf",a.item.active),l(2),m("routerLink",pe(5,rt,a.item.customerId,a.item.routeId))}}function dt(n,u){n&1&&s(0,"i",37)}function mt(n,u){if(n&1){let e=C();t(0,"button",38),g("click",function(){z(e);let o=c();return _(o.showModalCreate())}),s(1,"i",39),t(2,"span"),r(3,"Agregar estaci\xF3n"),i()()}}function ct(n,u){if(n&1&&(t(0,"td"),r(1),i()),n&2){let e=c().$implicit;S(e.active?"text-dark":"text-muted font-italic"),l(),v(e.rounds.round1)}}function pt(n,u){if(n&1&&(t(0,"td"),r(1,"--:--"),i()),n&2){let e=c().$implicit;S(e.active?"text-dark":"text-muted font-italic")}}function ut(n,u){if(n&1&&(t(0,"td"),r(1),i()),n&2){let e=c().$implicit;S(e.active?"text-dark":"text-muted font-italic"),l(),v(e.round1MinutesSinceStart)}}function ft(n,u){if(n&1&&(t(0,"td"),r(1,"--:--"),i()),n&2){let e=c().$implicit;S(e.active?"text-dark":"text-muted font-italic")}}function ht(n,u){if(n&1&&(t(0,"td"),r(1),i()),n&2){let e=c().$implicit;S(e.active?"text-dark":"text-muted font-italic"),l(),v(e.rounds.round2)}}function St(n,u){if(n&1&&(t(0,"td"),r(1,"--:--"),i()),n&2){let e=c().$implicit;S(e.active?"text-dark":"text-muted font-italic")}}function zt(n,u){if(n&1&&(t(0,"td"),r(1),i()),n&2){let e=c().$implicit;S(e.active?"text-dark":"text-muted font-italic"),l(),v(e.round2MinutesSinceStart)}}function _t(n,u){if(n&1&&(t(0,"td"),r(1,"--:--"),i()),n&2){let e=c().$implicit;S(e.active?"text-dark":"text-muted font-italic")}}function gt(n,u){if(n&1&&(t(0,"td"),r(1),i()),n&2){let e=c().$implicit;S(e.active?"text-dark":"text-muted font-italic"),l(),v(e.rounds.round3)}}function xt(n,u){if(n&1&&(t(0,"td"),r(1,"--:--"),i()),n&2){let e=c().$implicit;S(e.active?"text-dark":"text-muted font-italic")}}function vt(n,u){if(n&1&&(t(0,"td"),r(1),i()),n&2){let e=c().$implicit;S(e.active?"text-dark":"text-muted font-italic"),l(),v(e.round3MinutesSinceStart)}}function Ct(n,u){if(n&1&&(t(0,"td"),r(1,"--:--"),i()),n&2){let e=c().$implicit;S(e.active?"text-dark":"text-muted font-italic")}}function Et(n,u){if(n&1&&(t(0,"a",44),r(1," M\xE1s.. "),s(2,"span",45),i()),n&2){c();let e=P(24);m("nzDropdownMenu",e)}}function bt(n,u){if(n&1){let e=C();t(0,"li",27),g("click",function(){z(e);let o=c().$implicit,d=c();return _(d.toggleActive(o))}),s(1,"i",46),r(2," Activar "),i()}}function Pt(n,u){if(n&1){let e=C();t(0,"li",27),g("click",function(){z(e);let o=c().$implicit,d=c();return _(d.toggleActive(o))}),s(1,"i",47),r(2," Desactivar "),i()}}function yt(n,u){if(n&1){let e=C();t(0,"tr")(1,"td"),r(2),i(),t(3,"td"),r(4),i(),t(5,"td"),r(6),i(),t(7,"td"),r(8),i(),x(9,ct,2,3,"td",40)(10,pt,2,2,"td",40)(11,ut,2,3,"td",40)(12,ft,2,2,"td",40)(13,ht,2,3,"td",40)(14,St,2,2,"td",40)(15,zt,2,3,"td",40)(16,_t,2,2,"td",40)(17,gt,2,3,"td",40)(18,xt,2,2,"td",40)(19,vt,2,3,"td",40)(20,Ct,2,2,"td",40),t(21,"td"),x(22,Et,3,1,"a",41),t(23,"nz-dropdown-menu",null,4)(25,"ul",26)(26,"li",27),g("click",function(){let o=z(e).$implicit,d=c();return _(d.openPanelPDF(o))}),s(27,"i",28),t(28,"span",29),r(29,"Generar QR "),i()(),x(30,bt,3,0,"li",30)(31,Pt,3,0,"li",30),t(32,"li",27),g("click",function(){let o=z(e).$implicit,d=c();return _(d.showModalEdit(o))}),s(33,"i",42),r(34," Editar "),i(),s(35,"li",34),t(36,"li",31),s(37,"i",43),r(38," Eliminar "),i()()()()()}if(n&2){let e=u.$implicit,a=c();l(),S(e.active?"text-dark":"text-muted font-italic"),l(),v(e.order),l(),S(e.active?"text-dark":"text-muted font-italic"),l(),v(e.name),l(),S(e.active?"text-dark":"text-muted font-italic"),l(),v(e.description),l(),S(e.active?"text-dark":"text-muted font-italic"),l(),ce("",e.geopoint.latitude,", ",e.geopoint.longitude,""),l(),m("ngIf",e.rounds),l(),m("ngIf",!e.rounds),l(),m("ngIf",e.rounds),l(),m("ngIf",!e.rounds),l(),m("ngIf",e.rounds),l(),m("ngIf",!e.rounds),l(),m("ngIf",e.rounds),l(),m("ngIf",!e.rounds),l(),m("ngIf",e.rounds),l(),m("ngIf",!e.rounds),l(),m("ngIf",e.rounds),l(),m("ngIf",!e.rounds),l(),S(e.active?"text-dark":"text-muted font-italic"),l(),m("ngIf",a.userCanUpdate),l(8),m("ngIf",!e.active),l(),m("ngIf",e.active)}}function wt(n,u){if(n&1&&(t(0,"div",48)(1,"table",49)(2,"tr")(3,"td",50)(4,"div",51),s(5,"img",52),i()()(),t(6,"tr")(7,"td",50)(8,"div",51)(9,"h1"),r(10),i()()()(),t(11,"tr")(12,"td",50)(13,"div",51)(14,"h4"),r(15),i()()()(),t(16,"tr")(17,"td",50)(18,"div",51)(19,"h4"),r(20),i()()()(),t(21,"tr")(22,"td",50)(23,"div",51),s(24,"nz-qrcode",53)(25,"a",null,5),i()()()()()),n&2){let e=c();l(10),X("Estaci\xF3n: ",e.pdfTitle,""),l(5),X("Orden: ",e.pdfOrder,""),l(5),v(e.pdfDescription),l(4),le("nzValue","",e.userId,"-",e.stopId,"")}}function It(n,u){if(n&1){let e=C();t(0,"form",54),g("ngSubmit",function(){z(e);let o=c();return _(o.handleOkEdit())}),t(1,"nz-form-item")(2,"nz-form-control",55)(3,"nz-input-group",56),s(4,"input",57),i()()(),t(5,"nz-form-item")(6,"nz-form-control",58)(7,"nz-input-group",56),s(8,"input",59),i()()(),t(9,"div",10)(10,"div",60)(11,"nz-form-item")(12,"nz-form-label"),r(13,"Latitud"),i(),t(14,"nz-form-control",61)(15,"nz-input-group",56),s(16,"input",62),i()()()(),t(17,"div",60)(18,"nz-form-item")(19,"nz-form-label"),r(20,"Longitud"),i(),t(21,"nz-form-control",61)(22,"nz-input-group",56),s(23,"input",63),i()()()()(),t(24,"div",10)(25,"div",64)(26,"nz-form-item")(27,"nz-form-label"),r(28,"Horario D\xEDa"),i(),t(29,"nz-form-control",65)(30,"nz-input-group",56),s(31,"input",66),i()()()(),t(32,"div",64)(33,"nz-form-item")(34,"nz-form-label"),r(35,"Horario Tarde"),i(),t(36,"nz-form-control",65)(37,"nz-input-group",56),s(38,"input",67),i()()()(),t(39,"div",64)(40,"nz-form-item")(41,"nz-form-label"),r(42,"Horario Noche"),i(),t(43,"nz-form-control",65)(44,"nz-input-group",56),s(45,"input",68),i()()()()(),t(46,"div",10)(47,"div",64)(48,"nz-form-item")(49,"nz-form-label"),r(50,"Minutos d\xEDa"),i(),t(51,"nz-form-control",65)(52,"nz-input-group",56),s(53,"input",69),i()()()(),t(54,"div",64)(55,"nz-form-item")(56,"nz-form-label"),r(57,"Minutos Tarde"),i(),t(58,"nz-form-control",65)(59,"nz-input-group",56),s(60,"input",70),i()()()(),t(61,"div",64)(62,"nz-form-item")(63,"nz-form-label"),r(64,"Minutos Noche"),i(),t(65,"nz-form-control",65)(66,"nz-input-group",56),s(67,"input",71),i()()()()(),t(68,"nz-form-item")(69,"nz-form-label"),r(70,"Orden"),i(),t(71,"nz-form-control",72)(72,"nz-input-group",56),s(73,"input",73),i()()()()}if(n&2){let e=c();m("nzLayout","vertical")("formGroup",e.validateForm)}}var ii=(()=>{class n{constructor(e,a,o,d){this.fb=e,this.modalService=a,this.message=o,this.afs=d,this.accountId="",this.routeId="",this.userCanUpdate=!1,this.rolService=I(Te),this.routesService=I(Ae),this.userService=I(Ee),this.authService=I(ge),this.stopPointsList=[],this.loading=!0,this.time=new Date,this.isEditing=!1,this.infoLoad=[],this.isPdfVisible=!1,this.pdfTitle="",this.pdfOrder="",this.pdfDescription="",this.stopId="",this.userId="",this.isEditVisible=!1,this.stopSubscriptions$=new ne,this.authService.user.subscribe(f=>{f&&(this.user=f,this.user!==null&&this.user!==void 0&&this.user.rolId!==void 0&&this.rolService.getRol(this.user.rolId).valueChanges().subscribe(h=>{this.infoLoad=h,this.userlevelAccess=this.infoLoad.optionAccessLavel}))})}ngOnInit(){this.getSubscriptions(),this.usersCollection=this.afs.collection("users",e=>e.where("customerId","==",this.accountId).where("email","==","internal").orderBy("customerName")),this.userSubscription=this.usersCollection.snapshotChanges().pipe(E(e=>e.map(a=>{let o=a.payload.doc.id,d=a.payload.doc.data();return w({id:o},d)}))).subscribe(e=>{this.userId=e[0].uid})}ngOnDestroy(){this.sub.unsubscribe(),this.stopSubscriptions$.next(!1),this.stopSubscriptions$.complete(),this.accountsSubscription&&this.accountsSubscription.unsubscribe()}timePickerChange(){}handleCancel(){this.isPdfVisible=!1}handleOkPDF(){try{var e=new te;(0,Qe.default)(document.getElementById("documentoPDF")).then(a=>{let o=a.toDataURL("image/png"),d=new te("p","pt","a4");var f=d.internal.pageSize.getWidth(),h=a.height*f/a.width;d.addImage(o,"PNG",10,10,f,h);let y=this.pdfOrder+"-"+this.pdfTitle+".pdf";d.save(y)}),this.isPdfVisible=!1}catch(a){this.sendMessage("error",a)}}toggleActive(e){this.routesService.toggleActiveStopPoint(this.accountId,this.routeId,e),this.updatePolyLine(this.accountId,this.routeId)}openPanelPDF(e){this.isPdfVisible=!0,this.pdfTitle=e.name,this.pdfOrder=e.order,this.pdfDescription=e.description,this.stopId=e.id}sendMessage(e,a){this.message.create(e,a)}deleteRoute(e){this.userlevelAccess=="1"?this.routesService.deleteRoute(e.customerId,e.routeId).then(()=>{}).catch(a=>this.sendMessage("error",a)):this.sendMessage("error","El usuario no tiene permisos para borrar datos, favor de contactar al administrador.")}getSubscriptions(){this.sub=this.routesService.getRouteStopPoints(this.accountId,this.routeId).pipe(E(e=>e.map(a=>{let o=a.payload.doc.id,d=a.payload.doc.data();return J(w({},d),{id:o})}))).subscribe(e=>{this.stopPointsList=e,this.loading=!1}),this.routesService.getRoute(this.accountId,this.routeId).pipe(re(this.stopSubscriptions$),E(e=>{let a=e.payload.id,o=e.payload.data();return J(w({},o),{id:a})}),ae(e=>(this.item=e,e))).subscribe()}showModalEdit(e){this.isEditVisible=!0,this.stopPoint=e,this.validateForm=this.fb.group({id:[this.stopPoint.id],active:[this.stopPoint.active],name:[this.stopPoint.name,[p.required]],description:[this.stopPoint.description,[p.required]],latitude:[this.stopPoint.geopoint.latitude,[p.required]],longitude:[this.stopPoint.geopoint.longitude,[p.required]],imageUrl:[this.stopPoint.imageUrl,[p.required]],kmzUrl:[this.stopPoint.kmzUrl,[p.required]],order:[this.stopPoint.order,[p.required]],round1:[this.stopPoint.round1,[p.required]],round2:[this.stopPoint.round2,[p.required]],round3:[this.stopPoint.round3,[p.required]],round1MinutesSinceStart:[this.stopPoint.round1MinutesSinceStart,[p.required]],round2MinutesSinceStart:[this.stopPoint.round2MinutesSinceStart,[p.required]],round3MinutesSinceStart:[this.stopPoint.round3MinutesSinceStart,[p.required]]})}handleOkEdit(){this.routesService.updateStopPoint(this.accountId,this.routeId,this.validateForm.value).then(()=>{this.isEditVisible=!1,this.updatePolyLine(this.accountId,this.routeId),this.message.success("\xA1Listo!")}).catch(e=>{this.isEditVisible=!1,this.message.error("Ocurri\xF3 un error: ",e)})}handleCancelEdit(){this.isEditVisible=!1}showModalCreate(){let e=this.modalService.create({nzTitle:"Nueva Estaci\xF3n",nzContent:We,nzOkText:"Crear",nzCancelText:"Cancelar",nzOkLoading:this.isEditing,nzOnOk:()=>new Promise(a=>ie(this,null,function*(){this.isEditing=!0;let o=e.getContentComponent().validateForm.value;o.id=this.afs.createId(),yield this.routesService.createStopPoint(this.accountId,this.routeId,o).then(()=>{this.isEditing=!1,e.destroy(),this.message.success("\xA1Listo!")}).catch(d=>{this.isEditing=!1,this.message.error("Ocurri\xF3 un error: ",d)})}))})}updatePolyLine(e,a){this.routesService.getCustomersPolyLineCustomer(e,a).pipe(K(1),E(o=>o.length>0?o.map(d=>({id:d.payload.doc.id})):[{id:"-"}]),N(o=>this.routesService.getCustomersRoutesbyCustomer(e,a).pipe(K(1),E(d=>d.map(f=>{let h=f.payload.doc.id,y=f.payload.doc.data();return w({id:h},y)})),E(d=>({polylineId:o[0].id,stopPoints:d})))),oe(({stopPoints:o})=>o.length>=2),E(({polylineId:o,stopPoints:d})=>{let f=d.map(h=>({latitude:parseFloat(h.latitude),longitude:parseFloat(h.longitude)}));return{polylineId:o,coordinatesArray:f}}),N(({polylineId:o,coordinatesArray:d})=>this.routesService.getDirectionsWithStops(d).pipe(N(f=>this.routesService.setPolyline(f,e,a,o))))).subscribe({next:()=>{console.log("Polyline updated successfully")},error:o=>{this.sendMessage("error",o)}})}onEditOk(){}downloadImg(){let e=document.getElementById("download")?.querySelector("canvas");if(e){this.download.nativeElement.href=e.toDataURL("image/png"),this.download.nativeElement.download="ng-zorro-antd";let a=new MouseEvent("click");this.download.nativeElement.dispatchEvent(a)}}static{this.\u0275fac=function(a){return new(a||n)(b(A),b(Ie),b(_e),b(Se))}}static{this.\u0275cmp=T({type:n,selectors:[["app-shared-stoppoints-list"]],viewQuery:function(a,o){if(a&1&&se(ot,5),a&2){let d;de(d=me())&&(o.download=d.first)}},inputs:{accountId:"accountId",routeId:"routeId",userCanUpdate:"userCanUpdate"},decls:55,vars:10,consts:[["searchPrefix",""],["basicTable",""],["modalContent",""],["modalContentEdit",""],["menu","nzDropdownMenu"],["download",""],["class","site-page-header-ghost-wrapper",4,"ngIf"],[1,"page-header"],[1,"row","align-items-md-center"],[1,"col-md-6"],[1,"row"],[1,"col-md-5"],[3,"nzPrefix"],["type","text","nz-input","","placeholder","Buscar estaci\xF3n"],[1,"text-md-right","m-v-10"],["nz-button","","style"," background-color: #4F6F57; color: #f6f3ea;",3,"click",4,"ngIf"],[3,"nzData","nzLoading"],["rowspan","2"],["colspan","2"],[4,"ngFor","ngForOf"],["nzTitle","Imprimir Estaci\xF3n",3,"nzVisibleChange","nzOnCancel","nzOnOk","nzVisible","nzContent"],["nzTitle","Editar Estaci\xF3n",3,"nzVisibleChange","nzOnCancel","nzOnOk","nzVisible","nzContent"],[1,"site-page-header-ghost-wrapper"],[2,"background-color","#f9fbfd",3,"nzGhost"],["nz-button","","nzNoAnimation","","nz-dropdown","",2,"border","none","padding","0",3,"nzDropdownMenu"],["nz-icon","","nzTheme","outline",2,"font-size","20px","vertical-align","top"],["nz-menu","","nzSelectable",""],["nz-menu-item","",3,"click"],["nz-icon","","nzType","printer","theme","outline"],[1,"m-l-10"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-menu-item",""],[3,"routerLink"],["nz-icon","","nzType","edit","theme","outline"],["nz-menu-divider",""],["nz-icon","","nzType","delete","theme","outline"],["nz-icon","","nzType","eye","theme","outline"],["nz-icon","","nzType","search",1,"opacity-04"],["nz-button","",2,"background-color","#4F6F57","color","#f6f3ea",3,"click"],["nz-icon","","nzType","plus"],[3,"class",4,"ngIf"],["nz-dropdown","","nzPlacement","bottomRight",3,"nzDropdownMenu",4,"ngIf"],["nz-icon","","nzType","edit"],["nz-icon","","nzTheme","twotone","nzTwotoneColor","#de4436","nzType","delete"],["nz-dropdown","","nzPlacement","bottomRight",3,"nzDropdownMenu"],["nz-icon","","nzType","down"],["nz-icon","","nzType","check-circle"],["nz-icon","","nzType","pause-circle"],["id","documentoPDF",1,"documentPDF"],[1,"tableStyle"],["colspan","3"],[2,"display","flex","justify-content","center","align-items","center"],["src","assets/images/logo/andlogo.png","alt",""],[3,"nzValue"],["nz-form","",3,"ngSubmit","nzLayout","formGroup"],["nzErrorTip","Por favor escriba el nombre!"],["nzPrefixIcon","edit"],["formControlName","name","nz-input","","placeholder","nombre"],["nzErrorTip","Please input your Password!"],["formControlName","description","nz-input","","type","text","placeholder","Descripci\xF3n"],[1,"col-md-6","col-sm-12"],["nzErrorTip","La geocerca no puede estar en blanco"],["formControlName","latitude","nz-input","","placeholder","geocerca"],["formControlName","longitude","nz-input","","placeholder","geocerca"],[1,"col-md-4","col-sm-12"],["nzErrorTip","Agregue horario"],["formControlName","round1","nz-input","","placeholder","00:00"],["formControlName","round2","nz-input","","placeholder","00:00"],["formControlName","round3","nz-input","","placeholder","00:00"],["type","number","formControlName","round1MinutesSinceStart","nz-input","","placeholder","00"],["type","number","formControlName","round2MinutesSinceStart","nz-input","","placeholder","00"],["type","number","formControlName","round3MinutesSinceStart","nz-input","","placeholder","00"],["nzErrorTip","Orden de ejecuci\xF3n de la operaci\xF3n"],["formControlName","order","nz-input","","type","number","placeholder","num\xE9rico"]],template:function(a,o){if(a&1){let d=C();x(0,st,28,8,"div",6),t(1,"div",7)(2,"div",8)(3,"div",9)(4,"div",10)(5,"div",11)(6,"nz-input-group",12),s(7,"input",13),i(),x(8,dt,1,0,"ng-template",null,0,D),i()()(),t(10,"div",9)(11,"div",14),x(12,mt,4,0,"button",15),i()()()(),t(13,"nz-table",16,1)(15,"thead")(16,"tr")(17,"th",17),r(18,"Orden"),i(),t(19,"th",17),r(20,"Nombre"),i(),t(21,"th",17),r(22,"Descripci\xF3n"),i(),t(23,"th",17),r(24,"Ubicaci\xF3n"),i(),t(25,"th",18),r(26,"D\xEDa"),i(),t(27,"th",18),r(28,"Tarde"),i(),t(29,"th",18),r(30,"Noche"),i(),s(31,"th"),i(),t(32,"tr")(33,"th"),r(34,"Hora"),i(),t(35,"th"),r(36,"Minutos"),i(),t(37,"th"),r(38,"Hora"),i(),t(39,"th"),r(40,"Minutos"),i(),t(41,"th"),r(42,"Hora"),i(),t(43,"th"),r(44,"Minutos"),i(),t(45,"th"),r(46,"..."),i()()(),t(47,"tbody"),x(48,yt,39,30,"tr",19),i()(),t(49,"nz-modal",20),ee("nzVisibleChange",function(h){return z(d),Z(o.isPdfVisible,h)||(o.isPdfVisible=h),_(h)}),g("nzOnCancel",function(){return z(d),_(o.handleCancel())})("nzOnOk",function(){return z(d),_(o.handleOkPDF())}),i(),x(50,wt,27,6,"ng-template",null,2,D),t(52,"nz-modal",21),ee("nzVisibleChange",function(h){return z(d),Z(o.isEditVisible,h)||(o.isEditVisible=h),_(h)}),g("nzOnCancel",function(){return z(d),_(o.handleCancelEdit())})("nzOnOk",function(){return z(d),_(o.handleOkEdit())}),x(53,It,74,2,"ng-template",null,3,D),i()}if(a&2){let d=P(9),f=P(14),h=P(51),y=P(54);m("ngIf",!!o.item),l(6),m("nzPrefix",d),l(6),m("ngIf",o.userCanUpdate),l(),m("nzData",o.stopPointsList)("nzLoading",o.loading),l(35),m("ngForOf",f.data),l(),Y("nzVisible",o.isPdfVisible),m("nzContent",h),l(3),Y("nzVisible",o.isEditVisible),m("nzContent",y)}},dependencies:[ue,fe,Re,ze,U,R,G,$,j,H,B,W,xe,He,Ue,$e,Be,Ge,je,Ne,Pe,be,ye,De,Me,Ve,Le,Ce,Q,ve,qe,ke,Fe,Oe,he,k,M,F,L,V,O,q],styles:[".documentPDF[_ngcontent-%COMP%]{max-width:500px;margin:20px auto;padding:20px;border:1px solid #ccc;box-shadow:0 0 10px #0000001a}.tableStyle[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px;border:1px solid #ddd}.theadClass[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px;text-align:center}img[_ngcontent-%COMP%]{max-width:100%;height:auto}"]})}}return n})();export{ii as a};
