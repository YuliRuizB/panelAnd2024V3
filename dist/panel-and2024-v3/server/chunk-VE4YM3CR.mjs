import './polyfills.server.mjs';
import{ca as p}from"./chunk-RGRZ6MYN.mjs";import{Xa as l,p as f}from"./chunk-NJWSL4FI.mjs";import{$ as h,ca as r,q as n}from"./chunk-6PZZNLED.mjs";import{a as c,b as d}from"./chunk-H6KHSOBK.mjs";var C=(()=>{class o{constructor(t,s,e){this.afs=t,this.notification=s,this.aff=e,this.documentPath="admin/dashboard",this.dashboardItems=this.afs.doc(this.documentPath).valueChanges()}getDashboardItems(){return this.dashboardItems}sendToDeviceMessage(t){this.aff.httpsCallable("sendToDeviseMessage")(t).subscribe({next:e=>{},error:e=>{}})}setChatMessage(t){let s=this.afs.createId();return this.afs.collection("chatMessages").doc(s).set(t)}setMessage(t,s){let e=this.afs.createId();return this.afs.collection("users").doc(s).collection("messages").doc(e).set(t)}getUserChatMessages(t,s){return this.afs.collection("chatMessages",e=>e.where("uid","==",t)).snapshotChanges().pipe(n(e=>e.map(a=>{let i=a.payload.doc.id,m=a.payload.doc.data();return c({id:i},m)})))}getJobType(t){return this.afs.collection("customers").doc(t).snapshotChanges().pipe(n(e=>{let a=e.payload.data(),i=e.payload.id;return d(c({},a),{id:i})}))}getJobTypeInfo(t){return this.afs.collection("jobType").doc(t).snapshotChanges().pipe(n(e=>{let a=e.payload.data(),i=e.payload.id;return d(c({},a),{id:i})}))}static{this.\u0275fac=function(s){return new(s||o)(r(f),r(l),r(p))}}static{this.\u0275prov=h({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();export{C as a};
