import{Hc as u,Ic as l,Jc as d,U as f,X as m}from"./chunk-M4WL67FH.js";var b=(()=>{let o=class o{constructor(c){this.afs=c}getAccounts(){return this.afs.collection("customers",t=>t.orderBy("active","desc").orderBy("name","desc")).snapshotChanges()}getAccount(c){return this.afs.collection("customers").doc(c).snapshotChanges()}updateAccount(c,t){return this.afs.collection("customers").doc(c).update(t)}setAccount(c){let t=this.afs.createId(),s=u(),r=this.afs.collection("customers").doc(t),i=this.afs.collection("pCustomers").doc(t),n=this.afs.collection("summarized").doc("ZcVXcD1p4O7mYjwBIiLv"),e=this.afs.firestore.batch();return e.set(r.ref,c),e.set(i.ref,{name:c.name,active:!1}),e.set(n.ref,{currentAccounts:l(1),last_updated:s},{merge:!0}),e.commit()}deleteAccount(c){let t=c,s=u(),r=this.afs.collection("customers").doc(t),i=this.afs.collection("pCustomers").doc(t),n=this.afs.collection("summarized").doc("ZcVXcD1p4O7mYjwBIiLv"),e=this.afs.firestore.batch();return e.delete(r.ref),e.delete(i.ref),e.set(n.ref,{currentAccounts:h(1),last_updated:s},{merge:!0}),e.commit()}toggleAccountActive(c,t){let s=c,r=this.afs.collection("customers").doc(s),i=this.afs.collection("pCustomers").doc(s),n=this.afs.firestore.batch();return n.set(r.ref,{active:!t},{merge:!0}),n.set(i.ref,{active:!t},{merge:!0}),n.commit()}};o.\u0275fac=function(t){return new(t||o)(m(d))},o.\u0275prov=f({token:o,factory:o.\u0275fac,providedIn:"root"});let a=o;return a})();function h(a){throw new Error("Function not implemented.")}export{b as a};
