import{Mc as d,V as i,Y as c,we as l}from"./chunk-Y43Y5JPN.js";var u=(()=>{let t=class t{constructor(e,s){this.afs=e,this.message=s}getVendors(){return this.afs.collection("vendors").snapshotChanges()}getVendor(e){return this.afs.collection("vendors").doc(e).snapshotChanges()}getVendorRoutesAccess(e){return this.afs.collection("vendors").doc(e).collection("routesAccess").snapshotChanges()}getVendorRoutesAccessByCustomer(e){return this.afs.collectionGroup("routesAccess",o=>o.where("customerId","==",e).orderBy("customerName","asc")).snapshotChanges()}createVendor(e){this.message.loading("Guardando ..."),this.afs.collection("vendors").add(e).then(()=>{this.message.remove(),this.message.success("Se genero el cliente correctamente.")}).catch(o=>{this.message.remove(),this.message.error("Hubo un error: ",o),console.log(o)})}updateVendor(e,s){this.message.loading("Actualizando ..."),this.afs.collection("vendors").doc(e).update(s).then(()=>{this.message.remove(),this.message.success("Se Actualizo con exito el cliente.")}).catch(n=>{this.message.remove(),this.message.error("Hubo un error: ",n),console.log(n)})}updateVendorAvatar(e,s){this.message.loading("Actualizando ..."),this.afs.collection("vendors").doc(e).update({avatar:s}).then(()=>{this.message.remove(),this.message.success("Se actualizo la imagen del Cliente")}).catch(n=>{this.message.remove(),this.message.error("Hubo un error: ",n),console.log(n)})}deleteVendor(e){this.message.loading("Eliminando ..."),this.afs.collection("vendors").doc(e).delete().then(()=>{this.message.remove(),this.message.success("Se elimino el cliente correctamente.")}).catch(o=>{this.message.remove(),this.message.error("Hubo un error: ",o),console.log(o)})}toggleVendorActive(e,s){let o=e,n=this.afs.collection("vendors").doc(o),a=this.afs.firestore.batch();return a.set(n.ref,{active:!s},{merge:!0}),a.commit()}};t.\u0275fac=function(s){return new(s||t)(c(d),c(l))},t.\u0275prov=i({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();export{u as a};
