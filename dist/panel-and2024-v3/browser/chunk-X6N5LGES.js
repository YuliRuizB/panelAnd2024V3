import{P as F,Q as x,R as C,S as A,_ as q,b as v,c as N,d as b,da as U,e as h,fa as k,i as S,k as g,m as D,q as E,t as j,u as z}from"./chunk-QOFVDSBV.js";import{$ as d,Ea as f,Ra as t,Sa as i,Ta as c,_a as l,mb as o,sa as p,sf as I,ta as m,tf as _,vf as R,ye as y}from"./chunk-Y43Y5JPN.js";var Q=(()=>{let n=class n{constructor(r,a,e,s){this.messageService=r,this.customersService=a,this.usersService=e,this.fb=s}ngOnInit(){this.formDeleteAccount=this.fb.group({userName:[null,[N.required]]})}ngOnDestroy(){this.accountsSubscription&&this.accountsSubscription.unsubscribe()}DeleteAccount(){for(let r in this.formDeleteAccount?.controls)this.formDeleteAccount.controls[r].markAsDirty(),this.formDeleteAccount.controls[r].updateValueAndValidity();this.formDeleteAccount?.valid?this.accountsSubscription=this.usersService.getUserInfoByEmail(this.formDeleteAccount.controls.userName.value).subscribe(r=>{r.forEach(a=>{let e=a.payload.doc.data(),s={active:!0,phoneNumber:e.phoneNumber,firstName:e.firstName,lastName:e.lastName,email:e.email,displayName:e.displayName,customerName:e.customerName,defaultRound:e.defaultRound,defaultRoute:e.defaultRoute,defaultRouteName:e.defaultRouteName,status:"in Progress"};console.log(s),this.customersService.createSystemDeleteUser(s);let B="Gracias "+e.displayName+"  , la solicitud de baja sera enviada, en un periodo de 5 dias h\xE1biles m\xE1ximo sera completada la solicitud.";this.messageService.success("Informaci\xF3n",B)})}):this.messageService.error("Error","Escriba por favor sus datos para tener acceso")}};n.\u0275fac=function(a){return new(a||n)(m(y),m(U),m(k),m(E))},n.\u0275cmp=d({type:n,selectors:[["app-baja-usuario"]],decls:30,vars:1,consts:[[1,"d-flex","h-100","p-v-15","flex-column","justify-content-between"],[1,"d-none","d-md-flex","p-h-40"],["src","assets/images/logo/andlogo.png","alt",""],[1,"container"],["nz-form","",1,"login-form",3,"ngSubmit","formGroup"],["nzRequired","","nzFor","userName"],["type","userName","id","userName","nz-input","","formControlName","userName","placeholder","Correo Electr\xF3nico"],["nz-button","",2,"background-color","#4F6F57","color","#f6f3ea",3,"click"],["href","/bajaUsuario","target","_blank"]],template:function(a,e){a&1&&(t(0,"div")(1,"div",0)(2,"div",1),c(3,"img",2),i()(),t(4,"div",3)(5,"form",4),l("ngSubmit",function(){return e.DeleteAccount()}),t(6,"nz-form-item")(7,"nz-form-label",5),o(8,"Correo Electr\xF3nico"),i(),t(9,"nz-form-control"),c(10,"input",6),i()()(),t(11,"button",7),l("click",function(){return e.DeleteAccount()}),o(12,"Darme de Baja"),i(),t(13,"p"),o(14,"Lamentamos profundamente escuchar que has decidido darte de baja de nuestro portal. tu participaci\xF3n y lamentamos que tu experiencia no haya sido lo que esperabas."),i(),t(15,"p"),o(16," Nos gustar\xEDa entender mejor tus razones para tomar esta decisi\xF3n. Tu opini\xF3n es valiosa para nosotros y nos ayuda a mejorar nuestros productos para futuros usuarios. Si estar\xEDas dispuesto/a, agradecer\xEDamos mucho si pudieras proporcionarnos comentarios sobre tu experiencia o cualquier sugerencia que puedas tener. Estamos siempre trabajando para ofrecer la mejor experiencia posible a nuestros usuarios. "),i(),t(17,"p"),o(18," Si hay algo en lo que podamos ayudarte o si tienes alguna pregunta antes de completar el proceso de baja, no dudes en contactarnos. Estamos aqu\xED para brindarte asistencia y resolver cualquier preocupaci\xF3n que puedas tener. "),i(),t(19,"p"),o(20," Agradecemos sinceramente la oportunidad que nos diste de servirte y te deseamos lo mejor en tus futuros proyectos. "),i(),t(21,"p"),o(22,"Puede obtener m\xE1s informaci\xF3n visitando nuestra p\xE1gina "),t(23,"a",8),o(24,"aqu\xED"),i(),o(25,"."),i(),t(26,"p"),o(27," Atentamente, "),i(),t(28,"p"),o(29," Direcci\xF3n "),i()()()),a&2&&(p(5),f("formGroup",e.formDeleteAccount))},dependencies:[z,j,x,F,A,C,q,R,I,_,S,v,b,h,g,D],encapsulation:2});let u=n;return u})();export{Q as a};
