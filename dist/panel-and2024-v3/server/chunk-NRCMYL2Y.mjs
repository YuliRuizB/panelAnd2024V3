import './polyfills.server.mjs';
import{A as jt,B as Xt,C as xi,H as Oe,T as Me,U as Ti,V as Ii,W as Ri,d as fi,z as ke}from"./chunk-KMWCCYID.mjs";import{E as dt,F as ht,H as mi,I as gi,Ia as pt,J as E,La as yi,M as Qt,Pa as bi,Qa as Di,Ta as Ht,U as x,Ua as Si,Ub as wi,Vb as Ae,W as _i,Wb as Fe,X as we,Y as Te,Yb as Ne,Z as Ie,_b as Le,ba as At,ia as Kt,ma as Yt,na as Re,oa as Ft,pa as Nt,qa as Lt,ra as Ee,sa as Ci,ta as vi,ua as bt,va as Pe,xa as zi}from"./chunk-F3VCI4QE.mjs";import{$ as Rt,A as it,Aa as he,Ab as G,Bb as zt,Cb as J,Cc as be,Db as di,Dc as pi,Eb as yt,G as K,Ga as mt,Ia as u,J as ce,Ja as d,Ka as ri,Kb as kt,La as B,Lb as W,Oa as gt,Ob as hi,Pa as Y,Qa as _t,Rb as Ce,S as ft,Sa as qt,Sb as ve,T as Ut,Ta as pe,Ua as _,V as b,Va as X,Vb as ze,Wa as f,X as oi,Xa as Ct,Ya as $,_a as ue,a as ut,aa as nt,b as ae,ba as st,bd as ui,ca as k,cb as z,cd as De,d as m,dd as Mt,e as ti,eb as ai,ed as Se,fb as li,fd as xe,ga as O,gb as ci,gc as tt,ha as N,hb as C,ia as ot,ib as D,j as ei,ja as F,jb as I,ka as de,kb as at,kc as ye,lb as lt,na as rt,nb as U,oa as L,oc as ct,pa as H,pb as fe,q as Zt,qb as M,rb as me,s as ii,sa as Et,sb as h,ta as j,tb as ge,u as ni,ua as v,ub as _e,w as le,wc as Ot,xb as vt,y as si,yb as Pt,z as It,zb as V}from"./chunk-WNM5W7LL.mjs";import{d as S}from"./chunk-PESVQS5A.mjs";import{a as Q,e as Xe,j as Je}from"./chunk-H6KHSOBK.mjs";var In=["nz-input-group-slot",""],Pi=["*"];function Rn(o,t){if(o&1&&I(0,"span",0),o&2){let n=h();f("nzType",n.icon)}}function En(o,t){if(o&1&&(at(0),J(1),lt()),o&2){let n=h();u(),di(n.template)}}function Pn(o,t){if(o&1&&I(0,"span",3),o&2){let n=h(2);f("icon",n.nzAddOnBeforeIcon)("template",n.nzAddOnBefore)}}function kn(o,t){}function On(o,t){if(o&1&&(C(0,"span",5),_(1,kn,0,0,"ng-template",6),D()),o&2){let n=h(2),e=zt(3);$("ant-input-affix-wrapper-disabled",n.disabled)("ant-input-affix-wrapper-sm",n.isSmall)("ant-input-affix-wrapper-lg",n.isLarge)("ant-input-affix-wrapper-focused",n.focused),f("ngClass",n.affixInGroupStatusCls),u(),f("ngTemplateOutlet",e)}}function Mn(o,t){}function An(o,t){if(o&1&&_(0,Mn,0,0,"ng-template",6),o&2){h(2);let n=zt(5);f("ngTemplateOutlet",n)}}function Fn(o,t){if(o&1&&I(0,"span",3),o&2){let n=h(2);f("icon",n.nzAddOnAfterIcon)("template",n.nzAddOnAfter)}}function Nn(o,t){if(o&1&&(C(0,"span",2),_(1,Pn,1,2,"span",3)(2,On,2,10,"span",4)(3,An,1,1)(4,Fn,1,2,"span",3),D()),o&2){let n=h();u(),z(1,n.nzAddOnBefore||n.nzAddOnBeforeIcon?1:-1),u(),z(2,n.isAffix||n.hasFeedback?2:3),u(2),z(4,n.nzAddOnAfter||n.nzAddOnAfterIcon?4:-1)}}function Ln(o,t){}function Hn(o,t){if(o&1&&_(0,Ln,0,0,"ng-template",6),o&2){h(2);let n=zt(3);f("ngTemplateOutlet",n)}}function jn(o,t){}function Bn(o,t){if(o&1&&_(0,jn,0,0,"ng-template",6),o&2){h(2);let n=zt(5);f("ngTemplateOutlet",n)}}function $n(o,t){if(o&1&&_(0,Hn,1,1,null,6)(1,Bn,1,1),o&2){let n=h();z(0,n.isAffix?0:1)}}function Vn(o,t){if(o&1&&I(0,"span",7),o&2){let n=h(2);f("icon",n.nzPrefixIcon)("template",n.nzPrefix)}}function Gn(o,t){}function Wn(o,t){if(o&1&&I(0,"nz-form-item-feedback-icon",9),o&2){let n=h(3);f("status",n.status)}}function Zn(o,t){if(o&1&&(C(0,"span",8),_(1,Wn,1,1,"nz-form-item-feedback-icon",9),D()),o&2){let n=h(2);f("icon",n.nzSuffixIcon)("template",n.nzSuffix),u(),z(1,n.isFeedback?1:-1)}}function Un(o,t){if(o&1&&_(0,Vn,1,2,"span",7)(1,Gn,0,0,"ng-template",6)(2,Zn,2,3,"span",8),o&2){let n=h(),e=zt(5);z(0,n.nzPrefix||n.nzPrefixIcon?0:-1),u(),f("ngTemplateOutlet",e),u(),z(2,n.nzSuffix||n.nzSuffixIcon||n.isFeedback?2:-1)}}function qn(o,t){if(o&1&&(C(0,"span",10),I(1,"nz-form-item-feedback-icon",9),D()),o&2){let n=h(2);u(),f("status",n.status)}}function Qn(o,t){if(o&1&&(_e(0),_(1,qn,2,1,"span",10)),o&2){let n=h();u(),z(1,!n.isAddOn&&!n.isAffix&&n.isFeedback?1:-1)}}var ki=(()=>{let t=class t{constructor(){this.icon=null,this.type=null,this.template=null}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=N({type:t,selectors:[["","nz-input-group-slot",""]],hostVars:6,hostBindings:function(i,s){i&2&&$("ant-input-group-addon",s.type==="addon")("ant-input-prefix",s.type==="prefix")("ant-input-suffix",s.type==="suffix")},inputs:{icon:"icon",type:"type",template:"template"},standalone:!0,features:[W],attrs:In,ngContentSelectors:Pi,decls:3,vars:2,consts:[["nz-icon","",3,"nzType"],[4,"nzStringTemplateOutlet"]],template:function(i,s){i&1&&(ge(),_(0,Rn,1,1,"span",0)(1,En,2,1,"ng-container",1),_e(2)),i&2&&(z(0,s.icon?0:-1),u(),f("nzStringTemplateOutlet",s.template))},dependencies:[Lt,Nt,ht,dt],encapsulation:2,changeDetection:0});let o=t;return o})(),Kn=(()=>{let t=class t{get disabled(){return this.ngControl&&this.ngControl.disabled!==null?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=e!=null&&`${e}`!="false"}constructor(e,i,s,r,a,l,c){this.ngControl=e,this.renderer=i,this.elementRef=s,this.hostView=r,this.directionality=a,this.nzFormStatusService=l,this.nzFormNoStatusService=c,this.nzBorderless=!1,this.nzSize="default",this.nzStepperless=!0,this.nzStatus="",this._disabled=!1,this.disabled$=new m,this.dir="ltr",this.prefixCls="ant-input",this.status="",this.statusCls={},this.hasFeedback=!1,this.feedbackRef=null,this.components=[],this.destroy$=new m}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe(ce((e,i)=>e.status===i.status&&e.hasFeedback===i.hasFeedback),b(this.destroy$)).subscribe(({status:e,hasFeedback:i})=>{this.setStatusStyles(e,i)}),this.ngControl&&this.ngControl.statusChanges?.pipe(it(()=>this.ngControl.disabled!==null),b(this.destroy$)).subscribe(()=>{this.disabled$.next(this.ngControl.disabled)}),this.dir=this.directionality.value,this.directionality.change?.pipe(b(this.destroy$)).subscribe(e=>{this.dir=e})}ngOnChanges(e){let{disabled:i,nzStatus:s}=e;i&&this.disabled$.next(this.disabled),s&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setStatusStyles(e,i){this.status=e,this.hasFeedback=i,this.renderFeedbackIcon(),this.statusCls=At(this.prefixCls,e,i),Object.keys(this.statusCls).forEach(s=>{this.statusCls[s]?this.renderer.addClass(this.elementRef.nativeElement,s):this.renderer.removeClass(this.elementRef.nativeElement,s)})}renderFeedbackIcon(){if(!this.status||!this.hasFeedback||this.nzFormNoStatusService){this.hostView.clear(),this.feedbackRef=null;return}this.feedbackRef=this.feedbackRef||this.hostView.createComponent(Xt),this.feedbackRef.location.nativeElement.classList.add("ant-input-suffix"),this.feedbackRef.instance.status=this.status,this.feedbackRef.instance.updateIcon()}};t.\u0275fac=function(i){return new(i||t)(d(fi,10),d(gt),d(j),d(_t),d(pt,8),d(ke,8),d(jt,8))},t.\u0275dir=F({type:t,selectors:[["input","nz-input",""],["textarea","nz-input",""]],hostAttrs:[1,"ant-input"],hostVars:13,hostBindings:function(i,s){i&2&&(X("disabled",s.disabled||null),$("ant-input-disabled",s.disabled)("ant-input-borderless",s.nzBorderless)("ant-input-lg",s.nzSize==="large")("ant-input-sm",s.nzSize==="small")("ant-input-rtl",s.dir==="rtl")("ant-input-stepperless",s.nzStepperless))},inputs:{nzBorderless:"nzBorderless",nzSize:"nzSize",nzStepperless:"nzStepperless",nzStatus:"nzStatus",disabled:"disabled"},exportAs:["nzInput"],standalone:!0,features:[rt]});let o=t;return S([x()],o.prototype,"nzBorderless",void 0),S([x()],o.prototype,"nzStepperless",void 0),o})(),Js=(()=>{let t=class t{constructor(e){this.elementRef=e}};t.\u0275fac=function(i){return new(i||t)(d(j))},t.\u0275dir=F({type:t,selectors:[["nz-input-group","nzSuffix",""],["nz-input-group","nzPrefix",""]],standalone:!0});let o=t;return o})(),Yn=(()=>{let t=class t{constructor(e,i,s,r,a,l,c){this.focusMonitor=e,this.elementRef=i,this.renderer=s,this.cdr=r,this.directionality=a,this.nzFormStatusService=l,this.nzFormNoStatusService=c,this.nzAddOnBeforeIcon=null,this.nzAddOnAfterIcon=null,this.nzPrefixIcon=null,this.nzSuffixIcon=null,this.nzStatus="",this.nzSize="default",this.nzSearch=!1,this.nzCompact=!1,this.isLarge=!1,this.isSmall=!1,this.isAffix=!1,this.isAddOn=!1,this.isFeedback=!1,this.focused=!1,this.disabled=!1,this.dir="ltr",this.prefixCls="ant-input",this.affixStatusCls={},this.groupStatusCls={},this.affixInGroupStatusCls={},this.status="",this.hasFeedback=!1,this.destroy$=new m}updateChildrenInputSize(){this.listOfNzInputDirective&&this.listOfNzInputDirective.forEach(e=>e.nzSize=this.nzSize)}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe(ce((e,i)=>e.status===i.status&&e.hasFeedback===i.hasFeedback),b(this.destroy$)).subscribe(({status:e,hasFeedback:i})=>{this.setStatusStyles(e,i)}),this.focusMonitor.monitor(this.elementRef,!0).pipe(b(this.destroy$)).subscribe(e=>{this.focused=!!e,this.cdr.markForCheck()}),this.dir=this.directionality.value,this.directionality.change?.pipe(b(this.destroy$)).subscribe(e=>{this.dir=e})}ngAfterContentInit(){this.updateChildrenInputSize();let e=this.listOfNzInputDirective.changes.pipe(ft(this.listOfNzInputDirective));e.pipe(Ut(i=>It(e,...i.map(s=>s.disabled$))),ii(()=>e),Zt(i=>i.some(s=>s.disabled)),b(this.destroy$)).subscribe(i=>{this.disabled=i,this.cdr.markForCheck()})}ngOnChanges(e){let{nzSize:i,nzSuffix:s,nzPrefix:r,nzPrefixIcon:a,nzSuffixIcon:l,nzAddOnAfter:c,nzAddOnBefore:p,nzAddOnAfterIcon:g,nzAddOnBeforeIcon:y,nzStatus:P}=e;i&&(this.updateChildrenInputSize(),this.isLarge=this.nzSize==="large",this.isSmall=this.nzSize==="small"),(s||r||a||l)&&(this.isAffix=!!(this.nzSuffix||this.nzPrefix||this.nzPrefixIcon||this.nzSuffixIcon)),(c||p||g||y)&&(this.isAddOn=!!(this.nzAddOnAfter||this.nzAddOnBefore||this.nzAddOnAfterIcon||this.nzAddOnBeforeIcon),this.nzFormNoStatusService?.noFormStatus?.next(this.isAddOn)),P&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.elementRef),this.destroy$.next(),this.destroy$.complete()}setStatusStyles(e,i){this.status=e,this.hasFeedback=i,this.isFeedback=!!e&&i;let s=!!(this.nzSuffix||this.nzPrefix||this.nzPrefixIcon||this.nzSuffixIcon);this.isAffix=s||!this.isAddOn&&i,this.affixInGroupStatusCls=this.isAffix||this.isFeedback?this.affixStatusCls=At(`${this.prefixCls}-affix-wrapper`,e,i):{},this.cdr.markForCheck(),this.affixStatusCls=At(`${this.prefixCls}-affix-wrapper`,this.isAddOn?"":e,this.isAddOn?!1:i),this.groupStatusCls=At(`${this.prefixCls}-group-wrapper`,this.isAddOn?e:"",this.isAddOn?i:!1);let r=Q(Q({},this.affixStatusCls),this.groupStatusCls);Object.keys(r).forEach(a=>{r[a]?this.renderer.addClass(this.elementRef.nativeElement,a):this.renderer.removeClass(this.elementRef.nativeElement,a)})}};t.\u0275fac=function(i){return new(i||t)(d(Ri),d(j),d(gt),d(tt),d(pt,8),d(ke,8),d(jt,8))},t.\u0275cmp=N({type:t,selectors:[["nz-input-group"]],contentQueries:function(i,s,r){if(i&1&&vt(r,Kn,4),i&2){let a;V(a=G())&&(s.listOfNzInputDirective=a)}},hostVars:40,hostBindings:function(i,s){i&2&&$("ant-input-group-compact",s.nzCompact)("ant-input-search-enter-button",s.nzSearch)("ant-input-search",s.nzSearch)("ant-input-search-rtl",s.dir==="rtl")("ant-input-search-sm",s.nzSearch&&s.isSmall)("ant-input-search-large",s.nzSearch&&s.isLarge)("ant-input-group-wrapper",s.isAddOn)("ant-input-group-wrapper-rtl",s.dir==="rtl")("ant-input-group-wrapper-lg",s.isAddOn&&s.isLarge)("ant-input-group-wrapper-sm",s.isAddOn&&s.isSmall)("ant-input-affix-wrapper",s.isAffix&&!s.isAddOn)("ant-input-affix-wrapper-rtl",s.dir==="rtl")("ant-input-affix-wrapper-focused",s.isAffix&&s.focused)("ant-input-affix-wrapper-disabled",s.isAffix&&s.disabled)("ant-input-affix-wrapper-lg",s.isAffix&&!s.isAddOn&&s.isLarge)("ant-input-affix-wrapper-sm",s.isAffix&&!s.isAddOn&&s.isSmall)("ant-input-group",!s.isAffix&&!s.isAddOn)("ant-input-group-rtl",s.dir==="rtl")("ant-input-group-lg",!s.isAffix&&!s.isAddOn&&s.isLarge)("ant-input-group-sm",!s.isAffix&&!s.isAddOn&&s.isSmall)},inputs:{nzAddOnBeforeIcon:"nzAddOnBeforeIcon",nzAddOnAfterIcon:"nzAddOnAfterIcon",nzPrefixIcon:"nzPrefixIcon",nzSuffixIcon:"nzSuffixIcon",nzAddOnBefore:"nzAddOnBefore",nzAddOnAfter:"nzAddOnAfter",nzPrefix:"nzPrefix",nzStatus:"nzStatus",nzSuffix:"nzSuffix",nzSize:"nzSize",nzSearch:"nzSearch",nzCompact:"nzCompact"},exportAs:["nzInputGroup"],standalone:!0,features:[kt([jt]),rt,W],ngContentSelectors:Pi,decls:6,vars:1,consts:[["affixTemplate",""],["contentTemplate",""],[1,"ant-input-wrapper","ant-input-group"],["nz-input-group-slot","","type","addon",3,"icon","template"],[1,"ant-input-affix-wrapper",3,"ant-input-affix-wrapper-disabled","ant-input-affix-wrapper-sm","ant-input-affix-wrapper-lg","ant-input-affix-wrapper-focused","ngClass"],[1,"ant-input-affix-wrapper",3,"ngClass"],[3,"ngTemplateOutlet"],["nz-input-group-slot","","type","prefix",3,"icon","template"],["nz-input-group-slot","","type","suffix",3,"icon","template"],[3,"status"],["nz-input-group-slot","","type","suffix"]],template:function(i,s){i&1&&(ge(),_(0,Nn,5,3,"span",2)(1,$n,2,1)(2,Un,3,3,"ng-template",null,0,ze)(4,Qn,2,1,"ng-template",null,1,ze)),i&2&&z(0,s.isAddOn?0:1)},dependencies:[ki,Ot,pi,xi,Xt],encapsulation:2,changeDetection:0});let o=t;return S([x()],o.prototype,"nzSearch",void 0),S([x()],o.prototype,"nzCompact",void 0),o})();var to=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=ot({type:t}),t.\u0275inj=nt({imports:[Yn,ki]});let o=t;return o})();var T=class T{transform(t,n=0,e="B",i){if(!(Te(t)&&Te(n)&&n%1===0&&n>=0))return t;let s=t,r=e;for(;r!=="B";)s*=1024,r=T.formats[r].prev;if(i){let a=T.formats[i],l=Ie(T.calculateResult(a,s),n);return T.formatResult(l,i)}for(let a in T.formats)if(T.formats.hasOwnProperty(a)){let l=T.formats[a];if(s<l.max){let c=Ie(T.calculateResult(l,s),n);return T.formatResult(c,a)}}}static formatResult(t,n){return`${t} ${n}`}static calculateResult(t,n){let e=t.prev?T.formats[t.prev]:void 0;return e?n/e.max:n}};T.formats={B:{max:1024},kB:{max:Math.pow(1024,2),prev:"B"},KB:{max:Math.pow(1024,2),prev:"B"},MB:{max:Math.pow(1024,3),prev:"kB"},GB:{max:Math.pow(1024,4),prev:"MB"},TB:{max:Number.MAX_SAFE_INTEGER,prev:"GB"}},T.\u0275fac=function(n){return new(n||T)},T.\u0275pipe=de({name:"nzBytes",type:T,pure:!0,standalone:!0});var Oi=T,je=(()=>{let t=class t{transform(e,i="px"){return typeof e=="number"?`${e}${i}`:e}};t.\u0275fac=function(i){return new(i||t)},t.\u0275pipe=de({name:"nzToCssUnit",type:t,pure:!0,standalone:!0});let o=t;return o})();var Be=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=ot({type:t}),t.\u0275inj=nt({});let o=t;return o})();function Qe(o,t,n){for(let e in t)if(t.hasOwnProperty(e)){let i=t[e];i?o.setProperty(e,i,n?.has(e)?"important":""):o.removeProperty(e)}return o}function Dt(o,t){let n=t?"":"none";Qe(o.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":n,"-ms-user-select":n,"-webkit-user-select":n,"-moz-user-select":n})}function Mi(o,t,n){Qe(o.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},n)}function ie(o,t){return t&&t!="none"?o+" "+t:o}function Ai(o){let t=o.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(o)*t}function Jn(o){let t=getComputedStyle(o),n=$e(t,"transition-property"),e=n.find(a=>a==="transform"||a==="all");if(!e)return 0;let i=n.indexOf(e),s=$e(t,"transition-duration"),r=$e(t,"transition-delay");return Ai(s[i])+Ai(r[i])}function $e(o,t){return o.getPropertyValue(t).split(",").map(e=>e.trim())}function Ke(o){let t=o.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function Ge(o,t,n){let{top:e,bottom:i,left:s,right:r}=o;return n>=e&&n<=i&&t>=s&&t<=r}function $t(o,t,n){o.top+=t,o.bottom=o.top+o.height,o.left+=n,o.right=o.left+o.width}function Fi(o,t,n,e){let{top:i,right:s,bottom:r,left:a,width:l,height:c}=o,p=l*t,g=c*t;return e>i-g&&e<r+g&&n>a-p&&n<s+p}var ne=class{constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(n=>{this.positions.set(n,{scrollPosition:{top:n.scrollTop,left:n.scrollLeft},clientRect:Ke(n)})})}handleScroll(t){let n=Ft(t),e=this.positions.get(n);if(!e)return null;let i=e.scrollPosition,s,r;if(n===this._document){let c=this.getViewportScrollPosition();s=c.top,r=c.left}else s=n.scrollTop,r=n.scrollLeft;let a=i.top-s,l=i.left-r;return this.positions.forEach((c,p)=>{c.clientRect&&n!==p&&n.contains(p)&&$t(c.clientRect,a,l)}),i.top=s,i.left=r,{top:a,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function Ni(o){let t=o.cloneNode(!0),n=t.querySelectorAll("[id]"),e=o.nodeName.toLowerCase();t.removeAttribute("id");for(let i=0;i<n.length;i++)n[i].removeAttribute("id");return e==="canvas"?ji(o,t):(e==="input"||e==="select"||e==="textarea")&&Hi(o,t),Li("canvas",o,t,ji),Li("input, textarea, select",o,t,Hi),t}function Li(o,t,n,e){let i=t.querySelectorAll(o);if(i.length){let s=n.querySelectorAll(o);for(let r=0;r<i.length;r++)e(i[r],s[r])}}var ts=0;function Hi(o,t){t.type!=="file"&&(t.value=o.value),t.type==="radio"&&t.name&&(t.name=`mat-clone-${t.name}-${ts++}`)}function ji(o,t){let n=t.getContext("2d");if(n)try{n.drawImage(o,0,0)}catch{}}var Bi=Yt({passive:!0}),Jt=Yt({passive:!1}),es=800,Ve=new Set(["position"]),We=class{get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(t){t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(n=>Dt(n,t)))}constructor(t,n,e,i,s,r){this._config=n,this._document=e,this._ngZone=i,this._viewportRuler=s,this._dragDropRegistry=r,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new m,this._pointerMoveSubscription=ut.EMPTY,this._pointerUpSubscription=ut.EMPTY,this._scrollSubscription=ut.EMPTY,this._resizeSubscription=ut.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new m,this.started=new m,this.released=new m,this.ended=new m,this.entered=new m,this.exited=new m,this.dropped=new m,this.moved=this._moveEvents,this._pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){let l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)},this._pointerMove=a=>{let l=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging){let p=Math.abs(l.x-this._pickupPositionOnPage.x),g=Math.abs(l.y-this._pickupPositionOnPage.y);if(p+g>=this._config.dragStartThreshold){let P=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),Z=this._dropContainer;if(!P){this._endDragSequence(a);return}(!Z||!Z.isDragging()&&!Z.isReceiving())&&(a.cancelable&&a.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(a)))}return}a.cancelable&&a.preventDefault();let c=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(c),this._dropContainer)this._updateActiveDropContainer(c,l);else{let p=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,g=this._activeTransform;g.x=c.x-p.x+this._passiveTransform.x,g.y=c.y-p.y+this._passiveTransform.y,this._applyRootElementTransform(g.x,g.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:c,event:a,distance:this._getDragDistance(c),delta:this._pointerDirectionDelta})})},this._pointerUp=a=>{this._endDragSequence(a)},this._nativeDragStart=a=>{if(this._handles.length){let l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&a.preventDefault()}else this.disabled||a.preventDefault()},this.withRootElement(t).withParent(n.parentDragRef||null),this._parentPositions=new ne(e),r.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(e=>E(e)),this._handles.forEach(e=>Dt(e,this.disabled)),this._toggleNativeDragInteractions();let n=new Set;return this._disabledHandles.forEach(e=>{this._handles.indexOf(e)>-1&&n.add(e)}),this._disabledHandles=n,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){let n=E(t);return n!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{n.addEventListener("mousedown",this._pointerDown,Jt),n.addEventListener("touchstart",this._pointerDown,Bi),n.addEventListener("dragstart",this._nativeDragStart,Jt)}),this._initialTransform=void 0,this._rootElement=n),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?E(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Dt(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Dt(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){let t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){let t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let n=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(n),dropPoint:n,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){Bt(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let n=this._dropContainer;if(n){let e=this._rootElement,i=e.parentNode,s=this._placeholder=this._createPlaceholderElement(),r=this._anchor=this._anchor||this._document.createComment(""),a=this._getShadowRoot();i.insertBefore(r,e),this._initialTransform=e.style.transform||"",this._preview=this._createPreviewElement(),Mi(e,!1,Ve),this._document.body.appendChild(i.replaceChild(s,e)),this._getPreviewInsertionPoint(i,a).appendChild(this._preview),this.started.next({source:this,event:t}),n.start(),this._initialContainer=n,this._initialIndex=n.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(n?n.getScrollableParents():[])}_initializeDragSequence(t,n){this._parentDragRef&&n.stopPropagation();let e=this.isDragging(),i=Bt(n),s=!i&&n.button!==0,r=this._rootElement,a=Ft(n),l=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+es>Date.now(),c=i?Ii(n):Ti(n);if(a&&a.draggable&&n.type==="mousedown"&&n.preventDefault(),e||s||l||c)return;if(this._handles.length){let y=r.style;this._rootElementTapHighlight=y.webkitTapHighlightColor||"",y.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(y=>this._updateOnScroll(y)),this._boundaryElement&&(this._boundaryRect=Ke(this._boundaryElement));let p=this._previewTemplate;this._pickupPositionInElement=p&&p.template&&!p.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,t,n);let g=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(n);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:g.x,y:g.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,n)}_cleanupDragArtifacts(t){Mi(this._rootElement,!0,Ve),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let n=this._dropContainer,e=n.getItemIndex(this),i=this._getPointerPositionOnPage(t),s=this._getDragDistance(i),r=n._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:s,dropPoint:i,event:t}),this.dropped.next({item:this,currentIndex:e,previousIndex:this._initialIndex,container:n,previousContainer:this._initialContainer,isPointerOverContainer:r,distance:s,dropPoint:i,event:t}),n.drop(this,e,this._initialIndex,this._initialContainer,r,s,i,t),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:n},{x:e,y:i}){let s=this._initialContainer._getSiblingContainerFromPosition(this,t,n);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,n)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,t,n,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(e,i),this._dropContainer._sortItem(this,t,n,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,n):this._applyPreviewTransform(t-this._pickupPositionInElement.x,n-this._pickupPositionInElement.y))}_createPreviewElement(){let t=this._previewTemplate,n=this.previewClass,e=t?t.template:null,i;if(e&&t){let s=t.matchSize?this._initialDomRect:null,r=t.viewContainer.createEmbeddedView(e,t.context);r.detectChanges(),i=Vi(r,this._document),this._previewRef=r,t.matchSize?Gi(i,s):i.style.transform=ee(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else i=Ni(this._rootElement),Gi(i,this._initialDomRect),this._initialTransform&&(i.style.transform=this._initialTransform);return Qe(i.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Ve),Dt(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("dir",this._direction),n&&(Array.isArray(n)?n.forEach(s=>i.classList.add(s)):i.classList.add(n)),i}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);let n=Jn(this._preview);return n===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(e=>{let i=r=>{(!r||Ft(r)===this._preview&&r.propertyName==="transform")&&(this._preview?.removeEventListener("transitionend",i),e(),clearTimeout(s))},s=setTimeout(i,n*1.5);this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){let t=this._placeholderTemplate,n=t?t.template:null,e;return n?(this._placeholderRef=t.viewContainer.createEmbeddedView(n,t.context),this._placeholderRef.detectChanges(),e=Vi(this._placeholderRef,this._document)):e=Ni(this._rootElement),e.style.pointerEvents="none",e.classList.add("cdk-drag-placeholder"),e}_getPointerPositionInElement(t,n,e){let i=n===this._rootElement?null:n,s=i?i.getBoundingClientRect():t,r=Bt(e)?e.targetTouches[0]:e,a=this._getViewportScrollPosition(),l=r.pageX-s.left-a.left,c=r.pageY-s.top-a.top;return{x:s.left-t.left+l,y:s.top-t.top+c}}_getPointerPositionOnPage(t){let n=this._getViewportScrollPosition(),e=Bt(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,i=e.pageX-n.left,s=e.pageY-n.top;if(this._ownerSVGElement){let r=this._ownerSVGElement.getScreenCTM();if(r){let a=this._ownerSVGElement.createSVGPoint();return a.x=i,a.y=s,a.matrixTransform(r.inverse())}}return{x:i,y:s}}_getConstrainedPointerPosition(t){let n=this._dropContainer?this._dropContainer.lockAxis:null,{x:e,y:i}=this.constrainPosition?this.constrainPosition(t,this,this._initialDomRect,this._pickupPositionInElement):t;if(this.lockAxis==="x"||n==="x"?i=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||n==="y")&&(e=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:s,y:r}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),p=a.top+r,g=a.bottom-(c-r),y=a.left+s,P=a.right-(l-s);e=$i(e,y,P),i=$i(i,p,g)}return{x:e,y:i}}_updatePointerDirectionDelta(t){let{x:n,y:e}=t,i=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,r=Math.abs(n-s.x),a=Math.abs(e-s.y);return r>this._config.pointerDirectionChangeThreshold&&(i.x=n>s.x?1:-1,s.x=n),a>this._config.pointerDirectionChangeThreshold&&(i.y=e>s.y?1:-1,s.y=e),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Dt(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,Jt),t.removeEventListener("touchstart",this._pointerDown,Bi),t.removeEventListener("dragstart",this._nativeDragStart,Jt)}_applyRootElementTransform(t,n){let e=ee(t,n),i=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=i.transform&&i.transform!="none"?i.transform:""),i.transform=ie(e,this._initialTransform)}_applyPreviewTransform(t,n){let e=this._previewTemplate?.template?void 0:this._initialTransform,i=ee(t,n);this._preview.style.transform=ie(i,e)}_getDragDistance(t){let n=this._pickupPositionOnPage;return n?{x:t.x-n.x,y:t.y-n.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:n}=this._passiveTransform;if(t===0&&n===0||this.isDragging()||!this._boundaryElement)return;let e=this._rootElement.getBoundingClientRect(),i=this._boundaryElement.getBoundingClientRect();if(i.width===0&&i.height===0||e.width===0&&e.height===0)return;let s=i.left-e.left,r=e.right-i.right,a=i.top-e.top,l=e.bottom-i.bottom;i.width>e.width?(s>0&&(t+=s),r>0&&(t-=r)):t=0,i.height>e.height?(a>0&&(n+=a),l>0&&(n-=l)):n=0,(t!==this._passiveTransform.x||n!==this._passiveTransform.y)&&this.setFreeDragPosition({y:n,x:t})}_getDragStartDelay(t){let n=this.dragStartDelay;return typeof n=="number"?n:Bt(t)?n.touch:n?n.mouse:0}_updateOnScroll(t){let n=this._parentPositions.handleScroll(t);if(n){let e=Ft(t);this._boundaryRect&&e!==this._boundaryElement&&e.contains(this._boundaryElement)&&$t(this._boundaryRect,n.top,n.left),this._pickupPositionOnPage.x+=n.left,this._pickupPositionOnPage.y+=n.top,this._dropContainer||(this._activeTransform.x-=n.left,this._activeTransform.y-=n.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=Re(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,n){let e=this._previewContainer||"global";if(e==="parent")return t;if(e==="global"){let i=this._document;return n||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return E(e)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(t){return this._handles.find(n=>t.target&&(t.target===n||n.contains(t.target)))}};function ee(o,t){return`translate3d(${Math.round(o)}px, ${Math.round(t)}px, 0)`}function $i(o,t,n){return Math.max(t,Math.min(n,o))}function Bt(o){return o.type[0]==="t"}function Vi(o,t){let n=o.rootNodes;if(n.length===1&&n[0].nodeType===t.ELEMENT_NODE)return n[0];let e=t.createElement("div");return n.forEach(i=>e.appendChild(i)),e}function Gi(o,t){o.style.width=`${t.width}px`,o.style.height=`${t.height}px`,o.style.transform=ee(t.left,t.top)}function is(o,t,n){let e=Wi(t,o.length-1),i=Wi(n,o.length-1);if(e===i)return;let s=o[e],r=i<e?-1:1;for(let a=e;a!==i;a+=r)o[a]=o[a+r];o[i]=s}function Wi(o,t){return Math.max(0,Math.min(t,o))}var Ze=class{constructor(t,n){this._element=t,this._dragDropRegistry=n,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(t){this.withItems(t)}sort(t,n,e,i){let s=this._itemPositions,r=this._getItemIndexFromPointerPosition(t,n,e,i);if(r===-1&&s.length>0)return null;let a=this.orientation==="horizontal",l=s.findIndex(w=>w.drag===t),c=s[r],p=s[l].clientRect,g=c.clientRect,y=l>r?1:-1,P=this._getItemOffsetPx(p,g,y),Z=this._getSiblingOffsetPx(l,s,y),wt=s.slice();return is(s,l,r),s.forEach((w,re)=>{if(wt[re]===w)return;let Gt=w.drag===t,Tt=Gt?P:Z,Wt=Gt?t.getPlaceholderElement():w.drag.getRootElement();w.offset+=Tt,a?(Wt.style.transform=ie(`translate3d(${Math.round(w.offset)}px, 0, 0)`,w.initialTransform),$t(w.clientRect,0,Tt)):(Wt.style.transform=ie(`translate3d(0, ${Math.round(w.offset)}px, 0)`,w.initialTransform),$t(w.clientRect,Tt,0))}),this._previousSwap.overlaps=Ge(g,n,e),this._previousSwap.drag=c.drag,this._previousSwap.delta=a?i.x:i.y,{previousIndex:l,currentIndex:r}}enter(t,n,e,i){let s=i==null||i<0?this._getItemIndexFromPointerPosition(t,n,e):i,r=this._activeDraggables,a=r.indexOf(t),l=t.getPlaceholderElement(),c=r[s];if(c===t&&(c=r[s+1]),!c&&(s==null||s===-1||s<r.length-1)&&this._shouldEnterAsFirstChild(n,e)&&(c=r[0]),a>-1&&r.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){let p=c.getRootElement();p.parentElement.insertBefore(l,p),r.splice(s,0,t)}else E(this._element).appendChild(l),r.push(t);l.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables.forEach(t=>{let n=t.getRootElement();if(n){let e=this._itemPositions.find(i=>i.drag===t)?.initialTransform;n.style.transform=e||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(e=>e.drag===t)}updateOnScroll(t,n){this._itemPositions.forEach(({clientRect:e})=>{$t(e,t,n)}),this._itemPositions.forEach(({drag:e})=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})}_cacheItemPositions(){let t=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(n=>{let e=n.getVisibleElement();return{drag:n,offset:0,initialTransform:e.style.transform||"",clientRect:Ke(e)}}).sort((n,e)=>t?n.clientRect.left-e.clientRect.left:n.clientRect.top-e.clientRect.top)}_getItemOffsetPx(t,n,e){let i=this.orientation==="horizontal",s=i?n.left-t.left:n.top-t.top;return e===-1&&(s+=i?n.width-t.width:n.height-t.height),s}_getSiblingOffsetPx(t,n,e){let i=this.orientation==="horizontal",s=n[t].clientRect,r=n[t+e*-1],a=s[i?"width":"height"]*e;if(r){let l=i?"left":"top",c=i?"right":"bottom";e===-1?a-=r.clientRect[l]-s[c]:a+=s[l]-r.clientRect[c]}return a}_shouldEnterAsFirstChild(t,n){if(!this._activeDraggables.length)return!1;let e=this._itemPositions,i=this.orientation==="horizontal";if(e[0].drag!==this._activeDraggables[0]){let r=e[e.length-1].clientRect;return i?t>=r.right:n>=r.bottom}else{let r=e[0].clientRect;return i?t<=r.left:n<=r.top}}_getItemIndexFromPointerPosition(t,n,e,i){let s=this.orientation==="horizontal",r=this._itemPositions.findIndex(({drag:a,clientRect:l})=>{if(a===t)return!1;if(i){let c=s?i.x:i.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&c===this._previousSwap.delta)return!1}return s?n>=Math.floor(l.left)&&n<Math.floor(l.right):e>=Math.floor(l.top)&&e<Math.floor(l.bottom)});return r===-1||!this._sortPredicate(r,t)?-1:r}},Zi=.05,Ui=.05,A=function(o){return o[o.NONE=0]="NONE",o[o.UP=1]="UP",o[o.DOWN=2]="DOWN",o}(A||{}),R=function(o){return o[o.NONE=0]="NONE",o[o.LEFT=1]="LEFT",o[o.RIGHT=2]="RIGHT",o}(R||{}),Ue=class{constructor(t,n,e,i,s){this._dragDropRegistry=n,this._ngZone=i,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new m,this.entered=new m,this.exited=new m,this.dropped=new m,this.sorted=new m,this.receivingStarted=new m,this.receivingStopped=new m,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=ut.EMPTY,this._verticalScrollDirection=A.NONE,this._horizontalScrollDirection=R.NONE,this._stopScrollTimers=new m,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),si(0,ei).pipe(b(this._stopScrollTimers)).subscribe(()=>{let r=this._scrollNode,a=this.autoScrollStep;this._verticalScrollDirection===A.UP?r.scrollBy(0,-a):this._verticalScrollDirection===A.DOWN&&r.scrollBy(0,a),this._horizontalScrollDirection===R.LEFT?r.scrollBy(-a,0):this._horizontalScrollDirection===R.RIGHT&&r.scrollBy(a,0)})},this.element=E(t),this._document=e,this.withScrollableParents([this.element]),n.registerDropContainer(this),this._parentPositions=new ne(e),this._sortStrategy=new Ze(this.element,n),this._sortStrategy.withSortPredicate((r,a)=>this.sortPredicate(r,a,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,n,e,i){this._draggingStarted(),i==null&&this.sortingDisabled&&(i=this._draggables.indexOf(t)),this._sortStrategy.enter(t,n,e,i),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,n,e,i,s,r,a,l={}){this._reset(),this.dropped.next({item:t,currentIndex:n,previousIndex:e,container:this,previousContainer:i,isPointerOverContainer:s,distance:r,dropPoint:a,event:l})}withItems(t){let n=this._draggables;return this._draggables=t,t.forEach(e=>e._withDropContainer(this)),this.isDragging()&&(n.filter(i=>i.isDragging()).every(i=>t.indexOf(i)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._sortStrategy.direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._sortStrategy.orientation=t,this}withScrollableParents(t){let n=E(this.element);return this._scrollableElements=t.indexOf(n)===-1?[n,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,n,e,i){if(this.sortingDisabled||!this._domRect||!Fi(this._domRect,Zi,n,e))return;let s=this._sortStrategy.sort(t,n,e,i);s&&this.sorted.next({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,n){if(this.autoScrollDisabled)return;let e,i=A.NONE,s=R.NONE;if(this._parentPositions.positions.forEach((r,a)=>{a===this._document||!r.clientRect||e||Fi(r.clientRect,Zi,t,n)&&([i,s]=ns(a,r.clientRect,this._sortStrategy.direction,t,n),(i||s)&&(e=a))}),!i&&!s){let{width:r,height:a}=this._viewportRuler.getViewportSize(),l={width:r,height:a,top:0,right:r,bottom:a,left:0};i=qi(l,n),s=Qi(l,t),e=window}e&&(i!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||e!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=s,this._scrollNode=e,(i||s)&&e?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let t=E(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){let t=E(this.element);this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(t).clientRect}_reset(){this._isDragging=!1;let t=E(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(n=>n._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(t,n){return this._domRect!=null&&Ge(this._domRect,t,n)}_getSiblingContainerFromPosition(t,n,e){return this._siblings.find(i=>i._canReceive(t,n,e))}_canReceive(t,n,e){if(!this._domRect||!Ge(this._domRect,n,e)||!this.enterPredicate(t,this))return!1;let i=this._getShadowRoot().elementFromPoint(n,e);if(!i)return!1;let s=E(this.element);return i===s||s.contains(i)}_startReceiving(t,n){let e=this._activeSiblings;!e.has(t)&&n.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(e.add(t),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:t,receiver:this,items:n}))}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:t,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){let n=this._parentPositions.handleScroll(t);n&&this._sortStrategy.updateOnScroll(n.top,n.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let t=Re(E(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let t=this._sortStrategy.getActiveItemsSnapshot().filter(n=>n.isDragging());this._siblings.forEach(n=>n._startReceiving(this,t))}};function qi(o,t){let{top:n,bottom:e,height:i}=o,s=i*Ui;return t>=n-s&&t<=n+s?A.UP:t>=e-s&&t<=e+s?A.DOWN:A.NONE}function Qi(o,t){let{left:n,right:e,width:i}=o,s=i*Ui;return t>=n-s&&t<=n+s?R.LEFT:t>=e-s&&t<=e+s?R.RIGHT:R.NONE}function ns(o,t,n,e,i){let s=qi(t,i),r=Qi(t,e),a=A.NONE,l=R.NONE;if(s){let c=o.scrollTop;s===A.UP?c>0&&(a=A.UP):o.scrollHeight-c>o.clientHeight&&(a=A.DOWN)}if(r){let c=o.scrollLeft;n==="rtl"?r===R.RIGHT?c<0&&(l=R.RIGHT):o.scrollWidth+c>o.clientWidth&&(l=R.LEFT):r===R.LEFT?c>0&&(l=R.LEFT):o.scrollWidth-c>o.clientWidth&&(l=R.RIGHT)}return[a,l]}var te=Yt({passive:!1,capture:!0}),ss=(()=>{let t=class t{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=s=>s.isDragging(),this.pointerMove=new m,this.pointerUp=new m,this.scroll=new m,this._preventDefaultWhileDragging=s=>{this._activeDragInstances.length>0&&s.preventDefault()},this._persistentTouchmoveListener=s=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&s.preventDefault(),this.pointerMove.next(s))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,te)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),this._dragInstances.size===0&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,te)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),this._activeDragInstances.length===1)){let s=i.type.startsWith("touch");this._globalListeners.set(s?"touchend":"mouseup",{handler:r=>this.pointerUp.next(r),options:!0}).set("scroll",{handler:r=>this.scroll.next(r),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:te}),s||this._globalListeners.set("mousemove",{handler:r=>this.pointerMove.next(r),options:te}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((r,a)=>{this._document.addEventListener(a,r.handler,r.options)})})}}stopDragging(e){let i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),this._activeDragInstances.length===0&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){let i=[this.scroll];return e&&e!==this._document&&i.push(new ae(s=>this._ngZone.runOutsideAngular(()=>{let a=l=>{this._activeDragInstances.length&&s.next(l)};return e.addEventListener("scroll",a,!0),()=>{e.removeEventListener("scroll",a,!0)}}))),It(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}};t.\u0275fac=function(i){return new(i||t)(k(Y),k(ct))},t.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})(),os={dragStartThreshold:5,pointerDirectionChangeThreshold:5},rs=(()=>{let t=class t{constructor(e,i,s,r){this._document=e,this._ngZone=i,this._viewportRuler=s,this._dragDropRegistry=r}createDrag(e,i=os){return new We(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new Ue(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}};t.\u0275fac=function(i){return new(i||t)(k(ct),k(Y),k(yi),k(ss))},t.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})(),qe=new st("CDK_DRAG_PARENT");var Ki=new st("CdkDragHandle"),Yi=(()=>{let t=class t{get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._stateChanges.next(this)}constructor(e,i){this.element=e,this._parentDrag=i,this._stateChanges=new m,this._disabled=!1,i?._addHandle(this)}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}};t.\u0275fac=function(i){return new(i||t)(d(j),d(qe,12))},t.\u0275dir=F({type:t,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[O.HasDecoratorInputTransform,"cdkDragHandleDisabled","disabled",ye]},standalone:!0,features:[kt([{provide:Ki,useExisting:t}]),pe]});let o=t;return o})(),as=new st("CDK_DRAG_CONFIG"),ls="cdk-drag",cs=new st("CdkDropList"),Xi=(()=>{let t=class t{get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=e,this._dragRef.disabled=this._disabled}constructor(e,i,s,r,a,l,c,p,g,y,P){this.element=e,this.dropContainer=i,this._ngZone=r,this._viewContainerRef=a,this._dir=c,this._changeDetectorRef=g,this._selfHandle=y,this._parentDrag=P,this._destroyed=new m,this._handles=new ti([]),this.started=new v,this.released=new v,this.ended=new v,this.entered=new v,this.exited=new v,this.dropped=new v,this.moved=new ae(Z=>{let wt=this._dragRef.moved.pipe(Zt(w=>({source:this,pointerPosition:w.pointerPosition,event:w.event,delta:w.delta,distance:w.distance}))).subscribe(Z);return()=>{wt.unsubscribe()}}),this._dragRef=p.createDrag(e,{dragStartThreshold:l&&l.dragStartThreshold!=null?l.dragStartThreshold:5,pointerDirectionChangeThreshold:l&&l.pointerDirectionChangeThreshold!=null?l.pointerDirectionChangeThreshold:5,zIndex:l?.zIndex}),this._dragRef.data=this,t._dragInstances.push(this),l&&this._assignDefaults(l),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(K(1),b(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){let i=e.rootElementSelector,s=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),s&&!s.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);let e=t._dragInstances.indexOf(this);e>-1&&t._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(e){let i=this._handles.getValue();i.push(e),this._handles.next(i)}_removeHandle(e){let i=this._handles.getValue(),s=i.indexOf(e);s>-1&&(i.splice(s,1),this._handles.next(i))}_setPreviewTemplate(e){this._previewTemplate=e}_resetPreviewTemplate(e){e===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(e){this._placeholderTemplate=e}_resetPlaceholderTemplate(e){e===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let e=this.element.nativeElement,i=e;this.rootElementSelector&&(i=e.closest!==void 0?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||e)}_getBoundaryElement(){let e=this.boundaryElement;return e?typeof e=="string"?this.element.nativeElement.closest(e):E(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){let i=this._dir,s=this.dragStartDelay,r=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay=typeof s=="object"&&s?s:gi(s),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe(K(1)).subscribe(()=>{if(this._parentDrag){e.withParent(this._parentDrag._dragRef);return}let i=this.element.nativeElement.parentElement;for(;i;){if(i.classList.contains(ls)){e.withParent(t._dragInstances.find(s=>s.element.nativeElement===i)?._dragRef||null);break}i=i.parentElement}})}_handleEvents(e){e.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(e){let{lockAxis:i,dragStartDelay:s,constrainPosition:r,previewClass:a,boundaryElement:l,draggingDisabled:c,rootElementSelector:p,previewContainer:g}=e;this.disabled=c??!1,this.dragStartDelay=s||0,i&&(this.lockAxis=i),r&&(this.constrainPosition=r),a&&(this.previewClass=a),l&&(this.boundaryElement=l),p&&(this.rootElementSelector=p),g&&(this.previewContainer=g)}_setupHandlesListener(){this._handles.pipe(oi(e=>{let i=e.map(s=>s.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),Ut(e=>It(...e.map(i=>i._stateChanges.pipe(ft(i))))),b(this._destroyed)).subscribe(e=>{let i=this._dragRef,s=e.element.nativeElement;e.disabled?i.disableHandle(s):i.enableHandle(s)})}};t._dragInstances=[],t.\u0275fac=function(i){return new(i||t)(d(j),d(cs,12),d(ct),d(Y),d(_t),d(as,8),d(pt,8),d(rs),d(tt),d(Ki,10),d(qe,12))},t.\u0275dir=F({type:t,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,s){i&2&&$("cdk-drag-disabled",s.disabled)("cdk-drag-dragging",s._dragRef.isDragging())},inputs:{data:[O.None,"cdkDragData","data"],lockAxis:[O.None,"cdkDragLockAxis","lockAxis"],rootElementSelector:[O.None,"cdkDragRootElement","rootElementSelector"],boundaryElement:[O.None,"cdkDragBoundary","boundaryElement"],dragStartDelay:[O.None,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[O.None,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[O.HasDecoratorInputTransform,"cdkDragDisabled","disabled",ye],constrainPosition:[O.None,"cdkDragConstrainPosition","constrainPosition"],previewClass:[O.None,"cdkDragPreviewClass","previewClass"],previewContainer:[O.None,"cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[kt([{provide:qe,useExisting:t}]),pe,rt]});let o=t;return o})();var hs=["nz-modal-close",""];function ps(o,t){if(o&1&&(at(0),I(1,"span",2),lt()),o&2){let n=t.$implicit;u(),f("nzType",n)}}var nn=["modalElement"];function us(o,t){if(o&1){let n=U();C(0,"button",16),M("click",function(){L(n);let i=h();return H(i.onCloseClick())}),D()}}function fs(o,t){if(o&1&&(at(0),I(1,"span",12),lt()),o&2){let n=h();u(),f("innerHTML",n.config.nzTitle,mt)}}function ms(o,t){}function gs(o,t){if(o&1&&I(0,"div",12),o&2){let n=h();f("innerHTML",n.config.nzContent,mt)}}function _s(o,t){if(o&1){let n=U();C(0,"button",17),M("click",function(){L(n);let i=h();return H(i.onCancel())}),J(1),D()}if(o&2){let n=h();f("nzLoading",n.config.nzCancelLoading)("disabled",n.config.nzCancelDisabled),X("cdkFocusInitial",n.config.nzAutofocus==="cancel"||null),u(),yt(" ",n.config.nzCancelText||n.locale.cancelText," ")}}function Cs(o,t){if(o&1){let n=U();C(0,"button",18),M("click",function(){L(n);let i=h();return H(i.onOk())}),J(1),D()}if(o&2){let n=h();f("nzType",n.config.nzOkType)("nzLoading",n.config.nzOkLoading)("disabled",n.config.nzOkDisabled)("nzDanger",n.config.nzOkDanger),X("cdkFocusInitial",n.config.nzAutofocus==="ok"||null),u(),yt(" ",n.config.nzOkText||n.locale.okText," ")}}var vs=["nz-modal-footer",""],zs=(o,t)=>({$implicit:o,modalRef:t});function ys(o,t){if(o&1){let n=U();C(0,"button",2),M("click",function(){let i=L(n).$implicit,s=h(4);return H(s.onButtonClick(i))}),J(1),D()}if(o&2){let n=t.$implicit,e=h(4);f("hidden",!e.getButtonCallableProp(n,"show"))("nzLoading",e.getButtonCallableProp(n,"loading"))("disabled",e.getButtonCallableProp(n,"disabled"))("nzType",n.type)("nzDanger",n.danger)("nzShape",n.shape)("nzSize",n.size)("nzGhost",n.ghost),u(),yt(" ",n.label," ")}}function bs(o,t){if(o&1&&li(0,ys,2,9,"button",1,ai),o&2){let n=h(3);ci(n.buttons)}}function Ds(o,t){if(o&1&&I(0,"div",3),o&2){let n=h(3);f("innerHTML",n.config.nzFooter,mt)}}function Ss(o,t){if(o&1&&(at(0),_(1,bs,2,0)(2,Ds,1,1),lt()),o&2){let n=h(2);u(),z(1,n.buttonsFooter?1:2)}}function xs(o,t){if(o&1&&_(0,Ss,3,1,"ng-container",0),o&2){let n=h();f("nzStringTemplateOutlet",n.config.nzFooter)("nzStringTemplateOutletContext",hi(2,zs,n.config.nzData,n.modalRef))}}function ws(o,t){if(o&1){let n=U();C(0,"button",6),M("click",function(){L(n);let i=h(2);return H(i.onCancel())}),J(1),D()}if(o&2){let n=h(2);f("nzLoading",n.config.nzCancelLoading)("disabled",n.config.nzCancelDisabled),X("cdkFocusInitial",n.config.nzAutofocus==="cancel"||null),u(),yt(" ",n.config.nzCancelText||n.locale.cancelText," ")}}function Ts(o,t){if(o&1){let n=U();C(0,"button",7),M("click",function(){L(n);let i=h(2);return H(i.onOk())}),J(1),D()}if(o&2){let n=h(2);f("nzType",n.config.nzOkType)("nzDanger",n.config.nzOkDanger)("nzLoading",n.config.nzOkLoading)("disabled",n.config.nzOkDisabled),X("cdkFocusInitial",n.config.nzAutofocus==="ok"||null),u(),yt(" ",n.config.nzOkText||n.locale.okText," ")}}function Is(o,t){if(o&1&&_(0,ws,2,4,"button",4)(1,Ts,2,6,"button",5),o&2){let n=h();z(0,n.config.nzCancelText!==null?0:-1),u(),z(1,n.config.nzOkText!==null?1:-1)}}var Rs=["nz-modal-title",""];function Es(o,t){if(o&1&&(at(0),I(1,"div",2),lt()),o&2){let n=h();u(),f("innerHTML",n.config.nzTitle,mt)}}function Ps(o,t){if(o&1){let n=U();C(0,"button",9),M("click",function(){L(n);let i=h();return H(i.onCloseClick())}),D()}}function ks(o,t){if(o&1&&I(0,"div",10),o&2){let n=h();Ct("cursor",n.config.nzDraggable?"move":"auto")}}function Os(o,t){}function Ms(o,t){if(o&1&&I(0,"div",7),o&2){let n=h();f("innerHTML",n.config.nzContent,mt)}}function As(o,t){if(o&1){let n=U();C(0,"div",11),M("cancelTriggered",function(){L(n);let i=h();return H(i.onCloseClick())})("okTriggered",function(){L(n);let i=h();return H(i.onOkClick())}),D()}if(o&2){let n=h();f("modalRef",n.modalRef)}}var Ji=()=>{},q=class{constructor(){this.nzCentered=!1,this.nzClosable=!0,this.nzOkLoading=!1,this.nzOkDisabled=!1,this.nzCancelDisabled=!1,this.nzCancelLoading=!1,this.nzDraggable=!1,this.nzNoAnimation=!1,this.nzAutofocus="auto",this.nzKeyboard=!0,this.nzZIndex=1e3,this.nzWidth=520,this.nzCloseIcon="close",this.nzOkType="primary",this.nzOkDanger=!1,this.nzModalType="default",this.nzOnCancel=Ji,this.nzOnOk=Ji,this.nzIconType="question-circle"}},et={enter:"ant-zoom-enter",enterActive:"ant-zoom-enter-active",leave:"ant-zoom-leave",leaveActive:"ant-zoom-leave-active"},St={enter:"ant-fade-enter",enterActive:"ant-fade-enter-active",leave:"ant-fade-leave",leaveActive:"ant-fade-leave-active"},se="ant-modal-mask",oe="modal",Fs=new st("NZ_MODAL_DATA"),sn={modalContainer:ui("modalContainer",[Se("void, exit",Mt({})),Se("enter",Mt({})),xe("* => enter",De(".24s",Mt({}))),xe("* => void, * => exit",De(".2s",Mt({})))])},Ye=(()=>{let t=class t{constructor(e){this.config=e}};t.\u0275fac=function(i){return new(i||t)(d(q))},t.\u0275cmp=N({type:t,selectors:[["button","nz-modal-close",""]],hostAttrs:["aria-label","Close",1,"ant-modal-close"],exportAs:["NzModalCloseBuiltin"],standalone:!0,features:[W],attrs:hs,decls:2,vars:1,consts:[[1,"ant-modal-close-x"],[4,"nzStringTemplateOutlet"],["nz-icon","",1,"ant-modal-close-icon",3,"nzType"]],template:function(i,s){i&1&&(C(0,"span",0),_(1,ps,2,1,"ng-container",1),D()),i&2&&(u(),f("nzStringTemplateOutlet",s.config.nzCloseIcon))},dependencies:[Lt,Nt,ht,dt],encapsulation:2,changeDetection:0});let o=t;return o})();function Ns(o,t){return Q(Q({},t),o)}function Vt(o,t,n){return typeof o>"u"?typeof t>"u"?n:t:o}function tn(o){let{nzCentered:t,nzMask:n,nzMaskClosable:e,nzClosable:i,nzOkLoading:s,nzOkDisabled:r,nzCancelDisabled:a,nzCancelLoading:l,nzKeyboard:c,nzNoAnimation:p,nzDraggable:g,nzContent:y,nzFooter:P,nzZIndex:Z,nzWidth:wt,nzWrapClassName:w,nzClassName:re,nzStyle:Gt,nzTitle:Tt,nzCloseIcon:Wt,nzMaskStyle:hn,nzBodyStyle:pn,nzOkText:un,nzCancelText:fn,nzOkType:mn,nzOkDanger:gn,nzIconType:_n,nzModalType:Cn,nzOnOk:vn,nzOnCancel:zn,nzAfterOpen:yn,nzAfterClose:bn,nzCloseOnNavigation:Dn,nzAutofocus:Sn}=o;return{nzCentered:t,nzMask:n,nzMaskClosable:e,nzDraggable:g,nzClosable:i,nzOkLoading:s,nzOkDisabled:r,nzCancelDisabled:a,nzCancelLoading:l,nzKeyboard:c,nzNoAnimation:p,nzContent:y,nzFooter:P,nzZIndex:Z,nzWidth:wt,nzWrapClassName:w,nzClassName:re,nzStyle:Gt,nzTitle:Tt,nzCloseIcon:Wt,nzMaskStyle:hn,nzBodyStyle:pn,nzOkText:un,nzCancelText:fn,nzOkType:mn,nzOkDanger:gn,nzIconType:_n,nzModalType:Cn,nzOnOk:vn,nzOnCancel:zn,nzAfterOpen:yn,nzAfterClose:bn,nzCloseOnNavigation:Dn,nzAutofocus:Sn}}function en(){throw Error("Attempting to attach modal content after content is already attached")}var on=(()=>{let t=class t extends vi{get showMask(){let e=this.nzConfigService.getConfigForComponent(oe)||{};return!!Vt(this.config.nzMask,e.nzMask,!0)}get maskClosable(){let e=this.nzConfigService.getConfigForComponent(oe)||{};return!!Vt(this.config.nzMaskClosable,e.nzMaskClosable,!0)}constructor(e,i,s,r,a,l,c,p,g,y){super(),this.ngZone=e,this.host=i,this.focusTrapFactory=s,this.cdr=r,this.render=a,this.overlayRef=l,this.nzConfigService=c,this.config=p,this.animationType=y,this.animationStateChanged=new v,this.containerClick=new v,this.cancelTriggered=new v,this.okTriggered=new v,this.state="enter",this.isStringContent=!1,this.dir="ltr",this.elementFocusedBeforeModalWasOpened=null,this.mouseDown=!1,this.oldMaskStyle=null,this.destroy$=new m,this.document=g,this.dir=l.getDirection(),this.isStringContent=typeof p.nzContent=="string",this.nzConfigService.getConfigChangeEventForComponent(oe).pipe(b(this.destroy$)).subscribe(()=>{this.updateMaskClassname()})}onContainerClick(e){e.target===e.currentTarget&&!this.mouseDown&&this.showMask&&this.maskClosable&&this.containerClick.emit()}onCloseClick(){this.cancelTriggered.emit()}onOkClick(){this.okTriggered.emit()}attachComponentPortal(e){return this.portalOutlet.hasAttached()&&en(),this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop(),this.portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this.portalOutlet.hasAttached()&&en(),this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop(),this.portalOutlet.attachTemplatePortal(e)}attachStringContent(){this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop()}getNativeElement(){return this.host.nativeElement}animationDisabled(){return this.config.nzNoAnimation||this.animationType==="NoopAnimations"}setModalTransformOrigin(){let e=this.modalElementRef.nativeElement;if(this.elementFocusedBeforeModalWasOpened){let i=this.elementFocusedBeforeModalWasOpened.getBoundingClientRect(),s=_i(this.elementFocusedBeforeModalWasOpened),r=s.left+i.width/2,a=s.top+i.height/2,l=`${r-e.offsetLeft}px ${a-e.offsetTop}px 0px`;this.render.setStyle(e,"transform-origin",l)}}savePreviouslyFocusedElement(){this.focusTrap||(this.focusTrap=this.focusTrapFactory.create(this.host.nativeElement)),this.document&&(this.elementFocusedBeforeModalWasOpened=this.document.activeElement,this.host.nativeElement.focus&&this.ngZone.runOutsideAngular(()=>zi(()=>this.host.nativeElement.focus())))}trapFocus(){let e=this.host.nativeElement;if(this.config.nzAutofocus)this.focusTrap.focusInitialElementWhenReady();else{let i=this.document.activeElement;i!==e&&!e.contains(i)&&e.focus()}}restoreFocus(){let e=this.elementFocusedBeforeModalWasOpened;if(e&&typeof e.focus=="function"){let i=this.document.activeElement,s=this.host.nativeElement;(!i||i===this.document.body||i===s||s.contains(i))&&e.focus()}this.focusTrap&&this.focusTrap.destroy()}setEnterAnimationClass(){if(this.animationDisabled())return;this.setModalTransformOrigin();let e=this.modalElementRef.nativeElement,i=this.overlayRef.backdropElement;e.classList.add(et.enter),e.classList.add(et.enterActive),i&&(i.classList.add(St.enter),i.classList.add(St.enterActive))}setExitAnimationClass(){let e=this.modalElementRef.nativeElement;e.classList.add(et.leave),e.classList.add(et.leaveActive),this.setMaskExitAnimationClass()}setMaskExitAnimationClass(e=!1){let i=this.overlayRef.backdropElement;if(i){if(this.animationDisabled()||e){i.classList.remove(se);return}i.classList.add(St.leave),i.classList.add(St.leaveActive)}}cleanAnimationClass(){if(this.animationDisabled())return;let e=this.overlayRef.backdropElement,i=this.modalElementRef.nativeElement;e&&(e.classList.remove(St.enter),e.classList.remove(St.enterActive)),i.classList.remove(et.enter),i.classList.remove(et.enterActive),i.classList.remove(et.leave),i.classList.remove(et.leaveActive)}setZIndexForBackdrop(){let e=this.overlayRef.backdropElement;e&&Qt(this.config.nzZIndex)&&this.render.setStyle(e,"z-index",this.config.nzZIndex)}bindBackdropStyle(){let e=this.overlayRef.backdropElement;if(e){if(this.oldMaskStyle){let i=this.oldMaskStyle;Object.keys(i).forEach(s=>{this.render.removeStyle(e,s)}),this.oldMaskStyle=null}if(this.setZIndexForBackdrop(),typeof this.config.nzMaskStyle=="object"&&Object.keys(this.config.nzMaskStyle).length){let i=Q({},this.config.nzMaskStyle);Object.keys(i).forEach(s=>{this.render.setStyle(e,s,i[s])}),this.oldMaskStyle=i}}}updateMaskClassname(){let e=this.overlayRef.backdropElement;e&&(this.showMask?e.classList.add(se):e.classList.remove(se))}onAnimationDone(e){e.toState==="enter"?this.trapFocus():e.toState==="exit"&&this.restoreFocus(),this.cleanAnimationClass(),this.animationStateChanged.emit(e)}onAnimationStart(e){e.toState==="enter"?(this.setEnterAnimationClass(),this.bindBackdropStyle()):e.toState==="exit"&&this.setExitAnimationClass(),this.animationStateChanged.emit(e)}startExitAnimation(){this.state="exit",this.cdr.markForCheck()}ngOnDestroy(){this.setMaskExitAnimationClass(!0),this.destroy$.next(!0),this.destroy$.complete()}setupMouseListeners(e){this.ngZone.runOutsideAngular(()=>{le(this.host.nativeElement,"mouseup").pipe(b(this.destroy$)).subscribe(()=>{this.mouseDown&&setTimeout(()=>{this.mouseDown=!1})}),le(e.nativeElement,"mousedown").pipe(b(this.destroy$)).subscribe(()=>{this.mouseDown=!0})})}};t.\u0275fac=function(i){ri()},t.\u0275dir=F({type:t,features:[qt]});let o=t;return o})(),rn=(()=>{let t=class t extends on{constructor(e,i,s,r,a,l,c,p,g,y,P){super(e,s,r,a,l,c,p,g,y,P),this.i18n=i,this.config=g,this.cancelTriggered=new v,this.okTriggered=new v,this.i18n.localeChange.pipe(b(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Modal")})}ngOnInit(){this.setupMouseListeners(this.modalElementRef)}onCancel(){this.cancelTriggered.emit()}onOk(){this.okTriggered.emit()}};t.\u0275fac=function(i){return new(i||t)(d(Y),d(Oe),d(j),d(Me),d(tt),d(gt),d(Ht),d(Kt),d(q),d(ct,8),d(he,8))},t.\u0275cmp=N({type:t,selectors:[["nz-modal-confirm-container"]],viewQuery:function(i,s){if(i&1&&(Pt(bt,7),Pt(nn,7)),i&2){let r;V(r=G())&&(s.portalOutlet=r.first),V(r=G())&&(s.modalElementRef=r.first)}},hostAttrs:["tabindex","-1","role","dialog"],hostVars:10,hostBindings:function(i,s){i&1&&(me("@modalContainer.start",function(a){return s.onAnimationStart(a)})("@modalContainer.done",function(a){return s.onAnimationDone(a)}),M("click",function(a){return s.onContainerClick(a)})),i&2&&(fe("@.disabled",s.config.nzNoAnimation)("@modalContainer",s.state),ue(s.config.nzWrapClassName?"ant-modal-wrap "+s.config.nzWrapClassName:"ant-modal-wrap"),Ct("z-index",s.config.nzZIndex),$("ant-modal-wrap-rtl",s.dir==="rtl")("ant-modal-centered",s.config.nzCentered))},outputs:{cancelTriggered:"cancelTriggered",okTriggered:"okTriggered"},exportAs:["nzModalConfirmContainer"],standalone:!0,features:[qt,W],decls:17,vars:13,consts:[["modalElement",""],["role","document",1,"ant-modal",3,"ngClass","ngStyle"],[1,"ant-modal-content"],["nz-modal-close",""],[1,"ant-modal-body",3,"ngStyle"],[1,"ant-modal-confirm-body-wrapper"],[1,"ant-modal-confirm-body"],["nz-icon","",3,"nzType"],[1,"ant-modal-confirm-title"],[4,"nzStringTemplateOutlet"],[1,"ant-modal-confirm-content"],["cdkPortalOutlet",""],[3,"innerHTML"],[1,"ant-modal-confirm-btns"],["nz-button","",3,"nzLoading","disabled"],["nz-button","",3,"nzType","nzLoading","disabled","nzDanger"],["nz-modal-close","",3,"click"],["nz-button","",3,"click","nzLoading","disabled"],["nz-button","",3,"click","nzType","nzLoading","disabled","nzDanger"]],template:function(i,s){i&1&&(C(0,"div",1,0),Ce(2,"nzToCssUnit"),C(3,"div",2),_(4,us,1,0,"button",3),C(5,"div",4)(6,"div",5)(7,"div",6),I(8,"span",7),C(9,"span",8),_(10,fs,2,1,"ng-container",9),D(),C(11,"div",10),_(12,ms,0,0,"ng-template",11)(13,gs,1,1,"div",12),D()(),C(14,"div",13),_(15,_s,2,4,"button",14)(16,Cs,2,6,"button",15),D()()()()()),i&2&&(Ct("width",ve(2,11,s.config==null?null:s.config.nzWidth)),f("ngClass",s.config.nzClassName)("ngStyle",s.config.nzStyle),u(4),z(4,s.config.nzClosable?4:-1),u(),f("ngStyle",s.config.nzBodyStyle),u(3),f("nzType",s.config.nzIconType),u(2),f("nzStringTemplateOutlet",s.config.nzTitle),u(3),z(13,s.isStringContent?13:-1),u(2),z(15,s.config.nzCancelText!==null?15:-1),u(),z(16,s.config.nzOkText!==null?16:-1))},dependencies:[Ot,be,Be,je,Lt,Nt,Ye,ht,dt,Pe,bt,Le,Ne,Ae,Fe],encapsulation:2,data:{animation:[sn.modalContainer]}});let o=t;return o})(),an=(()=>{let t=class t{constructor(e,i){this.i18n=e,this.config=i,this.buttonsFooter=!1,this.buttons=[],this.cancelTriggered=new v,this.okTriggered=new v,this.destroy$=new m,Array.isArray(i.nzFooter)&&(this.buttonsFooter=!0,this.buttons=i.nzFooter.map(Ls)),this.i18n.localeChange.pipe(b(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Modal")})}onCancel(){this.cancelTriggered.emit()}onOk(){this.okTriggered.emit()}getButtonCallableProp(e,i){let s=e[i],r=this.modalRef.getContentComponent();return typeof s=="function"?s.apply(e,r&&[r]):s}onButtonClick(e){if(!this.getButtonCallableProp(e,"loading")){let s=this.getButtonCallableProp(e,"onClick");e.autoLoading&&we(s)&&(e.loading=!0,s.then(()=>e.loading=!1).catch(r=>{throw e.loading=!1,r}))}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};t.\u0275fac=function(i){return new(i||t)(d(Oe),d(q))},t.\u0275cmp=N({type:t,selectors:[["div","nz-modal-footer",""]],hostAttrs:[1,"ant-modal-footer"],inputs:{modalRef:"modalRef"},outputs:{cancelTriggered:"cancelTriggered",okTriggered:"okTriggered"},exportAs:["NzModalFooterBuiltin"],standalone:!0,features:[W],attrs:vs,decls:2,vars:1,consts:[[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["nz-button","",3,"hidden","nzLoading","disabled","nzType","nzDanger","nzShape","nzSize","nzGhost"],["nz-button","",3,"click","hidden","nzLoading","disabled","nzType","nzDanger","nzShape","nzSize","nzGhost"],[3,"innerHTML"],["nz-button","",3,"nzLoading","disabled"],["nz-button","",3,"nzType","nzDanger","nzLoading","disabled"],["nz-button","",3,"click","nzLoading","disabled"],["nz-button","",3,"click","nzType","nzDanger","nzLoading","disabled"]],template:function(i,s){i&1&&_(0,xs,1,5,"ng-container")(1,Is,2,2),i&2&&z(0,s.config.nzFooter?0:1)},dependencies:[ht,dt,Le,Ne,Ae,Fe],encapsulation:2});let o=t;return o})();function Ls(o){return Q({type:null,size:"default",autoLoading:!0,show:!0,loading:!1,disabled:!1},o)}var ln=(()=>{let t=class t{constructor(e){this.config=e}};t.\u0275fac=function(i){return new(i||t)(d(q))},t.\u0275cmp=N({type:t,selectors:[["div","nz-modal-title",""]],hostAttrs:[1,"ant-modal-header"],exportAs:["NzModalTitleBuiltin"],standalone:!0,features:[W],attrs:Rs,decls:2,vars:1,consts:[[1,"ant-modal-title"],[4,"nzStringTemplateOutlet"],[3,"innerHTML"]],template:function(i,s){i&1&&(C(0,"div",0),_(1,Es,2,1,"ng-container",1),D()),i&2&&(u(),f("nzStringTemplateOutlet",s.config.nzTitle))},dependencies:[ht,dt],encapsulation:2,changeDetection:0});let o=t;return o})(),cn=(()=>{let t=class t extends on{constructor(e,i,s,r,a,l,c,p,g,y){super(e,i,s,r,a,l,c,p,g,y),this.config=p}ngOnInit(){this.setupMouseListeners(this.modalElementRef)}};t.\u0275fac=function(i){return new(i||t)(d(Y),d(j),d(Me),d(tt),d(gt),d(Ht),d(Kt),d(q),d(ct,8),d(he,8))},t.\u0275cmp=N({type:t,selectors:[["nz-modal-container"]],viewQuery:function(i,s){if(i&1&&(Pt(bt,7),Pt(nn,7)),i&2){let r;V(r=G())&&(s.portalOutlet=r.first),V(r=G())&&(s.modalElementRef=r.first)}},hostAttrs:["tabindex","-1","role","dialog"],hostVars:10,hostBindings:function(i,s){i&1&&(me("@modalContainer.start",function(a){return s.onAnimationStart(a)})("@modalContainer.done",function(a){return s.onAnimationDone(a)}),M("click",function(a){return s.onContainerClick(a)})),i&2&&(fe("@.disabled",s.config.nzNoAnimation)("@modalContainer",s.state),ue(s.config.nzWrapClassName?"ant-modal-wrap "+s.config.nzWrapClassName:"ant-modal-wrap"),Ct("z-index",s.config.nzZIndex),$("ant-modal-wrap-rtl",s.dir==="rtl")("ant-modal-centered",s.config.nzCentered))},exportAs:["nzModalContainer"],standalone:!0,features:[qt,W],decls:10,vars:12,consts:[["modalElement",""],["cdkDrag","","cdkDragBoundary",".cdk-overlay-container","role","document",1,"ant-modal",3,"cdkDragDisabled","ngClass","ngStyle"],[1,"ant-modal-content"],["nz-modal-close",""],["nz-modal-title","","cdkDragHandle","",3,"cursor"],[1,"ant-modal-body",3,"ngStyle"],["cdkPortalOutlet",""],[3,"innerHTML"],["nz-modal-footer","",3,"modalRef"],["nz-modal-close","",3,"click"],["nz-modal-title","","cdkDragHandle",""],["nz-modal-footer","",3,"cancelTriggered","okTriggered","modalRef"]],template:function(i,s){i&1&&(C(0,"div",1,0),Ce(2,"nzToCssUnit"),C(3,"div",2),_(4,Ps,1,0,"button",3)(5,ks,1,2,"div",4),C(6,"div",5),_(7,Os,0,0,"ng-template",6)(8,Ms,1,1,"div",7),D(),_(9,As,1,1,"div",8),D()()),i&2&&(Ct("width",ve(2,10,s.config==null?null:s.config.nzWidth)),f("cdkDragDisabled",!s.config.nzDraggable)("ngClass",s.config.nzClassName)("ngStyle",s.config.nzStyle),u(4),z(4,s.config.nzClosable?4:-1),u(),z(5,s.config.nzTitle?5:-1),u(),f("ngStyle",s.config.nzBodyStyle),u(2),z(8,s.isStringContent?8:-1),u(),z(9,s.config.nzFooter!==null?9:-1))},dependencies:[Ot,be,Ye,ln,Pe,bt,an,Be,je,Xi,Yi],encapsulation:2,data:{animation:[sn.modalContainer]}});let o=t;return o})(),xt=class{constructor(t,n,e){this.overlayRef=t,this.config=n,this.containerInstance=e,this.componentInstance=null,this.componentRef=null,this.state=0,this.afterClose=new m,this.afterOpen=new m,this.destroy$=new m,e.animationStateChanged.pipe(it(i=>i.phaseName==="done"&&i.toState==="enter"),K(1)).subscribe(()=>{this.afterOpen.next(),this.afterOpen.complete(),n.nzAfterOpen instanceof v&&n.nzAfterOpen.emit()}),e.animationStateChanged.pipe(it(i=>i.phaseName==="done"&&i.toState==="exit"),K(1)).subscribe(()=>{clearTimeout(this.closeTimeout),this._finishDialogClose()}),e.containerClick.pipe(K(1),b(this.destroy$)).subscribe(()=>{!this.config.nzCancelLoading&&!this.config.nzOkLoading&&this.trigger("cancel")}),t.keydownEvents().pipe(it(i=>this.config.nzKeyboard&&!this.config.nzCancelLoading&&!this.config.nzOkLoading&&i.keyCode===27&&!bi(i))).subscribe(i=>{i.preventDefault(),this.trigger("cancel")}),e.cancelTriggered.pipe(b(this.destroy$)).subscribe(()=>this.trigger("cancel")),e.okTriggered.pipe(b(this.destroy$)).subscribe(()=>this.trigger("ok")),t.detachments().subscribe(()=>{this.afterClose.next(this.result),this.afterClose.complete(),n.nzAfterClose instanceof v&&n.nzAfterClose.emit(this.result),this.componentInstance=null,this.componentRef=null,this.overlayRef.dispose()})}getContentComponent(){return this.componentInstance}getContentComponentRef(){return this.componentRef}getElement(){return this.containerInstance.getNativeElement()}destroy(t){this.close(t)}triggerOk(){return this.trigger("ok")}triggerCancel(){return this.trigger("cancel")}close(t){this.state===0&&(this.result=t,this.containerInstance.animationStateChanged.pipe(it(n=>n.phaseName==="start"),K(1)).subscribe(n=>{this.overlayRef.detachBackdrop(),this.closeTimeout=setTimeout(()=>{this._finishDialogClose()},n.totalTime+100)}),this.containerInstance.startExitAnimation(),this.state=1)}updateConfig(t){Object.assign(this.config,t),this.containerInstance.bindBackdropStyle(),this.containerInstance.cdr.markForCheck()}getState(){return this.state}getConfig(){return this.config}getBackdropElement(){return this.overlayRef.backdropElement}trigger(t){return Je(this,null,function*(){if(this.state===1)return;let n={ok:this.config.nzOnOk,cancel:this.config.nzOnCancel}[t],e={ok:"nzOkLoading",cancel:"nzCancelLoading"}[t];if(!this.config[e]){if(n instanceof v)n.emit(this.getContentComponent());else if(typeof n=="function"){let s=n(this.getContentComponent());if(we(s)){this.config[e]=!0;let r=!1;try{r=yield s}finally{this.config[e]=!1,this.closeWhitResult(r)}}else this.closeWhitResult(s)}}})}closeWhitResult(t){t!==!1&&this.close(t)}_finishDialogClose(){this.state=2,this.overlayRef.dispose(),this.destroy$.next()}},dn=(()=>{let t=class t{get openModals(){return this.parentModal?this.parentModal.openModals:this.openModalsAtThisLevel}get _afterAllClosed(){let e=this.parentModal;return e?e._afterAllClosed:this.afterAllClosedAtThisLevel}constructor(e,i,s,r,a){this.overlay=e,this.injector=i,this.nzConfigService=s,this.parentModal=r,this.directionality=a,this.openModalsAtThisLevel=[],this.afterAllClosedAtThisLevel=new m,this.afterAllClose=ni(()=>this.openModals.length?this._afterAllClosed:this._afterAllClosed.pipe(ft(void 0)))}create(e){return this.open(e.nzContent,e)}closeAll(){this.closeModals(this.openModals)}confirm(e={},i="confirm"){return"nzFooter"in e&&mi(`The Confirm-Modal doesn't support "nzFooter", this property will be ignored.`),"nzWidth"in e||(e.nzWidth=416),"nzMaskClosable"in e||(e.nzMaskClosable=!1),e.nzModalType="confirm",e.nzClassName=`ant-modal-confirm ant-modal-confirm-${i} ${e.nzClassName||""}`,this.create(e)}info(e={}){return this.confirmFactory(e,"info")}success(e={}){return this.confirmFactory(e,"success")}error(e={}){return this.confirmFactory(e,"error")}warning(e={}){return this.confirmFactory(e,"warning")}open(e,i){let s=Ns(i||{},new q),r=this.createOverlay(s),a=this.attachModalContainer(r,s),l=this.attachModalContent(e,a,r,s);return a.modalRef=l,wi(r,i?.nzZIndex),this.openModals.push(l),l.afterClose.subscribe(()=>this.removeOpenModal(l)),l}removeOpenModal(e){let i=this.openModals.indexOf(e);i>-1&&(this.openModals.splice(i,1),this.openModals.length||this._afterAllClosed.next())}closeModals(e){let i=e.length;for(;i--;)e[i].close(),this.openModals.length||this._afterAllClosed.next()}createOverlay(e){let i=this.nzConfigService.getConfigForComponent(oe)||{},s=new Di({hasBackdrop:!0,scrollStrategy:this.overlay.scrollStrategies.block(),positionStrategy:this.overlay.position().global(),disposeOnNavigation:Vt(e.nzCloseOnNavigation,i.nzCloseOnNavigation,!0),direction:Vt(e.nzDirection,i.nzDirection,this.directionality.value)});return Vt(e.nzMask,i.nzMask,!0)&&(s.backdropClass=se),this.overlay.create(s)}attachModalContainer(e,i){let s=i&&i.nzViewContainerRef&&i.nzViewContainerRef.injector,r=Et.create({parent:s||this.injector,providers:[{provide:Ht,useValue:e},{provide:q,useValue:i}]}),a=i.nzModalType==="confirm"?rn:cn,l=new Ee(a,i.nzViewContainerRef,r);return e.attach(l).instance}attachModalContent(e,i,s,r){let a=new xt(s,r,i);if(e instanceof B)i.attachTemplatePortal(new Ci(e,null,{$implicit:r.nzData,modalRef:a}));else if(Qt(e)&&typeof e!="string"){let l=this.createInjector(a,r),c=i.attachComponentPortal(new Ee(e,r.nzViewContainerRef,l));a.componentRef=c,a.componentInstance=c.instance}else i.attachStringContent();return a}createInjector(e,i){let s=i&&i.nzViewContainerRef&&i.nzViewContainerRef.injector;return Et.create({parent:s||this.injector,providers:[{provide:xt,useValue:e},{provide:Fs,useValue:i.nzData}]})}confirmFactory(e={},i){let s={info:"info-circle",success:"check-circle",error:"close-circle",warning:"exclamation-circle"};return"nzIconType"in e||(e.nzIconType=s[i]),"nzCancelText"in e||(e.nzCancelText=null),this.confirm(e,i)}ngOnDestroy(){this.closeModals(this.openModalsAtThisLevel),this.afterAllClosedAtThisLevel.complete()}};t.\u0275fac=function(i){return new(i||t)(k(Si),k(Et),k(Kt),k(t,12),k(pt,8))},t.\u0275prov=Rt({token:t,factory:t.\u0275fac});let o=t;return o})(),Hs=(()=>{let t=class t{constructor(e){this.templateRef=e}};t.\u0275fac=function(i){return new(i||t)(d(B))},t.\u0275dir=F({type:t,selectors:[["","nzModalContent",""]],exportAs:["nzModalContent"],standalone:!0});let o=t;return o})(),js=(()=>{let t=class t{constructor(e,i){this.nzModalRef=e,this.templateRef=i,this.nzModalRef&&this.nzModalRef.updateConfig({nzFooter:this.templateRef})}};t.\u0275fac=function(i){return new(i||t)(d(xt,8),d(B))},t.\u0275dir=F({type:t,selectors:[["","nzModalFooter",""]],exportAs:["nzModalFooter"],standalone:!0});let o=t;return o})(),Bs=(()=>{let t=class t{constructor(e,i){this.nzModalRef=e,this.templateRef=i,this.nzModalRef&&this.nzModalRef.updateConfig({nzTitle:this.templateRef})}};t.\u0275fac=function(i){return new(i||t)(d(xt,8),d(B))},t.\u0275dir=F({type:t,selectors:[["","nzModalTitle",""]],exportAs:["nzModalTitle"],standalone:!0});let o=t;return o})(),pr=(()=>{let t=class t{set modalTitle(e){e&&this.setTitleWithTemplate(e)}set modalFooter(e){e&&this.setFooterWithTemplate(e)}get afterOpen(){return this.nzAfterOpen.asObservable()}get afterClose(){return this.nzAfterClose.asObservable()}constructor(e,i,s){this.cdr=e,this.modal=i,this.viewContainerRef=s,this.nzVisible=!1,this.nzClosable=!0,this.nzOkLoading=!1,this.nzOkDisabled=!1,this.nzCancelDisabled=!1,this.nzCancelLoading=!1,this.nzKeyboard=!0,this.nzNoAnimation=!1,this.nzCentered=!1,this.nzDraggable=!1,this.nzZIndex=1e3,this.nzWidth=520,this.nzCloseIcon="close",this.nzOkType="primary",this.nzOkDanger=!1,this.nzIconType="question-circle",this.nzModalType="default",this.nzAutofocus="auto",this.nzOnOk=new v,this.nzOnCancel=new v,this.nzAfterOpen=new v,this.nzAfterClose=new v,this.nzVisibleChange=new v,this.modalRef=null,this.destroy$=new m}open(){if(this.nzVisible||(this.nzVisible=!0,this.nzVisibleChange.emit(!0)),!this.modalRef){let e=this.getConfig();this.modalRef=this.modal.create(e),this.modalRef.afterClose.asObservable().pipe(b(this.destroy$)).subscribe(()=>{this.close()})}}close(e){this.nzVisible&&(this.nzVisible=!1,this.nzVisibleChange.emit(!1)),this.modalRef&&(this.modalRef.close(e),this.modalRef=null)}destroy(e){this.close(e)}triggerOk(){this.modalRef?.triggerOk()}triggerCancel(){this.modalRef?.triggerCancel()}getContentComponent(){return this.modalRef?.getContentComponent()}getElement(){return this.modalRef?.getElement()}getModalRef(){return this.modalRef}setTitleWithTemplate(e){this.nzTitle=e,this.modalRef&&Promise.resolve().then(()=>{this.modalRef.updateConfig({nzTitle:this.nzTitle})})}setFooterWithTemplate(e){this.nzFooter=e,this.modalRef&&Promise.resolve().then(()=>{this.modalRef.updateConfig({nzFooter:this.nzFooter})}),this.cdr.markForCheck()}getConfig(){let e=tn(this);return e.nzViewContainerRef=this.viewContainerRef,e.nzContent=this.nzContent||this.contentFromContentChild,e}ngOnChanges(e){let r=e,{nzVisible:i}=r,s=Xe(r,["nzVisible"]);Object.keys(s).length&&this.modalRef&&this.modalRef.updateConfig(tn(this)),i&&(this.nzVisible?this.open():this.close())}ngOnDestroy(){this.modalRef?._finishDialogClose(),this.destroy$.next(),this.destroy$.complete()}};t.\u0275fac=function(i){return new(i||t)(d(tt),d(dn),d(_t))},t.\u0275cmp=N({type:t,selectors:[["nz-modal"]],contentQueries:function(i,s,r){if(i&1&&(vt(r,Bs,7,B),vt(r,Hs,7,B),vt(r,js,7,B)),i&2){let a;V(a=G())&&(s.modalTitle=a.first),V(a=G())&&(s.contentFromContentChild=a.first),V(a=G())&&(s.modalFooter=a.first)}},inputs:{nzMask:"nzMask",nzMaskClosable:"nzMaskClosable",nzCloseOnNavigation:"nzCloseOnNavigation",nzVisible:"nzVisible",nzClosable:"nzClosable",nzOkLoading:"nzOkLoading",nzOkDisabled:"nzOkDisabled",nzCancelDisabled:"nzCancelDisabled",nzCancelLoading:"nzCancelLoading",nzKeyboard:"nzKeyboard",nzNoAnimation:"nzNoAnimation",nzCentered:"nzCentered",nzDraggable:"nzDraggable",nzContent:"nzContent",nzFooter:"nzFooter",nzZIndex:"nzZIndex",nzWidth:"nzWidth",nzWrapClassName:"nzWrapClassName",nzClassName:"nzClassName",nzStyle:"nzStyle",nzTitle:"nzTitle",nzCloseIcon:"nzCloseIcon",nzMaskStyle:"nzMaskStyle",nzBodyStyle:"nzBodyStyle",nzOkText:"nzOkText",nzCancelText:"nzCancelText",nzOkType:"nzOkType",nzOkDanger:"nzOkDanger",nzIconType:"nzIconType",nzModalType:"nzModalType",nzAutofocus:"nzAutofocus",nzOnOk:"nzOnOk",nzOnCancel:"nzOnCancel"},outputs:{nzOnOk:"nzOnOk",nzOnCancel:"nzOnCancel",nzAfterOpen:"nzAfterOpen",nzAfterClose:"nzAfterClose",nzVisibleChange:"nzVisibleChange"},exportAs:["nzModal"],standalone:!0,features:[rt,W],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0});let o=t;return S([x()],o.prototype,"nzMask",void 0),S([x()],o.prototype,"nzMaskClosable",void 0),S([x()],o.prototype,"nzCloseOnNavigation",void 0),S([x()],o.prototype,"nzVisible",void 0),S([x()],o.prototype,"nzClosable",void 0),S([x()],o.prototype,"nzOkLoading",void 0),S([x()],o.prototype,"nzOkDisabled",void 0),S([x()],o.prototype,"nzCancelDisabled",void 0),S([x()],o.prototype,"nzCancelLoading",void 0),S([x()],o.prototype,"nzKeyboard",void 0),S([x()],o.prototype,"nzNoAnimation",void 0),S([x()],o.prototype,"nzCentered",void 0),S([x()],o.prototype,"nzDraggable",void 0),S([x()],o.prototype,"nzOkDanger",void 0),o})(),ur=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=ot({type:t}),t.\u0275inj=nt({providers:[dn],imports:[Ye,an,ln,cn,rn]});let o=t;return o})();export{Kn as a,Js as b,Yn as c,to as d,xt as e,dn as f,js as g,pr as h,ur as i};
