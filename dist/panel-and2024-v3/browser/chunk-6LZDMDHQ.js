import{c as ft,d as St}from"./chunk-YNUDQCIW.js";import{a as zt,b as gt}from"./chunk-ZB3SUYLH.js";import{a as ht}from"./chunk-3VV4NY5F.js";import{$ as Z,$a as q,$d as S,Aa as m,Ba as V,Bb as et,Ca as a,Db as O,Ea as T,Jd as mt,Kd as dt,L as B,Nb as nt,O as g,Ob as it,Pa as p,Pb as st,Qa as c,Ra as f,Sa as C,Ta as v,Ub as ot,V as R,Wb as rt,Y as U,Yc as at,Zc as pt,_,_a as d,a as $,ab as Y,ae as ut,c as I,da as H,db as G,eb as N,fb as x,gb as y,hb as J,ib as l,id as ct,jb as D,ka as W,kb as h,m as j,md as lt,qa as r,qb as w,ra as z,rb as E,s as M,ta as b,v as L,va as P,vb as K,w as Q,xb as X,zb as tt}from"./chunk-M4WL67FH.js";import{c as A}from"./chunk-X7FOUD52.js";import{a as F}from"./chunk-WT5K5NLM.js";var vt=["processDotTemplate"],It=["itemContainer"],xt=(t,i,o)=>({$implicit:t,status:i,index:o});function yt(t,i){t&1&&f(0,"div",11)}function Dt(t,i){if(t&1&&(p(0,"div",14),f(1,"nz-progress",15),c()),t&2){let o=d(2);r(),a("nzPercent",o.nzPercentage)("nzWidth",o.nzSize==="small"?32:40)("nzFormat",o.nullProcessFormat)("nzStrokeWidth",4)}}function bt(t,i){t&1&&(p(0,"span",16),f(1,"span",17),c())}function Pt(t,i){t&1&&(p(0,"span",16),f(1,"span",18),c())}function Tt(t,i){if(t&1&&(p(0,"span",16),l(1),c()),t&2){let o=d(2);r(),h(" ",o.index+1," ")}}function Nt(t,i){if(t&1&&(C(0),f(1,"span",19),v()),t&2){let o=i.$implicit,e=d(3);r(),a("nzType",!e.oldAPIIcon&&o)("ngClass",e.oldAPIIcon&&o)}}function wt(t,i){if(t&1&&(p(0,"span",16),m(1,Nt,2,2,"ng-container",8),c()),t&2){let o=d(2);r(),a("nzStringTemplateOutlet",o.nzIcon)}}function Et(t,i){if(t&1&&m(0,Dt,2,4,"div",12)(1,bt,2,0,"span",13)(2,Pt,2,0,"span",13)(3,Tt,2,1,"span",13)(4,wt,2,1,"span",13),t&2){let o=d();a("ngIf",o.showProgress),r(),a("ngIf",o.nzStatus==="finish"&&!o.nzIcon),r(),a("ngIf",o.nzStatus==="error"),r(),a("ngIf",(o.nzStatus==="process"||o.nzStatus==="wait")&&!o.nzIcon),r(),a("ngIf",o.nzIcon)}}function Ot(t,i){t&1&&f(0,"span",21)}function kt(t,i){}function Ft(t,i){if(t&1&&(p(0,"span",16),m(1,Ot,1,0,"ng-template",null,1,et)(3,kt,0,0,"ng-template",20),c()),t&2){let o=J(2),e=d();r(3),a("ngTemplateOutlet",e.customProcessTemplate||o)("ngTemplateOutletContext",K(2,xt,o,e.nzStatus,e.index))}}function $t(t,i){if(t&1&&(C(0),l(1),v()),t&2){let o=d();r(),D(o.nzTitle)}}function At(t,i){if(t&1&&(C(0),l(1),v()),t&2){let o=d(2);r(),D(o.nzSubtitle)}}function jt(t,i){if(t&1&&(p(0,"div",22),m(1,At,2,1,"ng-container",8),c()),t&2){let o=d();r(),a("nzStringTemplateOutlet",o.nzSubtitle)}}function Mt(t,i){if(t&1&&(C(0),l(1),v()),t&2){let o=d();r(),D(o.nzDescription)}}var Lt=["*"],_t=(()=>{let i=class i{get nzStatus(){return this._status}set nzStatus(e){this._status=e,this.isCustomStatus=!0}get nzIcon(){return this._icon}set nzIcon(e){e instanceof b||(this.oldAPIIcon=typeof e=="string"&&e.indexOf("anticon")>-1),this._icon=e}get showProgress(){return this.nzPercentage!==null&&!this.nzIcon&&this.nzStatus==="process"&&this.nzPercentage>=0&&this.nzPercentage<=100}get currentIndex(){return this._currentIndex}set currentIndex(e){this._currentIndex=e,this.isCustomStatus||(this._status=e>this.index?"finish":e===this.index?this.outStatus||"":"wait")}constructor(e,s,n){this.cdr=e,this.ngZone=s,this.destroy$=n,this.nzDisabled=!1,this.nzPercentage=null,this.nzSize="default",this.isCustomStatus=!1,this._status="wait",this.oldAPIIcon=!0,this.direction="horizontal",this.index=0,this.last=!1,this.outStatus="process",this.showProcessDot=!1,this.clickable=!1,this.clickOutsideAngular$=new I,this.nullProcessFormat=()=>null,this._currentIndex=0}ngOnInit(){this.ngZone.runOutsideAngular(()=>M(this.itemContainer.nativeElement,"click").pipe(Q(()=>this.clickable&&this.currentIndex!==this.index&&!this.nzDisabled),g(this.destroy$)).subscribe(()=>{this.clickOutsideAngular$.next(this.index)}))}enable(){this.nzDisabled=!1,this.cdr.markForCheck()}disable(){this.nzDisabled=!0,this.cdr.markForCheck()}markForCheck(){this.cdr.markForCheck()}};i.\u0275fac=function(s){return new(s||i)(z(O),z(P),z(S))},i.\u0275cmp=_({type:i,selectors:[["nz-step"]],viewQuery:function(s,n){if(s&1&&(N(vt,5),N(It,7)),s&2){let u;x(u=y())&&(n.processDotTemplate=u.first),x(u=y())&&(n.itemContainer=u.first)}},hostAttrs:[1,"ant-steps-item"],hostVars:16,hostBindings:function(s,n){s&2&&T("ant-steps-item-wait",n.nzStatus==="wait")("ant-steps-item-process",n.nzStatus==="process")("ant-steps-item-finish",n.nzStatus==="finish")("ant-steps-item-error",n.nzStatus==="error")("ant-steps-item-active",n.currentIndex===n.index)("ant-steps-item-disabled",n.nzDisabled)("ant-steps-item-custom",!!n.nzIcon)("ant-steps-next-error",n.outStatus==="error"&&n.currentIndex===n.index+1)},inputs:{nzTitle:"nzTitle",nzSubtitle:"nzSubtitle",nzDescription:"nzDescription",nzDisabled:"nzDisabled",nzPercentage:"nzPercentage",nzSize:"nzSize",nzStatus:"nzStatus",nzIcon:"nzIcon"},exportAs:["nzStep"],standalone:!0,features:[w([S]),E],decls:12,vars:8,consts:[["itemContainer",""],["processDotTemplate",""],[1,"ant-steps-item-container",3,"tabindex"],["class","ant-steps-item-tail",4,"ngIf"],[1,"ant-steps-item-icon"],[3,"ngIf"],[1,"ant-steps-item-content"],[1,"ant-steps-item-title"],[4,"nzStringTemplateOutlet"],["class","ant-steps-item-subtitle",4,"ngIf"],[1,"ant-steps-item-description"],[1,"ant-steps-item-tail"],["class","ant-steps-progress-icon",4,"ngIf"],["class","ant-steps-icon",4,"ngIf"],[1,"ant-steps-progress-icon"],["nzType","circle",3,"nzPercent","nzWidth","nzFormat","nzStrokeWidth"],[1,"ant-steps-icon"],["nz-icon","","nzType","check"],["nz-icon","","nzType","close"],["nz-icon","",3,"nzType","ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-steps-icon-dot"],[1,"ant-steps-item-subtitle"]],template:function(s,n){s&1&&(p(0,"div",2,0),m(2,yt,1,0,"div",3),p(3,"div",4),m(4,Et,5,5,"ng-template",5)(5,Ft,4,6,"ng-template",5),c(),p(6,"div",6)(7,"div",7),m(8,$t,2,1,"ng-container",8)(9,jt,2,1,"div",9),c(),p(10,"div",10),m(11,Mt,2,1,"ng-container",8),c()()()),s&2&&(a("tabindex",n.clickable&&!n.nzDisabled?0:null),V("role",n.clickable&&!n.nzDisabled?"button":null),r(2),a("ngIf",n.last!==!0),r(2),a("ngIf",!n.showProcessDot),r(),a("ngIf",n.showProcessDot),r(3),a("nzStringTemplateOutlet",n.nzTitle),r(),a("ngIf",n.nzSubtitle),r(2),a("nzStringTemplateOutlet",n.nzDescription))},dependencies:[st,St,ft,dt,mt,pt,at,nt,ot],encapsulation:2,changeDetection:0});let t=i;return A([lt()],t.prototype,"nzDisabled",void 0),t})(),me=(()=>{let i=class i{set nzProgressDot(e){e instanceof b?(this.showProcessDot=!0,this.customProcessDotTemplate=e):this.showProcessDot=ct(e),this.updateChildrenSteps()}constructor(e,s,n,u){this.ngZone=e,this.cdr=s,this.directionality=n,this.destroy$=u,this.nzCurrent=0,this.nzDirection="horizontal",this.nzLabelPlacement="horizontal",this.nzType="default",this.nzSize="default",this.nzStartIndex=0,this.nzStatus="process",this.nzIndexChange=new W,this.indexChangeSubscription=$.EMPTY,this.showProcessDot=!1,this.showProgress=!1,this.dir="ltr"}ngOnChanges(e){(e.nzStartIndex||e.nzDirection||e.nzStatus||e.nzCurrent||e.nzSize)&&this.updateChildrenSteps()}ngOnInit(){this.directionality.change?.pipe(g(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.updateChildrenSteps()}ngAfterContentInit(){this.steps&&this.steps.changes.pipe(B(null),g(this.destroy$)).subscribe(()=>{this.updateHostProgressClass(),this.updateChildrenSteps()})}updateHostProgressClass(){this.steps&&!this.showProcessDot&&(this.showProgress=!!this.steps.toArray().find(e=>e.nzPercentage!==null))}updateChildrenSteps(){if(this.steps){let e=this.steps.length;this.steps.toArray().forEach((s,n)=>{Promise.resolve().then(()=>{s.nzSize=this.nzSize,s.outStatus=this.nzStatus,s.showProcessDot=this.showProcessDot,this.customProcessDotTemplate&&(s.customProcessTemplate=this.customProcessDotTemplate),s.clickable=this.nzIndexChange.observers.length>0,s.direction=this.nzDirection,s.index=n+this.nzStartIndex,s.currentIndex=this.nzCurrent,s.last=e===n+1,s.markForCheck()})}),this.indexChangeSubscription.unsubscribe(),this.indexChangeSubscription=L(...this.steps.map(s=>s.clickOutsideAngular$)).pipe(g(this.destroy$)).subscribe(s=>{this.nzIndexChange.observers.length&&this.ngZone.run(()=>this.nzIndexChange.emit(s))})}}};i.\u0275fac=function(s){return new(s||i)(z(P),z(O),z(ut,8),z(S))},i.\u0275cmp=_({type:i,selectors:[["nz-steps"]],contentQueries:function(s,n,u){if(s&1&&G(u,_t,4),s&2){let k;x(k=y())&&(n.steps=k)}},hostAttrs:[1,"ant-steps"],hostVars:18,hostBindings:function(s,n){s&2&&T("ant-steps-horizontal",n.nzDirection==="horizontal")("ant-steps-vertical",n.nzDirection==="vertical")("ant-steps-label-horizontal",n.nzDirection==="horizontal")("ant-steps-label-vertical",(n.showProcessDot||n.nzLabelPlacement==="vertical")&&n.nzDirection==="horizontal")("ant-steps-dot",n.showProcessDot)("ant-steps-small",n.nzSize==="small")("ant-steps-navigation",n.nzType==="navigation")("ant-steps-rtl",n.dir==="rtl")("ant-steps-with-progress",n.showProgress)},inputs:{nzCurrent:"nzCurrent",nzDirection:"nzDirection",nzLabelPlacement:"nzLabelPlacement",nzType:"nzType",nzSize:"nzSize",nzStartIndex:"nzStartIndex",nzStatus:"nzStatus",nzProgressDot:"nzProgressDot"},outputs:{nzIndexChange:"nzIndexChange"},exportAs:["nzSteps"],standalone:!0,features:[w([S]),H,E],ngContentSelectors:Lt,decls:1,vars:0,template:function(s,n){s&1&&(q(),Y(0))},encapsulation:2,changeDetection:0});let t=i;return t})(),de=(()=>{let i=class i{};i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=Z({type:i}),i.\u0275inj=R({imports:[_t]});let t=i;return t})();function Qt(t,i){if(t&1&&(p(0,"nz-timeline-item",2),l(1),X(2,"date"),p(3,"p"),l(4),c(),p(5,"p"),l(6),c(),p(7,"p"),l(8),c(),p(9,"p"),l(10),c(),p(11,"p"),l(12),c()()),t&2){let o=i.$implicit;a("nzColor",o.allowedOnBoard?"green":"red"),r(),h(" ",tt(2,7,o.created.toDate(),"medium")," "),r(3),h("Programa: ",o.program==="S"?"Salida":"Entrada",""),r(2),h("Turno: ",o.round,""),r(2),h("Unidad: ",o.vehicle,""),r(2),h("PR: ",o.driver,""),r(2),h("Mensaje: ",o.description,"")}}var Ie=(()=>{let i=class i{constructor(){this.userId="",this.boardingPassId="",this.usersService=U(ht),this.stopSubscription$=new I,this.activityLogList=[],this.loading=!0}ngOnInit(){this.getSubscriptions()}ngOnDestroy(){this.stopSubscription$.next(void 0),this.stopSubscription$.complete()}getSubscriptions(){this.usersService.getBoardingPassActivityLog(this.userId,this.boardingPassId).pipe(g(this.stopSubscription$),j(e=>e.map(s=>{let n=s.payload.doc.id,u=s.payload.doc.data();return F({id:n},u)}))).subscribe(e=>{this.activityLogList=e})}};i.\u0275fac=function(s){return new(s||i)},i.\u0275cmp=_({type:i,selectors:[["app-shared-usage-history"]],inputs:{userId:"userId",boardingPassId:"boardingPassId"},decls:2,vars:1,consts:[["nzMode","alternate"],[3,"nzColor",4,"ngFor","ngForOf"],[3,"nzColor"]],template:function(s,n){s&1&&(p(0,"nz-timeline",0),m(1,Qt,13,10,"nz-timeline-item",1),c()),s&2&&(r(),a("ngForOf",n.activityLogList))},dependencies:[it,zt,gt,rt]});let t=i;return t})();export{_t as a,me as b,de as c,Ie as d};
